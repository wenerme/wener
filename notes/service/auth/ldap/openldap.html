<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-service/auth/ldap/openldap" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.1"><title data-rh=true>OpenLDAP | Wener Live & Life</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://wener.me/notes/service/auth/ldap/openldap /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="OpenLDAP | Wener Live & Life"/><meta data-rh=true name=description content="- openldap/openldap"/><meta data-rh=true property=og:description content="- openldap/openldap"/><link data-rh=true rel=icon href=/img/favicon.ico /><link data-rh=true rel=canonical href=https://wener.me/notes/service/auth/ldap/openldap /><link data-rh=true rel=alternate href=https://wener.me/notes/service/auth/ldap/openldap hreflang=en /><link data-rh=true rel=alternate href=https://wener.me/notes/service/auth/ldap/openldap hreflang=x-default /><link data-rh=true rel=preconnect href=https://37P8DMWBKF-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://wener.me/notes/service/","name":"服务","position":1},{"@type":"ListItem","item":"https://wener.me/notes/service/auth/","name":"Auth","position":2},{"@type":"ListItem","item":"https://wener.me/notes/service/auth/ldap/","name":"LADP","position":3},{"@type":"ListItem","item":"https://wener.me/notes/service/auth/ldap/openldap","name":"OpenLDAP","position":4}]}</script><link rel=alternate type=application/rss+xml href=/story/rss.xml title="Wener Live & Life RSS Feed"><link rel=alternate type=application/atom+xml href=/story/atom.xml title="Wener Live & Life Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30404720-1","auto"),ga("send","pageview")</script><script async src=https://www.google-analytics.com/analytics.js></script><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=UA-30404720-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-30404720-1",{})</script><link rel=search type=application/opensearchdescription+xml title="Wener Live & Life" href=/opensearch.xml><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css><script src=https://static.cloudflareinsights.com/beacon.min.js async data-cf-beacon='{"token": "e9a1b931103044f3940ee67b78c7df70"}' defer></script><link rel=stylesheet href=/assets/css/styles.fa221ee1.css /><script src=/assets/js/runtime~main.72c320db.js defer></script><script src=/assets/js/main.c07313b6.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_jKDA href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/wener-logo-head.svg alt="Wener Logo" class="themedComponent_j2y5 themedComponent--light_v877"/><img src=/img/wener-logo-head.svg alt="Wener Logo" class="themedComponent_j2y5 themedComponent--dark_PUQY"/></div><b class="navbar__title text--truncate">Wener</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/notes>笔记</a><a class="navbar__item navbar__link" href=/story>故事</a><a class="navbar__item navbar__link" href=/notes/howto/network/dns-prevent-spoofing>指南</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/wenerme/wener target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_kUGX><use href=#theme-svg-external-link /></svg></a><div class="toggle_N7Mq colorModeToggle_vh_y"><button class="clean-btn toggleButton_PaHe toggleButtonDisabled_RC4w" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_Q188 lightToggleIcon_M1mU"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_Q188 darkToggleIcon_sEdo"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_Q188 systemToggleIcon_cOyE"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_d_Bn><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_c22C"><div class=docsWrapper_oymo><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_ZPA9" type=button></button><div class=docRoot_ng2Q><aside class="theme-doc-sidebar-container docSidebarContainer_nyHU"><div class=sidebarViewport_rLoj><div class=sidebar_TmDF><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jRin"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/notes><span title=笔记 class=linkLabel_JPPZ>笔记</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/notes/adobe/photoshop><span title=adobe class=categoryLinkLabel_RkOu>adobe</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/ai><span title=AI class=categoryLinkLabel_RkOu>AI</span></a><button aria-label="Expand sidebar category 'AI'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/algorithm><span title=算法 class=categoryLinkLabel_RkOu>算法</span></a><button aria-label="Expand sidebar category '算法'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/blockchain><span title=区块链 class=categoryLinkLabel_RkOu>区块链</span></a><button aria-label="Expand sidebar category '区块链'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/cn><span title=CN class=categoryLinkLabel_RkOu>CN</span></a><button aria-label="Expand sidebar category 'CN'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/courses><span title=课程 class=categoryLinkLabel_RkOu>课程</span></a><button aria-label="Expand sidebar category '课程'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/culture><span title=文化 class=categoryLinkLabel_RkOu>文化</span></a><button aria-label="Expand sidebar category '文化'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/db><span title=数据库 class=categoryLinkLabel_RkOu>数据库</span></a><button aria-label="Expand sidebar category '数据库'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/dev><span title=开发 class=categoryLinkLabel_RkOu>开发</span></a><button aria-label="Expand sidebar category '开发'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/devops><span title=DevOps class=categoryLinkLabel_RkOu>DevOps</span></a><button aria-label="Expand sidebar category 'DevOps'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/economics><span title=经济学 class=categoryLinkLabel_RkOu>经济学</span></a><button aria-label="Expand sidebar category '经济学'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/electrical><span title=电学基础 class=categoryLinkLabel_RkOu>电学基础</span></a><button aria-label="Expand sidebar category '电学基础'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/notes/embedded/awesome><span title=embedded class=categoryLinkLabel_RkOu>embedded</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/evolve><span title=自我成长 class=categoryLinkLabel_RkOu>自我成长</span></a><button aria-label="Expand sidebar category '自我成长'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/hardware><span title=硬件 class=categoryLinkLabel_RkOu>硬件</span></a><button aria-label="Expand sidebar category '硬件'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/healthcare><span title=健康 class=categoryLinkLabel_RkOu>健康</span></a><button aria-label="Expand sidebar category '健康'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/notes/howto/network/dns-prevent-spoofing><span title=howto class=categoryLinkLabel_RkOu>howto</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/java><span title=Java class=categoryLinkLabel_RkOu>Java</span></a><button aria-label="Expand sidebar category 'Java'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/languages><span title=语言 class=categoryLinkLabel_RkOu>语言</span></a><button aria-label="Expand sidebar category '语言'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/notes/linguistics><span title=Linguistics class=linkLabel_JPPZ>Linguistics</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/math><span title=数学 class=categoryLinkLabel_RkOu>数学</span></a><button aria-label="Expand sidebar category '数学'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/mgmt><span title=管理 class=categoryLinkLabel_RkOu>管理</span></a><button aria-label="Expand sidebar category '管理'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/notes/network/application/dns><span title=network class=categoryLinkLabel_RkOu>network</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/ops><span title=运维 class=categoryLinkLabel_RkOu>运维</span></a><button aria-label="Expand sidebar category '运维'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/os><span title=操作系统 class=categoryLinkLabel_RkOu>操作系统</span></a><button aria-label="Expand sidebar category '操作系统'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/philosophy><span title=理念 class=categoryLinkLabel_RkOu>理念</span></a><button aria-label="Expand sidebar category '理念'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/photography><span title=摄影 class=categoryLinkLabel_RkOu>摄影</span></a><button aria-label="Expand sidebar category '摄影'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/platform><span title=平台 class=categoryLinkLabel_RkOu>平台</span></a><button aria-label="Expand sidebar category '平台'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/notes/psychology/glossary><span title=psychology class=categoryLinkLabel_RkOu>psychology</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/queue><span title=Queue class=categoryLinkLabel_RkOu>Queue</span></a><button aria-label="Expand sidebar category 'Queue'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/security><span title=安全 class=categoryLinkLabel_RkOu>安全</span></a><button aria-label="Expand sidebar category '安全'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--active" href=/notes/service><span title=服务 class=categoryLinkLabel_RkOu>服务</span></a><button aria-label="Collapse sidebar category '服务'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/analytics><span title=统计 class=categoryLinkLabel_RkOu>统计</span></a><button aria-label="Expand sidebar category '统计'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/api/awesome><span title=api class=categoryLinkLabel_RkOu>api</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--active" tabindex=0 href=/notes/service/auth><span title=Auth class=categoryLinkLabel_RkOu>Auth</span></a><button aria-label="Collapse sidebar category 'Auth'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/awesome><span title="Auth Awesome" class=linkLabel_JPPZ>Auth Awesome</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/faq><span title=认证授权常见问题 class=linkLabel_JPPZ>认证授权常见问题</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/glossary><span title=词汇 class=linkLabel_JPPZ>词汇</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/protocol><span title=协议 class=linkLabel_JPPZ>协议</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/auth/authn/2fa><span title=authn class=categoryLinkLabel_RkOu>authn</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/auth/authz/casbin><span title=authz class=categoryLinkLabel_RkOu>authz</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/dex><span title=Dex class=linkLabel_JPPZ>Dex</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/hydra><span title=Hydra class=linkLabel_JPPZ>Hydra</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/auth/kerberos><span title=Kerberos class=categoryLinkLabel_RkOu>Kerberos</span></a><button aria-label="Expand sidebar category 'Kerberos'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/auth/keycloak><span title=Keycloak class=categoryLinkLabel_RkOu>Keycloak</span></a><button aria-label="Expand sidebar category 'Keycloak'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/kratos><span title=Kratos class=linkLabel_JPPZ>Kratos</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--active" tabindex=0 href=/notes/service/auth/ldap><span title=LADP class=categoryLinkLabel_RkOu>LADP</span></a><button aria-label="Collapse sidebar category 'LADP'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/apacheds-kerberos><span title="ApacheDS Kerberos" class=linkLabel_JPPZ>ApacheDS Kerberos</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/apacheds-ops><span title="ApacheDS 运维" class=linkLabel_JPPZ>ApacheDS 运维</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/apacheds><span title="Apache Directory" class=linkLabel_JPPZ>Apache Directory</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/glauth><span title=glauth class=linkLabel_JPPZ>glauth</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/awesome><span title="LDAP Awesome" class=linkLabel_JPPZ>LDAP Awesome</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/cli><span title="LDAP Command line" class=linkLabel_JPPZ>LDAP Command line</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/faq><span title="LDAP FAQ" class=linkLabel_JPPZ>LDAP FAQ</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/glossary><span title="LDAP Glossary" class=linkLabel_JPPZ>LDAP Glossary</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/ldif><span title=LDIF class=linkLabel_JPPZ>LDIF</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/macos><span title="LDAP on macOS" class=linkLabel_JPPZ>LDAP on macOS</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/schema><span title="LDAP Schema" class=linkLabel_JPPZ>LDAP Schema</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/ldapjs><span title=ldapjs class=linkLabel_JPPZ>ldapjs</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ldap/lldap><span title=LLDAP class=linkLabel_JPPZ>LLDAP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/notes/service/auth/ldap/openldap><span title=OpenLDAP class=linkLabel_JPPZ>OpenLDAP</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/auth/oauth><span title=OAuth class=categoryLinkLabel_RkOu>OAuth</span></a><button aria-label="Expand sidebar category 'OAuth'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/oauth2-proxy><span title=oauth2-proxy class=linkLabel_JPPZ>oauth2-proxy</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/auth/opa><span title=OPA class=categoryLinkLabel_RkOu>OPA</span></a><button aria-label="Expand sidebar category 'OPA'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/ory><span title=Ory class=linkLabel_JPPZ>Ory</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/passkeys><span title=Passkeys class=linkLabel_JPPZ>Passkeys</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/saml><span title=SAML class=linkLabel_JPPZ>SAML</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/sso><span title=SSO class=linkLabel_JPPZ>SSO</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/uma><span title=UMA class=linkLabel_JPPZ>UMA</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/auth/webauthn><span title=WebAuthn class=linkLabel_JPPZ>WebAuthn</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/baas><span title="Backend as a Service" class=categoryLinkLabel_RkOu>Backend as a Service</span></a><button aria-label="Expand sidebar category 'Backend as a Service'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/bi/awesome><span title=bi class=categoryLinkLabel_RkOu>bi</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/business/glossary><span title=business class=categoryLinkLabel_RkOu>business</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/cctv><span title=CCTV class=linkLabel_JPPZ>CCTV</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/cms><span title="CMS 概览" class=categoryLinkLabel_RkOu>CMS 概览</span></a><button aria-label="Expand sidebar category 'CMS 概览'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/collaboration><span title=协同软件 class=categoryLinkLabel_RkOu>协同软件</span></a><button aria-label="Expand sidebar category '协同软件'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/commerce><span title=电商 class=categoryLinkLabel_RkOu>电商</span></a><button aria-label="Expand sidebar category '电商'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/data><span title=数据 class=categoryLinkLabel_RkOu>数据</span></a><button aria-label="Expand sidebar category '数据'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/dev/backstage><span title=dev class=categoryLinkLabel_RkOu>dev</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/dns><span title="DNS Service" class=categoryLinkLabel_RkOu>DNS Service</span></a><button aria-label="Expand sidebar category 'DNS Service'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/document><span title=办公套件 class=categoryLinkLabel_RkOu>办公套件</span></a><button aria-label="Expand sidebar category '办公套件'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/download><span title=下载器 class=categoryLinkLabel_RkOu>下载器</span></a><button aria-label="Expand sidebar category '下载器'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/edms><span title=档案管理 class=categoryLinkLabel_RkOu>档案管理</span></a><button aria-label="Expand sidebar category '档案管理'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/email><span title=EMail class=categoryLinkLabel_RkOu>EMail</span></a><button aria-label="Expand sidebar category 'EMail'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/erp><span title=ERP class=categoryLinkLabel_RkOu>ERP</span></a><button aria-label="Expand sidebar category 'ERP'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/forge><span title=Forge class=categoryLinkLabel_RkOu>Forge</span></a><button aria-label="Expand sidebar category 'Forge'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/forum/awesome><span title=forum class=categoryLinkLabel_RkOu>forum</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/geo/awesome><span title=geo class=categoryLinkLabel_RkOu>geo</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/im><span title=即时通讯 class=categoryLinkLabel_RkOu>即时通讯</span></a><button aria-label="Expand sidebar category '即时�通讯'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/linear><span title=Linear class=linkLabel_JPPZ>Linear</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/lms><span title=LMS class=linkLabel_JPPZ>LMS</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/media><span title=媒体 class=categoryLinkLabel_RkOu>媒体</span></a><button aria-label="Expand sidebar category '媒体'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/messaging/centrifugo><span title=messaging class=categoryLinkLabel_RkOu>messaging</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/network><span title=网络服务 class=categoryLinkLabel_RkOu>网络服务</span></a><button aria-label="Expand sidebar category '网络服务'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/notification/novu><span title=notification class=categoryLinkLabel_RkOu>notification</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/notion><span title=Notion class=linkLabel_JPPZ>Notion</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/observability><span title=可观察性 class=categoryLinkLabel_RkOu>可观察性</span></a><button aria-label="Expand sidebar category '可观察性'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/p2p/ipfs><span title=p2p class=categoryLinkLabel_RkOu>p2p</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/password><span title=密码管理 class=categoryLinkLabel_RkOu>密码管理</span></a><button aria-label="Expand sidebar category '密码管理'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/placeholder><span title=Placeholder class=linkLabel_JPPZ>Placeholder</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/realtime><span title=Realtime class=categoryLinkLabel_RkOu>Realtime</span></a><button aria-label="Expand sidebar category 'Realtime'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/search/awesome><span title=search class=categoryLinkLabel_RkOu>search</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/security/infisical><span title=security class=categoryLinkLabel_RkOu>security</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/selfhost><span title=SelfHost class=categoryLinkLabel_RkOu>SelfHost</span></a><button aria-label="Expand sidebar category 'SelfHost'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/serverless><span title=Serverless class=categoryLinkLabel_RkOu>Serverless</span></a><button aria-label="Expand sidebar category 'Serverless'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/awesome><span title="Service Awesome" class=linkLabel_JPPZ>Service Awesome</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/service/faq><span title="Service FAQ" class=linkLabel_JPPZ>Service FAQ</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/storage><span title=存储服务 class=categoryLinkLabel_RkOu>存储服务</span></a><button aria-label="Expand sidebar category '存储服务'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/telecom/device><span title=telecom class=categoryLinkLabel_RkOu>telecom</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/torrent><span title=Torrent class=categoryLinkLabel_RkOu>Torrent</span></a><button aria-label="Expand sidebar category 'Torrent'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/vpn/goproxy><span title=vpn class=categoryLinkLabel_RkOu>vpn</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/wiki><span title=Wiki class=categoryLinkLabel_RkOu>Wiki</span></a><button aria-label="Expand sidebar category 'Wiki'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/service/workflow><span title=Workflow class=categoryLinkLabel_RkOu>Workflow</span></a><button aria-label="Expand sidebar category 'Workflow'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/service/xaas/awesome><span title=xaas class=categoryLinkLabel_RkOu>xaas</span></a></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/software><span title=软件 class=categoryLinkLabel_RkOu>软件</span></a><button aria-label="Expand sidebar category '软件'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/std><span title=标准数据 class=categoryLinkLabel_RkOu>标准数据</span></a><button aria-label="Expand sidebar category '标准数据'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/voip><span title=VoIP class=categoryLinkLabel_RkOu>VoIP</span></a><button aria-label="Expand sidebar category 'VoIP'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/web><span title=Web class=categoryLinkLabel_RkOu>Web</span></a><button aria-label="Expand sidebar category 'Web'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_NY7h"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_c8nQ><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_GAGP><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_YQ1L"><div class=docItemContainer_Wjg4><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_tiqF" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_WTWT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/notes/service><span>服务</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/notes/service/auth><span>Auth</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/notes/service/auth/ldap><span>LADP</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>OpenLDAP</span></ul></nav><div class="tocCollapsible_GvsH theme-doc-toc-mobile tocMobile_qJgM"><button type=button class="clean-btn tocCollapsibleButton_LnP0">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>OpenLDAP</h1></header>
<ul>
<li><a href=https://github.com/openldap/openldap target=_blank rel="noopener noreferrer">openldap/openldap</a>
<ul>
<li>支持 SQL 后端 - PostgreSQL</li>
</ul>
</li>
<li>使用场景 - 用户联邦, 数据存储
<ul>
<li>Linux PAM</li>
<li>SSH PAM</li>
<li>Keycloak user federation</li>
<li>Kerberos database</li>
<li>PowerDNS database</li>
<li>Serive user - Gitea, Gitlab, Nextcloud</li>
</ul>
</li>
<li>参考
<ul>
<li><a href=https://www.openldap.org/doc/ target=_blank rel="noopener noreferrer">文档</a></li>
<li>archlinux <a href=https://wiki.archlinux.org/index.php/OpenLDAP target=_blank rel="noopener noreferrer">OpenLDAP</a></li>
<li><a href=https://github.com/leenooks/phpLDAPadmin target=_blank rel="noopener noreferrer">leenooks/phpLDAPadmin</a>
<ul>
<li><a href=http://demo.phpldapadmin.org/ target=_blank rel="noopener noreferrer">demo</a></li>
</ul>
</li>
<li><a href=https://stackoverflow.com/questions/22606811 target=_blank rel="noopener noreferrer">OpenLDAP multi-tenant like ACL</a>
<ul>
<li><a href=https://www.openldap.org/faq/data/cache/1133.html target=_blank rel="noopener noreferrer">Sets in Access Controls</a></li>
</ul>
</li>
<li><a href=https://github.com/osixia/docker-openldap target=_blank rel="noopener noreferrer">osixia/docker-openldap</a></li>
<li><a href=https://github.com/jp-gouin/helm-openldap target=_blank rel="noopener noreferrer">jp-gouin/helm-openldap</a></li>
<li><a href=https://github.com/ltb-project/self-service-password target=_blank rel="noopener noreferrer">ltb-project/self-service-password</a>
<ul>
<li>GPLv3, PHP</li>
<li>change and reset password in an LDAP</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_phik alert alert--warning"><div class=admonitionHeading_zxjO><span class=admonitionIcon_bSNx><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>caution</div><div class=admonitionContent_R6P7><ul>
<li>sql backend 需要自行维护 表 与 ObjectClass 的关系
<ul>
<li>并不是直接可用 - 初期有一定工作量</li>
</ul>
</li>
<li>不支持 reload - 直接重启</li>
</ul></div></div>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain"># macOS</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">/usr/libexec/slapd -VVV # 自带 v2.4</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">brew install openldap</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">export PATH="/usr/local/opt/openldap/bin:$PATH"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">export PATH="/usr/local/opt/openldap/sbin:$PATH"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">/usr/local/opt/openldap/libexec/slapd -VVV # 最新版 v2.6</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># AlpineLinux</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">apk add openldap</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 添加后端 - 生产用 sql 测试用 mdb</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">apk add openldap-back-sql openldap-back-mdb</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 添加 overlay - openldap-overlay-all 为所有</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">apk add openldap-overlay-{accesslog,memberof,otp}</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">apk add openldap-passwd-{pbkdf2,argon2,sha2}</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># /etc/openldap/slapd.conf</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">service slapd checkconfig</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=note>Note<a href=#note class=hash-link aria-label="Direct link to Note" title="Direct link to Note" translate=no>​</a></h2>
<ul>
<li>overlay
<ul>
<li>前后端之间的中间层</li>
<li>作为扩展添加其他功能</li>
</ul>
</li>
<li>配置
<ul>
<li>/etc/openldap/slapd.conf</li>
<li>/etc/openldap/slapd.ldif</li>
</ul>
</li>
<li>后端 - bdb, dnssrv, hdb, ldap, mdb, meta, monitor, null, passwd, relay, shell, sock, sql</li>
</ul>

















































































































<table><thead><tr><th>cli<th>desc<tbody><tr><td><strong>SBIN</strong><td><tr><td>slapacl<td>校验 slapd 目录权限<tr><td>slapadd<td><tr><td>slapauth<td><tr><td>slapcat<td><tr><td>slapd<td>独立 LDAP 守护进程<tr><td>slapdn<td><tr><td>slapindex<td><tr><td>slappasswd<td><tr><td>slapschema<td><tr><td>slaptest<td><tr><td>slapmodify<td><tr><td><strong>BIN</strong><td><tr><td>ldapadd<td><tr><td>ldapdelete<td><tr><td>ldapmodify<td><tr><td>ldappasswd<td><tr><td>ldapurl<td><tr><td>ldapwhoami<td><tr><td>ldapcompare<td><tr><td>ldapexop<td><tr><td>ldapmodrdn<td><tr><td>ldapsearch<td><tr><td>ldapvc<td><tr><td><strong>MISC</strong><td><tr><td>lloadd<td>负载均衡代理服务</table>

















































<table><thead><tr><th>slapd<th>for<tbody><tr><td>-h URLs<td>监听<tr><td>-u user<td><tr><td>-g group<td><tr><td>-r dir<td>chroot<tr><td>-c cookie<td>cookie for syncrepl<tr><td>-o option=value<td><tr><td>-d debug-level<td><tr><td>-f slapd.conf<td><tr><td>-F slapd.d<td>ldif 配置目录<tr><td>-T<td>工具</table>
<ul>
<li>-T - acl, a/add, auth, c/cat, d/dn, i/index, p/passwd, s/schema, t/test</li>
<li>-h <code>ldap:/// ldaps:/// ldapi:///</code>
<ul>
<li>ldap - 默认 389</li>
<li>ldaps - 默认 636 - LDAP over TLS</li>
<li>ldapi - LDAP over IPC
<ul>
<li>x-mod 可指定权限</li>
</ul>
</li>
<li>PLDAP, PLDAPS - HAProxy proxy protocol version 2</li>
</ul>
</li>
<li>-c cookie
<ul>
<li>rid, sid, csn</li>
</ul>
</li>
<li>-o option
<ul>
<li>slp</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">slapd -d ?                 # 显示所有的 debug level</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">slapd -Tt -f slapd.conf    # 校验配置 - slaptest</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">slapd -f slapd.conf -d 255 # 启动</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">chown -R ldap:ldap slapd.d # 确保权限正确</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 存在 slapd.d/cn=config.ldif</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">slapd -F slapd.d -u ldap -g ldap # 推荐使用 ldif 配置</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 配置转换</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">slaptest -f slapd.conf -F slapd.d</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">slapcat -F /usr/local/etc/openldap/slapd.d -n0 -l extracted_config.ldif</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">slapadd -F /usr/local/etc/openldap/slapd.d -l updated_config.ldif</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># -b DN</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># -U authcID</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># [attr[/access][:value]]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 检测 wener 用户是否能读取 dc=wener,dc=me 的 name 属性</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">slapacl -f slapd.conf -v -U wener -b "dc=wener,dc=me" "name/read:wener"</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=overlay>Overlay<a href=#overlay class=hash-link aria-label="Direct link to Overlay" title="Direct link to Overlay" translate=no>​</a></h2>

















































































































<table><thead><tr><th>overlay<th>desc<tbody><tr><td>accesslog<td>存储访问日志到 DB - 也会用于 delta-syncrepl<tr><td>auditlog<td>修改日志<tr><td>chain<td><tr><td>collect<td><tr><td>constraint<td>用 regex 限定属性值<tr><td>dds<td>dynamicObject,ttl<tr><td>deref<td><tr><td>dynlist<td><tr><td>homedir<td><tr><td>lastbind<td><tr><td>memberof<td>维护反向分组关系<tr><td>mqtt<td><tr><td>pcache<td>Proxy Cache<tr><td>ppolicy<td>Password Policy<tr><td>proxycache<td><tr><td>refint<td>Referential Integrity<tr><td>remoteauth<td><tr><td>retcode<td>Return Code<tr><td>rwm<td>Rewrite/Remap<tr><td>seqmod<td><tr><td>sssvlv<td><tr><td>syncprov<td>Sync Provider<tr><td>translucent<td>Translucent Proxy<tr><td>unique<td>唯一限定<tr><td>valsort<td>Value Sorting<tr><td><del>dyngroup</del><td>使用 dynlist</table>
<ul>
<li>多个 overlay 是反序执行的</li>
<li>dds - Dynamic Directory Services - rfc2859
<ul>
<li>CRP - Client Refresh Period
<ul>
<li>刷新 ttl - ldapexop</li>
</ul>
</li>
</ul>
</li>
<li>memberof
<ul>
<li>为 groupOfNames 的 member 对象生成 memberof 反向引用属性</li>
</ul>
</li>
<li>rwm <a href="https://www.openldap.org/software/man.cgi?query=slapo-rwm&apropos=0&sektion=5&manpath=OpenLDAP+2.6-Release&arch=default&format=html" target=_blank rel="noopener noreferrer">slapo-rwm</a>
<ul>
<li>为远程 ldap 或 relay 提供虚拟字段</li>
</ul>
</li>
<li>translucent
<ul>
<li>存储部分代理数据的到本地</li>
</ul>
</li>
<li>unique
<ul>
<li>unique_uri - <code>ldap:///ou=users,dc=example,dc=com?mail?sub?(objectClass=inetOrgPerson)</code></li>
</ul>
</li>
<li>valsort
<ul>
<li>valsort-attr - <code>memberUid ou=groups,dc=wener,dc=me alpha-ascend</code></li>
</ul>
</li>
</ul>
<p><strong>refint</strong></p>
<ul>
<li>支持 rename</li>
<li>如果 user 被删除，对应的 member 关系也被删除</li>
<li>如果没有任何 member 则使用 refint_nothing</li>
</ul>
<div class="language-conf codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-conf codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">overlay refint</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">refint_attributes member</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">refint_nothing "cn=admin,dc=example,dc=com"</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_EG6R" id=dynlist>dynlist<a href=#dynlist class=hash-link aria-label="Direct link to dynlist" title="Direct link to dynlist" translate=no>​</a></h3>
<div class="language-conf codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-conf codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">overlay dynlist</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># dynlist-attrset &lt;group-oc> &lt;URL-ad> [member-ad]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># member-ad - 存在则为 dyngroup - 需要包含 dyngroup.schema</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 将查询结果的单一属性返回</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dynlist-attrset nisMailAlias labeledURI</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 将查询结果作为 member 属性返回</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dynlist-attrset groupOfURLs labeledURI member</span><br/></span></code></pre></div></div>
<div class="language-ldif codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-ldif codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">cn=all,ou=aliases,dc=example,dc=com</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">cn: all</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: nisMailAlias</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">labeledURI: ldap:///ou=People,dc=example,dc=com?mail?one?(objectClass=inetOrgPerson)</span><br/></span></code></pre></div></div>
<ul>
<li>查询该对象时实际返回 labeledURI 查询结果</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=schema>Schema<a href=#schema class=hash-link aria-label="Direct link to Schema" title="Direct link to Schema" translate=no>​</a></h2>





































































<table><thead><tr><th>schema<th>note<tbody><tr><td>collective<td>Collective attributes (experimental)<tr><td>corba<td><tr><td>core<td>OpenLDAP core<tr><td>cosine<td>COSINE Pilot<tr><td>dsee<td>Sun DSEE<tr><td>duaconf<td>Client Configuration - WIP<tr><td>dyngroup<td>Dynamic Group (experimental)<tr><td>inetorgperson<td>InetOrgPerson<tr><td>java<td>Java Object<tr><td>misc<td>Miscellaneous Schema (experimental)<tr><td>msuser<td>Microsoft's Active Directory schema for replication<tr><td>namedobject<td>namedObject draft schema - WIP<tr><td>nis<td>Network Information Service (experimental)<tr><td>openldap<td><tr><td>pmi<td>ITU X.509 PMI support (experimental)</table>
<ul>
<li><a href=https://github.com/openldap/openldap/tree/master/contrib target=_blank rel="noopener noreferrer">https://github.com/openldap/openldap/tree/master/contrib</a>
<ul>
<li>额外模块
<ul>
<li>passwd/pbkdf2</li>
<li>passwd/sha2</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_EG6R" id=password>Password<a href=#password class=hash-link aria-label="Direct link to Password" title="Direct link to Password" translate=no>​</a></h3>
<ul>
<li>argon2</li>
<li>pbkdf2
<ul>
<li>PBKDF2 -> PBKDF2-SHA1</li>
<li>PBKDF2-SHA1</li>
<li>PBKDF2-SHA256</li>
<li>PBKDF2-SHA512</li>
</ul>
</li>
<li>sha2
<ul>
<li>SHA512</li>
<li>SHA384</li>
<li>SHA256</li>
<li>SSHA512</li>
<li>SSHA384</li>
<li>SSHA256</li>
<li>S 前缀 Salted</li>
</ul>
</li>
<li>totp - RFC 6238 Time-based One Time Passwords
<ul>
<li>TOTP1 - SHA-1</li>
<li>TOTP256 - SHA-256</li>
<li>TOTP512 - SHA-512</li>
<li>TOTP1ANDPW</li>
<li>TOTP256ANDPW</li>
<li>TOTP512ANDPW
<ul>
<li>TOTP+password</li>
</ul>
</li>
</ul>
</li>
<li>kerberos</li>
<li>netscape</li>
<li>apr1</li>
<li>radius</li>
</ul>
<div class="language-txt codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockTitle_Lwh4>password</div><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-txt codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain"># password=secret salt=saltsalt</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">userPassword: {ARGON2}$argon2i$v=19$m=4096,t=3,p=1$c2FsdHNhbHQ$DKlexoEJUoZTmkAAC3SaMWk30El9/RvVhlqGo6afIng</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain"># 默认支持 SHA</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">slappasswd -o module-load=pw-sha2.so -h {SHA} -s secret</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">echo -n "secret" | argon2 "salt" -e</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">slappasswd -o module-load=argon2.so -h {ARGON2} -s secret</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">slappasswd -o module-load=pw-pbkdf2.so -h {PBKDF2} -s secret</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">slappasswd -o module-load=pw-sha2.so -h {SHA256} -s secret</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">echo -n "secret" | openssl dgst -sha256 -binary | openssl enc -base64</span><br/></span></code></pre></div></div>
<ul>
<li>passwd - <a href=https://github.com/openldap/openldap/tree/master/servers/slapd/pwmods target=_blank rel="noopener noreferrer">servers/slapd/pwmods</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=slapd-config>slapd-config<a href=#slapd-config class=hash-link aria-label="Direct link to slapd-config" title="Direct link to slapd-config" translate=no>​</a></h2>
<p>使用 ldif 配置</p>
<ul>
<li>cn=config 0 olcGlobal
<ul>
<li>olcIdleTimeout</li>
<li>olcLogLevel</li>
<li>olcReferral</li>
<li>cn=module
<ul>
<li>olcModuleLoad</li>
<li>olcModulePath</li>
</ul>
</li>
<li>cn=schema - olcSchemaConfig - System schema
<ul>
<li>olcAttributeTypes</li>
<li>olcObjectClasses</li>
<li>cn={0}core - CoreSchema
<ul>
<li>olcAttributeTypes</li>
<li>olcObjectClasses</li>
</ul>
</li>
</ul>
</li>
<li>olcBackend</li>
<li>olcDatabase={1}mdb - olcBackendConfig
<ul>
<li>index 用于区分多个同类型的不同 db
<ul>
<li>不指定会自动创建</li>
</ul>
</li>
<li><code>olcAccess: to &lt;what> [ by &lt;who> [&lt;accesslevel>] [&lt;control>] ]+</code></li>
<li>olcReadonly</li>
<li>olcRootDN</li>
<li>olcRootPW</li>
<li>olcSizeLimit</li>
<li>olcSuffix</li>
<li>olcSyncrepl</li>
<li>olcTimeLimit: 3600</li>
<li>olcUpdateref</li>
</ul>
</li>
<li>olcDatabase=frontend
<ul>
<li>olcAccess</li>
</ul>
</li>
</ul>
</li>
<li>mdb
<ul>
<li>backend
<ul>
<li>olcBkMdbIdlExp: 16</li>
</ul>
</li>
<li>database
<ul>
<li>olcDbDirectory: /usr/local/var/openldap-data</li>
<li>olcDbCheckpoint: 1024 10</li>
<li>olcDbEnvFlags</li>
<li>olcDbIndex</li>
<li>olcDbMaxEntrySize: 0</li>
<li>olcDbMaxReaders: 126</li>
<li>olcDbMaxSize: 10485760 - 10MB</li>
<li>olcDbMode: 0600</li>
<li>olcDbMultival</li>
<li>olcDbRtxnsize</li>
<li>olcDbSearchStack: 16</li>
<li>olcDbNosync</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_EG6R" id=基础配置>基础配置<a href=#基础配置 class=hash-link aria-label="Direct link to 基础配置" title="Direct link to 基础配置" translate=no>​</a></h3>
<div class="language-ldif codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-ldif codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">dn: cn=config</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: olcGlobal</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">cn: config</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcArgsFile: /var/lib/openldap/run/slapd.args</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcPidFile: /var/lib/openldap/run/slapd.pid</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 模块加载</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dn: cn=module,cn=config</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: olcModuleList</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">cn: module</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcModulepath:	/usr/lib/openldap</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcModuleload:	back_mdb.so</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dn: cn=schema,cn=config</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: olcSchemaConfig</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">cn: schema</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">include: file:///etc/openldap/schema/core.ldif</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 前端</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dn: olcDatabase=frontend,cn=config</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: olcDatabaseConfig</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: olcFrontendConfig</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcDatabase: frontend</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 访问控制策略</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#	Other DSEs:</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#		Allow self write access</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#		Allow authenticated users read access</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#		Allow anonymous users to authenticate</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#olcAccess: to dn.base="" by * read</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#olcAccess: to dn.base="cn=Subschema" by * read</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#olcAccess: to *</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#	by self write</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#	by users read</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#	by anonymous auth</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># if no access controls are present, the default policy</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># allows anyone and everyone to read anything but restricts</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># updates to rootdn.  (e.g., "access to * by * read")</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># rootdn can always read and write EVERYTHING!</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">#</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 数据库配置</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dn: olcDatabase=mdb,cn=config</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: olcDatabaseConfig</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: olcMdbConfig</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcDatabase: mdb</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcDbMaxSize: 1073741824</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcSuffix: dc=wener,dc=me</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcRootDN: cn=admin,dc=wener,dc=me</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcRootPW: secret</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcDbDirectory:	/var/lib/openldap/openldap-data</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcDbIndex: objectClass eq</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dn: olcDatabase=monitor,cn=config</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: olcDatabaseConfig</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcDatabase: monitor</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcRootDN: cn=config</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcMonitoring: FALSE</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=slapdconf>slapd.conf<a href=#slapdconf class=hash-link aria-label="Direct link to slapd.conf" title="Direct link to slapd.conf" translate=no>​</a></h2>
<div class="theme-admonition theme-admonition-caution admonition_phik alert alert--warning"><div class=admonitionHeading_zxjO><span class=admonitionIcon_bSNx><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>caution</div><div class=admonitionContent_R6P7><ul>
<li>该配置方式已废弃，推荐使用 slapd-config 配置</li>
</ul></div></div>
<ul>
<li>全局配置+数据库配置</li>
<li>行开头为空白则为 续 行</li>
<li><code>backend &lt;type></code>
<ul>
<li>asyncmeta, config, dnssrv, ldap, ldif, mdb, meta, monitor, null, passwd, perl, relay, sock, sql, wt</li>
<li>wt - WiredTiger</li>
</ul>
</li>
<li><code>overlay &lt;name></code></li>
</ul>
<hr/>
<ul>
<li><a href=https://www.openldap.org/doc/admin26/slapdconf2.html target=_blank rel="noopener noreferrer">https://www.openldap.org/doc/admin26/slapdconf2.html</a></li>
<li><a href=https://man7.org/linux/man-pages/man5/slapd.conf.5.html target=_blank rel="noopener noreferrer">https://man7.org/linux/man-pages/man5/slapd.conf.5.html</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_EG6R" id=基础配置-1>基础配置<a href=#基础配置-1 class=hash-link aria-label="Direct link to 基础配置" title="Direct link to 基础配置" translate=no>​</a></h3>
<div class="language-conf codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-conf codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">include		/etc/openldap/schema/core.schema</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">pidfile		/var/lib/openldap/run/slapd.pid</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">argsfile	/var/lib/openldap/run/slapd.args</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 加载模块</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">modulepath	/usr/lib/openldap</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">moduleload	back_mdb.la</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">attributeoptions x-hidden lang-</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">access to attrs=name;x-hidden by * =cs</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">access to attrs=userPassword  by * auth</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">access to * by * read</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">database config</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 开启后可 bind cn=config 直接修改配置 - 不过配置修改不会保存</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># rootpw secret</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># mdb 配置</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">database	mdb</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">maxsize		1073741824</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">suffix		"dc=wener,dc=me"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">rootdn		"cn=admin,dc=wener,dc=me"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 避免密码明文 - 使用 slappasswd 生成</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">rootpw		secret</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># chmod 700</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">directory	/var/lib/openldap/openldap-data</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 需要维护的索引</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">index	objectClass	eq</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">index cn,sn,mail pres,eq,approx,sub</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">database monitor</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=backend-sql>backend sql<a href=#backend-sql class=hash-link aria-label="Direct link to backend sql" title="Direct link to backend sql" translate=no>​</a></h2>
<ul>
<li>使用 odbc 连接</li>
<li>需要自行维护 表 与 ObjectClass 的关系</li>
</ul>
<div class="language-ini codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockTitle_Lwh4>/etc/odbc.ini</div><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-ini codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token section punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token section section-name selector" style="color:rgb(199, 146, 234)">example</span><span class="token section punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">Description</span><span class="token plain">         </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">OpenLDAP back-sql</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">Driver</span><span class="token plain">              </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">PostgreSQL</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">Trace</span><span class="token plain">               </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">No</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">Database</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">example</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">Servername</span><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">localhost</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">UserName</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">manager</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">Password</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">secret</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">Port</span><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">5432</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">;Protocol            = 6.4</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">ReadOnly</span><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">No</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">RowVersioning</span><span class="token plain">       </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">No</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">ShowSystemTables</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">No</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">ShowOidColumn</span><span class="token plain">       </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">No</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">FakeOidIndex</span><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">No</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">ConnSettings</span><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><br/></span></code></pre></div></div>
<div class="language-ini codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockTitle_Lwh4>/etc/odbcinst.ini</div><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-ini codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token section punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token section section-name selector" style="color:rgb(199, 146, 234)">PostgreSQL</span><span class="token section punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">Description</span><span class="token plain">     </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">ODBC for PostgreSQL</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">Driver</span><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">/usr/lib/libodbcpsql.so</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">Setup</span><span class="token plain">           </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">/usr/lib/libodbcpsqlS.so</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key attr-name" style="color:rgb(255, 203, 107)">FileUsage</span><span class="token plain">       </span><span class="token punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token plain"> </span><span class="token value attr-value">1</span><br/></span></code></pre></div></div>
<div class="language-conf codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-conf codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">database	sql</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">suffix		"o=sql,c=RU"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">rootdn		"cn=root,o=sql,c=RU"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">rootpw		secret</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dbname		PostgreSQL</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dbuser		postgres</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dbpasswd	postgres</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">insentry_stmt	"insert into ldap_entries (id,dn,oc_map_id,parent,keyval) values ((select max(id)+1 from ldap_entries),?,?,?,?)"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">upper_func	"upper"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">strcast_func	"text"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">concat_pattern	"?||?"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">has_ldapinfo_dn_ru	no</span><br/></span></code></pre></div></div>
<p><strong>PostgreSQL</strong></p>
<ul>
<li>ldap_oc_mappings</li>
<li>ldap_attr_mappings</li>
<li>ldap_entries</li>
<li>ldap_entry_objclasses</li>
</ul>
<div class="language-sql codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-sql codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token keyword" style=font-style:italic>create</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>table</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  ldap_oc_mappings </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    id </span><span class="token keyword" style=font-style:italic>serial</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>primary</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- objectClass name</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    name </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- 映射的表名</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    keytbl </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- pk 列</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    keycol </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- 创建 SQL</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    create_proc </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- 删除 SQL</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    delete_proc </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    expect_return </span><span class="token keyword" style=font-style:italic>int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>create</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>table</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  ldap_attr_mappings </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    id </span><span class="token keyword" style=font-style:italic>serial</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>primary</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    oc_map_id </span><span class="token keyword" style=font-style:italic>integer</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>references</span><span class="token plain"> ldap_oc_mappings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    name </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    sel_expr </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    sel_expr_u </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    from_tbls </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    join_where </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    add_proc </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    delete_proc </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    param_order </span><span class="token keyword" style=font-style:italic>int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    expect_return </span><span class="token keyword" style=font-style:italic>int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>create</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>table</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  ldap_entries </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    id </span><span class="token keyword" style=font-style:italic>serial</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>primary</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    dn </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    oc_map_id </span><span class="token keyword" style=font-style:italic>integer</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>references</span><span class="token plain"> ldap_oc_mappings</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    parent </span><span class="token keyword" style=font-style:italic>int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    keyval </span><span class="token keyword" style=font-style:italic>int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>UNIQUE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">oc_map_id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> keyval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token keyword" style=font-style:italic>UNIQUE</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token keyword" style=font-style:italic>create</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>table</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  ldap_entry_objclasses </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    entry_id </span><span class="token keyword" style=font-style:italic>integer</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">not</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token plain"> </span><span class="token keyword" style=font-style:italic>references</span><span class="token plain"> ldap_entries</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    oc_name </span><span class="token keyword" style=font-style:italic>varchar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br/></span></code></pre></div></div>
<ul>
<li><a href=https://github.com/openldap/openldap/tree/master/servers/slapd/back-sql/rdbms_depend/pgsql target=_blank rel="noopener noreferrer">https://github.com/openldap/openldap/tree/master/servers/slapd/back-sql/rdbms_depend/pgsql</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=backend-monitor>backend monitor<a href=#backend-monitor class=hash-link aria-label="Direct link to backend monitor" title="Direct link to backend monitor" translate=no>​</a></h2>
<ul>
<li>由 slapd 维护，提供系统健康信息</li>
<li>cn=Monitor
<ul>
<li>cn=Backends
<ul>
<li>monitoredInfo</li>
<li>cn=Backend 0</li>
</ul>
</li>
<li>cn=Connections
<ul>
<li>cn=Total</li>
<li>cn=Current</li>
</ul>
</li>
<li>cn=Databases
<ul>
<li>cn=Database 0</li>
</ul>
</li>
<li>cn=Listeners</li>
<li>cn=Overlays
<ul>
<li>monitoredInfo</li>
</ul>
</li>
<li>cn=Statistics
<ul>
<li>cn=Entries
<ul>
<li>monitorCounter</li>
</ul>
</li>
</ul>
</li>
<li>cn=Threads
<ul>
<li>cn=Max
<ul>
<li>monitoredInfo</li>
</ul>
</li>
</ul>
</li>
<li>cn=Time
<ul>
<li>cn=Current
<ul>
<li>monitorTimestamp</li>
</ul>
</li>
<li>cn=Start</li>
</ul>
</li>
<li>cn=Waiters
<ul>
<li>cn=Read
<ul>
<li>monitorCounter</li>
</ul>
</li>
<li>cn=Write</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="language-conf codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-conf codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">database monitor</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">access to * by dn.exact="cn=admin,dc=wener,dc=me" by * none</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">ldapsearch -x -D 'cn=admin,dc=wener,dc=me' -W -b 'cn=Monitor' -s base 1.1</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">ldapsearch -x -D 'cn=admin,dc=wener,dc=me' -W -b 'cn=Monitor' -s base '(objectClass=*)' '*' '+'</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=access-control>Access Control<a href=#access-control class=hash-link aria-label="Direct link to Access Control" title="Direct link to Access Control" translate=no>​</a></h2>
<div class="language-text codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-text codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">&lt;access directive> ::= to &lt;what></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    [by &lt;who> [&lt;access>] [&lt;control>] ]+</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">&lt;what> ::= * |</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    [dn[.&lt;basic-style>]=&lt;regex> | dn.&lt;scope-style>=&lt;DN>]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    [filter=&lt;ldapfilter>] [attrs=&lt;attrlist>]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">&lt;basic-style> ::= regex | exact</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">&lt;scope-style> ::= base | one | subtree | children</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">&lt;attrlist> ::= &lt;attr> [val[.&lt;basic-style>]=&lt;regex>] | &lt;attr> , &lt;attrlist></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">&lt;attr> ::= &lt;attrname> | entry | children</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">&lt;who> ::= * | [anonymous | users | self</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        | dn[.&lt;basic-style>]=&lt;regex> | dn.&lt;scope-style>=&lt;DN>]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    [dnattr=&lt;attrname>]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    [group[/&lt;objectclass>[/&lt;attrname>][.&lt;basic-style>]]=&lt;regex>]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    [peername[.&lt;basic-style>]=&lt;regex>]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    [sockname[.&lt;basic-style>]=&lt;regex>]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    [domain[.&lt;basic-style>]=&lt;regex>]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    [sockurl[.&lt;basic-style>]=&lt;regex>]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    [set=&lt;setspec>]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    [aci=&lt;attrname>]</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">&lt;access> ::= [self]{&lt;level>|&lt;priv>}</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">&lt;level> ::= none | disclose | auth | compare | search | read | write | manage</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">&lt;priv> ::= {=|+|-}{m|w|r|s|c|x|d|0}+</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">&lt;control> ::= [stop | continue | break]</span><br/></span></code></pre></div></div>
<ul>
<li>what
<ul>
<li><code>*</code></li>
<li><code>dn[.&lt;basic-style>]=&lt;regex> | dn.&lt;scope-style>=&lt;DN></code>
<ul>
<li>basic-style - regex, exact</li>
<li>scope-style - base, one, subtree, children</li>
</ul>
</li>
<li><code>filter=&lt;ldapfilter>] [attrs=&lt;attrlist></code></li>
</ul>
</li>
<li>who
<ul>
<li><code>*</code></li>
<li>anonymous</li>
<li>users - 认证用户</li>
<li>self - 用户所在 entry</li>
<li><code>dn[.&lt;basic-style>]=&lt;regex> | dn.&lt;scope-style>=&lt;DN>]</code></li>
<li>dnattr=</li>
<li>group=</li>
<li>peername=</li>
<li>sockname=</li>
<li>domain=</li>
<li>sockurl=</li>
<li>set=</li>
<li>aci=</li>
</ul>
</li>
<li>access
<ul>
<li>self</li>
<li>level
<ul>
<li>none | disclose | auth | compare | search | read | write | manage</li>
<li>下级包含上级</li>
</ul>
</li>
<li>priv
<ul>
<li><code>{=|+|-}{m|w|r|s|c|x|d|0}+</code></li>
</ul>
</li>
</ul>
</li>
<li>control
<ul>
<li>stop - 默认</li>
<li>continue - 继续处理 who</li>
<li>break - 跳出当前 access 继续处理下一条</li>
</ul>
</li>
<li>隐含规则 <code>by * none stop</code></li>
</ul>
<p><strong>权限组合</strong></p>
<div class="language-text codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-text codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">access to *</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    by peername.ip="127.0.0.1" =w continue</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    by dn.exact="cn=foo" +rcsx</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">    by * auth</span><br/></span></code></pre></div></div>
<ul>
<li>127.0.0.1 权限为 <code>w</code>
<ul>
<li>如果 cn=foo 则添加更多权限</li>
</ul>
</li>
</ul>

































<table><thead><tr><th>who<th>desc<tbody><tr><td><code>*</code><td>所有<tr><td>anonymous<td>匿名/未授权 用户<tr><td>users<td>授权用户<tr><td>self<td>User associated with target entry<tr><td><code>dn[.&lt;basic-style>]=&lt;regex></code><td>Users matching a regular expression<tr><td><code>dn.&lt;scope-style>=&lt;DN></code><td>Users within scope of a DN</table>


















































<table><thead><tr><th>level<th>priv<th>desc<tbody><tr><td>none<td>=0<td>不能访问<tr><td>disclose<td>=d<td>needed for information disclosure on error<tr><td>auth<td>=dx<td>需要认证 - bind<tr><td>compare<td>=cdx<td>needed to compare<tr><td>search<td>=scdx<td>needed to apply search filters<tr><td>read<td>=rscdx<td>needed to read search results<tr><td>write<td>=wrscdx<td>needed to modify/rename<tr><td>manage<td>=mwrscdx<td>needed to manage</table>
<ul>
<li><a href=https://www.openldap.org/faq/data/cache/454.html target=_blank rel="noopener noreferrer">https://www.openldap.org/faq/data/cache/454.html</a></li>
<li><a href=https://uit.stanford.edu/service/directory/aclexamples target=_blank rel="noopener noreferrer">https://uit.stanford.edu/service/directory/aclexamples</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=off-line>Off-line<a href=#off-line class=hash-link aria-label="Direct link to Off-line" title="Direct link to Off-line" translate=no>​</a></h2>
<div class="language-ldif codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-ldif codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">dn: dc=wener,dc=me</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: dcObject</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: organization</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dc: wener</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">o: Wener's Website</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">description: A blog full of notes</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dn: cn=admin,dc=example,dc=com</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: organizationalRole</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">cn: admin</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">description: Directory Administrator</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain"># 使用 directory 的 可以加</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">slapd -Ta -F slapd.d -l demo.ldif</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=备份>备份<a href=#备份 class=hash-link aria-label="Direct link to 备份" title="Direct link to 备份" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">slapcat -f slapd.conf -b "dc=example,dc=com"</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=lloadd>lloadd<a href=#lloadd class=hash-link aria-label="Direct link to lloadd" title="Direct link to lloadd" translate=no>​</a></h2>
<ul>
<li>负载均衡</li>
</ul>
<div class="language-conf codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-conf codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">feature proxyauthz</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">bindconf bindmethod=simple</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        binddn="cn=Manager,dc=example,dc=com"</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">        credentials=secret</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">tier roundrobin</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">backend-server uri=ldap://server1.example.com</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">              numconns=5 bindconns=5</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">              max-pending-ops=10 conn-max-pending=3</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">              retry=5000</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">backend-server uri=ldap://server2.example.com</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">              numconns=5 bindconns=5</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">              max-pending-ops=10 conn-max-pending=3</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">              retry=5000</span><br/></span></code></pre></div></div>
<h1>FAQ</h1>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=不支持-sha256-sha512>不支持 sha256, sha512<a href=#不支持-sha256-sha512 class=hash-link aria-label="Direct link to 不支持 sha256, sha512" title="Direct link to 不支持 sha256, sha512" translate=no>​</a></h2>
<div class="language-text codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-text codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">At present there is no need to change anything in the core since SHA-2 support</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">can be dynamically loaded. Don't fix what isn't broken.</span><br/></span></code></pre></div></div>
<ul>
<li>参考
<ul>
<li><a href=https://www.openldap.org/lists/openldap-bugs/201205/msg00055.html target=_blank rel="noopener noreferrer">https://www.openldap.org/lists/openldap-bugs/201205/msg00055.html</a></li>
<li><a href=https://www.openldap.org/faq/data/cache/1467.html target=_blank rel="noopener noreferrer">https://www.openldap.org/faq/data/cache/1467.html</a></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=no-passwd-entry-for-user-ldap>No passwd entry for user ldap<a href=#no-passwd-entry-for-user-ldap class=hash-link aria-label="Direct link to No passwd entry for user ldap" title="Direct link to No passwd entry for user ldap" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">getent passwd ldap</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=slapdldif>slapd.ldif<a href=#slapdldif class=hash-link aria-label="Direct link to slapd.ldif" title="Direct link to slapd.ldif" translate=no>​</a></h2>
<p>默认只能 slapd.conf 单文件配置，可以通过一定的方式实现 ldif 配置。</p>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">slapd -f slapd.conf.init -F slapd.d -h 'ldap:// ldaps:// ldapi://'</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># slapd.ldif 包含所有配置</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">ldapadd -Y EXTERNAL -H ldapi:// -f slapd.ldif</span><br/></span></code></pre></div></div>
<div class="language-conf codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockTitle_Lwh4>slapd.conf.init</div><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-conf codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">pidfile /var/lib/openldap/run/slapd.pid</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">database config</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 允许通过 sock 管理</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">access to * by dn.base="gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth" manage</span><br/></span></code></pre></div></div>
<div class="language-ldif codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockTitle_Lwh4>slapd.ldif</div><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-ldif codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">dn: cn=module,cn=config</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: olcModuleList</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">cn: module</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcModulePath: /usr/lib/openldap</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcModuleLoad: back_mdb.so</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">dn: olcDatabase=mdb,cn=config</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: olcDatabaseConfig</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">objectClass: olcMdbConfig</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcDatabase: mdb</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcSuffix: dc=example,dc=com</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcRootDN: cn=manager,dc=example,dc=com</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcRootPW:: c2VjcmV0</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcDbDirectory: /var/lib/openldap/example.com</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">olcAccess: to * by dn.base="gidNumber=0+uidNumber=0,cn=peercred,cn=external,cn=auth" manage</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=daemon-bind7-failed-errno2-no-such-file-or-directory>daemon: bind(7) failed errno=2 (No such file or directory)<a href=#daemon-bind7-failed-errno2-no-such-file-or-directory class=hash-link aria-label="Direct link to daemon: bind(7) failed errno=2 (No such file or directory)" title="Direct link to daemon: bind(7) failed errno=2 (No such file or directory)" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">install -d -m 700 -o ldap -g ldap /var/lib/openldap/run</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">chown -R ldap:ldap /var/lib/openldap</span><br/></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/wenerme/wener/edit/master/notes/../notes/service/auth/ldap/openldap.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_A7Jz aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_Hg3U"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2022-08-26T09:46:50.000Z itemprop=dateModified>Aug 26, 2022</time></b> by <b>wener</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/notes/service/auth/ldap/lldap><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>LLDAP</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/notes/service/auth/oauth><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>OAuth</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_wpyd thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#note class="table-of-contents__link toc-highlight">Note</a><li><a href=#overlay class="table-of-contents__link toc-highlight">Overlay</a><ul><li><a href=#dynlist class="table-of-contents__link toc-highlight">dynlist</a></ul><li><a href=#schema class="table-of-contents__link toc-highlight">Schema</a><ul><li><a href=#password class="table-of-contents__link toc-highlight">Password</a></ul><li><a href=#slapd-config class="table-of-contents__link toc-highlight">slapd-config</a><ul><li><a href=#基础配置 class="table-of-contents__link toc-highlight">基础配置</a></ul><li><a href=#slapdconf class="table-of-contents__link toc-highlight">slapd.conf</a><ul><li><a href=#基础配置-1 class="table-of-contents__link toc-highlight">基础配置</a></ul><li><a href=#backend-sql class="table-of-contents__link toc-highlight">backend sql</a><li><a href=#backend-monitor class="table-of-contents__link toc-highlight">backend monitor</a><li><a href=#access-control class="table-of-contents__link toc-highlight">Access Control</a><li><a href=#off-line class="table-of-contents__link toc-highlight">Off-line</a><li><a href=#备份 class="table-of-contents__link toc-highlight">备份</a><li><a href=#lloadd class="table-of-contents__link toc-highlight">lloadd</a><li><a href=#不支持-sha256-sha512 class="table-of-contents__link toc-highlight">不支持 sha256, sha512</a><li><a href=#no-passwd-entry-for-user-ldap class="table-of-contents__link toc-highlight">No passwd entry for user ldap</a><li><a href=#slapdldif class="table-of-contents__link toc-highlight">slapd.ldif</a><li><a href=#daemon-bind7-failed-errno2-no-such-file-or-directory class="table-of-contents__link toc-highlight">daemon: bind(7) failed errno=2 (No such file or directory)</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>笔记</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/notes/java>Java</a><li class=footer__item><a class=footer__link-item href=/notes/os/alpine>AlpineLinux</a><li class=footer__item><a class=footer__link-item href=/notes/devops/kubernetes>Kubernates</a><li class=footer__item><a class=footer__link-item href=/notes/voip>VoIP</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Projects</div><ul class="footer__items clean-list"><li class=footer__item>
              <div>
              <a class=footer__link-item href=https://github.com/wenerme/wener>Wener</a>
              -
              <a class=footer__link-item href=https://github.com/wenerme/wener/actions title="wenerme/wener - ci">
              <img style="vertical-align: middle;opacity: .4;" src=https://github.com/wenerme/wener/workflows/Build/badge.svg />
              </a>
              </div>
              <li class=footer__item><a href=https://apis.wener.me target=_blank rel="noopener noreferrer" class=footer__link-item>Wener's Apis<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_kUGX><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Social</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/story>Blog</a><li class=footer__item><a href=https://github.com/wenerme target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub</a><li class=footer__item><a href=https://twitter.com/wenerme target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter</a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/img/wener-logo.svg alt="Wener Site" class="footer__logo themedComponent_j2y5 themedComponent--light_v877"/><img src=/img/wener-logo.svg alt="Wener Site" class="footer__logo themedComponent_j2y5 themedComponent--dark_PUQY"/></div><div class=footer__copyright>Copyright © 1992-2025 Wener - <img alt=cc-by-sa-4.0 src=https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg /> - Build @2025-10-09 13:46</div></div></div></footer></div></body>