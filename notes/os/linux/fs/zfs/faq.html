<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-os/linux/fs/zfs/zfs-faq" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.1"><title data-rh=true>ZFS 常见问题 | Wener Live & Life</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:url content=https://wener.me/notes/os/linux/fs/zfs/faq /><meta data-rh=true property=og:locale content=en /><meta data-rh=true name=docusaurus_locale content=en /><meta data-rh=true name=docsearch:language content=en /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="ZFS 常见问题 | Wener Live & Life"/><meta data-rh=true name=description content="- renameat2/overlayfs ZFS v2.2+"/><meta data-rh=true property=og:description content="- renameat2/overlayfs ZFS v2.2+"/><link data-rh=true rel=icon href=/img/favicon.ico /><link data-rh=true rel=canonical href=https://wener.me/notes/os/linux/fs/zfs/faq /><link data-rh=true rel=alternate href=https://wener.me/notes/os/linux/fs/zfs/faq hreflang=en /><link data-rh=true rel=alternate href=https://wener.me/notes/os/linux/fs/zfs/faq hreflang=x-default /><link data-rh=true rel=preconnect href=https://37P8DMWBKF-dsn.algolia.net crossorigin=anonymous /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://wener.me/notes/os/","name":"操作系统","position":1},{"@type":"ListItem","item":"https://wener.me/notes/os/linux/fs/","name":"FS","position":2},{"@type":"ListItem","item":"https://wener.me/notes/os/linux/fs/zfs/","name":"ZFS","position":3},{"@type":"ListItem","item":"https://wener.me/notes/os/linux/fs/zfs/faq","name":"ZFS 常见问题","position":4}]}</script><link rel=alternate type=application/rss+xml href=/story/rss.xml title="Wener Live & Life RSS Feed"><link rel=alternate type=application/atom+xml href=/story/atom.xml title="Wener Live & Life Atom Feed"><link rel=preconnect href=https://www.google-analytics.com><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-30404720-1","auto"),ga("send","pageview")</script><script async src=https://www.google-analytics.com/analytics.js></script><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=UA-30404720-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-30404720-1",{})</script><link rel=search type=application/opensearchdescription+xml title="Wener Live & Life" href=/opensearch.xml><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css><script src=https://static.cloudflareinsights.com/beacon.min.js async data-cf-beacon='{"token": "e9a1b931103044f3940ee67b78c7df70"}' defer></script><link rel=stylesheet href=/assets/css/styles.fa221ee1.css /><script src=/assets/js/runtime~main.72c320db.js defer></script><script src=/assets/js/main.c07313b6.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_jKDA href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/wener-logo-head.svg alt="Wener Logo" class="themedComponent_j2y5 themedComponent--light_v877"/><img src=/img/wener-logo-head.svg alt="Wener Logo" class="themedComponent_j2y5 themedComponent--dark_PUQY"/></div><b class="navbar__title text--truncate">Wener</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/notes>笔记</a><a class="navbar__item navbar__link" href=/story>故事</a><a class="navbar__item navbar__link" href=/notes/howto/network/dns-prevent-spoofing>指南</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href=https://github.com/wenerme/wener target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_kUGX><use href=#theme-svg-external-link /></svg></a><div class="toggle_N7Mq colorModeToggle_vh_y"><button class="clean-btn toggleButton_PaHe toggleButtonDisabled_RC4w" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_Q188 lightToggleIcon_M1mU"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_Q188 darkToggleIcon_sEdo"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_Q188 systemToggleIcon_cOyE"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_d_Bn><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts=Meta+k><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 24 24" aria-hidden=true><circle cx=11 cy=11 r=8 stroke=currentColor fill=none stroke-width=1.4 /><path d="m21 21-4.3-4.3" stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_c22C"><div class=docsWrapper_oymo><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_ZPA9" type=button></button><div class=docRoot_ng2Q><aside class="theme-doc-sidebar-container docSidebarContainer_nyHU"><div class=sidebarViewport_rLoj><div class=sidebar_TmDF><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jRin"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/notes><span title=笔记 class=linkLabel_JPPZ>笔记</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/notes/adobe/photoshop><span title=adobe class=categoryLinkLabel_RkOu>adobe</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/ai><span title=AI class=categoryLinkLabel_RkOu>AI</span></a><button aria-label="Expand sidebar category 'AI'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/algorithm><span title=算法 class=categoryLinkLabel_RkOu>算法</span></a><button aria-label="Expand sidebar category '算法'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/blockchain><span title=区块链 class=categoryLinkLabel_RkOu>区块链</span></a><button aria-label="Expand sidebar category '区块链'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/cn><span title=CN class=categoryLinkLabel_RkOu>CN</span></a><button aria-label="Expand sidebar category 'CN'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/courses><span title=课程 class=categoryLinkLabel_RkOu>课程</span></a><button aria-label="Expand sidebar category '课程'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/culture><span title=文化 class=categoryLinkLabel_RkOu>文化</span></a><button aria-label="Expand sidebar category '文化'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/db><span title=数据库 class=categoryLinkLabel_RkOu>数据库</span></a><button aria-label="Expand sidebar category '数据库'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/dev><span title=开发 class=categoryLinkLabel_RkOu>开发</span></a><button aria-label="Expand sidebar category '开发'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/devops><span title=DevOps class=categoryLinkLabel_RkOu>DevOps</span></a><button aria-label="Expand sidebar category 'DevOps'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/economics><span title=经济学 class=categoryLinkLabel_RkOu>经济学</span></a><button aria-label="Expand sidebar category '经济学'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/electrical><span title=电学基础 class=categoryLinkLabel_RkOu>电学基础</span></a><button aria-label="Expand sidebar category '电学基础'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/notes/embedded/awesome><span title=embedded class=categoryLinkLabel_RkOu>embedded</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/evolve><span title=自我成长 class=categoryLinkLabel_RkOu>自我成长</span></a><button aria-label="Expand sidebar category '自我成长'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/hardware><span title=硬件 class=categoryLinkLabel_RkOu>硬件</span></a><button aria-label="Expand sidebar category '硬件'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/healthcare><span title=健康 class=categoryLinkLabel_RkOu>健康</span></a><button aria-label="Expand sidebar category '健康'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/notes/howto/network/dns-prevent-spoofing><span title=howto class=categoryLinkLabel_RkOu>howto</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/java><span title=Java class=categoryLinkLabel_RkOu>Java</span></a><button aria-label="Expand sidebar category 'Java'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/languages><span title=语言 class=categoryLinkLabel_RkOu>语言</span></a><button aria-label="Expand sidebar category '语言'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/notes/linguistics><span title=Linguistics class=linkLabel_JPPZ>Linguistics</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/math><span title=数学 class=categoryLinkLabel_RkOu>数学</span></a><button aria-label="Expand sidebar category '数学'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/mgmt><span title=管理 class=categoryLinkLabel_RkOu>管理</span></a><button aria-label="Expand sidebar category '管理'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/notes/network/application/dns><span title=network class=categoryLinkLabel_RkOu>network</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/ops><span title=运维 class=categoryLinkLabel_RkOu>运维</span></a><button aria-label="Expand sidebar category '运维'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--active" href=/notes/os><span title=操作系统 class=categoryLinkLabel_RkOu>操作系统</span></a><button aria-label="Collapse sidebar category '操作系统'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/alpine><span title=Alpine class=categoryLinkLabel_RkOu>Alpine</span></a><button aria-label="Expand sidebar category 'Alpine'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/android><span title=Android class=categoryLinkLabel_RkOu>Android</span></a><button aria-label="Expand sidebar category 'Android'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/os/bsd/awesome><span title=bsd class=categoryLinkLabel_RkOu>bsd</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/busybox><span title=Busybox class=categoryLinkLabel_RkOu>Busybox</span></a><button aria-label="Expand sidebar category 'Busybox'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/centos><span title=CentOS class=categoryLinkLabel_RkOu>CentOS</span></a><button aria-label="Expand sidebar category 'CentOS'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/chromeos><span title=ChromeOS class=linkLabel_JPPZ>ChromeOS</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/darwin><span title=Darwin class=linkLabel_JPPZ>Darwin</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/debian><span title=Debian class=categoryLinkLabel_RkOu>Debian</span></a><button aria-label="Expand sidebar category 'Debian'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/freebsd><span title=FreeBSD class=linkLabel_JPPZ>FreeBSD</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/fuchsia><span title=Fuchsia class=linkLabel_JPPZ>Fuchsia</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/lakka><span title="lakka tv" class=linkLabel_JPPZ>lakka tv</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/libreelec><span title=LibreELEC class=linkLabel_JPPZ>LibreELEC</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/notes/os/linux/admin><span title=linux class=categoryLinkLabel_RkOu>linux</span></a></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/linux/admin><span title="Linux Admin" class=categoryLinkLabel_RkOu>Linux Admin</span></a><button aria-label="Expand sidebar category 'Linux Admin'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/linux/boot><span title="Linux Boot" class=categoryLinkLabel_RkOu>Linux Boot</span></a><button aria-label="Expand sidebar category 'Linux Boot'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/build><span title=Build class=linkLabel_JPPZ>Build</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/chrony><span title=chrony class=linkLabel_JPPZ>chrony</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/os/linux/cluster/awesome><span title=cluster class=categoryLinkLabel_RkOu>cluster</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/coreutils><span title=coreutils class=linkLabel_JPPZ>coreutils</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/linux/desktop><span title=Desktop class=categoryLinkLabel_RkOu>Desktop</span></a><button aria-label="Expand sidebar category 'Desktop'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/linux/dev><span title="Linux Device" class=categoryLinkLabel_RkOu>Linux Device</span></a><button aria-label="Expand sidebar category 'Linux Device'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--active" tabindex=0 href=/notes/os/linux/fs><span title=FS class=categoryLinkLabel_RkOu>FS</span></a><button aria-label="Collapse sidebar category 'FS'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/bcachefs><span title=bcachefs class=linkLabel_JPPZ>bcachefs</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/bindfs><span title=bind class=linkLabel_JPPZ>bind</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/btrfs><span title=Btrfs class=linkLabel_JPPZ>Btrfs</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/cifs><span title=CIFS class=linkLabel_JPPZ>CIFS</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/erofs><span title=erofs class=linkLabel_JPPZ>erofs</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/exfat><span title=exFAT class=linkLabel_JPPZ>exFAT</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/ext4><span title=ext4 class=linkLabel_JPPZ>ext4</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/f2fs><span title=f2fs class=linkLabel_JPPZ>f2fs</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/ext><span title="file extname" class=linkLabel_JPPZ>file extname</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/faq><span title=文件系统常见问题 class=linkLabel_JPPZ>文件系统常见问题</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/hierarchy><span title="Filesystem Hierarchy Standard" class=linkLabel_JPPZ>Filesystem Hierarchy Standard</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/fuse><span title=FUSE class=linkLabel_JPPZ>FUSE</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/ksmbd><span title=KSMBD class=linkLabel_JPPZ>KSMBD</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/linux/fs/nfs><span title=NFS class=categoryLinkLabel_RkOu>NFS</span></a><button aria-label="Expand sidebar category 'NFS'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/ntfs><span title=NTFS class=linkLabel_JPPZ>NTFS</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/raid><span title=RAID class=linkLabel_JPPZ>RAID</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/rootfs><span title=rootfs class=linkLabel_JPPZ>rootfs</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/sfdisk><span title=sfdisk class=linkLabel_JPPZ>sfdisk</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/smb><span title=SMB class=linkLabel_JPPZ>SMB</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--active" tabindex=0 href=/notes/os/linux/fs/zfs><span title=ZFS class=categoryLinkLabel_RkOu>ZFS</span></a><button aria-label="Collapse sidebar category 'ZFS'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/zfs/sanoid><span title=sanoid class=linkLabel_JPPZ>sanoid</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/zfs/admin><span title="ZFS 管理" class=linkLabel_JPPZ>ZFS 管理</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/zfs/awesome><span title="ZFS Awesome" class=linkLabel_JPPZ>ZFS Awesome</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/zfs/cli><span title="ZFS 命令行" class=linkLabel_JPPZ>ZFS 命令行</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/zfs/draid><span title=dRAID class=linkLabel_JPPZ>dRAID</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/notes/os/linux/fs/zfs/faq><span title="ZFS 常见问题" class=linkLabel_JPPZ>ZFS 常见问题</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/zfs/inside><span title=Inside class=linkLabel_JPPZ>Inside</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/zfs/ops><span title="ZFS Ops" class=linkLabel_JPPZ>ZFS Ops</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/zfs/postgresql><span title="PostgreSQL & ZFS" class=linkLabel_JPPZ>PostgreSQL & ZFS</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/zfs/snapshot><span title="ZFS Snapshot" class=linkLabel_JPPZ>ZFS Snapshot</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/zfs/stat><span title=Stat class=linkLabel_JPPZ>Stat</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/zfs/tuning><span title="ZFS 调优" class=linkLabel_JPPZ>ZFS 调优</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/fs/zfs/version><span title="OpenZFS Version" class=linkLabel_JPPZ>OpenZFS Version</span></a></ul></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/os/linux/hardware/dmidecode><span title=hardware class=categoryLinkLabel_RkOu>hardware</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/hostname><span title=hostname class=linkLabel_JPPZ>hostname</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/os/linux/init/awesome><span title=init class=categoryLinkLabel_RkOu>init</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/linux/libc><span title=libc class=categoryLinkLabel_RkOu>libc</span></a><button aria-label="Expand sidebar category 'libc'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/awesome><span title="Linux Awesome" class=linkLabel_JPPZ>Linux Awesome</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/default><span title=推荐默认设置 class=linkLabel_JPPZ>推荐默认设置</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/faq><span title="Linux FAQ" class=linkLabel_JPPZ>Linux FAQ</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/glossary><span title="Linux Glossary" class=linkLabel_JPPZ>Linux Glossary</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/hardening><span title="Linux 安全加固" class=linkLabel_JPPZ>Linux 安全加固</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/pam><span title="Linux PAM" class=linkLabel_JPPZ>Linux PAM</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/version><span title="Linux Releases" class=linkLabel_JPPZ>Linux Releases</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/linux/network><span title="Linux 网络" class=categoryLinkLabel_RkOu>Linux 网络</span></a><button aria-label="Expand sidebar category 'Linux 网络'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/ntp><span title=NTP class=linkLabel_JPPZ>NTP</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/partition><span title=Partition class=linkLabel_JPPZ>Partition</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/os/linux/pm/nix><span title=pm class=categoryLinkLabel_RkOu>pm</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/posix><span title=POSIX class=linkLabel_JPPZ>POSIX</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/os/linux/security/chmod><span title=security class=categoryLinkLabel_RkOu>security</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/selinux><span title=selinux class=linkLabel_JPPZ>selinux</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/os/linux/service/incron><span title=service class=categoryLinkLabel_RkOu>service</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/os/linux/shell/bash><span title=shell class=categoryLinkLabel_RkOu>shell</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/linux/stat><span title=stat class=categoryLinkLabel_RkOu>stat</span></a><button aria-label="Expand sidebar category 'stat'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/os/linux/sys/audit><span title=sys class=categoryLinkLabel_RkOu>sys</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/linux/util-linux><span title=util-linux class=linkLabel_JPPZ>util-linux</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/macos><span title=macOS class=categoryLinkLabel_RkOu>macOS</span></a><button aria-label="Expand sidebar category 'macOS'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/mobile><span title=手机 class=linkLabel_JPPZ>手机</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/network><span title=网络设备系统 class=categoryLinkLabel_RkOu>网络设备系统</span></a><button aria-label="Expand sidebar category '网络设备系统'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/openbsd><span title=OpenBSD class=linkLabel_JPPZ>OpenBSD</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/awesome><span title="OS Awesome" class=linkLabel_JPPZ>OS Awesome</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/faq><span title="OS FAQ" class=linkLabel_JPPZ>OS FAQ</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/glossary><span title="OS Glossary" class=linkLabel_JPPZ>OS Glossary</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/notes/os/rhel/anaconda><span title=rhel class=categoryLinkLabel_RkOu>rhel</span></a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/notes/os/synology><span title=Synology class=linkLabel_JPPZ>Synology</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/ubuntu><span title=Ubuntu class=categoryLinkLabel_RkOu>Ubuntu</span></a><button aria-label="Expand sidebar category 'Ubuntu'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/virt><span title=虚拟化 class=categoryLinkLabel_RkOu>虚拟化</span></a><button aria-label="Expand sidebar category '虚拟化'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" tabindex=0 href=/notes/os/windows><span title=Windows class=categoryLinkLabel_RkOu>Windows</span></a><button aria-label="Expand sidebar category 'Windows'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/philosophy><span title=理念 class=categoryLinkLabel_RkOu>理念</span></a><button aria-label="Expand sidebar category '理念'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/photography><span title=摄影 class=categoryLinkLabel_RkOu>摄影</span></a><button aria-label="Expand sidebar category '摄影'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/platform><span title=平台 class=categoryLinkLabel_RkOu>平台</span></a><button aria-label="Expand sidebar category '平台'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/notes/psychology/glossary><span title=psychology class=categoryLinkLabel_RkOu>psychology</span></a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/queue><span title=Queue class=categoryLinkLabel_RkOu>Queue</span></a><button aria-label="Expand sidebar category 'Queue'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/security><span title=安全 class=categoryLinkLabel_RkOu>安全</span></a><button aria-label="Expand sidebar category '安全'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/service><span title=服务 class=categoryLinkLabel_RkOu>服务</span></a><button aria-label="Expand sidebar category '服务'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/software><span title=软件 class=categoryLinkLabel_RkOu>软件</span></a><button aria-label="Expand sidebar category '软件'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/std><span title=标准数据 class=categoryLinkLabel_RkOu>标准数据</span></a><button aria-label="Expand sidebar category '标准数据'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/voip><span title=VoIP class=categoryLinkLabel_RkOu>VoIP</span></a><button aria-label="Expand sidebar category 'VoIP'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_irRK menu__link menu__link--sublist" href=/notes/web><span title=Web class=categoryLinkLabel_RkOu>Web</span></a><button aria-label="Expand sidebar category 'Web'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav><button type=button title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_NY7h"><svg width=20 height=20 aria-hidden=true class=collapseSidebarButtonIcon_c8nQ><g fill=#7a7a7a><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"/><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"/></g></svg></button></div></div></aside><main class=docMainContainer_GAGP><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_YQ1L"><div class=docItemContainer_Wjg4><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_tiqF" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_WTWT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/notes/os><span>操作系统</span></a><li class=breadcrumbs__item><span class=breadcrumbs__link>linux</span><li class=breadcrumbs__item><a class=breadcrumbs__link href=/notes/os/linux/fs><span>FS</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/notes/os/linux/fs/zfs><span>ZFS</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>ZFS 常见问题</span></ul></nav><div class="tocCollapsible_GvsH theme-doc-toc-mobile tocMobile_qJgM"><button type=button class="clean-btn tocCollapsibleButton_LnP0">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ZFS 常见问题</h1></header>
<div class="theme-admonition theme-admonition-tip admonition_phik alert alert--success"><div class=admonitionHeading_zxjO><span class=admonitionIcon_bSNx><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>tip</div><div class=admonitionContent_R6P7><ul>
<li>renameat2/overlayfs ZFS v2.2+
<ul>
<li><a href=https://github.com/openzfs/zfs/commit/dbf6108b4df92341eea40d0b41792ac16eabc514 target=_blank rel="noopener noreferrer">zfs_rename: support RENAME_ flags</a></li>
<li>feature zilsaxattr</li>
</ul>
</li>
<li>不要用 <code>/dev/z0</code>, 用 <code>/dev/zvol/data/db</code> - zd0 可能会变</li>
</ul></div></div>













































<table><thead><tr><th>abbr.<th>stand for<th>cn<tbody><tr><td>SPA<td>Storage Pool Allocator<td><tr><td>vdev<td>Virtual Device<td>虚拟设备<tr><td>ZIL<td>ZFS Intent Log<td><tr><td>TXG<td>Transaction Group<td><tr><td>SLOG<td>Sync Log<td><tr><td>ARC<td>Adaptive Replacement Cache<td>自适应替换缓存<tr><td>L2ARC<td>Level 2 ARC<td>二级 ARC</table>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">zfs get all | grep -E 'used\b|logicalused|compression|\bcompress'</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zfs get all | grep -E 'sync'</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=如何选择-raidzmirrordraid>如何选择 RAIDZ/mirror/dRAID<a href=#如何选择-raidzmirrordraid class=hash-link aria-label="Direct link to 如何选择 RAIDZ/mirror/dRAID" title="Direct link to 如何选择 RAIDZ/mirror/dRAID" translate=no>​</a></h2>
<ul>
<li>RAIDZ - striped vdevs - RAID5/6/7
<ul>
<li>66%
<ul>
<li>3wide RADIZ1</li>
<li>6wide RADIZ2</li>
<li>9wide RADIZ3</li>
</ul>
</li>
<li><code>N*W RAIDZx</code>
<ul>
<li>N group</li>
<li>W wide</li>
</ul>
</li>
<li>不能/不方便 扩容</li>
<li>固定 parity</li>
</ul>
</li>
<li>mirror - RAID10
<ul>
<li>50%</li>
<li>degraded 性能更好</li>
<li>恢复快</li>
<li>扩容方便</li>
</ul>
</li>
<li><a href=/notes/os/linux/fs/zfs/draid>dRAID</a>
<ul>
<li>更灵活</li>
</ul>
</li>
</ul>
<p><strong>参考</strong></p>
<ul>
<li>2015 <a href=https://jrs-s.net/2015/02/06/zfs-you-should-use-mirror-vdevs-not-raidz/ target=_blank rel="noopener noreferrer">ZFS: You should use mirror vdevs, not RAIDZ.</a>
<ul>
<li>by Author of <a href=https://github.com/jimsalterjrs/sanoid target=_blank rel="noopener noreferrer">jimsalterjrs/sanoid</a></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=修复>修复<a href=#修复 class=hash-link aria-label="Direct link to 修复" title="Direct link to 修复" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain"># -t temporary 重启后恢复</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zpool offline main scsi-0000</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zpool replace main scsi-0000 scsi-1111</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># -e 如果新的硬盘更大</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zpool online main scsi-1111</span><br/></span></code></pre></div></div>
<p><strong>resilver</strong></p>
<ul>
<li>group 里全部扫</li>
<li>会很慢</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=raidz1-to-raidz2>raidz1 to raidz2<a href=#raidz1-to-raidz2 class=hash-link aria-label="Direct link to raidz1 to raidz2" title="Direct link to raidz1 to raidz2" translate=no>​</a></h2>
<p><strong>不可以</strong></p>
<ul>
<li><a href=https://serverfault.com/a/799952/190601 target=_blank rel="noopener noreferrer">https://serverfault.com/a/799952/190601</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=查看实际大小>查看实际大小<a href=#查看实际大小 class=hash-link aria-label="Direct link to 查看实际大小" title="Direct link to 查看实际大小" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain"># 查看压缩后的大小</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">du -h .</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 查看实际大小</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">du --apparent-size -h .</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=目录下很多文件时非常慢>目录下很多文件时非常慢<a href=#目录下很多文件时非常慢 class=hash-link aria-label="Direct link to 目录下很多文件时非常慢" title="Direct link to 目录下很多文件时非常慢" translate=no>​</a></h2>
<p>尝试关闭 atime</p>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=计算使用空间>计算使用空间<a href=#计算使用空间 class=hash-link aria-label="Direct link to 计算使用空间" title="Direct link to 计算使用空间" translate=no>​</a></h2>
<ul>
<li>compressratio - 压缩率
<ul>
<li>1/compressratio = 压缩比</li>
<li>compressratio=logicalused/used</li>
</ul>
</li>
<li>used - 实际占用空间</li>
<li>logicalused - 逻辑占用空间</li>
<li>占用空间也和什么时候开启的 compression 有关
<ul>
<li>开启 compression 之后新写入数据会压缩</li>
</ul>
</li>
<li>占用空间会对齐，因此可能会比逻辑更多</li>
</ul>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">zfs get all | grep -E 'used\b|logicalused|compression|\bcompress'</span><br/></span></code></pre></div></div>
<div class="language-text codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-text codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">data                 used                  884G                  -</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">data                 compressratio         1.47x                 -</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">data                 compression           lz4                   local</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">data                 logicalused           1.24T                 -</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=zfs-compression-vs-application-compression>zfs compression vs application compression<a href=#zfs-compression-vs-application-compression class=hash-link aria-label="Direct link to zfs compression vs application compression" title="Direct link to zfs compression vs application compression" translate=no>​</a></h2>
<ul>
<li>zfs 压缩
<ul>
<li>全量压缩，简单易用</li>
<li>压缩率受 block 大小影响</li>
<li>支持 lz4、zstd</li>
</ul>
</li>
<li>应用 压缩
<ul>
<li>涉及到应用功能是否支持</li>
<li>压缩的范围和 ZFS 压缩的范围不同
<ul>
<li>一般应用只压缩 数据</li>
</ul>
</li>
<li>压缩率 不一定就比 ZFS 压缩率 高</li>
</ul>
</li>
</ul>
<hr/>
<ul>
<li>zfs vs pg
<ul>
<li>PostgreSQL 14 支持 LZ4 TOAST
<ul>
<li>default_toast_compression=lz4</li>
<li>可以在建表时设置 <code>col1 text COMPRESSION lz4</code></li>
</ul>
</li>
<li>PostgreSQL 15 支持 LZ4 WAL</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=zfs-缓存>ZFS 缓存<a href=#zfs-缓存 class=hash-link aria-label="Direct link to ZFS 缓存" title="Direct link to ZFS 缓存" translate=no>​</a></h2>
<ul>
<li>ZIL - ZFS Intent Log - 缓冲 WRITE 操作</li>
<li>SLOG - Separate Intent Log
<ul>
<li><code>zpool add tank log</code></li>
<li>不需要特别大的设备 - 例如 16G, 64G SSD 足矣</li>
</ul>
</li>
<li>ARC - 缓存 READ 操作 - Adaptive Replacement Cache
<ul>
<li>内存</li>
</ul>
</li>
<li>L2ARC
<ul>
<li><code>zpool add tank cache</code></li>
<li>不需要特别大的设备 - 例如 128G SSD</li>
<li>系统重启后缓存依然可用</li>
</ul>
</li>
</ul>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">zpool add tank log ada3             # 添加 ZIL - 单磁盘</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zpool add tank log mirror ada3 ada4 # 添加 ZIL - RAID1 - 坏一个 SSD 写入的数据也不会丢</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zpool add tank cache ada3           # 添加 L2ARC</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=zfs-性能估算>ZFS 性能估算<a href=#zfs-性能估算 class=hash-link aria-label="Direct link to ZFS 性能估算" title="Direct link to ZFS 性能估算" translate=no>​</a></h2>
<blockquote>
<p>调优应先找到瓶颈在哪里。</p>
</blockquote>
<ul>
<li>RAIDZn 顺序 4KB 读取 - 无 cache 场景
<ul>
<li>RAIDZ1 - <code>N/(N-1) * IOPS</code></li>
<li>RAIDZ2 - <code>N/(N-2) * IOPS</code></li>
<li>RAIDZ3 - <code>N/(N-3) * IOPS</code></li>
<li>有 cache 时，则上限为 cache 磁盘的 IOPS</li>
</ul>
</li>
<li>写入性能
<ul>
<li>无法直接估算，zfs 内部 zil 为异步写入</li>
<li>额外的 ZIL 设备可提升 write 性能</li>
<li>默认会在每个磁盘预留空间存储 ZIL</li>
</ul>
</li>
<li>性能影响因素
<ul>
<li>recordsize - 默认 128k</li>
<li>compression</li>
<li>ashift</li>
<li>dedup - 默认关闭 - 特殊场景去重能提升性能</li>
<li>atime - 默认开启 - 一般不需要，可关闭提升读取性能</li>
<li>logbias - 默认 latency, 可设置为 throughput, 减少使用额外 zil 设备</li>
<li>sync
<ul>
<li>关闭最多丢失 30s 数据 - 如果场景允许丢失，则不影响</li>
<li>通过 UPS 确保存储 比 网络后异常 可考虑关闭 sync</li>
</ul>
</li>
<li>primarycache</li>
<li>secondarycache</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=zfs-import>zfs import<a href=#zfs-import class=hash-link aria-label="Direct link to zfs import" title="Direct link to zfs import" translate=no>​</a></h2>
<ul>
<li>正常系统启动会从缓存 导入 - zfs import -c /etc/zfs/zpool.cache</li>
<li>如果缓存丢失，则可以直接搜索磁盘
<ul>
<li>例如: 更换了系统</li>
</ul>
</li>
<li><a href=https://openzfs.github.io/openzfs-docs/man/8/zpool-import.8.html target=_blank rel="noopener noreferrer">zpool-import.8</a></li>
</ul>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain"># 查看 可导入 的 pool</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 使用 lsblk 搜索</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zpool import</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 执行导入 - 导入所的</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zpool import -a</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 手动指定搜索目录</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zpool import -d /dev/disk/by-id</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=关闭所有-atime>关闭所有 atime<a href=#关闭所有-atime class=hash-link aria-label="Direct link to 关闭所有 atime" title="Direct link to 关闭所有 atime" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">zfs get atime | grep '\son\s' | cut -d ' ' -f 1 | xargs -n1 sudo zfs set atime=off</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=atimeon-temporary>atime=on temporary<a href=#atimeon-temporary class=hash-link aria-label="Direct link to atime=on temporary" title="Direct link to atime=on temporary" translate=no>​</a></h2>
<ul>
<li><a href=https://gitlab.alpinelinux.org/alpine/aports/-/issues/12382 target=_blank rel="noopener noreferrer">https://gitlab.alpinelinux.org/alpine/aports/-/issues/12382</a></li>
<li><a href=https://github.com/openzfs/zfs/issues/7947 target=_blank rel="noopener noreferrer">https://github.com/openzfs/zfs/issues/7947</a></li>
</ul>
<div class="language-sh codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-sh codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">MOUNT_EXTRA_OPTIONS="-o atime=off"</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=zvol-vs-zfs>zvol vs zfs<a href=#zvol-vs-zfs class=hash-link aria-label="Direct link to zvol vs zfs" title="Direct link to zvol vs zfs" translate=no>​</a></h2>
<ul>
<li>zvol - 块设备
<ul>
<li>raidz、压缩</li>
<li>没有所有 zfs 伴随的能力</li>
<li>blocksize=8k</li>
</ul>
</li>
<li>zfs - 文件系统 - dataset
<ul>
<li>快照、克隆</li>
<li>文件系统有一定特性 - 也有缺陷
<ul>
<li><del>主要缺陷: 不支持 rename2/overlay</del> - ZFS v2.2+</li>
</ul>
</li>
<li>recordsize=128k</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=high-system-usage>High System Usage<a href=#high-system-usage class=hash-link aria-label="Direct link to High System Usage" title="Direct link to High System Usage" translate=no>​</a></h2>
<ul>
<li>z_wr_iss</li>
<li>spl_dynamic_tas</li>
<li>z_wr_iss_h</li>
<li>l2arc_feed</li>
<li>z_wr_int_h</li>
<li>rcu_sched</li>
<li>txg_sync</li>
<li>z_ioctl_int</li>
<li>kworker/0:1-events</li>
<li>z_null_iss</li>
<li>z_null_int</li>
<li>dp_sync_taskq</li>
<li>z_wr_int</li>
<li>arc_reap</li>
<li>ksoftirqd</li>
<li>dbuf_evict</li>
<li>mmp</li>
<li>migration/0</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=zfs-list-slow>zfs list slow<a href=#zfs-list-slow class=hash-link aria-label="Direct link to zfs list slow" title="Direct link to zfs list slow" translate=no>​</a></h2>
<ul>
<li>dataset 多了后 <code>zfs list</code> 非常慢</li>
</ul>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">time zfs list | wc -l</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># docker zfs volume 使用的命令</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zfs list -s name -o name,guid,available -H -p</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zfs list -r -t all -Hp -o name,origin,used,available,mountpoint,compression,type,volsize,quota,referenced,written,logicalused,usedbydataset main/docker</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># containerd</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zfs list -Hp -o name,origin,used,available,mountpoint,compression,type,volsize,quota,referenced,written,logicalused,usedbydataset data/var/k3s/snapshotter/60519</span><br/></span></code></pre></div></div>
<div class="language-text codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-text codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">758</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">real    0m1.777s</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">user    0m0.177s</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">sys     0m1.599s</span><br/></span></code></pre></div></div>
<ul>
<li><a href=https://github.com/openzfs/zfs/discussions/8898 target=_blank rel="noopener noreferrer">https://github.com/openzfs/zfs/discussions/8898</a></li>
</ul>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">time zfs list -s name -o name,guid,available -H -p > zfs-list.txt</span><br/></span></code></pre></div></div>
<div class="language-text codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-text codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">real    2m10.183s</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">user    0m3.016s</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">sys     2m6.836s</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">wc -l zfs-list.txt</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># 20177 zfs-list.txt</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=zfs-vs-hard-raid>ZFS vs Hard RAID<a href=#zfs-vs-hard-raid class=hash-link aria-label="Direct link to ZFS vs Hard RAID" title="Direct link to ZFS vs Hard RAID" translate=no>​</a></h2>
<ul>
<li>ZFS 有校验和,和可避免位翻转等问题,而 RAID 主要用于避免整个磁盘的损坏</li>
<li>ZFS 只需要 HBAs (host bus adapter ) 而不需要 RAID 控制器</li>
<li>最多只需要 Z2, Z3 很少使用,并且可能会有问题,有其他的办法来避免可能的错误</li>
<li>ZFS 并不是 RAID, 而是一个软件,一个文件系统</li>
<li>ZFS 重建比 RAID 更快,例如 1TB 的云盘,实际数据只有 100MB, 那么 ZFS 只需要 100MB 的 IO, 而 RAID 需要 1TB 的 IO.</li>
<li>scrub 是用来保证数据安全的,而不是保证磁盘健康的.不是自动的,需要定时调度.</li>
<li>额外特性
<ul>
<li>自定义划分存储空间</li>
<li>可根据应用调优</li>
<li>加密</li>
<li>增量同步</li>
</ul>
</li>
</ul>
<hr/>
<ul>
<li>"PFA"s, as in Pre-Failure Alerts</li>
<li><a href=https://www.reddit.com/r/storage/comments/3jcg2r/zfs_vs_raid6/ target=_blank rel="noopener noreferrer">ZFS vs RAID6</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=z0-is-write-protected-but-explicit-read-write-mode-requested>z0 is write-protected but explicit read-write mode requested<a href=#z0-is-write-protected-but-explicit-read-write-mode-requested class=hash-link aria-label="Direct link to z0 is write-protected but explicit read-write mode requested" title="Direct link to z0 is write-protected but explicit read-write mode requested" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">umount /dev/z0</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">e2fsck /dev/z0</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">mount /dev/z0</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=superblock-needs_recovery-flag-is-clear-but-journal-has-data>Superblock needs_recovery flag is clear, but journal has data.<a href=#superblock-needs_recovery-flag-is-clear-but-journal-has-data class=hash-link aria-label="Direct link to Superblock needs_recovery flag is clear, but journal has data." title="Direct link to Superblock needs_recovery flag is clear, but journal has data." translate=no>​</a></h2>
<div class="language-text codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-text codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">Buffer I/O error on dev zd0, logical block 0, lost async page write</span><br/></span></code></pre></div></div>
<p><strong>磁盘满了</strong></p>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">zfs list -o space,mountpoint</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=is-in-use-and-contains-a-unknown-filesystem>is in use and contains a unknown filesystem<a href=#is-in-use-and-contains-a-unknown-filesystem class=hash-link aria-label="Direct link to is in use and contains a unknown filesystem" title="Direct link to is in use and contains a unknown filesystem" translate=no>​</a></h2>
<ul>
<li>mdraid, lvm, multipath</li>
</ul>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">cat /proc/mdstat</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">mdadm --stop /dev/md127</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=zvol-扩容>zvol 扩容<a href=#zvol-扩容 class=hash-link aria-label="Direct link to zvol 扩容" title="Direct link to zvol 扩容" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">zfs get volsize data/vol      # 当前</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zfs set volsize=500G data/vol # 修改 Quota</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">resize2fs /dev/zvol/data/vol  # 扩容 fs</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=cannot-label-sdf-failed-to-detect-device-partitions-on-devsdf1-19>cannot label 'sdf': failed to detect device partitions on '/dev/sdf1': 19<a href=#cannot-label-sdf-failed-to-detect-device-partitions-on-devsdf1-19 class=hash-link aria-label="Direct link to cannot label 'sdf': failed to detect device partitions on '/dev/sdf1': 19" title="Direct link to cannot label 'sdf': failed to detect device partitions on '/dev/sdf1': 19" translate=no>​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=missing-devzvol>Missing /dev/zvol<a href=#missing-devzvol class=hash-link aria-label="Direct link to Missing /dev/zvol" title="Direct link to Missing /dev/zvol" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">apk add zfs zfs-{scripts,udev}</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">udevadm trigger</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=cannot-trim-no-devices-in-pool-support-trim-operations>cannot trim: no devices in pool support trim operations<a href=#cannot-trim-no-devices-in-pool-support-trim-operations class=hash-link aria-label="Direct link to cannot trim: no devices in pool support trim operations" title="Direct link to cannot trim: no devices in pool support trim operations" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">zpool trim data</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">hdparm -I /dev/sda | grep -i trim # 检查 TRIM 支持</span><br/></span></code></pre></div></div>
<ul>
<li>SATA 控制器</li>
<li><a href=https://github.com/openzfs/zfs/discussions/14231 target=_blank rel="noopener noreferrer">https://github.com/openzfs/zfs/discussions/14231</a>
<ul>
<li>L2ARC device is in use as a cache</li>
</ul>
</li>
<li><a href=https://github.com/openzfs/zfs/issues/13108 target=_blank rel="noopener noreferrer">https://github.com/openzfs/zfs/issues/13108</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=retry-unaval>retry UNAVAL<a href=#retry-unaval class=hash-link aria-label="Direct link to retry UNAVAL" title="Direct link to retry UNAVAL" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">zpool online data DISK</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zpool clear data</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zpool scrub data # 推荐</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=remount-zvol-rw>remount zvol rw<a href=#remount-zvol-rw class=hash-link aria-label="Direct link to remount zvol rw" title="Direct link to remount zvol rw" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">mount -o remount,rw /data/docker</span><br/></span></code></pre></div></div>
<ul>
<li>cache 异常后导致 zvol 被重新挂载为 ro</li>
<li>clear cache 的 error 后还是无法挂载，因为 fs 损坏</li>
</ul>
<div class="language-ansi codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-ansi codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs warning (device zd0): [0;1mext4_end_bio:343: I/O error 3 writing to inode 5767264 starting block 14909936)[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on device zd0, logical block 14909936[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs warning (device zd0): [0;1mext4_end_bio:343: I/O error 3 writing to inode 5898267 starting block 11927556)[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on device zd0, logical block 11927556[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs warning (device zd0): [0;1mext4_end_bio:343: I/O error 3 writing to inode 5898258 starting block 20496389)[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on device zd0, logical block 20496389[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs warning (device zd0): [0;1mext4_end_bio:343: I/O error 3 writing to inode 5898266 starting block 2630818)[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on device zd0, logical block 2630818[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs warning (device zd0): [0;1mext4_end_bio:343: I/O error 3 writing to inode 2919521 starting block 16194810)[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on device zd0, logical block 16194810[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on device zd0, logical block 16194811[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on device zd0, logical block 16194812[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on device zd0, logical block 16194813[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs warning (device zd0): [0;1mext4_end_bio:343: I/O error 3 writing to inode 2920494 starting block 14332529)[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs warning (device zd0): [0;1mext4_end_bio:343: I/O error 3 writing to inode 2883634 starting block 24493815)[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on device zd0, logical block 24493815[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs warning (device zd0): [0;1mext4_end_bio:343: I/O error 3 writing to inode 2883634 starting block 24493816)[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on device zd0, logical block 14332529[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on dev zd0, logical block 0, lost async page write[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on dev zd0, logical block 1, lost async page write[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on dev zd0, logical block 2, lost async page write[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs error (device zd0): [0;31;1mext4_check_bdev_write_error:217: comm kworker/u8:0: Error while async write back metadata[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs (zd0): [0;31mprevious I/O error to superblock detected[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on dev zd0, logical block 5, lost async page write[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on dev zd0, logical block 6, lost async page write[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on dev zd0, logical block 8, lost async page write[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on dev zd0, logical block 1048588, lost async page write[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on dev zd0, logical block 1048589, lost async page write[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on dev zd0, logical block 1466067, lost async page write[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mBuffer I/O error on dev zd0, logical block 1505175, lost async page write[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs warning (device zd0): [0;1mext4_end_bio:343: I/O error 3 writing to inode 2883634 starting block 24493838)[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs error (device zd0): [0;31;1mext4_check_bdev_write_error:217: comm VM Periodic Tas: Error while async write back metadata[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs warning (device zd0): [0;1mext4_end_bio:343: I/O error 3 writing to inode 2883634 starting block 24493839)[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;31mAborting journal on device zd0-8.[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs error (device zd0) in ext4_convert_unwritten_io_end_vec:4859: [0;31;1mIO failure[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs (zd0): [0mfailed to convert unwritten extents to written extents -- potential data loss!  (inode 2883634, error -5)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mJBD2: [0;31mI/O error when updating journal superblock for zd0-8.[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs error (device zd0): [0;31;1mext4_journal_check_start:83: comm k3s-server: Detected aborted journal[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs (zd0): [0;31mprevious I/O error to superblock detected[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs error (device zd0): [0;31;1mext4_journal_check_start:83: comm http-nio-8080-P: Detected aborted journal[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs (zd0): [0;31mI/O error while writing superblock[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs (zd0): [0;31;1mRemounting filesystem read-only[0m</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">[0;33mEXT4-fs (zd0): [0;31mI/O error while writing superblock</span><br/></span></code></pre></div></div>
<ul>
<li>停止服务自动启动</li>
<li>reboot</li>
<li>fsck</li>
</ul>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">umount /dev/zd0</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">fsck -y /dev/zd0</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">mount -a</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># ensure mount point working as expected</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">touch /data/docker/test</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># start service</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=zfs-destory-container-snapshots>zfs destory container snapshots<a href=#zfs-destory-container-snapshots class=hash-link aria-label="Direct link to zfs destory container snapshots" title="Direct link to zfs destory container snapshots" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">zfs list > zfs.txt</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain"># main/1poezhz45yv210xqwve9vft0d</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">grep -E '^main/\w{25}\W' zfs.txt | cut -f 1 -d ' ' | xargs -n 1 sudo zfs destroy -r -R</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=feature-flags>Feature Flags<a href=#feature-flags class=hash-link aria-label="Direct link to Feature Flags" title="Direct link to Feature Flags" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">zpool get all | grep feature@</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zpool upgrade -v</span><br/></span></code></pre></div></div>
<div class="language-text codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-text codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">async_destroy                         (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Destroy filesystems asynchronously.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">empty_bpobj                           (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Snapshots use less space.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">lz4_compress</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     LZ4 compression algorithm support.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">multi_vdev_crash_dump</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Crash dumps to multiple vdev pools.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">spacemap_histogram                    (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Spacemaps maintain space histograms.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">enabled_txg                           (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Record txg at which a feature is enabled</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">hole_birth</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Retain hole birth txg for more precise zfs send</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">extensible_dataset</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Enhanced dataset functionality, used by other features.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">embedded_data</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Blocks which compress very well use even less space.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">bookmarks                             (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     "zfs bookmark" command</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">filesystem_limits                     (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Filesystem and snapshot limits.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">large_blocks</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Support for blocks larger than 128KB.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">large_dnode</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Variable on-disk size of dnodes.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">sha512</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     SHA-512/256 hash algorithm.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">skein</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Skein hash algorithm.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">edonr</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Edon-R hash algorithm.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">userobj_accounting                    (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     User/Group object accounting.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">encryption</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Support for dataset level encryption</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">project_quota                         (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     space/object accounting based on project ID.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">device_removal</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Top-level vdevs can be removed, reducing logical pool size.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">obsolete_counts                       (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Reduce memory used by removed devices when their blocks are freed or remapped.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zpool_checkpoint                      (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Pool state can be checkpointed, allowing rewind later.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">spacemap_v2                           (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Space maps representing large segments are more efficient.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">allocation_classes                    (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Support for separate allocation classes.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">resilver_defer                        (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Support for deferring new resilvers when one is already running.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">bookmark_v2</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Support for larger bookmarks</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">redaction_bookmarks</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Support for bookmarks which store redaction lists for zfs redacted send/recv.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">redacted_datasets</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Support for redacted datasets, produced by receiving a redacted zfs send stream.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">bookmark_written</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Additional accounting, enabling the written#&lt;bookmark> property (space written since a bookmark), and estimates of send stream sizes for incrementals from bookmarks.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">log_spacemap                          (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Log metaslab changes on a single spacemap and flush them periodically.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">livelist                              (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Improved clone deletion performance.</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">device_rebuild                        (read-only compatible)</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     Support for sequential mirror/dRAID device rebuilds</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">zstd_compress</span><br/></span><span class=token-line style=color:#bfc7d5><span class="token plain">     zstd compression algorithm support.</span><br/></span></code></pre></div></div>













































<table><thead><tr><th style=text-align:right>flag<th>ver<th>for<tbody><tr><td style=text-align:right>zstd_compress<td>v2.1<td>zstd 压缩算法<tr><td style=text-align:right>draid<td>v2.1<td>支持分布式备用 RAID<tr><td style=text-align:right>zilsaxattr<td>v2.2<td>ZIL 支持 xattr=sa 扩展属性日志<tr><td style=text-align:right>head_errlog<td>v2.2<td>per-dataset on-disk error logs<tr><td style=text-align:right>blake3<td>v2.2<td>BLAKE3 哈希算法<tr><td style=text-align:right>block_cloning<td>v2.2<td>通过 Block Reference Table 支持块克隆<tr><td style=text-align:right>vdev_zaps_v2<td>v2.2<td>支持 root vdev ZAP</table>
<h2 class="anchor anchorWithStickyNavbar_EG6R" id=cannot-create-datadb-pool-must-be-upgraded-to-set-this-property-or-value>cannot create '/data/db': pool must be upgraded to set this property or value<a href=#cannot-create-datadb-pool-must-be-upgraded-to-set-this-property-or-value class=hash-link aria-label="Direct link to cannot create '/data/db': pool must be upgraded to set this property or value" title="Direct link to cannot create '/data/db': pool must be upgraded to set this property or value" translate=no>​</a></h2>
<div class="language-bash codeBlockContainer_ljD1 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_rhaG><pre tabindex=0 class="prism-code language-bash codeBlock_mx9Q thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_NG8l><span class=token-line style=color:#bfc7d5><span class="token plain">sudo zpool upgrade -a</span><br/></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class=col><b>Tags:</b><ul class="tags_noif padding--none margin-left--sm"><li class=tag_mzC7><a rel=tag class="tag_xI_x tagRegular_Q4uH" href=/notes/tags/faq>FAQ</a></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/wenerme/wener/edit/master/notes/../notes/os/linux/fs/zfs/zfs-faq.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_A7Jz aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_Hg3U"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2025-02-17T05:42:10.000Z itemprop=dateModified>Feb 17, 2025</time></b> by <b>wener</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/notes/os/linux/fs/zfs/draid><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>dRAID</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/notes/os/linux/fs/zfs/inside><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Inside</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_wpyd thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#如何选择-raidzmirrordraid class="table-of-contents__link toc-highlight">如何选择 RAIDZ/mirror/dRAID</a><li><a href=#修复 class="table-of-contents__link toc-highlight">修复</a><li><a href=#raidz1-to-raidz2 class="table-of-contents__link toc-highlight">raidz1 to raidz2</a><li><a href=#查看实际大小 class="table-of-contents__link toc-highlight">查看实际大小</a><li><a href=#目录下很多文件时非常慢 class="table-of-contents__link toc-highlight">目录下很多文件时非常慢</a><li><a href=#计算使用空间 class="table-of-contents__link toc-highlight">计算使用空间</a><li><a href=#zfs-compression-vs-application-compression class="table-of-contents__link toc-highlight">zfs compression vs application compression</a><li><a href=#zfs-缓存 class="table-of-contents__link toc-highlight">ZFS 缓存</a><li><a href=#zfs-性能估算 class="table-of-contents__link toc-highlight">ZFS 性能估算</a><li><a href=#zfs-import class="table-of-contents__link toc-highlight">zfs import</a><li><a href=#关闭所有-atime class="table-of-contents__link toc-highlight">关闭所有 atime</a><li><a href=#atimeon-temporary class="table-of-contents__link toc-highlight">atime=on temporary</a><li><a href=#zvol-vs-zfs class="table-of-contents__link toc-highlight">zvol vs zfs</a><li><a href=#high-system-usage class="table-of-contents__link toc-highlight">High System Usage</a><li><a href=#zfs-list-slow class="table-of-contents__link toc-highlight">zfs list slow</a><li><a href=#zfs-vs-hard-raid class="table-of-contents__link toc-highlight">ZFS vs Hard RAID</a><li><a href=#z0-is-write-protected-but-explicit-read-write-mode-requested class="table-of-contents__link toc-highlight">z0 is write-protected but explicit read-write mode requested</a><li><a href=#superblock-needs_recovery-flag-is-clear-but-journal-has-data class="table-of-contents__link toc-highlight">Superblock needs_recovery flag is clear, but journal has data.</a><li><a href=#is-in-use-and-contains-a-unknown-filesystem class="table-of-contents__link toc-highlight">is in use and contains a unknown filesystem</a><li><a href=#zvol-扩容 class="table-of-contents__link toc-highlight">zvol 扩容</a><li><a href=#cannot-label-sdf-failed-to-detect-device-partitions-on-devsdf1-19 class="table-of-contents__link toc-highlight">cannot label 'sdf': failed to detect device partitions on '/dev/sdf1': 19</a><li><a href=#missing-devzvol class="table-of-contents__link toc-highlight">Missing /dev/zvol</a><li><a href=#cannot-trim-no-devices-in-pool-support-trim-operations class="table-of-contents__link toc-highlight">cannot trim: no devices in pool support trim operations</a><li><a href=#retry-unaval class="table-of-contents__link toc-highlight">retry UNAVAL</a><li><a href=#remount-zvol-rw class="table-of-contents__link toc-highlight">remount zvol rw</a><li><a href=#zfs-destory-container-snapshots class="table-of-contents__link toc-highlight">zfs destory container snapshots</a><li><a href=#feature-flags class="table-of-contents__link toc-highlight">Feature Flags</a><li><a href=#cannot-create-datadb-pool-must-be-upgraded-to-set-this-property-or-value class="table-of-contents__link toc-highlight">cannot create '/data/db': pool must be upgraded to set this property or value</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>笔记</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/notes/java>Java</a><li class=footer__item><a class=footer__link-item href=/notes/os/alpine>AlpineLinux</a><li class=footer__item><a class=footer__link-item href=/notes/devops/kubernetes>Kubernates</a><li class=footer__item><a class=footer__link-item href=/notes/voip>VoIP</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Projects</div><ul class="footer__items clean-list"><li class=footer__item>
              <div>
              <a class=footer__link-item href=https://github.com/wenerme/wener>Wener</a>
              -
              <a class=footer__link-item href=https://github.com/wenerme/wener/actions title="wenerme/wener - ci">
              <img style="vertical-align: middle;opacity: .4;" src=https://github.com/wenerme/wener/workflows/Build/badge.svg />
              </a>
              </div>
              <li class=footer__item><a href=https://apis.wener.me target=_blank rel="noopener noreferrer" class=footer__link-item>Wener's Apis<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_kUGX><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Social</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/story>Blog</a><li class=footer__item><a href=https://github.com/wenerme target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub</a><li class=footer__item><a href=https://twitter.com/wenerme target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter</a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/img/wener-logo.svg alt="Wener Site" class="footer__logo themedComponent_j2y5 themedComponent--light_v877"/><img src=/img/wener-logo.svg alt="Wener Site" class="footer__logo themedComponent_j2y5 themedComponent--dark_PUQY"/></div><div class=footer__copyright>Copyright © 1992-2025 Wener - <img alt=cc-by-sa-4.0 src=https://mirrors.creativecommons.org/presskit/buttons/80x15/svg/by-sa.svg /> - Build @2025-10-09 13:46</div></div></div></footer></div></body>