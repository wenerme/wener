"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["911728"],{109769:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>i,toc:()=>l,default:()=>h,metadata:()=>t,assets:()=>c,contentTitle:()=>o});var t=JSON.parse('{"id":"ai/dev/codex-cli","title":"Codex","description":"- openai/codex","source":"@site/../notes/ai/dev/codex-cli.md","sourceDirName":"ai/dev","slug":"/ai/dev/codex-cli","permalink":"/notes/ai/dev/codex-cli","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/ai/dev/codex-cli.md","tags":[{"inline":true,"label":"Agent","permalink":"/notes/tags/agent"},{"inline":true,"label":"CLI","permalink":"/notes/tags/cli"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1760320024000,"frontMatter":{"title":"Codex","tags":["Agent","CLI"]},"sidebar":"docs","previous":{"title":"ChatGPT-Next-Web","permalink":"/notes/ai/dev/chatgpt-next-web"},"next":{"title":"ComfyUI","permalink":"/notes/ai/dev/comfyui/"}}'),d=r(486106),s=r(917776);let i={title:"Codex",tags:["Agent","CLI"]},o="Codex",c={},l=[{value:"\u914D\u7F6E",id:"config",level:2}];function a(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"codex",children:"Codex"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"httpss://github.com/openai/codex",children:"openai/codex"})}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"npm i -g @openai/codex\nbrew install codex\n\ncodex --version\n\nOPENAI_BASE_URL=https://api.openai.com/v1 OPENAI_API_KEY=sk-proj-1234567890 codex --model deepseek-v3.2-exp\n"})}),"\n",(0,d.jsx)(n.h2,{id:"config",children:"\u914D\u7F6E"}),"\n",(0,d.jsx)(n.p,{children:"Codex \u652F\u6301\u591A\u79CD\u8BBE\u7F6E\u914D\u7F6E\u503C\u7684\u673A\u5236\uFF1A"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u7279\u5B9A\u4E8E\u914D\u7F6E\u7684\u547D\u4EE4\u884C\u6807\u5FD7\uFF0C\u4F8B\u5982 ",(0,d.jsx)(n.code,{children:"--model o3"}),"\uFF08\u6700\u9AD8\u4F18\u5148\u7EA7\uFF09\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u901A\u7528 ",(0,d.jsx)(n.code,{children:"-c"}),"/",(0,d.jsx)(n.code,{children:"--config"})," \u6807\u5FD7\uFF0C\u63A5\u53D7 ",(0,d.jsx)(n.code,{children:"key=value"})," \u5BF9\uFF0C\u4F8B\u5982 ",(0,d.jsx)(n.code,{children:'--config model="o3"'}),"\u3002"]}),"\n",(0,d.jsx)(n.li,{children:"CODEX_HOME=~/.codex"}),"\n",(0,d.jsx)(n.li,{children:"$CODEX_HOME/config.toml"}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'model=gpt-5-codex #  \u6A21\u578B\nmodel_provider=openai\n# \u6279\u51C6\u7B56\u7565\n# untrusted, on-failure, on-request, never\napproval_policy=untrusted\n# \u6C99\u7BB1\u7B56\u7565\n# read-only, workspace-write, danger-full-access\nsandbox_mode=read-only\n\n# \u542F\u7528\u7684 profile\nprofiles=o3\n\n# MCP \u670D\u52A1\u5668\nmcp_servers=mcp-server\n\n# \u4F20\u9012\u7ED9\u5B50\u8FDB\u7A0B\u7684\u73AF\u5883\u53D8\u91CF\nshell_environment_policy=inherit=all\n\n# \u5185\u7F6E openai provider\n[model_providers.openai]\nname = "OpenAI"\n# OPENAI_BASE_URL\nbase_url = "https://api.openai.com/v1"\nenv_key = "OPENAI_API_KEY"\n# \u4F7F\u7528 v1/chat/completions \u8FD8\u662F v1/responses\n# chat, responses\nwire_api = "chat"\n\n# \u8BF7\u6C42\u914D\u7F6E\nquery_params = {}\nhttp_headers = {  }\n\nenv_http_headers = { "OpenAI-Organization" = "OPENAI_ORGANIZATION", "OpenAI-Project" = "OPENAI_PROJECT" }\n\nrequest_max_retries = 4\nstream_max_retries = 5\n# \u7B49\u5F85 stream \u54CD\u5E94\u7684\u65F6\u95F4\nstream_idle_timeout_ms = 300000\n\n[model_providers.ollama]\nname = "Ollama"\nbase_url = "http://localhost:11434/v1"\n\n[model_providers.azure]\nname = "Azure"\nbase_url = "https://YOUR_PROJECT_NAME.openai.azure.com/openai"\nenv_key = "AZURE_OPENAI_API_KEY"\nquery_params = { api-version = "2025-04-01-preview" }\nwire_api = "responses"\n'})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u53D8\u91CF"}),(0,d.jsx)(n.th,{children:"\u63CF\u8FF0"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"OPENAI_API_KEY"})}),(0,d.jsx)(n.td,{children:"\u60A8\u7684 OpenAI API \u5BC6\u94A5\u3002"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"CODEX_HOME"})}),(0,d.jsxs)(n.td,{children:["\u7528\u4E8E\u65E5\u5FD7\u3001\u914D\u7F6E\u548C\u5176\u4ED6\u6570\u636E\u7684\u76EE\u5F55\u3002\u9ED8\u8BA4\u4E3A ",(0,d.jsx)(n.code,{children:"~/.codex"}),"\u3002"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"CODEX_API_KEY"})}),(0,d.jsxs)(n.td,{children:["API \u5BC6\u94A5\uFF0C\u4EC5\u5728 ",(0,d.jsx)(n.code,{children:"codex exec"})," \u4E2D\u652F\u6301\u3002"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"RUST_LOG"})}),(0,d.jsxs)(n.td,{children:["\u914D\u7F6E\u65E5\u5FD7\u8BB0\u5F55\u884C\u4E3A (\u4F8B\u5982, ",(0,d.jsx)(n.code,{children:"codex_core=info,codex_tui=info"}),")\u3002"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"<PROVIDER>_API_KEY"})}),(0,d.jsxs)(n.td,{children:["\u7279\u5B9A\u63D0\u4F9B\u7A0B\u5E8F\u7684 API \u5BC6\u94A5 (\u4F8B\u5982, ",(0,d.jsx)(n.code,{children:"MISTRAL_API_KEY"}),")\u3002"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"<PROVIDER>_BASE_URL"})}),(0,d.jsx)(n.td,{children:"\u81EA\u5B9A\u4E49\u63D0\u4F9B\u7A0B\u5E8F\u7684\u57FA\u7840 URL\u3002"})]})]})]})]})}function h(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},917776:function(e,n,r){r.d(n,{R:()=>i,x:()=>o});var t=r(7378);let d={},s=t.createContext(d);function i(e){let n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);