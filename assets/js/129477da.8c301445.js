"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["4815"],{6897:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>l,toc:()=>h,default:()=>a,metadata:()=>r,assets:()=>d,contentTitle:()=>c});var r=JSON.parse('{"id":"service/observability/vector","title":"vector","description":"- vectordotdev/vector","source":"@site/../notes/service/observability/vector.md","sourceDirName":"service/observability","slug":"/service/observability/vector","permalink":"/notes/service/observability/vector","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/observability/vector.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1759022422000,"frontMatter":{"title":"vector"},"sidebar":"docs","previous":{"title":"uptime-kuma","permalink":"/notes/service/observability/uptime-kuma"},"next":{"title":"vrl","permalink":"/notes/service/observability/vrl"}}'),t=s(86106),i=s(17776);let l={title:"vector"},c="vector",d={},h=[{value:"Sources &amp; Sinks",id:"sources--sinks",level:2},{value:"\u914D\u7F6E",id:"\u914D\u7F6E",level:2},{value:"\u90E8\u7F72",id:"\u90E8\u7F72",level:2},{value:"Agent",id:"agent",level:3},{value:"file",id:"file",level:2},{value:"kubernetes_logs",id:"kubernetes_logs",level:2},{value:"\u591A\u884C",id:"\u591A\u884C",level:2},{value:"More than one file has the same fingerprint",id:"more-than-one-file-has-the-same-fingerprint",level:2},{value:"syslog",id:"syslog",level:2}];function o(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"vector",children:"vector"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector",children:"vectordotdev/vector"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"MPL-2.0, Rust"}),"\n",(0,t.jsx)(n.li,{children:"Datadog \u5F00\u6E90"}),"\n",(0,t.jsxs)(n.li,{children:["observability data ",(0,t.jsx)(n.strong,{children:"pipeline"})]}),"\n",(0,t.jsx)(n.li,{children:"logs, metrics, traces(WIP) - observability \u91C7\u96C6\u5904\u7406\u5168\u5BB6\u6876"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Sources\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Prometheus RemoteWrite/Scrap"}),"\n",(0,t.jsx)(n.li,{children:"s3, fluent, logstash"}),"\n",(0,t.jsx)(n.li,{children:"Kubernetes_logs, docker_logs, nginx_metrics, postgresql_metrics, statsd"}),"\n",(0,t.jsx)(n.li,{children:"host_metrics, journald, exec, file, syslog, socket, stdin"}),"\n",(0,t.jsx)(n.li,{children:"nats"}),"\n",(0,t.jsx)(n.li,{children:"internal_logs, internal_metrics"}),"\n",(0,t.jsx)(n.li,{children:"vector"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://dnstap.info/",children:"dnstap"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Transforms"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://vector.dev/docs/reference/configuration/sinks/",children:"Sinks"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"S3, ClickHouse, Elastic, Loki, InfluxDB, Prometheus RW/Export, Statsd"}),"\n",(0,t.jsx)(n.li,{children:"Redis, Plusar, Nats, Kafka"}),"\n",(0,t.jsx)(n.li,{children:"Vector"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u89D2\u8272\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["agent - \u91C7\u96C6\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"source -> sink"}),"\n",(0,t.jsx)(n.li,{children:"source \u901A\u5E38\u4E3A file, kubernetes_logs, host_metrics"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["aggregator - \u805A\u5408\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"source \u901A\u5E38\u4E3A vector, syslog, statsd, fluent"}),"\n",(0,t.jsx)(n.li,{children:"transform"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"sidecar - \u5E94\u7528"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{title:"issues",type:"info",children:[(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["timescale/postgres sink ",(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector/issues/939",children:"#939"})]}),"\n",(0,t.jsxs)(n.li,{children:["PostgreSQL/MySQL sink ",(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector/issues/6556",children:"#6556"})]}),"\n",(0,t.jsxs)(n.li,{children:["sonic sink ",(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector/issues/988",children:"#988"})]}),"\n",(0,t.jsxs)(n.li,{children:["grpc source ",(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector/issues/573",children:"#573"})]}),"\n",(0,t.jsxs)(n.li,{children:["zstd compress ",(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector/issues/2302",children:"#2302"})]}),"\n",(0,t.jsxs)(n.li,{children:["windows_event_log source ",(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector/issues/1206",children:"#1206"})]}),"\n",(0,t.jsxs)(n.li,{children:["VictoriaMetrics sink ",(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector/issues/1343",children:"#1343"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"kubernetes_system_events"})," source ",(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector/issues/1293",children:"#1293"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/salesforce/sloop",children:"salesforce/sloop"}),"\nKubernetes History Visualization"]}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.hr,{}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["stops watching logs from new pods ",(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector/issues/8616",children:"#8616"})]}),"\n"]}),(0,t.jsx)(n.hr,{}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["opentelemetry source & sink ",(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector/issues/1444",children:"#1444"})]}),"\n"]})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# macOS\nbrew install vectordotdev/brew/vector\n\n# https://github.com/vectordotdev/vector/releases\n"})}),"\n",(0,t.jsx)(n.h2,{id:"sources--sinks",children:"Sources & Sinks"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"kubernetes_logs"}),"\n",(0,t.jsx)(n.li,{children:"host_metrics"}),"\n",(0,t.jsx)(n.li,{children:"internal_metrics"}),"\n",(0,t.jsxs)(n.li,{children:["prometheus_scrape\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4E0D\u652F\u6301\u81EA\u52A8\u53D1\u73B0"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector/issues/2303",children:"https://github.com/vectordotdev/vector/issues/2303"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Metrics\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"prometheus_exporter - Prometheus \u7684 /metrics"}),"\n",(0,t.jsx)(n.li,{children:"prometheus_remote_write"}),"\n",(0,t.jsx)(n.li,{children:"statsd"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"console - \u8F93\u51FA\u65E5\u5FD7\u5230 stdout - debug \u7528"}),"\n",(0,t.jsxs)(n.li,{children:["\u901A\u7528\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"vector"}),"\n",(0,t.jsx)(n.li,{children:"file"}),"\n",(0,t.jsx)(n.li,{children:"socket"}),"\n",(0,t.jsx)(n.li,{children:"redis"}),"\n",(0,t.jsx)(n.li,{children:"websocket"}),"\n",(0,t.jsx)(n.li,{children:"nats"}),"\n",(0,t.jsx)(n.li,{children:"kafka"}),"\n",(0,t.jsx)(n.li,{children:"pulsar"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u914D\u7F6E",children:"\u914D\u7F6E"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["API\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["/playground\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"GraphQL playground"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"/health"}),"\n",(0,t.jsx)(n.li,{children:"/graphql"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://vector.dev/docs/reference/api/",children:"https://vector.dev/docs/reference/api/"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:'# data_dir = "/var/lib/vector"\n\n[sources.dummy_logs]\ntype = "generator"\nformat = "syslog"\ninterval = 1\n\n# ector Remap Language https://vector.dev/docs/reference/vrl/\n[transforms.parse_logs]\ntype = "remap"\ninputs = ["dummy_logs"]\nsource = \'\n. = parse_syslog!(string!(.message))\n\'\n\n# Print parsed logs to stdout\n[sinks.print]\ntype = "console"\ninputs = ["parse_logs"]\nencoding.codec = "json"\n\n# GraphQL API http://localhost:8686\n# vector top\n[api]\nenabled = true\naddress = "127.0.0.1:8686"\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"/etc/vector/"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u90E8\u7F72",children:"\u90E8\u7F72"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://vector.dev/docs/setup/installation/package-managers/helm/",children:"Install Vector using Helm"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://helm.vector.dev",children:"https://helm.vector.dev"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/helm-charts",children:"https://github.com/vectordotdev/helm-charts"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4E3B\u8981\u662F vector \u5305"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["kubectl ",(0,t.jsx)(n.a,{href:"https://github.com/vectordotdev/vector/tree/master/distribution/kubernetes/vector-agent",children:"https://github.com/vectordotdev/vector/tree/master/distribution/kubernetes/vector-agent"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u4F7F\u7528 ",(0,t.jsx)(n.code,{children:"helm template vector vector/vector"})," \u751F\u6210"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://vector.dev/docs/setup/installation/platforms/kubernetes/",children:"Kubernetes"})}),"\n",(0,t.jsxs)(n.li,{children:["\u73AF\u5883\u53D8\u91CF\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"VECTOR_SELF_NODE_NAME"}),"\n",(0,t.jsx)(n.li,{children:"VECTOR_SELF_POD_NAME"}),"\n",(0,t.jsx)(n.li,{children:"VECTOR_SELF_POD_NAMESPACE"}),"\n"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Port"}),(0,t.jsx)(n.th,{children:"Name"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"5044"}),(0,t.jsx)(n.td,{children:"logstash"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"6000"}),(0,t.jsx)(n.td,{children:"vector"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"8080"}),(0,t.jsx)(n.td,{children:"splunk-hec"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"8125"}),(0,t.jsx)(n.td,{children:"statsd"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"8282"}),(0,t.jsx)(n.td,{children:"datadog-agent"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"9000"}),(0,t.jsx)(n.td,{children:"syslog"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"9090"}),(0,t.jsx)(n.td,{children:"prom-exporter"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"24224"}),(0,t.jsx)(n.td,{children:"fluent"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"agent",children:"Agent"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6536\u96C6 host \u4E3B\u673A\u4E0A\u7684 k8s \u65E5\u5FD7"}),"\n",(0,t.jsx)(n.li,{children:"\u6536\u96C6 host metrics \u66B4\u9732\u4E3A prometheus_exporter"}),"\n",(0,t.jsx)(n.li,{children:"\u4F5C\u4E3A DaemonSet"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"volume"}),(0,t.jsx)(n.th,{children:"from host"}),(0,t.jsx)(n.th,{children:"to path"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"data"}),(0,t.jsx)(n.td,{children:"/var/lib/vector"}),(0,t.jsx)(n.td,{children:"/vector-data-dir"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"config"}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"/etc/vector/"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"var-log"}),(0,t.jsx)(n.td,{children:"/var/log"}),(0,t.jsx)(n.td,{children:"/var/log/"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"var-lib"}),(0,t.jsx)(n.td,{children:"/var/lib"}),(0,t.jsx)(n.td,{children:"/var/lib/"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"procfs"}),(0,t.jsx)(n.td,{children:"/proc"}),(0,t.jsx)(n.td,{children:"/host/proc"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"sysfs"}),(0,t.jsx)(n.td,{children:"/sys"}),(0,t.jsx)(n.td,{children:"/host/sys"})]})]})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["/var/lib/vector\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7528\u6765\u5B58\u50A8\u72B6\u6001"}),"\n",(0,t.jsx)(n.li,{children:"\u4F8B\u5982 /var/lib/vector/kubernetes_logs/checkpoints.json"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"data_dir: /vector-data-dir\napi:\n  enabled: true\n  address: 127.0.0.1:8686\n  playground: false\nsources:\n  kubernetes_logs:\n    type: kubernetes_logs\n  host_metrics:\n    filesystem:\n      devices:\n        excludes: [binfmt_misc]\n      filesystems:\n        excludes: [binfmt_misc]\n      mountPoints:\n        excludes: ['*/proc/sys/fs/binfmt_misc']\n    type: host_metrics\n  internal_metrics:\n    type: internal_metrics\nsinks:\n  prom_exporter:\n    type: prometheus_exporter\n    inputs: [host_metrics, internal_metrics]\n    address: 0.0.0.0:9090\n  stdout:\n    type: console\n    inputs: [kubernetes_logs]\n    encoding:\n      codec: json\n"})}),"\n",(0,t.jsx)(n.h2,{id:"file",children:"file"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://vector.dev/docs/reference/configuration/sources/file/",children:"https://vector.dev/docs/reference/configuration/sources/file/"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"kubernetes_logs",children:"kubernetes_logs"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/var/log/pods/**/*.log"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/var/log/pods/<podUID>/<containerName>_<instance#>.log"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"pod UUID -> metadata"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u4E0D\u4F1A\u91C7\u96C6\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/var/log/containers/*.log"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5F03\u7528"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"metrics-server-7f86dff975-bghf6_kube-system_metrics-server-cc0a1b325521c82f8b252e4f4e0ab118a4455376cf45c8ae1987841816325ba3.log"})}),"\n",(0,t.jsx)(n.li,{children:"Docker"}),"\n",(0,t.jsx)(n.li,{children:"\u6587\u4EF6\u540D\u5305\u542B\u66F4\u591A\u5143\u4FE1\u606F"}),"\n",(0,t.jsx)(n.li,{children:"k0s \u7528\u5230\u4E86"}),"\n",(0,t.jsx)(n.li,{children:"\u6709\u4E9B\u73AF\u5883 /var/log/containers -> /var/log/pods"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/kubernetes/kubernetes/issues/53022",children:"https://github.com/kubernetes/kubernetes/issues/53022"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/fabric8io/fluent-plugin-kubernetes_metadata_filter/issues/105",children:"https://github.com/fabric8io/fluent-plugin-kubernetes_metadata_filter/issues/105"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u6392\u9664\u91C7\u96C6"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"vector.dev/exclude: 'true'\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://vector.dev/docs/reference/configuration/sources/kubernetes_logs/",children:"https://vector.dev/docs/reference/configuration/sources/kubernetes_logs/"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u591A\u884C",children:"\u591A\u884C"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"out:\n  type: reduce\n  inputs:\n    - log\n  group_by:\n    - kubernetes_container_id\n  #- container_id\n  merge_strategies:\n    message: concat_newline\n  starts_when: match(string!(.message), r'^[^\\s]')\n  #starts_when: match(string!(.message) , r'^[^}$]')\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://vector.dev/docs/reference/configuration/transforms/reduce/",children:"https://vector.dev/docs/reference/configuration/transforms/reduce/"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"more-than-one-file-has-the-same-fingerprint",children:"More than one file has the same fingerprint"}),"\n",(0,t.jsx)(n.h2,{id:"syslog",children:"syslog"})]})}function a(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},17776:function(e,n,s){s.d(n,{R:()=>l,x:()=>c});var r=s(7378);let t={},i=r.createContext(t);function l(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);