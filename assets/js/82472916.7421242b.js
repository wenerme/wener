"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["147505"],{807122:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>t,toc:()=>o,default:()=>a,metadata:()=>s,assets:()=>c,contentTitle:()=>d});var s=JSON.parse('{"id":"dev/design/design-drive","title":"\u7F51\u76D8\u8BBE\u8BA1","description":"\u5982\u4F55\u8BBE\u8BA1\u5B9E\u73B0\u7F51\u76D8\uFF1F","source":"@site/../notes/dev/design/design-drive.md","sourceDirName":"dev/design","slug":"/dev/design/drive","permalink":"/notes/dev/design/drive","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/dev/design/design-drive.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"\u7F51\u76D8\u8BBE\u8BA1","date":"2021-11-30T00:00:00.000Z"},"sidebar":"docs","previous":{"title":"\u6863\u6848\u7BA1\u7406","permalink":"/notes/dev/design/dms"},"next":{"title":"\u4E8B\u4EF6\u9A71\u52A8","permalink":"/notes/dev/design/event-driven"}}'),l=i(486106),r=i(917776);let t={title:"\u7F51\u76D8\u8BBE\u8BA1",date:new Date("2021-11-30T00:00:00.000Z")},d="\u7F51\u76D8\u8BBE\u8BA1",c={},o=[{value:"S3 API",id:"s3-api",level:2},{value:"local",id:"local",level:2},{value:"seaweedfs",id:"seaweedfs",level:2},{value:"mime",id:"mime",level:2},{value:"layout",id:"layout",level:2},{value:"meta",id:"meta",level:2},{value:"file manager",id:"file-manager",level:2},{value:"thumb",id:"thumb",level:2},{value:"filemeta",id:"filemeta",level:2},{value:"Entity",id:"entity",level:2},{value:"PHP",id:"php",level:2},{value:"flystorage",id:"flystorage",level:2},{value:"Object Storage",id:"object-storage",level:2},{value:"Web File System API",id:"web-file-system-api",level:2},{value:"API",id:"api",level:2},{value:"libc",id:"libc",level:2},{value:"Explorer",id:"explorer",level:2},{value:"Glossory",id:"glossory",level:2},{value:"\u53C2\u8003",id:"reference",level:2}];function h(n){let e={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",del:"del",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"\u7F51\u76D8\u8BBE\u8BA1",children:"\u7F51\u76D8\u8BBE\u8BA1"})}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"\u5982\u4F55\u8BBE\u8BA1\u5B9E\u73B0\u7F51\u76D8\uFF1F"}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u7F51\u76D8\u51E0\u4E2A\u90E8\u5206\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u524D\u7AEF\u534F\u8BAE\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u9762\u5411\u5BA2\u6237\u7AEF"}),"\n",(0,l.jsx)(e.li,{children:"\u63D0\u4F9B\u7EDF\u4E00\u63A5\u53E3"}),"\n",(0,l.jsx)(e.li,{children:"\u6709\u7528\u6237\u6982\u5FF5"}),"\n",(0,l.jsx)(e.li,{children:"\u652F\u6301\u5143\u4FE1\u606F"}),"\n",(0,l.jsx)(e.li,{children:"\u6700\u5C0F\u5355\u4F4D\u4E3A\u6587\u4EF6"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u670D\u52A1\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6587\u4EF6 <-> \u5BF9\u8C61 \u6620\u5C04"}),"\n",(0,l.jsx)(e.li,{children:"\u5143\u4FE1\u606F\u7EF4\u62A4"}),"\n",(0,l.jsx)(e.li,{children:"\u6743\u9650\u63A7\u5236"}),"\n",(0,l.jsx)(e.li,{children:"\u534F\u8BAE\u9002\u914D"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u540E\u7AEF\u5B58\u50A8\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u89E3\u51B3\u6570\u636E\u5B9E\u9645\u5B58\u50A8\u95EE\u9898"}),"\n",(0,l.jsx)(e.li,{children:"\u4E00\u822C\u4E3A\u5BF9\u8C61"}),"\n",(0,l.jsx)(e.li,{children:"\u4E00\u822C\u6CA1\u6709\u7528\u6237\u6982\u5FF5"}),"\n",(0,l.jsx)(e.li,{children:"\u6700\u5C0F\u5355\u4F4D\u4E3A block\u3001chunk\u3001object"}),"\n",(0,l.jsx)(e.li,{children:"\u4E00\u822C\u652F\u6301\u591A\u526F\u672C"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"\u5E38\u89C1\u534F\u8BAE S3\u3001POSIX\u3001WebDAV\u3001SFTP\u3001FTPS"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8003\u8651\u70B9"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Storage as a Service\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8981\u6C42\u540E\u7AEF\u80FD\u529B\u5F3A"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Bring Your Own Storage\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8981\u6C42\u80FD\u9002\u914D\u4E0D\u540C\u540E\u7AEF"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Selfhosted\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8981\u6C42\u80FD\u7B80\u5355\u8FD0\u7EF4\u90E8\u7F72"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u6587\u4EF6\u5927\u5C0F\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5C0F\u6587\u4EF6"}),"\n",(0,l.jsx)(e.li,{children:"\u56FE\u7247"}),"\n",(0,l.jsx)(e.li,{children:"\u5927\u6587\u4EF6"}),"\n",(0,l.jsx)(e.li,{children:"\u6587\u6863"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u4F7F\u7528\u573A\u666F\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"POSIX - \u5B8C\u6574\u7684 fs \u529F\u80FD"}),"\n",(0,l.jsx)(e.li,{children:"\u5BF9\u8C61\u5B58\u50A8"}),"\n",(0,l.jsx)(e.li,{children:"\u5728\u7EBF\u534F\u540C"}),"\n",(0,l.jsxs)(e.li,{children:["\u7FA4\u4EF6\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"ToB\u3001\u5171\u4EAB\u3001\u79DF\u6237"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u7F51\u76D8\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"ToC\u3001\u5171\u4EAB"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u57FA\u4E8E Web \u7684\u6587\u4EF6\u7BA1\u7406\u5668\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5355\u673A"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["WebDAV - CardDAV\u3001CalDAV\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/natelindev/tsdav",children:"natelindev/tsdav"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"WebDAV, CALDAV, and CARDDAV client for Nodejs and the Browser"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5B9E\u73B0\u65B9\u5411"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u56F4\u7ED5\u534F\u8BAE\u5C55\u5F00 - WebDAV"}),"\n",(0,l.jsxs)(e.li,{children:["\u56F4\u7ED5\u529F\u80FD\u5C55\u5F00\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4EA7\u54C1\u529F\u80FD\u8981\u6C42"}),"\n",(0,l.jsx)(e.li,{children:"\u524D\u7AEF\u63A5\u53E3\u8981\u6C42"}),"\n",(0,l.jsx)(e.li,{children:"\u540E\u7AEF\u5B58\u50A8\u8981\u6C42"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u56F4\u7ED5\u670D\u52A1\u5C55\u5F00\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u73B0\u6709\u670D\u52A1\u63D0\u4F9B\u7684\u80FD\u529B\u8FDB\u884C\u5C01\u88C5"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Metadata+Chunk\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u901A\u5E38\u662F\u5E95\u5C42\u5B58\u50A8\u7684\u5B9E\u73B0"}),"\n",(0,l.jsx)(e.li,{children:"\u4F8B\u5982: seaweedfs, juicefs, garage"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["FS Meta+Object+Metadata\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5728\u5BF9\u8C61\u5B58\u50A8\u4E4B\u4E0A\u5B9E\u73B0\u6587\u4EF6\u7CFB\u7EDF"}),"\n",(0,l.jsx)(e.li,{children:"FS Meta \u53EF\u4EE5\u5B58\u50A8\u5728 DB"}),"\n",(0,l.jsx)(e.li,{children:"Object Key \u4E3A sha"}),"\n",(0,l.jsx)(e.li,{children:"Metadata \u8BB0\u5F55\u5173\u4E8E Object \u7684\u4FE1\u606F - \u4FBF\u4E8E\u4E0D\u4F9D\u8D56 fs meta \u76F4\u63A5\u8BBF\u95EE\u64CD\u4F5C"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.admonition,{type:"tip",children:(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"murmur3,md5,sha1 \u7528\u6765\u505A\u6587\u4EF6 Hash \u662F\u5408\u9002\u7684\uFF0C\u4F46\u4E0D\u5EFA\u8BAE\u505A\u552F\u4E00"}),"\n",(0,l.jsx)(e.li,{children:"\u5982\u679C\u8981\u552F\u4E00\uFF0C\u53EF\u4EE5\u4F7F\u7528 sha256"}),"\n"]})}),"\n",(0,l.jsx)(e.h2,{id:"s3-api",children:"S3 API"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/API/Welcome.html",children:"Amazon S3 REST API Introduction"})}),"\n",(0,l.jsxs)(e.li,{children:["Actions\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["{Copy,Get,Delete,Put,Restore,List}Object\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Acl"}),"\n",(0,l.jsx)(e.li,{children:"Attributes"}),"\n",(0,l.jsx)(e.li,{children:"LegalHold"}),"\n",(0,l.jsx)(e.li,{children:"LockConfiguration"}),"\n",(0,l.jsx)(e.li,{children:"Retention"}),"\n",(0,l.jsx)(e.li,{children:"Tagging"}),"\n",(0,l.jsx)(e.li,{children:"Torrent"}),"\n",(0,l.jsx)(e.li,{}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["{Create,Delete,Head,Get,List}Bucket\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Acl"}),"\n",(0,l.jsx)(e.li,{children:"Policy"}),"\n",(0,l.jsx)(e.li,{children:"Cors"}),"\n",(0,l.jsx)(e.li,{children:"Encruption"}),"\n",(0,l.jsx)(e.li,{children:"Lifecycle"}),"\n",(0,l.jsx)(e.li,{children:"Replication"}),"\n",(0,l.jsx)(e.li,{children:"Tagging"}),"\n",(0,l.jsx)(e.li,{children:"Website"}),"\n",(0,l.jsxs)(e.li,{children:["\u5C11\u7528\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"LifecycleConfiguration"}),"\n",(0,l.jsx)(e.li,{children:"Location"}),"\n",(0,l.jsx)(e.li,{children:"NotificationConfiguration"}),"\n",(0,l.jsx)(e.li,{children:"Logging"}),"\n",(0,l.jsx)(e.li,{children:"Versioning"}),"\n",(0,l.jsx)(e.li,{children:"RequestPayment"}),"\n",(0,l.jsx)(e.li,{children:"Notification"}),"\n",(0,l.jsx)(e.li,{children:"PolicyStatus"}),"\n",(0,l.jsx)(e.li,{children:"AnalyticsConfiguration"}),"\n",(0,l.jsx)(e.li,{children:"IntelligentTieringConfiguration"}),"\n",(0,l.jsx)(e.li,{children:"InventoryConfiguration"}),"\n",(0,l.jsx)(e.li,{children:"MetricsConfiguration"}),"\n",(0,l.jsx)(e.li,{children:"OwnershipControls"}),"\n",(0,l.jsx)(e.li,{children:"AccelerateConfiguration"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"{Abort,Complete,Create,List}MultipartUpload"}),"\n",(0,l.jsx)(e.li,{children:"GetPublicAccessBlock"}),"\n",(0,l.jsx)(e.li,{children:"ListParts"}),"\n",(0,l.jsx)(e.li,{children:"SelectObjectContent"}),"\n",(0,l.jsx)(e.li,{children:"UploadPart"}),"\n",(0,l.jsx)(e.li,{children:"UploadPartCopy"}),"\n",(0,l.jsx)(e.li,{children:"WriteGetObjectResponse"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Amazon S3 Control Actions\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"{Create,Delete,Get,List}AccessPoint"}),"\n",(0,l.jsxs)(e.li,{children:["{Create,Describe,List}Job\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Tagging"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h1,{id:"awesome",children:"Awesome"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["rules\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["unix-like \u4E0D\u5141\u8BB8 ",(0,l.jsx)(e.code,{children:"/"})]}),"\n",(0,l.jsxs)(e.li,{children:["Windows \u4E0D\u5141\u8BB8 ",(0,l.jsx)(e.code,{children:'<>:"/\\|?*\\u0000-\\u001F'})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-ts",children:'const FilenameReservedRegex = /[<>:"/\\\\|?*\\u0000-\\u001F]/g;\nconst WindowsReservedNameRegex = /^(con|prn|aux|nul|com\\d|lpt\\d)$/i;\n'})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/sindresorhus/filenamify",children:"sindresorhus/filenamify"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/sindresorhus/filename-reserved-regex",children:"sindresorhus/filename-reserved-regex"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h1,{id:"\u5B9E\u73B0\u65B9\u6848\u5206\u6790",children:"\u5B9E\u73B0\u65B9\u6848\u5206\u6790"}),"\n",(0,l.jsx)(e.h2,{id:"local",children:"local"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7B80\u5355\u7684\u7F51\u76D8\u5C31\u662F\u5C06\u672C\u5730 fs \u66B4\u9732\u5230 \u7F51\u7EDC"}),"\n",(0,l.jsx)(e.li,{children:"\u76F4\u63A5\u4F7F\u7528\u672C\u5730\u6587\u4EF6\u7CFB\u7EDF\u975E\u5E38\u7075\u6D3B\uFF0C\u4F46\u662F\u8FD8\u662F\u9700\u8981\u505A\u5143\u6570\u636E\u7684\u5904\u7406"}),"\n",(0,l.jsxs)(e.li,{children:["\u597D\u5904\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8FD0\u7EF4\u76F4\u89C2"}),"\n",(0,l.jsx)(e.li,{children:"\u5B9E\u73B0\u7B80\u5355"}),"\n",(0,l.jsx)(e.li,{children:"\u53EF\u76F4\u63A5\u4F7F\u7528\u73B0\u6709\u7684\u534F\u8BAE\u670D\u52A1\u66B4\u9732\u5B58\u50A8"}),"\n",(0,l.jsx)(e.li,{children:"\u5355\u673A\u5B58\u50A8\u5BB9\u91CF\u53EF\u4EE5\u975E\u5E38\u9AD8"}),"\n",(0,l.jsx)(e.li,{children:"\u5229\u7528\u672C\u5730\u6587\u4EF6\u7CFB\u7EDF\u7279\u6027 - zfs"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u574F\u5904\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u9700\u8981\u7EF4\u62A4\u4E00\u81F4\u6027 - \u4F46\u5982\u679C\u53EA\u6709\u4E00\u4E2A\u5165\u53E3\u76F8\u5BF9\u5BB9\u6613"}),"\n",(0,l.jsx)(e.li,{children:"\u4E0D\u80FD\u6C34\u5E73\u6269\u5BB9"}),"\n",(0,l.jsx)(e.li,{children:"\u4E0D\u5BB9\u6613\u5904\u7406\u52A0\u5BC6"}),"\n",(0,l.jsx)(e.li,{children:"\u526F\u672C\u3001\u5907\u4EFD\u9700\u8981\u5176\u4ED6\u65B9\u6848"}),"\n",(0,l.jsx)(e.li,{children:"\u8FD8\u662F\u9700\u8981\u5B9E\u73B0\u670D\u52A1\u7EF4\u62A4\u5143\u6570\u636E"}),"\n",(0,l.jsx)(e.li,{children:"\u5143\u6570\u636E\u670D\u52A1\u4E0E\u534F\u8BAE\u670D\u52A1\u5206\u79BB\u5B58\u5728\u4E00\u81F4\u6027\u95EE\u9898"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"seaweedfs",children:"seaweedfs"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"master+volume \u63D0\u4F9B \u5206\u5E03\u5F0F\u5BF9\u8C61\u5B58\u50A8"}),"\n",(0,l.jsx)(e.li,{children:"filer \u5B9E\u73B0 fs \u63A5\u53E3"}),"\n",(0,l.jsx)(e.li,{children:"\u652F\u6301\u66B4\u9732 s3 \u670D\u52A1\u63A5\u53E3"}),"\n",(0,l.jsxs)(e.li,{children:["\u597D\u5904\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6C34\u5E73\u6269\u5BB9"}),"\n",(0,l.jsx)(e.li,{children:"\u526F\u672C\u3001\u5907\u4EFD"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u574F\u5904\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8FD0\u7EF4"}),"\n",(0,l.jsx)(e.li,{children:"\u4F9D\u8D56\u8F83\u591A\u670D\u52A1"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"mime",children:"mime"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["directory\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["inode/directory\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"mimetype, xdg"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["application/x-directory; charset=binary\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"file"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://specifications.freedesktop.org/shared-mime-info-spec/shared-mime-info-spec-latest.html",children:"Shared MIME-info Database"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"inode/blockdevice"}),"\n",(0,l.jsx)(e.li,{children:"inode/chardevice"}),"\n",(0,l.jsx)(e.li,{children:"inode/directory"}),"\n",(0,l.jsx)(e.li,{children:"inode/fifo"}),"\n",(0,l.jsx)(e.li,{children:"inode/mount-point"}),"\n",(0,l.jsx)(e.li,{children:"inode/socket"}),"\n",(0,l.jsx)(e.li,{children:"inode/symlink"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# application/x-directory; charset=binary\nfile --mime-type --mime-encoding $PWD\n"})}),"\n",(0,l.jsx)(e.h2,{id:"layout",children:"layout"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u9762\u5411\u4E2A\u4EBA"}),"\n",(0,l.jsx)(e.li,{children:"\u9762\u5411\u4F01\u4E1A"}),"\n",(0,l.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"xdg base dir"}),"\n",(0,l.jsxs)(e.li,{children:["linux ",(0,l.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard",children:"fhs"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"meta",children:"meta"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.freedesktop.org/wiki/Specifications/shared-filemetadata-spec/",children:"Freedesktop: Shared File Metadata"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.freedesktop.org/wiki/CommonExtendedAttributes/",children:"Freedesktop: Common Extended Attributes"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"http://0pointer.de/lennart/projects/mod_mime_xattr/",children:"mod_mime_xattr"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://man7.org/linux/man-pages/man1/setfattr.1.html",children:"man7: setfattr(1)"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://man7.org/linux/man-pages/man7/xattr.7.html",children:"man7: xattr(7)"})}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"namespace.attribute\nuser.mime_type\ntrusted.md5sum,\nsystem.posix_acl_access\nsecurity.selinux\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["namespaces\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"security - SELinux"}),"\n",(0,l.jsx)(e.li,{children:"system - ACL"}),"\n",(0,l.jsx)(e.li,{children:"trusted"}),"\n",(0,l.jsx)(e.li,{children:"user"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"255 bytes and values of up to 64 KiB"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Extended_file_attributes",children:"Wiki: Extended file attributes"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"file-manager",children:"file manager"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Windows Explorer"}),"\n",(0,l.jsx)(e.li,{children:"macOS Finder"}),"\n",(0,l.jsx)(e.li,{children:"Nemo"}),"\n",(0,l.jsx)(e.li,{children:"Nautilus"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/File_manager",children:"File manager"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://gitlab.xfce.org/xfce/thunar",children:"xfce/thunar"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"thumb",children:"thumb"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Windows_thumbnail_cache",children:"Wiki: Windows thumbnail cache"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/libyal/libwtcdb/blob/main/documentation/Windows%20Explorer%20Thumbnail%20Cache%20database%20format.asciidoc",children:"Windows Explorer Thumbnail Cache database file format specification"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["WebDAV REPORT\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://lists.w3.org/Archives/Public/w3c-dist-auth/2009AprJun/0012.html",children:"WebDAV REPORT"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://specifications.freedesktop.org/thumbnail-spec/thumbnail-spec-latest.html#SHARED",children:"Thumbnail Spec"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/jesjimher/genthumbs/blob/master/genthumbs.sh",children:"genthumbs.sh"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"filemeta",children:"filemeta"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://elixir.bootlin.com/linux/latest/source/include/linux/fs.h#L623",children:"Linux source: fs.h"})}),"\n",(0,l.jsxs)(e.li,{children:["The Inode Object\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"http://books.gigatux.nl/mirror/kerneldevelopment/0672327201/ch12lev1sec6.html",children:"Understanding the Linux Kernel: The Inode Object"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Fork_(file_system)",children:"Wiki: Fork (file system)"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"alternate data streams - ADS"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Sidecar_file",children:"Wiki: Sidecar file"})}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-c",children:"struct inode {\n    struct hlist_node       i_hash;              /* hash list */\n    struct list_head        i_list;              /* list of inodes */\n    struct list_head        i_dentry;            /* list of dentries */\n    unsigned long           i_ino;               /* inode number */\n    atomic_t                i_count;             /* reference counter */\n    umode_t                 i_mode;              /* access permissions */\n    unsigned int            i_nlink;             /* number of hard links */\n    uid_t                   i_uid;               /* user id of owner */\n    gid_t                   i_gid;               /* group id of owner */\n    kdev_t                  i_rdev;              /* real device node */\n    loff_t                  i_size;              /* file size in bytes */\n    struct timespec         i_atime;             /* last access time */\n    struct timespec         i_mtime;             /* last modify time */\n    struct timespec         i_ctime;             /* last change time */\n    unsigned int            i_blkbits;           /* block size in bits */\n    unsigned long           i_blksize;           /* block size in bytes */\n    unsigned long           i_version;           /* version number */\n    unsigned long           i_blocks;            /* file size in blocks */\n    unsigned short          i_bytes;             /* bytes consumed */\n    spinlock_t              i_lock;              /* spinlock */\n    struct rw_semaphore     i_alloc_sem;         /* nests inside of i_sem */\n    struct semaphore        i_sem;               /* inode semaphore */\n    struct inode_operations *i_op;               /* inode ops table */\n    struct file_operations  *i_fop;              /* default inode ops */\n    struct super_block      *i_sb;               /* associated superblock */\n    struct file_lock        *i_flock;            /* file lock list */\n    struct address_space    *i_mapping;          /* associated mapping */\n    struct address_space    i_data;              /* mapping for device */\n    struct dquot            *i_dquot[MAXQUOTAS]; /* disk quotas for inode */\n    struct list_head        i_devices;           /* list of block devices */\n    struct pipe_inode_info  *i_pipe;             /* pipe information */\n    struct block_device     *i_bdev;             /* block device driver */\n    unsigned long           i_dnotify_mask;      /* directory notify mask */\n    struct dnotify_struct   *i_dnotify;          /* dnotify */\n    unsigned long           i_state;             /* state flags */\n    unsigned long           dirtied_when;        /* first dirtying time */\n    unsigned int            i_flags;             /* filesystem flags */\n    unsigned char           i_sock;              /* is this a socket? */\n    atomic_t                i_writecount;        /* count of writers */\n    void                    *i_security;         /* security module */\n    __u32                   i_generation;        /* inode version number */\n    union {\n            void            *generic_ip;         /* filesystem-specific info */\n    } u;\n};\n\nstruct inode_operations {\n    int (*create) (struct inode *, struct dentry *,int);\n    struct dentry * (*lookup) (struct inode *, struct dentry *);\n    int (*link) (struct dentry *, struct inode *, struct dentry *);\n    int (*unlink) (struct inode *, struct dentry *);\n    int (*symlink) (struct inode *, struct dentry *, const char *);\n    int (*mkdir) (struct inode *, struct dentry *, int);\n    int (*rmdir) (struct inode *, struct dentry *);\n    int (*mknod) (struct inode *, struct dentry *, int, dev_t);\n    int (*rename) (struct inode *, struct dentry *,\n                    struct inode *, struct dentry *);\n    int (*readlink) (struct dentry *, char *, int);\n    int (*follow_link) (struct dentry *, struct nameidata *);\n    int (*put_link) (struct dentry *, struct nameidata *);\n    void (*truncate) (struct inode *);\n    int (*permission) (struct inode *, int);\n    int (*setattr) (struct dentry *, struct iattr *);\n    int (*getattr) (struct vfsmount *, struct dentry *, struct kstat *);\n    int (*setxattr) (struct dentry *, const char *,\n                      const void *, size_t, int);\n    ssize_t (*getxattr) (struct dentry *, const char *, void *, size_t);\n    ssize_t (*listxattr) (struct dentry *, char *, size_t);\n    int (*removexattr) (struct dentry *, const char *);\n};\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"create - \u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u78C1\u76D8\u7D22\u5F15\u8282\u70B9"}),"\n",(0,l.jsx)(e.li,{children:"lookup - \u67E5\u627E\u7D22\u5F15\u8282\u70B9\u6240\u5728\u7684\u76EE\u5F55"}),"\n",(0,l.jsx)(e.li,{children:"unlink - \u4ECE dir \u76EE\u5F55\u5220\u9664 dentry \u76EE\u5F55\u9879\u6240\u6307\u6587\u4EF6\u7684\u786C\u94FE\u63A5"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"entity",children:"Entity"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["File\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4E0D\u5EFA\u8BAE\u4F7F\u7528"}),"\n",(0,l.jsx)(e.li,{children:"File \u542B\u4E49\u592A\u8FC7\u5BBD\u6CDB"}),"\n",(0,l.jsx)(e.li,{children:"File \u53EF\u80FD\u548C\u7CFB\u7EDF\u91CC\u5BF9\u8C61\u51B2\u7A81"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["FileMeta - \u6587\u4EF6\u7684\u57FA\u672C\u5143\u6570\u636E\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7528\u4E8E\u5FEB\u901F\u68C0\u7D22\u548C\u663E\u793A\u6587\u4EF6\u5217\u8868\u65F6\u7684\u57FA\u672C\u4FE1\u606F"}),"\n",(0,l.jsx)(e.li,{children:"name, size, type"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["FileMetadata - \u6587\u4EF6\u7684\u8BE6\u7EC6\u5143\u6570\u636E\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u663E\u793A\u6587\u4EF6\u7684\u8BE6\u7EC6\u4FE1\u606F\u548C\u7BA1\u7406\u6587\u4EF6\u7684\u6743\u9650\u3001\u7248\u672C\u7B49"}),"\n",(0,l.jsx)(e.li,{children:"author, tags, description, version, permissions"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["FileRef - \u6587\u4EF6\u5F15\u7528\u4FE1\u606F\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6307\u5411\u5B9E\u9645\u5B58\u50A8\u4F4D\u7F6E\u7684\u5F15\u7528\u6216\u94FE\u63A5"}),"\n",(0,l.jsx)(e.li,{children:"path, object_url"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["FileContent - \u6587\u4EF6\u5185\u5BB9\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5B9E\u9645\u5B58\u50A8\u7684\u6587\u4EF6\u5185\u5BB9"}),"\n",(0,l.jsx)(e.li,{children:"\u7528\u4E8E dedup"}),"\n",(0,l.jsx)(e.li,{children:"content, hash"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"FileInfo"}),"\n",(0,l.jsxs)(e.li,{children:["FileEntry - \u6587\u4EF6\u8BB0\u5F55\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5305\u542B ",(0,l.jsx)(e.strong,{children:"path"})," \u4FE1\u606F"]}),"\n",(0,l.jsx)(e.li,{children:"\u7528\u4E8E\u8868\u793A\u6587\u4EF6\u5728\u7CFB\u7EDF\u4E2D\u7684\u4F4D\u7F6E"}),"\n",(0,l.jsx)(e.li,{children:"path, parent, children"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["DirectoryEntry - \u76EE\u5F55\u8BB0\u5F55\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5305\u542B ",(0,l.jsx)(e.strong,{children:"path"})," \u4FE1\u606F"]}),"\n",(0,l.jsx)(e.li,{children:"\u7528\u4E8E\u8868\u793A\u76EE\u5F55\u5728\u7CFB\u7EDF\u4E2D\u7684\u4F4D\u7F6E"}),"\n",(0,l.jsx)(e.li,{children:"path, parent, children"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5E38\u89C1\u914D\u5BF9\u5173\u7CFB\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"FileEntry & DirectoryEntry - \u76EE\u5F55\u7ED3\u6784"}),"\n",(0,l.jsx)(e.li,{children:"FilePath & FileMeta"}),"\n",(0,l.jsx)(e.li,{children:"FileRef & FileContent - \u5B58\u50A8\u5206\u79BB"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"php",children:"PHP"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/nextcloud/server/blob/master/lib/private/Files/Storage/Storage.php",children:"Nextcloud Storage.php"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://flysystem.thephpleague.com/",children:"Flysystem"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"filesystem abstraction for PHP"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://flysystem.thephpleague.com/docs/advanced/creating-an-adapter/",children:"Flysystem: Creating an Adapter"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://laravel.com/docs/master/filesystem",children:"Laravel Filesystem"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://laravel.com/api/master/Illuminate/Support/Facades/Storage.html",children:"Illuminate\\Support\\Facades\\Storage"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"flystorage",children:"flystorage"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-ts",children:"export type CommonStatInfo = Readonly<{\n  path: string;\n  lastModifiedMs?: number;\n  visibility?: string;\n}>;\n\nexport type FileInfo = Readonly<\n  {\n    type: 'file';\n    size?: number;\n    isFile: true;\n    isDirectory: false;\n    mimeType?: string;\n  } & CommonStatInfo\n>;\n\nexport type DirectoryInfo = Readonly<\n  {\n    type: 'directory';\n    isFile: false;\n    isDirectory: true;\n  } & CommonStatInfo\n>;\n\nexport type StatEntry = FileInfo | DirectoryInfo;\n\nexport type FileContents = Iterable<any> | AsyncIterable<any> | NodeJS.ReadableStream | Readable | string;\n\nexport interface StorageAdapter {\n  write(path: string, contents: Readable, options: WriteOptions): Promise<void>;\n  read(path: string): Promise<FileContents>;\n  deleteFile(path: string): Promise<void>;\n  createDirectory(path: string, options: CreateDirectoryOptions): Promise<void>;\n  copyFile(from: string, to: string, options: CopyFileOptions): Promise<void>;\n  moveFile(from: string, to: string, options: MoveFileOptions): Promise<void>;\n  stat(path: string): Promise<StatEntry>;\n  list(path: string, options: { deep: boolean }): AsyncGenerator<StatEntry>;\n  changeVisibility(path: string, visibility: string): Promise<void>;\n  visibility(path: string): Promise<string>;\n  deleteDirectory(path: string): Promise<void>;\n  fileExists(path: string): Promise<boolean>;\n  directoryExists(path: string): Promise<boolean>;\n  publicUrl(path: string, options: PublicUrlOptions): Promise<string>;\n  temporaryUrl(path: string, options: TemporaryUrlOptions): Promise<string>;\n  checksum(path: string, options: ChecksumOptions): Promise<string>;\n  mimeType(path: string, options: MimeTypeOptions): Promise<string>;\n  lastModified(path: string): Promise<number>;\n  fileSize(path: string): Promise<number>;\n}\n\nexport type MiscellaneousOptions = {\n  [option: string]: any;\n};\n\nexport type MimeTypeOptions = MiscellaneousOptions & {\n  disallowFallback?: boolean;\n  fallbackMethod?: 'contents' | 'path';\n};\n\nexport type VisibilityOptions = {\n  visibility?: string;\n  directoryVisibility?: string;\n};\nexport type WriteOptions = VisibilityOptions &\n  MiscellaneousOptions & {\n    mimeType?: string;\n    size?: number;\n    cacheControl?: string;\n  };\n\nexport type CreateDirectoryOptions = MiscellaneousOptions & Pick<VisibilityOptions, 'directoryVisibility'> & {};\nexport type PublicUrlOptions = MiscellaneousOptions & {};\nexport type CopyFileOptions = MiscellaneousOptions &\n  VisibilityOptions & {\n    retainVisibility?: boolean;\n  };\nexport type MoveFileOptions = MiscellaneousOptions &\n  VisibilityOptions & {\n    retainVisibility?: boolean;\n  };\nexport type ListOptions = { deep?: boolean };\nexport type TemporaryUrlOptions = MiscellaneousOptions & {\n  expiresAt: ExpiresAt;\n};\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/duna-oss/flystorage/blob/main/packages/file-storage/src/file-storage.ts",children:"flystorage source"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/duna-oss/flystorage",children:"duna-oss/flystorage"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"by the maintainer of Flysystem"}),"\n",(0,l.jsx)(e.li,{children:"File storage abstraction for Node / TypeScript"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://flystorage.dev/",children:"flystorage.dev"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://flystorage.dev/architecture/",children:"Flystorage Architecture"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"object-storage",children:"Object Storage"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Hash \u5206\u5C42"}),"\n",(0,l.jsxs)(e.li,{children:["CAS (Content Addressable Storage) \u5185\u5BB9\u53EF\u5BFB\u5740\u5B58\u50A8\u7CFB\u7EDF\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"hash -> object"}),"\n",(0,l.jsx)(e.li,{children:"kv"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"FCS - fixed content storage"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"git"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:".git/objects"}),"\n",(0,l.jsx)(e.li,{children:".git/objects/pack - \u5DF2\u6253\u5305\u7684\u5BF9\u8C61\u6587\u4EF6 - .pack+.idx"}),"\n",(0,l.jsx)(e.li,{children:".git/objects/info - \u5BF9\u8C61\u7684\u9644\u52A0\u4FE1\u606F"}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:".git/objects/[0-9a-f]{2}"})," - \u5BF9\u8C61\u7684\u54C8\u5E0C\u524D\u4E24\u4F4D"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:".git/objects/[0-9a-f]{2}/[0-9a-f]{38}"})," - \u5BF9\u8C61\u7684\u5269\u4F59\u54C8\u5E0C\u503C"]}),"\n",(0,l.jsxs)(e.li,{children:["git-annex\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[".git/annex/objects/12/34/SHA256E-s1024--1234567890abcdef\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"HASH-sSIZE--FILENAME"})}),"\n",(0,l.jsx)(e.li,{children:"\u5BF9\u8C61\u4E3A symlink / pointer"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://git-annex.branchable.com/internals/",children:"git-annex Internals"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://git-annex.branchable.com/internals/hashing/",children:"git-annex Hashing"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"garage"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"metadata"}),"\n",(0,l.jsxs)(e.li,{children:["data\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"{2}/{2}/hash.zst"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"juicefs"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"chunk 64 MiB"}),"\n",(0,l.jsxs)(e.li,{children:["slice -> object 4 MiB\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"sliceId \u4E3A int"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["meta - \u4EE5 Redis \u4E3A\u4F8B\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"setting - string"}),"\n",(0,l.jsx)(e.li,{children:"allSessions - sset"}),"\n",(0,l.jsx)(e.li,{children:"sessionInfos - hash"}),"\n",(0,l.jsxs)(e.li,{children:["Node ",(0,l.jsx)(e.code,{children:"i${inode}"})," - string"]}),"\n",(0,l.jsxs)(e.li,{children:["Edge/Dir ",(0,l.jsx)(e.code,{children:"d${inode}"})," - hash{fn,binary}"]}),"\n",(0,l.jsxs)(e.li,{children:["LinkParent ",(0,l.jsx)(e.code,{children:"p${inode}"})," - hash"]}),"\n",(0,l.jsxs)(e.li,{children:["Chunk ",(0,l.jsx)(e.code,{children:"c${inode}_${index}"})," - list"]}),"\n",(0,l.jsxs)(e.li,{children:["SliceRef ",(0,l.jsx)(e.code,{children:"k${sliceId}_${size}"})," - hash"]}),"\n",(0,l.jsxs)(e.li,{children:["Symlink ",(0,l.jsx)(e.code,{children:"s${inode}"})," - string"]}),"\n",(0,l.jsxs)(e.li,{children:["Xattr ",(0,l.jsx)(e.code,{children:"x${inode}"})," - hash"]}),"\n",(0,l.jsxs)(e.li,{children:["Flock ",(0,l.jsx)(e.code,{children:"lockf${inode}"})," - hash{",(0,l.jsx)(e.code,{children:"${sid}_${owner}"}),",R/W}"]}),"\n",(0,l.jsxs)(e.li,{children:["Plock ",(0,l.jsx)(e.code,{children:"lockp${inode}"})," - hash"]}),"\n",(0,l.jsxs)(e.li,{children:["DelFiles - ",(0,l.jsx)(e.code,{children:"delfiles"})," - sset"]}),"\n",(0,l.jsxs)(e.li,{children:["DelSlices - ",(0,l.jsx)(e.code,{children:"delSlices"})," - hash"]}),"\n",(0,l.jsxs)(e.li,{children:["Sustained - ",(0,l.jsx)(e.code,{children:"session${sid}"})," - list"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["data\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"${fsname}/chunks/${hash}/${basename}"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["hash\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u6709Prefix -> ",(0,l.jsx)(e.code,{children:'fmt.Sprintf("%02X/%d", sliceId%256, sliceId/1000/1000)'})]}),"\n",(0,l.jsxs)(e.li,{children:["\u65E0Prefix -> ",(0,l.jsx)(e.code,{children:'fmt.Sprintf("%d/%d", sliceId/1000/1000, sliceId/1000)'})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["basename -> ",(0,l.jsx)(e.code,{children:"${sliceId}_${index}_${size}"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://juicefs.com/docs/community/internals/",children:"https://juicefs.com/docs/community/internals/"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'type setting struct {\n    Name  string `xorm:"pk"`\n    Value string `xorm:"varchar(4096) notnull"`\n}\ntype counter struct {\n    Name  string `xorm:"pk"`\n    Value int64  `xorm:"notnull"`\n}\ntype node struct {\n    Inode  Ino    `xorm:"pk"`\n    Type   uint8  `xorm:"notnull"`\n    Flags  uint8  `xorm:"notnull"`\n    Mode   uint16 `xorm:"notnull"`\n    Uid    uint32 `xorm:"notnull"`\n    Gid    uint32 `xorm:"notnull"`\n    Atime  int64  `xorm:"notnull"`\n    Mtime  int64  `xorm:"notnull"`\n    Ctime  int64  `xorm:"notnull"`\n    Nlink  uint32 `xorm:"notnull"`\n    Length uint64 `xorm:"notnull"`\n    Rdev   uint32\n    Parent Ino\n    AccessACLId  uint32 `xorm:"\'access_acl_id\'"`\n    DefaultACLId uint32 `xorm:"\'default_acl_id\'"`\n}\ntype edge struct {\n    Id     int64  `xorm:"pk bigserial"`\n    Parent Ino    `xorm:"unique(edge) notnull"`\n    Name   []byte `xorm:"unique(edge) varbinary(255) notnull"`\n    Inode  Ino    `xorm:"index notnull"`\n    Type   uint8  `xorm:"notnull"`\n}\ntype chunk struct {\n    Id     int64  `xorm:"pk bigserial"`\n    Inode  Ino    `xorm:"unique(chunk) notnull"`\n    Indx   uint32 `xorm:"unique(chunk) notnull"`\n    Slices []byte `xorm:"blob notnull"`\n}\ntype sliceRef struct {\n    Id   uint64 `xorm:"pk chunkid"`\n    Size uint32 `xorm:"notnull"`\n    Refs int    `xorm:"notnull"`\n}\ntype symlink struct {\n    Inode  Ino    `xorm:"pk"`\n    Target []byte `xorm:"varbinary(4096) notnull"`\n}\ntype xattr struct {\n    Id    int64  `xorm:"pk bigserial"`\n    Inode Ino    `xorm:"unique(name) notnull"`\n    Name  string `xorm:"unique(name) notnull"`\n    Value []byte `xorm:"blob notnull"`\n}\ntype flock struct {\n    Id    int64  `xorm:"pk bigserial"`\n    Inode Ino    `xorm:"notnull unique(flock)"`\n    Sid   uint64 `xorm:"notnull unique(flock)"`\n    Owner int64  `xorm:"notnull unique(flock)"`\n    Ltype byte   `xorm:"notnull"`\n}\ntype plock struct {\n    Id      int64  `xorm:"pk bigserial"`\n    Inode   Ino    `xorm:"notnull unique(plock)"`\n    Sid     uint64 `xorm:"notnull unique(plock)"`\n    Owner   int64  `xorm:"notnull unique(plock)"`\n    Records []byte `xorm:"blob notnull"`\n}\ntype delfile struct {\n    Inode  Ino    `xorm:"pk notnull"`\n    Length uint64 `xorm:"notnull"`\n    Expire int64  `xorm:"notnull"`\n}\ntype delslices struct {\n    Id      uint64 `xorm:"pk chunkid"`\n    Deleted int64  `xorm:"notnull"`\n    Slices  []byte `xorm:"blob notnull"`\n}\ntype sustained struct {\n    Id    int64  `xorm:"pk bigserial"`\n    Sid   uint64 `xorm:"unique(sustained) notnull"`\n    Inode Ino    `xorm:"unique(sustained) notnull"`\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"web-file-system-api",children:"Web File System API"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Chrome 86+"}),"\n",(0,l.jsx)(e.li,{children:"FileSystemHandle"}),"\n",(0,l.jsx)(e.li,{children:"FileSystemFileHandle"}),"\n",(0,l.jsx)(e.li,{children:"FileSystemDirectoryHandle"}),"\n",(0,l.jsx)(e.li,{children:"FileSystemSyncAccessHandle"}),"\n",(0,l.jsx)(e.li,{children:"FileSystemWritableFileStream"}),"\n",(0,l.jsx)(e.li,{children:"Window.showOpenFilePicker()"}),"\n",(0,l.jsx)(e.li,{children:"Window.showSaveFilePicker()"}),"\n",(0,l.jsx)(e.li,{children:"Window.showDirectoryPicker()"}),"\n",(0,l.jsx)(e.li,{children:"DataTransferItem.getAsFileSystemHandle()"}),"\n",(0,l.jsx)(e.li,{children:"StorageManager.getDirectory()"}),"\n",(0,l.jsxs)(e.li,{children:["input webkitdirectory - ",(0,l.jsx)(e.code,{children:"<input type='file' webkitdirectory multiple>"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Chrome 7+, Safari 11.1+"}),"\n",(0,l.jsxs)(e.li,{children:["\u80FD\u83B7\u53D6\u5230 webkitEntries - ",(0,l.jsx)(e.code,{children:"<input type='file' multiple>"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Chrome 22+, Safari 11.1+"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-ts",children:"interface FileSystemHandle {\n  readonly kind: 'file' | 'directory';\n  readonly name: string;\n\n  isSameEntry(other: FileSystemHandle): Promise<boolean>;\n  queryPermission(descriptor?: FileSystemHandlePermissionDescriptor): Promise<PermissionState>;\n  requestPermission(descriptor?: FileSystemHandlePermissionDescriptor): Promise<PermissionState>;\n\n  /**\n   * @deprecated Old property just for Chromium <=85. Use `kind` property in the new API.\n   */\n  readonly isFile: boolean;\n\n  /**\n   * @deprecated Old property just for Chromium <=85. Use `kind` property in the new API.\n   */\n  readonly isDirectory: boolean;\n}\nvar FileSystemHandle: {\n  prototype: FileSystemHandle;\n  new (): FileSystemHandle;\n};\ntype FileSystemHandleUnion = FileSystemFileHandle | FileSystemDirectoryHandle;\n\ninterface FilePickerAcceptType {\n  description?: string | undefined;\n  accept: Record<string, string | string[]>;\n}\n\ninterface FilePickerOptions {\n  types?: FilePickerAcceptType[] | undefined;\n  excludeAcceptAllOption?: boolean | undefined;\n}\n\ninterface OpenFilePickerOptions extends FilePickerOptions {\n  multiple?: boolean | undefined;\n}\n\ninterface SaveFilePickerOptions extends FilePickerOptions {\n  suggestedName?: string;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\ninterface DirectoryPickerOptions {}\n\ntype FileSystemPermissionMode = 'read' | 'readwrite';\n\ninterface FileSystemPermissionDescriptor extends PermissionDescriptor {\n  handle: FileSystemHandle;\n  mode?: FileSystemPermissionMode | undefined;\n}\n\ninterface FileSystemHandlePermissionDescriptor {\n  mode?: FileSystemPermissionMode | undefined;\n}\n\ninterface FileSystemCreateWritableOptions {\n  keepExistingData?: boolean | undefined;\n}\n\ninterface FileSystemGetFileOptions {\n  create?: boolean | undefined;\n}\n\ninterface FileSystemGetDirectoryOptions {\n  create?: boolean | undefined;\n}\n\ninterface FileSystemRemoveOptions {\n  recursive?: boolean | undefined;\n}\n\ntype WriteParams =\n  | { type: 'write'; position?: number | undefined; data: BufferSource | Blob | string }\n  | { type: 'seek'; position: number }\n  | { type: 'truncate'; size: number };\n\ntype FileSystemWriteChunkType = BufferSource | Blob | string | WriteParams;\n\n// TODO: remove this once https://github.com/microsoft/TSJS-lib-generator/issues/881 is fixed.\n// Native File System API especially needs this method.\ninterface WritableStream {\n  close(): Promise<void>;\n}\n\nclass FileSystemWritableFileStream extends WritableStream {\n  write(data: FileSystemWriteChunkType): Promise<void>;\n  seek(position: number): Promise<void>;\n  truncate(size: number): Promise<void>;\n}\n\ninterface FileSystemFileHandle extends FileSystemHandle {\n  readonly kind: 'file';\n  getFile(): Promise<File>;\n  createWritable(options?: FileSystemCreateWritableOptions): Promise<FileSystemWritableFileStream>;\n  /**\n   * @deprecated Old property just for Chromium <=85. Use `kind` property in the new API.\n   */\n  readonly isFile: true;\n  /**\n   * @deprecated Old property just for Chromium <=85. Use `kind` property in the new API.\n   */\n  readonly isDirectory: false;\n}\n\nvar FileSystemFileHandle: {\n  prototype: FileSystemFileHandle;\n  new (): FileSystemFileHandle;\n};\n\ninterface FileSystemDirectoryHandle extends FileSystemHandle {\n  readonly kind: 'directory';\n  getDirectoryHandle(name: string, options?: FileSystemGetDirectoryOptions): Promise<FileSystemDirectoryHandle>;\n  getFileHandle(name: string, options?: FileSystemGetFileOptions): Promise<FileSystemFileHandle>;\n  removeEntry(name: string, options?: FileSystemRemoveOptions): Promise<void>;\n  resolve(possibleDescendant: FileSystemHandle): Promise<string[] | null>;\n  keys(): AsyncIterableIterator<string>;\n  values(): AsyncIterableIterator<FileSystemDirectoryHandle | FileSystemFileHandle>;\n  entries(): AsyncIterableIterator<[string, FileSystemDirectoryHandle | FileSystemFileHandle]>;\n  [Symbol.asyncIterator]: FileSystemDirectoryHandle['entries'];\n  /**\n   * @deprecated Old property just for Chromium <=85. Use `kind` property in the new API.\n   */\n  readonly isFile: false;\n  /**\n   * @deprecated Old property just for Chromium <=85. Use `kind` property in the new API.\n   */\n  readonly isDirectory: true;\n}\n\nvar FileSystemDirectoryHandle: {\n  prototype: FileSystemDirectoryHandle;\n  new (): FileSystemDirectoryHandle;\n};\n\ninterface DataTransferItem {\n  getAsFileSystemHandle(): Promise<FileSystemHandle | null>;\n}\n\ninterface StorageManager {\n  getDirectory(): Promise<FileSystemDirectoryHandle>;\n}\n\nfunction showOpenFilePicker(\n  options?: OpenFilePickerOptions & { multiple?: false | undefined },\n): Promise<[FileSystemFileHandle]>;\nfunction showOpenFilePicker(options?: OpenFilePickerOptions): Promise<FileSystemFileHandle[]>;\nfunction showSaveFilePicker(options?: SaveFilePickerOptions): Promise<FileSystemFileHandle>;\nfunction showDirectoryPicker(options?: DirectoryPickerOptions): Promise<FileSystemDirectoryHandle>;\n\n// Old methods available on Chromium 85 instead of the ones above.\n\ninterface ChooseFileSystemEntriesOptionsAccepts {\n  description?: string | undefined;\n  mimeTypes?: string[] | undefined;\n  extensions?: string[] | undefined;\n}\n\ninterface ChooseFileSystemEntriesFileOptions {\n  accepts?: ChooseFileSystemEntriesOptionsAccepts[] | undefined;\n  excludeAcceptAllOption?: boolean | undefined;\n}\n\n/**\n * @deprecated Old method just for Chromium <=85. Use `showOpenFilePicker()` in the new API.\n */\nfunction chooseFileSystemEntries(\n  options?: ChooseFileSystemEntriesFileOptions & {\n    type?: 'open-file' | undefined;\n    multiple?: false | undefined;\n  },\n): Promise<FileSystemFileHandle>;\n/**\n * @deprecated Old method just for Chromium <=85. Use `showOpenFilePicker()` in the new API.\n */\nfunction chooseFileSystemEntries(\n  options: ChooseFileSystemEntriesFileOptions & {\n    type?: 'open-file' | undefined;\n    multiple: true;\n  },\n): Promise<FileSystemFileHandle[]>;\n/**\n * @deprecated Old method just for Chromium <=85. Use `showSaveFilePicker()` in the new API.\n */\nfunction chooseFileSystemEntries(\n  options: ChooseFileSystemEntriesFileOptions & {\n    type: 'save-file';\n  },\n): Promise<FileSystemFileHandle>;\n/**\n * @deprecated Old method just for Chromium <=85. Use `showDirectoryPicker()` in the new API.\n */\nfunction chooseFileSystemEntries(options: { type: 'open-directory' }): Promise<FileSystemDirectoryHandle>;\n\ninterface GetSystemDirectoryOptions {\n  type: 'sandbox';\n}\n\ninterface FileSystemDirectoryHandle {\n  /**\n   * @deprecated Old property just for Chromium <=85. Use `.getFileHandle()` in the new API.\n   */\n  getFile: FileSystemDirectoryHandle['getFileHandle'];\n\n  /**\n   * @deprecated Old property just for Chromium <=85. Use `.getDirectoryHandle()` in the new API.\n   */\n  getDirectory: FileSystemDirectoryHandle['getDirectoryHandle'];\n\n  /**\n   * @deprecated Old property just for Chromium <=85. Use `.keys()`, `.values()`, `.entries()`, or the directory itself as an async iterable in the new API.\n   */\n  getEntries: FileSystemDirectoryHandle['values'];\n}\n\ninterface FileSystemHandlePermissionDescriptor {\n  /**\n   * @deprecated Old property just for Chromium <=85. Use `mode: ...` in the new API.\n   */\n  writable?: boolean | undefined;\n}\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["@types/wicg-file-system-access\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/wicg-file-system-access/ts5.0/index.d.ts",children:"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/wicg-file-system-access/ts5.0/index.d.ts"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/File_System_API",children:"https://developer.mozilla.org/en-US/docs/Web/API/File_System_API"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"api",children:"API"}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Homedir"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Language"}),(0,l.jsx)(e.th,{children:"Code"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"C"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:'const char *homedir = getenv("HOME") ? getenv("HOME") : getpwuid(getuid())->pw_dir;'})})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Node.js"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"const homedir = os.homedir();"})})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Java"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:'String homedir = System.getProperty("user.home");'})})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Python"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:'homedir = os.path.expanduser("~")'})})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Go"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"homedir, _ := os.UserHomeDir()"})})]})]})]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",metastring:'title="golang.org/x/tools/godoc/vfs"',children:'package vfs // import "golang.org/x/tools/godoc/vfs"\n\nimport (\n	"io"\n	"os"\n)\n\n// RootType indicates the type of files contained within a directory.\n//\n// It is used to indicate whether a directory is the root\n// of a GOROOT, a GOPATH, or neither.\n// An empty string represents the case when a directory is neither.\ntype RootType string\n\nconst (\n	RootTypeGoRoot RootType = "GOROOT"\n	RootTypeGoPath RootType = "GOPATH"\n)\n\n// The FileSystem interface specifies the methods godoc is using\n// to access the file system for which it serves documentation.\ntype FileSystem interface {\n	Opener\n	Lstat(path string) (os.FileInfo, error)\n	Stat(path string) (os.FileInfo, error)\n	ReadDir(path string) ([]os.FileInfo, error)\n	RootType(path string) RootType\n	String() string\n}\n\n// Opener is a minimal virtual filesystem that can only open regular files.\ntype Opener interface {\n	Open(name string) (ReadSeekCloser, error)\n}\n\n// A ReadSeekCloser can Read, Seek, and Close.\ntype ReadSeekCloser interface {\n	io.Reader\n	io.Seeker\n	io.Closer\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"libc",children:"libc"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"dirent.h"}),"\n",(0,l.jsx)(e.li,{children:"unistd.h"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-c",children:"struct dirent {\n  ino_t          d_ino;       /* Inode\u7F16\u53F7 */\n  off_t          d_off;       /* \u4E0D\u662F\u504F\u79FB\u91CF\uFF0C\u8BE6\u89C1\u4E0B\u6587 */\n  unsigned short d_reclen;    /* \u6B64\u8BB0\u5F55\u7684\u957F\u5EA6 */\n  unsigned char  d_type;      /* \u6587\u4EF6\u7C7B\u578B\uFF0C\u4E0D\u662F\u6240\u6709\u6587\u4EF6\u7CFB\u7EDF\u90FD\u652F\u6301 */\n  char           d_name[256]; /* \u4EE5\u7A7A\u5B57\u7B26\u7ED3\u5C3E\u7684\u6587\u4EF6\u540D */\n};\n\n\n#define DT_UNKNOWN 0 // Unknown file type\n#define DT_FIFO    1 // FIFO (named pipe)\n#define DT_CHR     2 // Character device - \u5B57\u7B26\u8BBE\u5907\n#define DT_DIR     4 // Directory - \u76EE\u5F55\n#define DT_BLK     6 // Block device - \u5757\u8BBE\u5907\n#define DT_REG     8 // Regular file - \u6587\u4EF6\n#define DT_LNK    10 // Symbolic link - \u7B26\u53F7\u94FE\u63A5\n#define DT_SOCK   12 // Socket - \u5957\u63A5\u5B57\n#define DT_WHT    14 //\n\nint            alphasort(const struct dirent **, const struct dirent **);\nint            closedir(DIR *);\nint            dirfd(DIR *);\nDIR           *fdopendir(int);\nDIR           *opendir(const char *);\nssize_t        posix_getdents(int, void *, size_t, int);\nstruct dirent *readdir(DIR *);\nint            readdir_r(DIR *restrict, struct dirent *restrict, struct dirent **restrict);\nvoid           rewinddir(DIR *);\nint            scandir(const char *, struct dirent ***, int (*)(const struct dirent *), int (*)(const struct dirent **, const struct dirent **));\nvoid           seekdir(DIR *, long);\nlong           telldir(DIR *);\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/davidlazar/musl/blob/master/include/dirent.h",children:"https://github.com/davidlazar/musl/blob/master/include/dirent.h"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://pubs.opengroup.org/onlinepubs/9799919799.2024edition/basedefs/unistd.h.html",children:"https://pubs.opengroup.org/onlinepubs/9799919799.2024edition/basedefs/unistd.h.html"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://pubs.opengroup.org/onlinepubs/9799919799.2024edition/basedefs/dirent.h.html",children:"https://pubs.opengroup.org/onlinepubs/9799919799.2024edition/basedefs/dirent.h.html"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"explorer",children:"Explorer"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Explorer \u901A\u5E38\u4F1A\u5B9E\u73B0\u4E00\u4E9B\u989D\u5916\u7684\u5143\u6570\u636E\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4F8B\u5982: \u4F5C\u8005\u3001\u6807\u7B7E\u3001\u63CF\u8FF0\u3001\u7248\u672C\u3001\u672C\u5730\u5316"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u529F\u80FD\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"macOS Finder \u6536\u85CF Favorites"}),"\n",(0,l.jsx)(e.li,{children:"Windows Quick Access"}),"\n",(0,l.jsxs)(e.li,{children:["\u4E66\u7B7E Bookmarks / Starred\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Windows XP"}),"\n",(0,l.jsx)(e.li,{children:"nemo"}),"\n",(0,l.jsx)(e.li,{children:"Files"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"\u5FEB\u6377\u65B9\u5F0F\uFF08Shortcuts\uFF09"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["File Explorer / File Manager\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/mucommander/mucommander",children:"mucommander/mucommander"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Java"}),"\n",(0,l.jsx)(e.li,{children:"\u8DE8\u5E73\u53F0, Dual-pane file manager"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/ranger/ranger",children:"ranger/ranger"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"TUI"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Midnight Commander (mc)\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"ncurses"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Windows\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"File Explorer"}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/files-community/files",children:"files-community/files"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"MIT, C#"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://files.community/",children:"Files"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["macOS\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Finder"}),"\n",(0,l.jsxs)(e.li,{children:["\u{1F4B5} Commander One\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"$44.98 for Lifetime Upgrades"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"\u{1F4B5} EasyFind"}),"\n",(0,l.jsx)(e.li,{children:"\u{1F4B5} ForkLift 4"}),"\n",(0,l.jsxs)(e.li,{children:["\u{1F4B5} fman\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Dual-pane file manager"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.del,{children:(0,l.jsx)(e.a,{href:"https://github.com/MeanEYE/Sunflower",children:"MeanEYE/Sunflower"})})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Linux\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/GNOME/nautilus",children:"Nautilus"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://apps.gnome.org/Nautilus/",children:"https://apps.gnome.org/Nautilus/"})}),"\n",(0,l.jsx)(e.li,{children:"GNOME"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Dolphin\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"KDE Plasma"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Thunar\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Xfce"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["PCManFM\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"LXDE, LXQt"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Caja\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"MATE"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/linuxmint/nemo",children:"linuxmint/nemo"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"GPL, C"}),"\n",(0,l.jsx)(e.li,{children:"for Cinnamon"}),"\n",(0,l.jsx)(e.li,{children:"fork of the GNOME file manager Nautilus v3.4"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Windows"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"desktop.ini"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:'attrib +s "C:\\path\\to\\folder"'})}),"\n",(0,l.jsxs)(e.li,{children:["HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FolderDescriptions\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"CLSID LocalizedString"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-ini",metastring:'title="desktop.ini"',children:"[.ShellClassInfo]\nLocalizedResourceName=\u663E\u793A\u540D\u79F0\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"LocalizedResourceName=@%SystemRoot%\\system32\\shell32.dll,-21770\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"macOS"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u6269\u5C55\u5C5E\u6027 Extended Attributes\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"com.apple.FinderInfo"}),"\n",(0,l.jsx)(e.li,{children:"com.apple.metadata"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u672C\u5730\u5316\u76EE\u5F55\u7ED3\u6784\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:".localized"}),"\n",(0,l.jsxs)(e.li,{children:[".lproj\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["e.g. ",(0,l.jsx)(e.code,{children:"zh-CN.lproj/InfoPlist.strings"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:'CFBundleDisplayName = "\u663E\u793A\u540D\u79F0";'}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Linux"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"GNOME\u3001KDE\u3001XDG"}),"\n",(0,l.jsx)(e.li,{children:".directory"}),"\n",(0,l.jsx)(e.li,{children:"Desktop Entry"}),"\n",(0,l.jsx)(e.li,{children:"~/.config/user-dirs.dirs"}),"\n",(0,l.jsxs)(e.li,{children:["xdg-user-dirs-update ~/.config/user-dirs.locale\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8BED\u8A00\u4EE3\u7801"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-ini",metastring:'title=".directory"',children:"[Desktop Entry]\nName=\u663E\u793A\u540D\u79F0\nName[zh_CN]=\u663E\u793A\u540D\u79F0\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.freedesktop.org/wiki/Specifications/desktop-entry-spec/",children:"Desktop Entry Specification"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"glossory",children:"Glossory"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["path - \u5B8C\u6574\u8DEF\u5F84 ",(0,l.jsx)(e.code,{children:"/home/user/documents/report.pdf"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"path=dirname/basename"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["filename - \u6587\u4EF6\u540D ",(0,l.jsx)(e.code,{children:"report.pdf"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["name+extname\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["extname \u5305\u542B ",(0,l.jsx)(e.code,{children:"."})]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:'^[^\\\\/:*?"<>|]+(\\.[a-zA-Z0-9]+)?$'})}),"\n",(0,l.jsxs)(e.li,{children:["reserved\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Windows\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4FDD\u7559\u6587\u4EF6\u540D CON, PRN, AUX, NUL, COM{1..9}, LPT{1..9} - \u5927\u5C0F\u5199\u4E0D\u654F\u611F\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"NUL.txt"})," ",(0,l.jsx)(e.code,{children:"NUL.tar.gz"})," \u4E5F\u7B49\u540C\u4E8E ",(0,l.jsx)(e.code,{children:"NUL"})]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file",children:"https://learn.microsoft.com/en-us/windows/win32/fileio/naming-a-file"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u4FDD\u7559\u5B57\u7B26 ",(0,l.jsx)(e.code,{children:'/\\:*?"<>|'})]}),"\n",(0,l.jsxs)(e.li,{children:["\u7279\u6B8A\u6587\u4EF6\u540D ",(0,l.jsx)(e.code,{children:"Thumbs.db"}),", ",(0,l.jsx)(e.code,{children:"desktop.ini"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["macOS\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:":"})," - HFS \u5206\u9694\u7B26"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["dirname - \u76EE\u5F55\u540D ",(0,l.jsx)(e.code,{children:"/home/user/documents"})]}),"\n",(0,l.jsxs)(e.li,{children:["basename - \u6307\u8DEF\u5F84\u4E2D\u6700\u540E\u4E00\u90E8\u5206\u7684\u540D\u79F0\uFF0C\u65E0\u8BBA\u5B83\u662F\u6587\u4EF6\u8FD8\u662F\u76EE\u5F55\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"stem+extname"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["stem\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"basename w/o extname"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"extname/extension"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"reference",children:"\u53C2\u8003"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["JS\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/vfile/vfile",children:"vfile/vfile"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Virtual file format for text processing used in @unifiedjs"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/gulpjs/vinyl",children:"gulpjs/vinyl"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Virtual file format."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Golang\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"io/fs.FS"})," since Go 1.16"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"http.FileSystem"}),", ",(0,l.jsx)(e.code,{children:"http.Dir"})]}),"\n",(0,l.jsxs)(e.li,{children:["golang.org/x/tools/godoc/vfs\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"zipfs"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/bazil/fuse",children:"bazil/fuse"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"bazil.org/fuse"}),"\n",(0,l.jsx)(e.li,{children:"\u4E0D\u9700\u8981 CGO"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/spf13/afero",children:"spf13/afero"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/C2FO/vfs",children:"C2FO/vfs"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/mandelsoft/vfs",children:"mandelsoft/vfs"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/hanwen/go-fuse",children:"hanwen/go-fuse"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/hanwen/go-fuse/blob/master/fs/api.go",children:"https://github.com/hanwen/go-fuse/blob/master/fs/api.go"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.del,{children:(0,l.jsx)(e.a,{href:"https://github.com/blang/vfs",children:"blang/vfs"})})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/psanford/memfs",children:"psanford/memfs"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["In-memory implementation of Go's ",(0,l.jsx)(e.code,{children:"io/fs.FS"})," interface"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Java\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/apache/commons-vfs",children:"apache/commons-vfs"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["[org.apache.commons.vfs2.FileSystem] ",(0,l.jsx)(e.a,{href:"https://github.com/apache/commons-vfs/blob/master/commons-vfs2/src/main/java/org/apache/commons/vfs2/FileSystem.java",children:"https://github.com/apache/commons-vfs/blob/master/commons-vfs2/src/main/java/org/apache/commons/vfs2/FileSystem.java"})]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/apache/commons-vfs/blob/master/commons-vfs2/src/main/java/org/apache/commons/vfs2/FileObject.java",children:"org.apache.commons.vfs2.FileObject"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/apache/commons-vfs/blob/master/commons-vfs2/src/main/java/org/apache/commons/vfs2/FileName.java",children:"org.apache.commons.vfs2.FileName"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/gulpjs/vinyl",children:"https://github.com/gulpjs/vinyl"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Filename",children:"https://en.wikipedia.org/wiki/Filename"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/opencurve/curve/blob/master/docs/cn/chunkserver_design.md",children:"https://github.com/opencurve/curve/blob/master/docs/cn/chunkserver_design.md"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/opencurve/curve/blob/master/docs/en/chunkserver_design_en.md",children:"https://github.com/opencurve/curve/blob/master/docs/en/chunkserver_design_en.md"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-ts",children:"// based on Apache commons-vfs2\nclass FileName {\n  path: string;\n  baseName: string;\n  depth: number;\n  extention: string;\n  parent: FileName | null;\n  root: FileName | null;\n  schema: string;\n  type: 'FILE' | 'FOLDER';\n  uri: string;\n\n  isAncestor(file: FileName): boolean;\n  isDescendant(file: FileName, nameScope: 'FILE_SYSTEM' | 'CHILD' | 'DESCENDENT' | 'ANCESTOR'): boolean;\n  isFile(): boolean;\n}\n"})})]})}function a(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(h,{...n})}):h(n)}},917776:function(n,e,i){i.d(e,{R:()=>t,x:()=>d});var s=i(7378);let l={},r=s.createContext(l);function t(n){let e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);