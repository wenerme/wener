"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["485065"],{691463:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>r,toc:()=>c,default:()=>d,metadata:()=>s,assets:()=>a,contentTitle:()=>l});var s=JSON.parse('{"id":"service/analytics/matomo/README","title":"Matomo","description":"- matomo-org/matomo","source":"@site/../notes/service/analytics/matomo/README.md","sourceDirName":"service/analytics/matomo","slug":"/service/analytics/matomo/","permalink":"/notes/service/analytics/matomo/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/analytics/matomo/README.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1706172619000,"frontMatter":{"title":"Matomo"},"sidebar":"docs","previous":{"title":"Analytics Awesome","permalink":"/notes/service/analytics/awesome"},"next":{"title":"matomo-faq","permalink":"/notes/service/analytics/matomo/faq"}}'),o=i(486106),t=i(917776);let r={title:"Matomo"},l="matomo",a={},c=[{value:"\u6D3B\u52A8\u652F\u6301",id:"\u6D3B\u52A8\u652F\u6301",level:2},{value:"\u914D\u7F6E",id:"configuration",level:2},{value:"\u5173\u95ED\u7F51\u7EDC\u8BBF\u95EE",id:"\u5173\u95ED\u7F51\u7EDC\u8BBF\u95EE",level:2},{value:"\u5982\u4F55\u68C0\u6D4B\u552F\u4E00\u7528\u6237",id:"\u5982\u4F55\u68C0\u6D4B\u552F\u4E00\u7528\u6237",level:2}];function h(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"matomo",children:"matomo"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://github.com/matomo-org/matomo",children:"matomo-org/matomo"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"GPLv3, PHP+MySQL"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://www.nginx.com/resources/wiki/start/topics/recipes/piwik/",children:"nginx piwik recipes"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/piwik/piwik/issues/3318",children:"\u81EA\u5B9A\u4E49 logo"})}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"http://piwik.org/faq/troubleshooting/#faq_121",children:"\u901A\u8FC7\u4EE3\u7406\u8FDB\u884C\u5916\u90E8\u8BBF\u95EE"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u63D2\u4EF6"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://github.com/piwik/piwik-log-analytics",children:"log-analytics"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"http://piwik.org/docs/log-analytics-tool-how-to/",children:"how-to"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\u9650\u5236\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Custom Dimensions	100\u4E2A"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\u4ED8\u8D39\u529F\u80FD - On-Premise \u72EC\u7ACB\u4ED8\u8D39\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Activity Log"}),"\n",(0,o.jsx)(n.li,{children:"WooCommerce Analytics"}),"\n",(0,o.jsx)(n.li,{children:"Search Engine Keywords Performance"}),"\n",(0,o.jsx)(n.li,{children:"Funnels"}),"\n",(0,o.jsx)(n.li,{children:"Users Flow"}),"\n",(0,o.jsx)(n.li,{children:"White Label"}),"\n",(0,o.jsx)(n.li,{children:"Heatmap & Session Recording"}),"\n",(0,o.jsx)(n.li,{children:"A/B Testing"}),"\n",(0,o.jsx)(n.li,{children:"Custom Reports"}),"\n",(0,o.jsx)(n.li,{children:"Forms"}),"\n",(0,o.jsx)(n.li,{children:"Media Analytics"}),"\n",(0,o.jsx)(n.li,{children:"Roll-Up Reporting"}),"\n",(0,o.jsx)(n.li,{children:"Advertising Conversion Export"}),"\n",(0,o.jsx)(n.li,{children:"SEO Web Vitals"}),"\n",(0,o.jsx)(n.li,{children:"Crash Analytics"}),"\n",(0,o.jsx)(n.li,{children:"Multi-Channel Conversion Attribution"}),"\n",(0,o.jsx)(n.li,{children:"Cohorts"}),"\n",(0,o.jsx)(n.li,{children:"SAML integration"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"caution",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u4E0D\u80FD\u8BFB\u53D6\u767E\u5EA6\u5173\u952E\u8BCD - \u53EA\u6709\u767E\u5EA6\u7EDF\u8BA1\u53EF\u4EE5"}),"\n"]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"docker run --rm -it \\\n  --name matomo matomo\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ini",children:"; \u5916\u90E8\u7F51\u7EDC\u4EE3\u7406\n[proxy]\nhost = proxy    ; Proxy host: the host name of your proxy server (mandatory)\nport =          ; Proxy port: the port that the proxy server listens to. There is no standard default, but 80, 1080, 3128, and 8080 are popular\nusername =      ; Proxy username: optional; if specified, password is mandatory\npassword =      ; Proxy password: optional; if specified, username is mandatory\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/matomo-org/matomo/blob/5.x-dev/config/global.ini.php",children:"https://github.com/matomo-org/matomo/blob/5.x-dev/config/global.ini.php"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/matomo-org/matomo/blob/4.x-dev/config/global.ini.php",children:"https://github.com/matomo-org/matomo/blob/4.x-dev/config/global.ini.php"})}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"/piwik.js"}),"\n",(0,o.jsx)(n.li,{children:"/piwik.php"}),"\n",(0,o.jsx)(n.li,{children:"/matomo.js"}),"\n",(0,o.jsx)(n.li,{children:"/matomo.php"}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/matomo-org/matomo/blob/master/js/piwik.js",children:"https://github.com/matomo-org/matomo/blob/master/js/piwik.js"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u6D3B\u52A8\u652F\u6301",children:"\u6D3B\u52A8\u652F\u6301"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Piwik \u652F\u6301 GA \u7684 utm_campaign, utm_medium, utm_source, utm_term ",(0,o.jsx)(n.a,{href:"http://piwik.org/faq/general/faq_119/#faq_119",children:"FAQ 119"})]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-nginx",children:'# vhost log format\nlog_format vhosts \'$host $remote_addr - $remote_user [$time_local] "$request" $status $body_bytes_sent "$http_referer" "$http_user_agent"\';\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"piwik/config/config.ini.php"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"configuration",children:"\u914D\u7F6E"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ini",children:"[General]\n# \u4F7F\u7528 https\nassume_secure_protocol=1\n"})}),"\n",(0,o.jsx)(n.h1,{id:"faq",children:"FAQ"}),"\n",(0,o.jsx)(n.h2,{id:"\u5173\u95ED\u7F51\u7EDC\u8BBF\u95EE",children:"\u5173\u95ED\u7F51\u7EDC\u8BBF\u95EE"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://piwik.org/faq/troubleshooting/faq_16646/",children:"How do I configure Piwik on a server without Internet?"})}),"\n",(0,o.jsx)(n.li,{children:"\u7981\u7528\u6389 Marketplace \u63D2\u4EF6\u5373\u53EF"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u5982\u4F55\u68C0\u6D4B\u552F\u4E00\u7528\u6237",children:"\u5982\u4F55\u68C0\u6D4B\u552F\u4E00\u7528\u6237"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://matomo.org/faq/general/faq_21418/",children:"https://matomo.org/faq/general/faq_21418/"})}),"\n",(0,o.jsxs)(n.li,{children:["\u9ED8\u8BA4\u8DE8\u7AD9\u7528\u6237\u72EC\u7ACB\u8DDF\u8E2A\uFF0C\u53EF\u4F7F\u7528 ",(0,o.jsx)(n.code,{children:"enable_fingerprinting_across_websites"})," \u5173\u95ED"]}),"\n"]})]})}function d(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},917776:function(e,n,i){i.d(n,{R:()=>r,x:()=>l});var s=i(7378);let o={},t=s.createContext(o);function r(e){let n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);