"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["571857"],{204034:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>l,toc:()=>d,default:()=>h,metadata:()=>r,assets:()=>a,contentTitle:()=>c});var r=JSON.parse('{"id":"web/framework/waku","title":"waku","description":"- wakujs/waku","source":"@site/../notes/web/framework/waku.md","sourceDirName":"web/framework","slug":"/web/framework/waku","permalink":"/notes/web/framework/waku","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/framework/waku.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1768800282000,"frontMatter":{"title":"waku"},"sidebar":"docs","previous":{"title":"wails","permalink":"/notes/web/framework/wails"},"next":{"title":"Graphical","permalink":"/notes/web/graphics"}}'),t=s(486106),i=s(917776);let l={title:"waku"},c="waku",a={},d=[{value:"\u8DEF\u7531\u7CFB\u7EDF",id:"\u8DEF\u7531\u7CFB\u7EDF",level:2},{value:"\u6587\u4EF6\u7CFB\u7EDF\u8DEF\u7531",id:"\u6587\u4EF6\u7CFB\u7EDF\u8DEF\u7531",level:3},{value:"createPages",id:"createpages",level:3},{value:"defineRouter",id:"definerouter",level:3},{value:"\u9879\u76EE\u7ED3\u6784",id:"\u9879\u76EE\u7ED3\u6784",level:2},{value:"\u57FA\u672C\u7ED3\u6784",id:"\u57FA\u672C\u7ED3\u6784",level:3},{value:"waku.config.ts",id:"wakuconfigts",level:3}];function o(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"waku",children:"waku"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/wakujs/waku",children:"wakujs/waku"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"MIT, TypeScript"}),"\n",(0,t.jsx)(n.li,{children:"\u6781\u7B80 React \u6846\u67B6\uFF0C\u57FA\u4E8E React Server Components (RSC)"}),"\n",(0,t.jsx)(n.li,{children:"\u4E13\u4E3A\u4E2D\u5C0F\u578B Web \u5E94\u7528\u8BBE\u8BA1\uFF1A\u8425\u9500\u7F51\u7AD9\u3001\u8F7B\u7535\u5546\u3001Web \u5E94\u7528"}),"\n",(0,t.jsx)(n.li,{children:"\u6DF1\u5EA6\u96C6\u6210 RSC\uFF0C\u652F\u6301\u670D\u52A1\u7AEF\u6570\u636E\u83B7\u53D6\u548C\u5904\u7406"}),"\n",(0,t.jsx)(n.li,{children:"\u652F\u6301 Server Actions\u3001SSG/SSR\u3001\u7075\u6D3B\u8DEF\u7531\u7CFB\u7EDF"}),"\n",(0,t.jsx)(n.li,{children:"\u6280\u672F\u6808: React 19 + Vite + SWC + Hono"}),"\n",(0,t.jsx)(n.li,{children:"\u652F\u6301 Vercel\u3001Netlify\u3001Cloudflare Pages \u7B49\u90E8\u7F72\u5E73\u53F0"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"fsRouter"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"createPages"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"defineRouter"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install waku\n\n# Vercel\nnpm install @wakujs/adapter-vercel\n\n# Netlify\nnpm install @wakujs/adapter-netlify\n\n# Cloudflare Pages\nnpm install @wakujs/adapter-cloudflare-pages\n\n# Node.js\nnpm install @wakujs/adapter-node\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u8DEF\u7531\u7CFB\u7EDF",children:"\u8DEF\u7531\u7CFB\u7EDF"}),"\n",(0,t.jsx)(n.p,{children:"Waku \u652F\u6301\u4E09\u79CD\u8DEF\u7531\u65B9\u5F0F\uFF1A"}),"\n",(0,t.jsx)(n.h3,{id:"\u6587\u4EF6\u7CFB\u7EDF\u8DEF\u7531",children:"\u6587\u4EF6\u7CFB\u7EDF\u8DEF\u7531"}),"\n",(0,t.jsxs)(n.p,{children:["\u57FA\u4E8E ",(0,t.jsx)(n.code,{children:"./src/pages/"})," \u76EE\u5F55\u7ED3\u6784\u81EA\u52A8\u751F\u6210\u8DEF\u7531\uFF1A"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"src/\n\u251C\u2500\u2500 pages/\n\u2502   \u251C\u2500\u2500 _layout.tsx          # \u6839\u5E03\u5C40\n\u2502   \u251C\u2500\u2500 _root.tsx            # HTML \u6839\u5143\u7D20\n\u2502   \u251C\u2500\u2500 index.tsx            # \u9996\u9875 (/)\n\u2502   \u251C\u2500\u2500 about.tsx            # \u5173\u4E8E\u9875 (/about)\n\u2502   \u251C\u2500\u2500 _components/         # \u5FFD\u7565\n\u2502   \u251C\u2500\u2500 _hooks/              # \u5FFD\u7565\n\u2502   \u251C\u2500\u2500 foo/\n\u2502   \u2502   \u2514\u2500\u2500 index.tsx        # \u5D4C\u5957\u9875 (/foo)\n\u2502   \u2514\u2500\u2500 nested/\n\u2502       \u251C\u2500\u2500 _layout.tsx      # \u5D4C\u5957\u5E03\u5C40\n\u2502       \u2514\u2500\u2500 [name].tsx       # \u52A8\u6001\u8DEF\u7531 (/nested/:name)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u7279\u6027\uFF1A"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"_layout.tsx"}),": \u5E03\u5C40\u7EC4\u4EF6\uFF0C\u81EA\u52A8\u5305\u88F9\u5B50\u9875\u9762"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"_root.tsx"}),": \u81EA\u5B9A\u4E49 ",(0,t.jsx)(n.code,{children:"<html>"}),", ",(0,t.jsx)(n.code,{children:"<head>"}),", ",(0,t.jsx)(n.code,{children:"<body>"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"[slug].tsx"}),": \u52A8\u6001\u8DEF\u7531\u53C2\u6570"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"[...catchAll].tsx"}),": \u6355\u83B7\u6240\u6709\u8DEF\u7531"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getConfig()"}),": \u914D\u7F6E\u6E32\u67D3\u6A21\u5F0F (",(0,t.jsx)(n.code,{children:"'static'"})," \u6216 ",(0,t.jsx)(n.code,{children:"'dynamic'"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u4E0D\u652F\u6301\u8DEF\u7531\u5206\u7EC4"}),": \u6587\u4EF6\u8DEF\u7531\u57FA\u4E8E\u76EE\u5F55\u7ED3\u6784\uFF0C\u65E0 ",(0,t.jsx)(n.code,{children:"(group)"})," \u8BED\u6CD5"]}),"\n",(0,t.jsxs)(n.li,{children:["pages.gen.ts\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7531 fs-router-typegen.ts \u751F\u6210"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"createpages",children:"createPages"}),"\n",(0,t.jsxs)(n.p,{children:["\u5728 ",(0,t.jsx)(n.code,{children:"./src/entries.tsx"})," \u4E2D\u7F16\u7A0B\u5B9A\u4E49\u8DEF\u7531"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export default createPages(async ({ createPage, createLayout }) => [\n  // \u8DEF\u7531\u5206\u7EC4 - \u4E0D\u5F71\u54CD\u6700\u7EC8 URL\n  createLayout({\n    path: '/(main)', // \u5206\u7EC4\u5E03\u5C40\n    component: MainLayout,\n  }),\n  createPage({\n    path: '/(main)/dashboard', // URL: /dashboard\n    component: DashboardPage,\n    render: 'static',\n  }),\n  createPage({\n    path: '/(auth)/login', // URL: /login\n    component: LoginPage,\n  }),\n  // \u5D4C\u5957\u5206\u7EC4\u548C\u52A8\u6001\u8DEF\u7531\n  createPage({\n    path: '/(shop)/category/[slug]', // URL: /category/:slug\n    component: CategoryPage,\n    staticPaths: ['electronics', 'books'],\n  }),\n  // \u5D4C\u5957\u5206\u7EC4\n  createPage({\n    path: '/(shop)/(products)/item/[id]', // URL: /item/:id\n    component: ProductPage,\n  }),\n]);\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u7279\u6027\uFF1A"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"createPage()"}),": \u5B9A\u4E49\u9875\u9762\uFF0C\u652F\u6301\u5206\u7EC4\u8DEF\u5F84"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"createLayout()"}),": \u5B9A\u4E49\u5E03\u5C40\uFF0C\u53EF\u5E94\u7528\u4E8E\u5206\u7EC4"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"createRoot()"}),": \u81EA\u5B9A\u4E49\u6839\u5143\u7D20"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"createApi()"}),": \u5B9A\u4E49 API \u8DEF\u7531"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"(group)"}),": \u8DEF\u7531\u5206\u7EC4\u8BED\u6CD5\uFF0C\u4E0D\u5F71\u54CD URL"]}),"\n",(0,t.jsxs)(n.li,{children:["\u5D4C\u5957\u5206\u7EC4: ",(0,t.jsx)(n.code,{children:"/(a)/(b)/page"})," \u2192 ",(0,t.jsx)(n.code,{children:"/page"})]}),"\n",(0,t.jsx)(n.li,{children:"\u51B2\u7A81\u68C0\u6D4B: \u76F8\u540C\u6700\u7EC8\u8DEF\u5F84\u4F1A\u62A5\u9519"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"definerouter",children:"defineRouter"}),"\n",(0,t.jsxs)(n.p,{children:["\u6700\u4F4E\u5C42\u7EA7\u7684\u8DEF\u7531\u63A7\u5236\uFF0C",(0,t.jsx)(n.code,{children:"createPages"})," \u548C\u6587\u4EF6\u8DEF\u7531\u90FD\u57FA\u4E8E\u6B64\u5B9E\u73B0\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u9879\u76EE\u7ED3\u6784",children:"\u9879\u76EE\u7ED3\u6784"}),"\n",(0,t.jsx)(n.h3,{id:"\u57FA\u672C\u7ED3\u6784",children:"\u57FA\u672C\u7ED3\u6784"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"my-app/\n\u251C\u2500\u2500 package.json\n\u251C\u2500\u2500 tsconfig.json\n\u251C\u2500\u2500 waku.config.ts          # \u914D\u7F6E\u6587\u4EF6 (\u53EF\u9009)\n\u251C\u2500\u2500 public/                 # \u9759\u6001\u8D44\u6E90\n\u2502   \u2514\u2500\u2500 favicon.ico\n\u2514\u2500\u2500 src/\n    \u251C\u2500\u2500 components/         # \u5171\u4EAB\u7EC4\u4EF6\n    \u251C\u2500\u2500 styles.css          # \u5168\u5C40\u6837\u5F0F\n    \u251C\u2500\u2500 entries.tsx         # createPages \u8DEF\u7531 (\u53EF\u9009)\n    \u251C\u2500\u2500 waku.client.tsx     # \u5BA2\u6237\u7AEF\u5165\u53E3 (\u53EF\u9009)\n    \u251C\u2500\u2500 waku.server.tsx     # \u670D\u52A1\u7AEF\u5165\u53E3 (\u53EF\u9009)\n    \u2514\u2500\u2500 pages/              # \u6587\u4EF6\u8DEF\u7531\u9875\u9762 (\u53EF\u9009)\n        \u251C\u2500\u2500 _layout.tsx\n        \u251C\u2500\u2500 index.tsx\n        \u2514\u2500\u2500 ...\n"})}),"\n",(0,t.jsx)(n.h3,{id:"wakuconfigts",children:"waku.config.ts"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { defineConfig } from 'waku/config';\n\nexport default defineConfig({\n  basePath: '/my-app', // \u57FA\u7840\u8DEF\u5F84\n  unstable_viteConfigs: {\n    // Vite \u914D\u7F6E\n    // \u81EA\u5B9A\u4E49 Vite \u914D\u7F6E\n  },\n});\n"})})]})}function h(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},917776:function(e,n,s){s.d(n,{R:()=>l,x:()=>c});var r=s(7378);let t={},i=r.createContext(t);function l(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);