"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["901947"],{87503:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>t,toc:()=>h,default:()=>d,metadata:()=>r,assets:()=>o,contentTitle:()=>c});var r=JSON.parse('{"id":"service/network/proxy/v2ray/xray","title":"xray","description":"- XTLS/Xray-core","source":"@site/../notes/service/network/proxy/v2ray/xray.md","sourceDirName":"service/network/proxy/v2ray","slug":"/service/network/proxy/v2ray/xray","permalink":"/notes/service/network/proxy/v2ray/xray","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/network/proxy/v2ray/xray.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1743997463000,"frontMatter":{"title":"xray"},"sidebar":"docs","previous":{"title":"v2fly","permalink":"/notes/service/network/proxy/v2ray/v2fly"},"next":{"title":"Proxy HA & Protocol","permalink":"/notes/service/network/proxy-ha"}}'),i=s(486106),l=s(917776);let t={title:"xray"},c="xray",o={},h=[{value:"conf",id:"conf",level:2},{value:"Notes",id:"notes",level:2},{value:"Vless",id:"vless",level:2}];function x(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"xray",children:"xray"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/XTLS/Xray-core",children:"XTLS/Xray-core"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"MPLv2, Go"}),"\n",(0,i.jsx)(n.li,{children:"VLESS, XTLS, REALITY, XUDP, PLUX"}),"\n",(0,i.jsx)(n.li,{children:"XTLS \u4FEE\u6539\u4E86 Go \u7684 TLS - \u522B\u7684\u5DE5\u5177\u4E0D\u597D\u96C6\u6210"}),"\n",(0,i.jsxs)(n.li,{children:["XTLS \u534F\u8BAE\u7684\u539F\u7406\u662F\u5C06\u4EE3\u7406\u8FC7\u7A0B\u4E2D\u7684\u4E24\u6761 TLS \u8BF7\u6C42\u5408\u5E76\u6210\u4E00\u6761 TLS\uFF0C\u51CF\u5C11\u4E00\u6B21 TLS \u52A0\u5BC6\u8FC7\u7A0B\u6765\u8FBE\u5230\u63D0\u5347\u6027\u80FD\u7684\u76EE\u7684\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/rprx/v2ray-vless/releases/tag/xtls",children:"https://github.com/rprx/v2ray-vless/releases/tag/xtls"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u7531\u4E8E License \u95EE\u9898\u72EC\u7ACB ",(0,i.jsx)(n.a,{href:"https://github.com/XTLS/Go/issues/9",children:"https://github.com/XTLS/Go/issues/9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4F5C\u8005 RPRX \u5C06 License \u6536\u7D27"}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/XTLS/Go/issues/9#issuecomment-1094515399",children:"https://github.com/XTLS/Go/issues/9#issuecomment-1094515399"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/XTLS/Xray-core/issues/1896",children:"https://github.com/XTLS/Xray-core/issues/1896"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["flow - \u6D41\u63A7\u5236\uFF08Flow Control\uFF09\u6A21\u5F0F - \u7528\u6765\u914D\u5408 TLS \u7C7B\u7684\u4F20\u8F93\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"xtls-rprx-vision"}),"\n",(0,i.jsx)(n.li,{children:"xtls-rprx-origin"}),"\n",(0,i.jsx)(n.li,{children:"xtls-rprx-direct"}),"\n",(0,i.jsx)(n.li,{children:"xtls-rprx-splice"}),"\n",(0,i.jsx)(n.li,{children:"\u975E TCP \u4E0D\u9700\u8981 - \u4F20\u8F93\u5C42\u5982\u679C\u4F7F\u7528 grpc, ws, h2 \u4E0D\u9700\u8981\u8BBE\u7F6E flow"}),"\n",(0,i.jsx)(n.li,{children:"\u89E3\u51B3 TCP + TLS/REALITY \u573A\u666F\u4E0B\u7684\u53CC\u91CD TLS \u52A0\u89E3\u5BC6\u6027\u80FD\u5F00\u9500\u95EE\u9898"}),"\n",(0,i.jsx)(n.li,{children:"\u4F9D\u8D56\u4E8E\u76F4\u63A5\u5904\u7406\u5E95\u5C42\u7684 TLS \u8BB0\u5F55"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"xray-core licence \u6BD4 sing-box \u7684 GPL \u66F4\u5BBD\u677E, \u6BD4 v2fly/v2ray-core \u66F4\u4E25\u683C"}),"\n",(0,i.jsxs)(n.li,{children:["xray \u6BD4 sing-box \u5728 vless, trojan \u7684\u8BA4\u8BC1\u76F8\u5173\u652F\u6301\u66F4\u597D\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u652F\u6301\u591A\u8D26\u6237"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u4E0D\u5EFA\u8BAE\u4F5C\u4E3A\u5BA2\u6237\u7AEF\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4E0D\u652F\u6301 TUN"}),"\n",(0,i.jsx)(n.li,{children:"\u4E0D\u652F\u6301 mixed - http & socks \u540C\u7AEF\u53E3"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"\u4E0D\u652F\u6301 reload"}),"\n",(0,i.jsx)(n.li,{children:"\u914D\u7F6E\u76F8\u5BF9\u6BD4\u8F83\u7E41\u7410\u4F46\u6BD4\u8F83\u4E25\u8C28"}),"\n"]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'brew install xray\n# https://github.com/XTLS/Xray-core/releases\n# /etc/xray/\ndocker run --rm -it --name proxy ghcr.io/xtls/xray-core:25.1.1\n# reload\ndocker exec proxy xray run -test -dump -confdir /etc/xray && docker restart proxy && docker logs -f --tail 100 proxy\n\nxray run -c config.json\nxray run -test -dump -confdir /etc/xray\n\n# vless client id\n# https://github.com/XTLS/Xray-core/issues/158\nxray uuid -i "\u81EA\u5B9A\u4E49\u5B57\u7B26\u4E32"\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u914D\u7F6E\u652F\u6301\u73AF\u5883\u53D8\u91CF ",(0,i.jsx)(n.code,{children:"env:PORT"})]}),"\n",(0,i.jsxs)(n.li,{children:["\u5165\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"dokodemo-doo"}),"\n",(0,i.jsx)(n.li,{children:"http"}),"\n",(0,i.jsx)(n.li,{children:"shadowsocks"}),"\n",(0,i.jsx)(n.li,{children:"socks"}),"\n",(0,i.jsx)(n.li,{children:"vless"}),"\n",(0,i.jsx)(n.li,{children:"vmess"}),"\n",(0,i.jsx)(n.li,{children:"trojan"}),"\n",(0,i.jsx)(n.li,{children:"wireguard"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"conf",children:"conf"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4F7F\u7528 pb \u505A\u914D\u7F6E \u5E8F\u5217\u5316"}),"\n",(0,i.jsx)(n.li,{children:"\u652F\u6301 json, yaml, toml \u914D\u7F6E"}),"\n",(0,i.jsx)(n.li,{children:"\u652F\u6301\u914D\u7F6E\u6587\u4EF6\u540E\u7F00 pb, protobuf, json, jsonc, yaml, yml, toml"}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://xtls.github.io/config/",children:"https://xtls.github.io/config/"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["policy.Manager\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["level -> policy.Session\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"stats, timeout"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"vless",children:"Vless"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u81F3\u5C11 18 byte"}),"\n",(0,i.jsx)(n.li,{children:"\u4F7F\u7528 PB \u5C01\u88C5 meta/header \u4FE1\u606F"}),"\n",(0,i.jsx)(n.li,{children:"\u6307\u4EE4 \u6307\u4EE4\uFF08TCP\u3001UDP\u3001Mux\uFF09"}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://xtls.github.io/development/protocols/vless.html",children:"https://xtls.github.io/development/protocols/vless.html"})}),"\n"]})]})}function d(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}},917776:function(e,n,s){s.d(n,{R:()=>t,x:()=>c});var r=s(7378);let i={},l=r.createContext(i);function t(e){let n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);