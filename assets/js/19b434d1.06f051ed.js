"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["98748"],{4585:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>d,toc:()=>c,default:()=>a,metadata:()=>r,assets:()=>o,contentTitle:()=>l});var r=JSON.parse('{"id":"service/storage/photoprism","title":"PhotoPrism","description":"- docker-compose.yml","source":"@site/../notes/service/storage/photoprism.md","sourceDirName":"service/storage","slug":"/service/storage/photoprism","permalink":"/notes/service/storage/photoprism","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/storage/photoprism.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1752420691000,"frontMatter":{"title":"PhotoPrism"},"sidebar":"docs","previous":{"title":"Nextcloud \u7248\u672C","permalink":"/notes/service/storage/nextcloud/version"},"next":{"title":"rclone","permalink":"/notes/service/storage/rclone/"}}'),t=s(86106),i=s(17776);let d={title:"PhotoPrism"},l="PhotoPrism",o={},c=[];function h(n){let e={a:"a",code:"code",h1:"h1",header:"header",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"photoprism",children:"PhotoPrism"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"https://dl.photoprism.org/docker/docker-compose.yml",children:"docker-compose.yml"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"mariadb + photoprism"}),"\n",(0,t.jsx)(e.li,{children:"\u7AEF\u53E3 2342"}),"\n",(0,t.jsx)(e.li,{children:"/photoprism/originals - \u7167\u7247"}),"\n",(0,t.jsx)(e.li,{children:"/photoprism/import - \u5BFC\u5165 - \u53EF\u9009"}),"\n",(0,t.jsx)(e.li,{children:"/photoprism/storage - \u5B58\u50A8"}),"\n",(0,t.jsx)(e.li,{children:"/home/photoprism/.cache/photoprism - \u7F13\u5B58"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://docs.photoprism.org/getting-started/config-options/",children:"\u914D\u7F6E\u9879"})}),"\n",(0,t.jsxs)(e.li,{children:["sidecar \u6587\u4EF6\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"json - exif"}),"\n",(0,t.jsx)(e.li,{children:"yaml - \u5143\u4FE1\u606F\u5907\u4EFD"}),"\n",(0,t.jsx)(e.li,{children:"xmp"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\u6CE8\u610F\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["\u53EA\u652F\u6301\u5355\u7528\u6237 - ",(0,t.jsx)(e.a,{href:"https://github.com/photoprism/photoprism/issues/98",children:"#98"})]}),"\n"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"env"}),(0,t.jsx)(e.th,{children:"val"}),(0,t.jsx)(e.th,{children:"desc"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_ADMIN_PASSWORD"}),(0,t.jsx)(e.td,{children:'"insecure"'}),(0,t.jsx)(e.td,{children:"PLEASE CHANGE , Your initial admin password (min 4 characters)"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_HTTP_PORT"}),(0,t.jsx)(e.td,{children:"2342"}),(0,t.jsx)(e.td,{children:"Built-in Web server port"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_HTTP_COMPRESSION"}),(0,t.jsx)(e.td,{children:'"gzip"'}),(0,t.jsx)(e.td,{children:"Improves transfer speed and bandwidth utilization (none or gzip)"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_DEBUG"}),(0,t.jsx)(e.td,{children:'"false"'}),(0,t.jsx)(e.td,{children:"Run in debug mode (shows additional log messages)"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_PUBLIC"}),(0,t.jsx)(e.td,{children:'"false"'}),(0,t.jsx)(e.td,{children:"No authentication required (disables password protection)"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_READONLY"}),(0,t.jsx)(e.td,{children:'"false"'}),(0,t.jsx)(e.td,{children:"Don't modify originals directory (reduced functionality)"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_EXPERIMENTAL"}),(0,t.jsx)(e.td,{children:'"false"'}),(0,t.jsx)(e.td,{children:"Enables experimental features"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_DISABLE_WEBDAV"}),(0,t.jsx)(e.td,{children:'"false"'}),(0,t.jsx)(e.td,{children:"Disables built-in WebDAV server"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_DISABLE_SETTINGS"}),(0,t.jsx)(e.td,{children:'"false"'}),(0,t.jsx)(e.td,{children:"Disables Settings in Web UI"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_DISABLE_TENSORFLOW"}),(0,t.jsx)(e.td,{children:'"false"'}),(0,t.jsx)(e.td,{children:"Disables using TensorFlow for image classification"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_DARKTABLE_PRESETS"}),(0,t.jsx)(e.td,{children:'"false"'}),(0,t.jsx)(e.td,{children:"Enables Darktable presets and disables concurrent RAW conversion"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_DETECT_NSFW"}),(0,t.jsx)(e.td,{children:'"false"'}),(0,t.jsx)(e.td,{children:"Flag photos as private that MAY be offensive (requires TensorFlow)"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_UPLOAD_NSFW"}),(0,t.jsx)(e.td,{children:'"true"'}),(0,t.jsx)(e.td,{children:"Allow uploads that MAY be offensive"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_DATABASE_DRIVER"}),(0,t.jsx)(e.td,{children:'"sqlite"'}),(0,t.jsx)(e.td,{children:"SQLite is an embedded database that doesn't require a server"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_DATABASE_DRIVER"}),(0,t.jsx)(e.td,{children:'"mysql"'}),(0,t.jsx)(e.td,{children:"Use MariaDB (or MySQL) instead of SQLite for improved performance"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_DATABASE_SERVER"}),(0,t.jsx)(e.td,{children:'"mariadb:3306"'}),(0,t.jsx)(e.td,{children:", MariaDB database server (hostname:port)"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_DATABASE_NAME"}),(0,t.jsx)(e.td,{children:'"photoprism"'}),(0,t.jsx)(e.td,{children:"MariaDB database schema name"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_DATABASE_USER"}),(0,t.jsx)(e.td,{children:'"photoprism"'}),(0,t.jsx)(e.td,{children:"MariaDB database user name"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_DATABASE_PASSWORD"}),(0,t.jsx)(e.td,{children:'"insecure"'}),(0,t.jsx)(e.td,{children:"MariaDB database user password"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_SITE_URL"}),(0,t.jsxs)(e.td,{children:['"',(0,t.jsx)(e.a,{href:"http://localhost:2342/",children:"http://localhost:2342/"}),'"']}),(0,t.jsx)(e.td,{children:"Public PhotoPrism URL"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_SITE_TITLE"}),(0,t.jsx)(e.td,{children:'"PhotoPrism"'}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_SITE_CAPTION"}),(0,t.jsx)(e.td,{children:'"Browse Your Life"'}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_SITE_DESCRIPTION"}),(0,t.jsx)(e.td,{children:'""'}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"PHOTOPRISM_SITE_AUTHOR"}),(0,t.jsx)(e.td,{children:'""'}),(0,t.jsx)(e.td,{})]})]})]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"docker run --rm -it \\\n  -p 2342:2342 \\\n  -e PHOTOPRISM_DATABASE_DRIVER=sqlite \\\n  -e PHOTOPRISM_ADMIN_PASSWORD=password \\\n  -v $PWD/photos:/photoprism/originals \\\n  -v $PWD/photoprism/import:/photoprism/import \\\n  -v $PWD/photoprism/storage:/photoprism/storage \\\n  --name photoprism photoprism/photoprism:latest\n"})})]})}function a(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(h,{...n})}):h(n)}},17776:function(n,e,s){s.d(e,{R:()=>d,x:()=>l});var r=s(7378);let t={},i=r.createContext(t);function d(n){let e=r.useContext(i);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:d(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);