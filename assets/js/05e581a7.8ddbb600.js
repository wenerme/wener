"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["83838"],{16212:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>a,toc:()=>l,default:()=>d,metadata:()=>s,assets:()=>c,contentTitle:()=>o});var s=JSON.parse('{"id":"db/search/typesense","title":"typesense","description":"- typesense/typesense","source":"@site/../notes/db/search/typesense.md","sourceDirName":"db/search","slug":"/db/search/typesense","permalink":"/notes/db/search/typesense","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/db/search/typesense.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1696577752000,"frontMatter":{"title":"typesense"},"sidebar":"docs","previous":{"title":"sonic","permalink":"/notes/db/search/sonic"},"next":{"title":"zinc","permalink":"/notes/db/search/zincsearch"}}'),r=t(86106),i=t(17776);let a={title:"typesense"},o="typesense",c={},l=[];function p(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"typesense",children:"typesense"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/typesense/typesense",children:"typesense/typesense"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"GPL-3.0, C++"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4E0D\u652F\u6301 CJK\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Support for writing systems without spaces between words ",(0,r.jsx)(n.a,{href:"https://github.com/typesense/typesense/issues/228",children:"typesense/typesense#228"})]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# TYPESENSE_API_KEY=$(uuidgen| tr -d \'[:space:]\' | tee -a /dev/fd/2 )\nTYPESENSE_API_KEY=CHANGEME\ndocker run --rm -it \\\n  -v $PWD/data:/data \\\n  -p 8108:8108 \\\n  --name typesense typesense/typesense:0.25.1 \\\n  --data-dir /data --api-key=$TYPESENSE_API_KEY --enable-cors\n\nTYPESENSE_HOST=\'http://localhost:8108\'\nTYPESENSE_API_KEY=CHANGEME\n\ncurl "${TYPESENSE_HOST}/health"\n\ncurl "${TYPESENSE_HOST}/collections" \\\n  -X POST \\\n  -H "Content-Type: application/json" \\\n  -H "X-TYPESENSE-API-KEY: ${TYPESENSE_API_KEY}" \\\n  -d \'{\n        "name": "tang-poetry",\n        "fields": [\n          {"name": "author", "type": "string" },\n          {"name": "paragraphs", "type": "string[]" },\n          {"name": "tags", "type": "string[]"},\n          {"name": "title", "type": "string" },\n          {"name": "id", "type": "string", "facet": true  }\n        ]\n      }\'\n\ncurl -LO https://github.com/chinese-poetry/chinese-poetry/raw/master/\u5168\u5510\u8BD7/\u5510\u8BD7\u4E09\u767E\u9996.json\njq -c \'.[]\' \u5510\u8BD7\u4E09\u767E\u9996.json > tang-poetry.jsonl\n\ncurl "${TYPESENSE_HOST}/collections/tang-poetry/documents/import" \\\n  -X POST \\\n  -H "X-TYPESENSE-API-KEY: ${TYPESENSE_API_KEY}" \\\n  --data-binary @tang-poetry.jsonl\n\ncurl -H "X-TYPESENSE-API-KEY: ${TYPESENSE_API_KEY}" \\\n  "${TYPESENSE_HOST}/collections/tang-poetry/documents/search?q=\u5929\u6DAF&query_by=paragraphs"\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://typesense.org/docs/0.25.1/api/server-configuration.html",children:"https://typesense.org/docs/0.25.1/api/server-configuration.html"})}),"\n"]})]})}function d(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},17776:function(e,n,t){t.d(n,{R:()=>a,x:()=>o});var s=t(7378);let r={},i=s.createContext(r);function a(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);