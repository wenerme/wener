"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["90341"],{4915:function(e,n,o){o.r(n),o.d(n,{frontMatter:()=>l,toc:()=>c,default:()=>h,metadata:()=>r,assets:()=>t,contentTitle:()=>d});var r=JSON.parse('{"id":"devops/docker/docker-cookbook","title":"Docker \u5E38\u7528\u670D\u52A1","description":"\u5E38\u7528\u9009\u9879","source":"@site/../notes/devops/docker/docker-cookbook.md","sourceDirName":"devops/docker","slug":"/devops/docker/cookbook","permalink":"/notes/devops/docker/cookbook","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/devops/docker/docker-cookbook.md","tags":[{"inline":true,"label":"Cookbook","permalink":"/notes/tags/cookbook"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1645427777000,"frontMatter":{"title":"Docker \u5E38\u7528\u670D\u52A1","tags":["Cookbook"]},"sidebar":"docs","previous":{"title":"Docker compose","permalink":"/notes/devops/docker/compose"},"next":{"title":"credential helpers","permalink":"/notes/devops/docker/credential-helpers"}}'),a=o(86106),s=o(17776);let l={title:"Docker \u5E38\u7528\u670D\u52A1",tags:["Cookbook"]},d="Run container",t={},c=[{value:"\u5E38\u7528\u9009\u9879",id:"\u5E38\u7528\u9009\u9879",level:2},{value:"xhyve",id:"xhyve",level:2},{value:"MySQL",id:"mysql",level:2},{value:"OwnCloud/Nextcloud",id:"owncloudnextcloud",level:2},{value:"\u53CD\u5411\u4EE3\u7406",id:"\u53CD\u5411\u4EE3\u7406",level:3},{value:"Jenkins",id:"jenkins",level:2},{value:"gitea",id:"gitea",level:2},{value:"PHP",id:"php",level:2},{value:"Drone.io",id:"droneio",level:2},{value:"\u66F4\u65B0",id:"\u66F4\u65B0",level:3},{value:"\u5B89\u88C5 Go \u73AF\u5883",id:"\u5B89\u88C5-go-\u73AF\u5883",level:3},{value:"WatchTower",id:"watchtower",level:2},{value:"Redis",id:"redis",level:2},{value:"Docker in Docker",id:"docker-in-docker",level:2},{value:"MongoDB",id:"mongodb",level:2},{value:"RethinkDB",id:"rethinkdb",level:2},{value:"Nexus",id:"nexus",level:2},{value:"Registry",id:"registry",level:2},{value:"Odoo",id:"odoo",level:2},{value:"XAMPP",id:"xampp",level:2},{value:"ldap",id:"ldap",level:2},{value:"Postgres",id:"postgres",level:2},{value:"\u5176\u4ED6\u670D\u52A1",id:"\u5176\u4ED6\u670D\u52A1",level:2},{value:"cow",id:"cow",level:3}];function i(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"run-container",children:"Run container"})}),"\n",(0,a.jsx)(n.h2,{id:"\u5E38\u7528\u9009\u9879",children:"\u5E38\u7528\u9009\u9879"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# docker run\n--restart always\n# \u8C03\u6574\u5BB9\u5668\u4E2D\u7684\u65F6\u95F4\n-v /etc/localtime:/etc/localtime:ro\n# \u540E\u53F0\u8FD0\u884C\n-d\n"})}),"\n",(0,a.jsx)(n.h2,{id:"xhyve",children:"xhyve"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u5B89\u88C5 https://github.com/zchee/docker-machine-driver-xhyve#install\ndocker-machine create --driver xhyve xhyve\neval `docker-machine env xhyve`\ndocker info\n"})}),"\n",(0,a.jsx)(n.h2,{id:"mysql",children:"MySQL"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"DIR=/data/mysql\n# \u81EA\u5B9A\u4E49\u914D\u7F6E\nmkdir -p /data/mysql/conf.d/\necho '\n[mysqld]\ncharacter_set_server=utf8mb4\ncollation_server=utf8mb4_unicode_ci\n' > /data/mysql/conf.d/my.cnf\n\n# \u81EA\u5B9A\u4E49\u6570\u636E\u76EE\u5F55\nmkdir -p /data/mysql/conf.d/datadir\n\n# \u4F7F\u7528\u81EA\u5B9A\u4E49\u7684\u914D\u7F6E\u542F\u52A8 MySQL\ndocker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  -p 3306:3306 \\\n  -v /data/mysql/datadir:/var/lib/mysql -v /data/mysql/conf.d:/etc/mysql/conf.d \\\n  -e MYSQL_ROOT_PASSWORD=ThisIsPassword \\\n  --name mysql mysql\n"})}),"\n",(0,a.jsx)(n.h2,{id:"owncloudnextcloud",children:"OwnCloud/Nextcloud"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u9700\u8981\u5148\u521B\u5EFA\u540D\u4E3A mysql \u7684 mysql \u5BB9\u5668,\u5982\u679C\u6CA1\u6709,\u53EF\u53BB\u9664 --link\n# \u542F\u52A8 OwnCloud\ndocker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  -p 8080:80 \\\n  -v /data/owncloud:/var/www/html \\\n  --link mysql:mysql \\\n  --name owncloud owncloud\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u53CD\u5411\u4EE3\u7406",children:"\u53CD\u5411\u4EE3\u7406"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo nano /data/owncloud/config/config.php\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:'<?php\n/* $CONFIG */\n\n$EXTRA_CONFIG = array (\n  "trusted_proxies"   => [\'10.0.0.1\'],\n  "overwritehost"     => "ssl-proxy.tld",\n  "overwriteprotocol" => "https",\n  "overwritewebroot"  => "/domain.tld/owncloud",\n  "overwritecondaddr" => "^10\\.0\\.0\\.1$",\n);\n$CONFIG = array_merge($CONFIG, $EXTRA_CONFIG)\n'})}),"\n",(0,a.jsx)(n.h2,{id:"jenkins",children:"Jenkins"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u4E0D\u7528\u6620\u5C04, \u5907\u4EFD\u901A\u8FC7 docker cp $ID:/var/jenkins_home\n# \u8BBE\u7F6E JENKINS_OPTS="--prefix=/jenkins" \u6765\u505A\u53CD\u5411\u4EE3\u7406\n# \u5982\u679C\u76EE\u5F55\u6709\u6743\u9650\u95EE\u9898\u53EF\u624B\u52A8\u8BBE\u7F6E mkdir -p /data/jenkins && chwon 1000:1000 /data/jenkins\ndocker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  -p 8080:8080 -p 50000:50000 \\\n  -v /data/jenkins:/var/jenkins_home \\\n  --name jenkins jenkins\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Jenkins \u662F\u79BB\u7EBF\u7684,\u7531\u4E8E ",(0,a.jsx)(n.code,{children:"jenkins-ci.org"})," \u88AB\u5899,\u6240\u4EE5\u53EF\u80FD\u9700\u8981\u4F7F\u7528 HTTP \u4EE3\u7406"]}),"\n",(0,a.jsx)(n.h2,{id:"gitea",children:"gitea"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  -p 3000:3000 \\\n  -v /data/gitea:/data \\\n  --name gitea gitea/gitea\n"})}),"\n",(0,a.jsx)(n.h2,{id:"php",children:"PHP"}),"\n",(0,a.jsx)(n.p,{children:"\u5B98\u65B9\u63D0\u4F9B\u4E86\u5F88\u591A PHP \u7248\u672C, \u5982\u679C\u9700\u8981\u989D\u5916\u7684\u6269\u5C55\u5EFA\u8BAE\u81EA\u5DF1 build \u4E00\u4E2A, \u4F8B\u5982"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"php.dockerfile"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-dockerfile",children:"FROM php:5-apache\nRUN apt-get update\nRUN apt-get install -y libcurl4-openssl-dev pkg-config libssl-dev  \\\n    && pecl install mongodb \\\n    && docker-php-ext-enable mongodb\nRUN pecl install redis && docker-php-ext-enabl redis\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker build -t wener/php -f php.dockerfile .\ndocker run -d --restart always -p 80:80 -v /data/php/www:/var/www/html --name php wener/php\n# \u4E5F\u53EF\u4EE5\u6DFB\u52A0\u81EA\u5DF1\u7684\u914D\u7F6E\n# \u8BBE\u7F6E\u9ED8\u8BA4\u65F6\u533A\necho 'date.timezone=Asia/Shanghai' > /data/php/config/php.ini;\ndocker run -d --restart always  -p 80:80 -v /data/php/www:/var/www/html \\\n  -v /data/php/config/php.ini:/usr/local/etc/php/php.ini  --name php wener/php\n"})}),"\n",(0,a.jsx)(n.h2,{id:"droneio",children:"Drone.io"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Drone \u4E00\u822C\u914D\u5408 Gogs \u4F7F\u7528\nmkdir /opt/apps/drone && cd /opt/apps/drone\n# \u7528\u4E8E\u5B58\u653E\u6570\u636E\nmkdir data\n# \u9700\u8981\u9884\u5148\u5728 MySQL \u4E2D\u5C06 drone \u5E93\u521B\u5EFA\u51FA\u6765\n# \u9700\u8981\u5C06\u6570\u636E\u5E93\u4FEE\u6539\u4E3A\u5177\u4F53\u7684\n# \u914D\u7F6E\u53C2\u8003 http://readme.drone.io/setup/settings/\necho '\nREMOTE_DRIVER=gogs\nREMOTE_CONFIG=https://gogs.hooli.com?open=false\nDATABASE_DRIVER=mysql\nDATABASE_CONFIG=root:pa55word@tcp(localhost:3306)/drone?parseTime=true\n# HTTPS_PROXY=https://proxy.example.com\n# HTTP_PROXY=http://proxy.example.com\n# NO_PROXY=.example.com, *.docker.example.com\n' > dronerc\n\ndocker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  -p=8080:8000 \\\n	-v /opt/apps/drone/data:/var/lib/drone \\\n	-v /var/run/docker.sock:/var/run/docker.sock \\\n	--env-file ./dronerc \\\n  --link mysql:mysql \\\n	--name=drone drone/drone\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u66F4\u65B0",children:"\u66F4\u65B0"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker stop drone\ndocker rm drone\ndocker pull drone/drone\ndocker run ...\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u5B89\u88C5-go-\u73AF\u5883",children:"\u5B89\u88C5 Go \u73AF\u5883"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u8FDB\u5165\u5BB9\u5668\u6267\u884C\ndocker exec -it jenkins bash\n# \u5B89\u88C5 Go \u73AF\u5883\nmkdir /var/jenkins_home/go/root\ncd /var/jenkins_home/go/root\nGOVERSION=1.7\nwget https://storage.googleapis.com/golang/go$GOVERSION.linux-amd64.tar.gz\n# \u6216\u8005\u4F7F\u7528\u4EE3\u7406\u4E0B\u8F7D\n# https_proxy=socks://127.0.0.1:8888 curl https://storage.googleapis.com/golang/go$GOVERSION.linux-amd64.tar.gz -o go$GOVERSION.linux-amd64.tar.gz\ntar -C /var/jenkins_home/go/root -xzf go$GOVERSION.linux-amd64.tar.gz\n# \u7136\u540E\u5728 Jenkins \u4E2D\u6DFB\u52A0\u73AF\u5883\u53D8\u91CF\n# GOROOT=/var/jenkins_home/go/root/go\n# GOPATH=/var/jenkins_home/go\n"})}),"\n",(0,a.jsx)(n.h2,{id:"watchtower",children:"WatchTower"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/v2tec/watchtower",children:"https://github.com/v2tec/watchtower"})}),"\n",(0,a.jsxs)(n.li,{children:["Docker \u65E0\u6CD5\u8FD0\u884C\u540E\u6DFB\u52A0 Label ",(0,a.jsx)(n.a,{href:"https://github.com/moby/moby/issues/21721",children:"#21721"})]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u5C06\u4E3B\u673A\u4E0A\u7684 docker \u914D\u7F6E\u6388\u6743\u6620\u5C04\u5230\u5BB9\u5668\u5185\u4EE5\u4FBF\u4E8E\u62C9\u53D6\u79C1\u6709\u4ED3\u5E93\n# -i \u68C0\u67E5\u95F4\u9694\n# --label-enable \u76D1\u63A7\u5E26 com.centurylinklabs.watchtower.enable="true" \u6807\u8BB0\u7684\ndocker run -d \\\n  --name watchtower \\\n  -v $HOME/.docker/config.json:/config.json \\\n  -v /var/run/docker.sock:/var/run/docker.sock \\\n  v2tec/watchtower container_to_watch --debug -i 120\n'})}),"\n",(0,a.jsx)(n.h2,{id:"redis",children:"Redis"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  -p 6379:6379 \\\n  -v /data/redis:/data \\\n  --name redis redis redis-server --appendonly yes\n\n# \u5BA2\u6237\u7AEF\ndocker run -it --link some-redis:redis --rm redis redis-cli -h redis -p 6379\n"})}),"\n",(0,a.jsx)(n.h2,{id:"docker-in-docker",children:"Docker in Docker"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u4F7F\u7528\u4E3B\u673A\u7684 Docker\ndocker run -it -v /var/run/docker.sock:/var/run/docker.sock -v /usr/bin/docker:/usr/bin/docker wener/base:bash\n\n# start dockerd\ndocker run -it --privileged -v /data/docker:/var/lib/docker --name dockerd --rm docker:dind\n# \u5BA2\u6237\u7AEF\n# DOCKER_HOST=tcp://docker:2375\ndocker run --rm -it --link dockerd:docker docker info\n"})}),"\n",(0,a.jsx)(n.h2,{id:"mongodb",children:"MongoDB"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  -p 27017:27017 \\\n  -v /data/mongo:/data/db \\\n  --name mongo mongo\n\n# \u5BA2\u6237\u7AEF\ndocker run -it --link some-mongo:mongo --rm mongo sh -c 'exec mongo \"$MONGO_PORT_27017_TCP_ADDR:$MONGO_PORT_27017_TCP_PORT/test\"'\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u7531\u4E8E MongoDB \u4F7F\u7528\u7684 memmap, \u901A\u8FC7 vbox \u7684\u6620\u5C04\u4E0D\u80FD\u591F\u505A\u5171\u4EAB\u6570\u636E\u5377, \u4F46\u53EF\u4EE5\u4F7F\u7528 xhyve \u9A71\u52A8\u7684 docker-machine"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# mongo with mongoclient\ndocker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  --network service \\\n  -p 27017:27017 \\\n  -v $HOME/data/mongo:/data/db \\\n  --name mongo mongo\ndocker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n    --network service \\\n    -e MONGO_URL=mongodb://mongo:27017 \\\n    -p 3000:3000 \\\n    --name mongoclient mongoclient/mongoclient\n"})}),"\n",(0,a.jsx)(n.h2,{id:"rethinkdb",children:"RethinkDB"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# \u914D\u7F6E\u53C2\u8003\n# https://github.com/rethinkdb/rethinkdb/blob/next/packaging/assets/config/default.conf.sample\ndocker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  -p 8080:8080 -p 28015:28015 \\\n  -v /data/rethinkdb:/data \\\n  --name some-rethink rethinkdb\n\n# \u7BA1\u7406\u754C\u9762\n$BROWSER \"http://$(docker inspect --format '{{ .NetworkSettings.IPAddress }}' some-rethink):8080\"\n\n# \u7AEF\u53E3\u8F6C\u53D1\nssh -fNTL localhost:8080:$(ssh remote \"docker inspect --format '{{ .NetworkSettings.IPAddress }}' some-rethink\"):8080 remote\n# \u5728\u6D4F\u89C8\u5668\u4E2D\u6253\u5F00\nxdg-open http://localhost:8080\n# \u505C\u6B62\u7AEF\u53E3\u8F6C\u53D1\nkill $(lsof -t -i @localhost:8080 -sTCP:listen)\n"})}),"\n",(0,a.jsx)(n.h2,{id:"nexus",children:"Nexus"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# nexus3 \u652F\u6301 docker\n# \u9ED8\u8BA4\u7AEF\u53E3\u4E3A 8081\ndocker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  -e NEXUS_CONTEXT=nexus \\\n  -p8004:8004 -p8003:8003 -p8081:8081 \\\n  -v /data/nexus:/nexus-data \\\n  --name nexus sonatype/nexus3\n\n# \u9ED8\u8BA4\u8D26\u53F7\u5BC6\u7801 admin / admin123\n# \u6D4B\u8BD5\u72B6\u6001\ncurl http://localhost:8081/nexus/service/local/status\n"})}),"\n",(0,a.jsx)(n.h2,{id:"registry",children:"Registry"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'# \u786E\u4FDD /certs \u4E2D\u6709 domain.crt \u548C domain.key\n# \u751F\u6210\u5BC6\u7801\nmkdir auth\ndocker run --entrypoint htpasswd registry:2 -Bbn testuser testpassword > auth/htpasswd\n# \u542F\u52A8\ndocker run -d -p 5000:5000 --restart=always --name registry \\\n  -v `pwd`/auth:/auth \\\n  -e "REGISTRY_AUTH=htpasswd" \\\n  -e "REGISTRY_AUTH_HTPASSWD_REALM=Registry Realm" \\\n  -e REGISTRY_AUTH_HTPASSWD_PATH=/auth/htpasswd \\\n  -v `pwd`/certs:/certs \\\n  -e REGISTRY_HTTP_TLS_CERTIFICATE=/certs/domain.crt \\\n  -e REGISTRY_HTTP_TLS_KEY=/certs/domain.key \\\n  registry:2\n\n# \u542F\u52A8\u4E00\u4E2A\u7B80\u5355\u7684\u4E0D\u5B89\u5168\u7684 registry\ndocker run -d -p 5000:5000 -v `pwd`/data:/var/lib/registry --restart=always --name registry registry:2\n'})}),"\n",(0,a.jsx)(n.h2,{id:"odoo",children:"Odoo"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Postgres\n# \u6570\u636E\u76EE\u5F55 /var/lib/postgresql/data\ndocker run -d -e POSTGRES_USER=odoo -e POSTGRES_PASSWORD=odoo --name odoo-db postgres\n\n# Odoo\n# \u914D\u7F6E\u6587\u4EF6 /etc/odoo/openerp-server.conf\n# \u6269\u5C55\u8DEF\u5F84 /mnt/extra-addons\n# docker run -p 8069:8069 --name odoo --link db:db -t odoo -- \u81EA\u5B9A\u4E49\u53C2\u6570\ndocker run -d -p 8069:8069 -v /data/odoo/addons:/mnt/extra-addons --name odoo --link odoo-db:db -t odoo\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"\u9ED8\u8BA4 openerp-server.conf"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"[options]\n[options]\naddons_path = /mnt/extra-addons,/usr/lib/python2.7/dist-packages/openerp/addons\ndata_dir = /var/lib/odoo\nauto_reload = True\n; admin_passwd = admin\n; csv_internal_sep = ,\n; db_maxconn = 64\n; db_name = False\n; db_template = template1\n; dbfilter = .*\n; debug_mode = False\n; email_from = False\n; limit_memory_hard = 2684354560\n; limit_memory_soft = 2147483648\n; limit_request = 8192\n; limit_time_cpu = 60\n; limit_time_real = 120\n; list_db = True\n; log_db = False\n; log_handler = [':INFO']\n; log_level = info\n; logfile = None\n; longpolling_port = 8072\n; max_cron_threads = 2\n; osv_memory_age_limit = 1.0\n; osv_memory_count_limit = False\n; smtp_password = False\n; smtp_port = 25\n; smtp_server = localhost\n; smtp_ssl = False\n; smtp_user = False\n; workers = 0\n; xmlrpc = True\n; xmlrpc_interface =\n; xmlrpc_port = 8069\n; xmlrpcs = True\n; xmlrpcs_interface =\n; xmlrpcs_port = 8071\n"})}),"\n",(0,a.jsx)(n.h2,{id:"xampp",children:"XAMPP"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://hub.docker.com/r/tomsik68/xampp/",children:"tomsik68/xampp"})}),"\n",(0,a.jsxs)(n.li,{children:["mysql\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"/opt/lampp/var/mysql"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["phpadmin\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["/opt/lampp/phpmyadmin/config.inc.php\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"\u914D\u7F6E\u6570\u636E\u5E93\u5BC6\u7801\u7B49"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-php",children:"// \u5728\u7F51\u9875\u4E0A\u8F93\u5165\u8D26\u53F7\u5BC6\u7801\n$cfg['Servers'][$i]['auth_type']    = 'cookie';\n$cfg['Servers'][$i]['AllowNoPassword']     = false;\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  -p 22222:22 -p 80:80 -p 443:443 -d \\\n  -v/data/xampp/www:/www \\\n  --name xampp  tomsik68/xampp\n\n# \u91CD\u542F xampp\n/opt/lampp/lampp restart\n# \u91CD\u542F apache\n/opt/lampp/bin/httpd -k restart\n"})}),"\n",(0,a.jsx)(n.h2,{id:"ldap",children:"ldap"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n  -p 10636:10636 -p 10389:10389 \\\n  -v /data/apacheds:/opt/apacheds/instances \\\n  --name apacheds wener/apacheds\n"})}),"\n",(0,a.jsx)(n.h2,{id:"postgres",children:"Postgres"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -d --restart always -v /etc/localtime:/etc/localtime:ro \\\n    -p 5432:5432 -e POSTGRES_PASSWORD=thisispassword \\\n    -v /data/pg:/var/lib/postgresql/data \\\n    --name postgres postgres:alpine\n"})}),"\n",(0,a.jsx)(n.h2,{id:"\u5176\u4ED6\u670D\u52A1",children:"\u5176\u4ED6\u670D\u52A1"}),"\n",(0,a.jsx)(n.h3,{id:"cow",children:"cow"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"curl https://github.com/cyfdecyf/cow/releases/download/0.9.8/cow-linux64-0.9.8.gz -Lo cow-linux64-0.9.8.gz\ngunzip cow-linux64-0.9.8.gz\nmkdir ~/bin\nmv cow-* ~/bin/cow\nchmod +x ~/bin/cow\n\nmkdir ~/.cow\necho '\nlisten = http://127.0.0.1:7777\nproxy = socks5://127.0.0.1:8888\n' > ~/.cow/rc\n\ncd ~/.cow\nnohup cow &\n"})})]})}function h(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(i,{...e})}):i(e)}},17776:function(e,n,o){o.d(n,{R:()=>l,x:()=>d});var r=o(7378);let a={},s=r.createContext(a);function l(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);