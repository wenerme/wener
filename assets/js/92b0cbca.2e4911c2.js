"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["64004"],{43197:function(e,n,d){d.r(n),d.d(n,{frontMatter:()=>t,toc:()=>r,default:()=>m,metadata:()=>a,assets:()=>l,contentTitle:()=>o});var a=JSON.parse('{"id":"devops/web/caddy/caddy-faq","title":"Caddy FAQ","description":"\u7981\u7528\u81EA\u52A8\u8BC1\u4E66","source":"@site/../notes/devops/web/caddy/caddy-faq.md","sourceDirName":"devops/web/caddy","slug":"/devops/web/caddy/faq","permalink":"/notes/devops/web/caddy/faq","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/devops/web/caddy/caddy-faq.md","tags":[{"inline":true,"label":"FAQ","permalink":"/notes/tags/faq"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1752420691000,"frontMatter":{"tags":["FAQ"]},"sidebar":"docs","previous":{"title":"Caddyfile","permalink":"/notes/devops/web/caddy/conf"},"next":{"title":"Caddy L4","permalink":"/notes/devops/web/caddy/l4"}}'),c=d(86106),s=d(17776);let t={tags:["FAQ"]},o="Caddy FAQ",l={},r=[{value:"\u7981\u7528\u81EA\u52A8\u8BC1\u4E66",id:"disable-auto-cert",level:2},{value:"ACME DNS Wildcard cert",id:"acme-dns-wildcard-cert",level:2},{value:"ZeroSSL ACME",id:"zerossl-acme",level:2},{value:"could not determine the zone for: unexpected response code &#39;SERVFAIL&#39;",id:"could-not-determine-the-zone-for-unexpected-response-code-servfail",level:2},{value:"loading initial config: loading new config: creating storage value: context deadline exceeded",id:"loading-initial-config-loading-new-config-creating-storage-value-context-deadline-exceeded",level:2}];function i(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"caddy-faq",children:"Caddy FAQ"})}),"\n",(0,c.jsx)(n.h2,{id:"disable-auto-cert",children:"\u7981\u7528\u81EA\u52A8\u8BC1\u4E66"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-caddyfile",children:"{\n	auto_https off\n}\n"})}),"\n",(0,c.jsx)(n.h2,{id:"acme-dns-wildcard-cert",children:"ACME DNS Wildcard cert"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://github.com/libdns/acmedns",children:"libdns/acmedns"})}),"\n"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-caddyfile",children:'{\n	http_port 80\n	https_port 443\n\n	log {\n		output stdout\n		level INFO\n		format console\n	}\n\n	acme_dns acmedns {\n		config {\n      # *.examole.com \u4F1A\u8BA9\u5339\u914D\u5230\u7684\u57DF\u540D\u90FD\u4F7F\u7528\u8FD9\u91CC\u7684 \u914D\u7F6E\n			"example.com" {\n				username ""\n				password ""\n				subdomain ""\n				fulldomain ""\n				server_url "https://auth.acme-dns.io"\n			}\n		}\n	}\n}\n\nhttp://:80 {\n	respond / "Hello World" 200\n}\n\n*.example.com {\n  @web host web.example.com\n  handle @web {\n    respond / "Hi from Web" 200\n  }\n\n	handle {\n    respond / "Hi from Root" 200\n  }\n}\n'})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-yaml",children:"# caddy-docker-proxy\n- caddy=*.example.com\n- caddy.1_@foo = host foo.example.com\n- caddy.1_handle = @foo\n- 'caddy.1_handle.reverse_proxy={{ upstreams 8080 }}'\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://caddyserver.com/docs/caddyfile/patterns#wildcard-certificates",children:"https://caddyserver.com/docs/caddyfile/patterns#wildcard-certificates"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://github.com/lucaslorentz/caddy-docker-proxy/issues/581#issuecomment-1925432620",children:"https://github.com/lucaslorentz/caddy-docker-proxy/issues/581#issuecomment-1925432620"})}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"zerossl-acme",children:"ZeroSSL ACME"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-caddyfile",children:"{\n    acme_ca https://acme.zerossl.com/v2/DV90\n    email   you@yours.com\n}\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-caddyfile",children:"{\n    acme_ca https://acme.zerossl.com/v2/DV90\n    acme_eab {\n        key_id  $ACME_EAB_KEY_ID\n        mac_key $ACME_EAB_MAC_KEY\n    }\n}\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-caddyfile",children:"tls you@yours.com {\n    ca https://acme.zerossl.com/v2/DV90\n}\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-caddyfile",children:"tls {\n   ca  https://acme.zerossl.com/v2/DV90\n   eab <key_id> <mac_key>\n}\n"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.a,{href:"https://caddy.community/t/using-zerossls-acme-endpoint/9406",children:"https://caddy.community/t/using-zerossls-acme-endpoint/9406"})}),"\n"]}),"\n",(0,c.jsx)(n.h2,{id:"could-not-determine-the-zone-for-unexpected-response-code-servfail",children:"could not determine the zone for: unexpected response code 'SERVFAIL'"}),"\n",(0,c.jsx)(n.p,{children:"DNS \u6709\u95EE\u9898"}),"\n",(0,c.jsx)(n.h2,{id:"loading-initial-config-loading-new-config-creating-storage-value-context-deadline-exceeded",children:"loading initial config: loading new config: creating storage value: context deadline exceeded"})]})}function m(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(i,{...e})}):i(e)}},17776:function(e,n,d){d.d(n,{R:()=>t,x:()=>o});var a=d(7378);let c={},s=a.createContext(c);function t(e){let n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);