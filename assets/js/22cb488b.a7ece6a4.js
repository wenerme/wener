"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["74979"],{59875:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>d,toc:()=>a,default:()=>o,metadata:()=>s,assets:()=>c,contentTitle:()=>l});var s=JSON.parse('{"id":"security/crypto/age","title":"age","description":"- FiloSottile/age","source":"@site/../notes/security/crypto/age.md","sourceDirName":"security/crypto","slug":"/security/crypto/age","permalink":"/notes/security/crypto/age","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/security/crypto/age.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1737815601000,"frontMatter":{"title":"age"},"sidebar":"docs","previous":{"title":"Crypto","permalink":"/notes/security/crypto/"},"next":{"title":"Crypto Glossary","permalink":"/notes/security/crypto/glossary"}}'),r=t(86106),i=t(17776);let d={title:"age"},l="age",c={},a=[];function h(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"age",children:"age"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/FiloSottile/age",children:"FiloSottile/age"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"BSD-3, Go"}),"\n",(0,r.jsx)(n.li,{children:"\u7B80\u5355\u52A0\u5BC6\u5DE5\u5177"}),"\n",(0,r.jsx)(n.li,{children:"\u6587\u4EF6\u7EF4\u5EA6"}),"\n",(0,r.jsx)(n.li,{children:"X25519"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["age \u4E0D\u652F\u6301 ssh agent - ",(0,r.jsx)(n.a,{href:"https://github.com/FiloSottile/age/discussions/244",children:"age#244"})]}),"\n"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"apk add age      # AlpineLinux\nbrew install age # macOS\n\nage-keygen -o key.txt # \u521B\u5EFA key\n\nage -e -p -o secret.txt.age secret.txt # \u4F7F\u7528\u5BC6\u7801\u52A0\u5BC6 - \u9ED8\u8BA4\u8F93\u51FA\u4E3A binary \u9664\u975E -a,--armor\nage -d secret.txt.age                  # \u89E3\u5BC6\nage -e -i passwd.txt secret.txt        # \u4F7F\u7528 passwd.txt \u505A\u5BF9\u79F0\u52A0\u5BC6\n\n# \u76EE\u5F55\u52A0\u5BC6\ntar cvz ~/data | age -r $RECIPIENT > data.tar.gz.age\nage --decrypt -i key.txt data.tar.gz.age > data.tar.gz\n\nage -R ~/.ssh/id_ed25519.pub example.jpg > example.jpg.age # \u4F7F\u7528 SSH pubkey \u52A0\u5BC6\nage -d -i ~/.ssh/id_ed25519 example.jpg.age > example.jpg  # \u4F7F\u7528 SSH private key \u89E3\u5BC6\n"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"flag"}),(0,r.jsx)(n.th,{children:"for"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-e, --encrypt"}),(0,r.jsx)(n.td,{children:"\u52A0\u5BC6 - \u9ED8\u8BA4"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-d, --decrypt"}),(0,r.jsx)(n.td,{children:"\u89E3\u5BC6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-o, --output OUTPUT"}),(0,r.jsx)(n.td,{children:"\u8F93\u51FA\u6587\u4EF6"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-a, --armor"}),(0,r.jsx)(n.td,{children:"\u8F93\u51FA PEM \u683C\u5F0F"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-p, --passphrase"}),(0,r.jsx)(n.td,{children:"\u4F7F\u7528\u5BC6\u7801"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-r, --recipient RECIPIENT"}),(0,r.jsx)(n.td,{children:"\u52A0\u5BC6\u7ED9\u63A5\u6536\u4EBA"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-R, --recipients-file PATH"}),(0,r.jsx)(n.td,{children:"\u63A5\u6536\u4EBA\u5217\u8868\u76EE\u5F55"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"-i, --identity PATH"}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["recipient \u4E3A pubkey\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4E00\u884C\u4E00\u4E2A"}),"\n",(0,r.jsxs)(n.li,{children:["age pubkey \u683C\u5F0F\u4E3A ",(0,r.jsx)(n.code,{children:"ageXXXXX"})," - X25519"]}),"\n",(0,r.jsxs)(n.li,{children:["ssh pubkey \u683C\u5F0F\u4E3A ",(0,r.jsx)(n.code,{children:"ssh-ed25519 AAAA"}),", ",(0,r.jsx)(n.code,{children:"ssh-rsa AAAA"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["identity \u4E3A key - ",(0,r.jsx)(n.code,{children:"AGE-SECRET-KEY-1"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4E00\u884C\u4E00\u4E2A"}),"\n"]}),"\n"]}),"\n"]})]})}function o(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},17776:function(e,n,t){t.d(n,{R:()=>d,x:()=>l});var s=t(7378);let r={},i=s.createContext(r);function d(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);