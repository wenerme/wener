"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["539495"],{53630:function(n){n.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"function-and-interface","metadata":{"permalink":"/story/function-and-interface","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2025/2025-10-1-function-and-interface.md","source":"@site/../story/2025/2025-10-1-function-and-interface.md","title":"\u5DE5\u5177 - \u5DE5 \u4E0E \u5177","description":"\u5982\u679C\u628A\u5DE5\u5177\u770B\u4F5C\u662F\u5DE5\u4E0E\u5177\u3002","date":"2025-10-01T00:00:00.000Z","tags":[{"inline":true,"label":"Thoughts","permalink":"/story/tags/thoughts"}],"readingTime":5.33,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"function-and-interface","title":"\u5DE5\u5177 - \u5DE5 \u4E0E \u5177","tags":["Thoughts"]},"unlisted":false,"nextItem":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u7B2C\u4E8C\u7AE0 - \u6545\u4E8B\u7684\u91CD\u65B0\u5F00\u59CB","permalink":"/story/here-my-love-ch2"}},"content":"\u5982\u679C\u628A\u5DE5\u5177\u770B\u4F5C\u662F\u5DE5\u4E0E\u5177\u3002\\n\\n\u5C06\u5B83\u62C6\u5F00\u6765\u770B\uFF0C\u5DE5\u5177\u662F \u201C\u5DE5\u201D \u4E0E \u201C\u5177\u201D \u7684\u7ED3\u5408\u3002\u8FD9\u662F\u4E00\u4E2A\u7406\u89E3\u6211\u4EEC\u6240\u521B\u9020\u7684\u4E00\u5207\u7684\u5F3A\u5927\u6A21\u578B\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u5DE5\\n\\n\u5DE5 - \u5DE5\u4F5C\u3001\u52B3\u52A8\u3001\u6280\u5DE7\u3001\u80FD\u529B\u3001\u6807\u51C6\\n\\n\u5B83\u4E0D\u662F\u6307\u90A3\u4E2A\u7269\u4EF6\u672C\u8EAB\uFF0C\u800C\u662F\u6307\u4F7F\u7528\u7269\u4EF6\u6240\u8981\u8FBE\u6210\u7684\u201C\u4E8B\u201D\u6216\u6240\u8574\u542B\u7684\u201C\u5DE7\u201D\u3002\\n\\n\u5B83\u5F3A\u8C03 **\u529F\u80FD**\u3002\\n\\n## \u5177\\n\\n\u5177 - \u5668\u7269\u3001\u5668\u5177\\n\\n\u5B83\u5F3A\u8C03\u7684\u662F\u4E00\u4E2A\u5B9E\u9645\u5B58\u5728\u7684\u3001\u6709\u5F62\u7684\u3001\u53EF\u4EE5\u88AB\u638C\u63E1\u548C\u4F7F\u7528\u7684\u7269\u4EF6\u3002\\n\\n\u5B83\u5F3A\u8C03 **\u5177\u8C61\u5316**\u3002\\n\\n## \u5DE5\u5177\\n\\n\u6CA1\u6709\u201C\u5DE5\u201D\uFF0C\u53EA\u6709\u201C\u5177\u201D\uFF1A\u90A3\u5C31\u662F\u4E00\u5806\u6CA1\u6709\u610F\u4E49\u7684\u539F\u6750\u6599\u3002\u4E00\u5757\u77F3\u5934\u3001\u4E00\u6839\u6728\u5934\uFF0C\u5728\u6CA1\u6709\u88AB\u8D4B\u4E88\u201C\u7838\u5F00\u575A\u679C\u201D\u6216\u201C\u652F\u6491\u91CD\u7269\u201D\u8FD9\u4E9B\u201C\u529F\u80FD\u201D\u4E4B\u524D\uFF0C\u5B83\u4EEC\u53EA\u662F\u81EA\u7136\u7269\uFF0C\u800C\u4E0D\u662F\u5DE5\u5177\u3002\\n\\n\u6CA1\u6709\u201C\u5177\u201D\uFF0C\u53EA\u6709\u201C\u5DE5\u201D\uFF1A\u90A3\u5C31\u662F\u4E00\u4E2A\u65E0\u6CD5\u5B9E\u73B0\u7684\u60F3\u6CD5\u6216\u6982\u5FF5\u3002\u6211\u60F3\u201C\u66F4\u5FEB\u5730\u79FB\u52A8\u201D\uFF0C\u8FD9\u4E2A\u201C\u529F\u80FD\u201D\u9700\u6C42\u662F\u5B58\u5728\u7684\uFF0C\u4F46\u76F4\u5230\u6709\u4EBA\u53D1\u660E\u4E86\u8F6E\u5B50\u3001\u9A6C\u8F66\u3001\u81EA\u884C\u8F66\u3001\u6C7D\u8F66\u8FD9\u4E9B\u201C\u5177\u8C61\u5316\u201D\u7684\u8F7D\u4F53\uFF0C\u8FD9\u4E2A\u529F\u80FD\u624D\u5F97\u4EE5\u5B9E\u73B0\u3002\\n\\n\u5DE5\u5177 = \u5DE5 + \u5177 = \u7528 + \u4F53\\n\\n- \u5DE5 - \u529F\u80FD - \u7075\u9B42\\n- \u5177 - \u8F7D\u4F53 - \u8089\u4F53\\n\\n\u5F53\u6211\u4EEC\u8BF4\u201C\u521B\u9020\u4E00\u4E2A\u5DE5\u5177\u201D\u65F6\uFF0C\u6211\u4EEC\u4E0D\u4EC5\u4EC5\u662F\u5728\u5236\u9020\u4E00\u4E2A\u7269\u4EF6\uFF0C\u66F4\u662F\u5728\u4E3A\u67D0\u4E2A\u7279\u5B9A\u7684\u529F\u80FD\u5BFB\u627E\u6700\u4F73\u7684\u5177\u8C61\u5316\u65B9\u6848\u3002\\n\\n## \u7814\u53D1\u4E0E\u5DE5\u5177\\n\\n\u540E\u7AEF\u662F\u201C\u5DE5\u201D - \u5E94\u7528\u7A0B\u5E8F\u7684\u5F15\u64CE\u3001\u5927\u8111\u548C\u9AA8\u67B6\u3002\u5B83\u8D1F\u8D23\\n\\n- \u6838\u5FC3\u903B\u8F91\\n- \u6570\u636E\u7BA1\u7406\\n- \u5B89\u5168\u8BA4\u8BC1\\n- \u7B97\u6CD5\u4E0E\u670D\u52A1\\n\\n\u4F46\u8FD9\u4E00\u5207\u5BF9\u4E8E\u7EC8\u7AEF\u7528\u6237\u6765\u8BF4\uFF0C\u90FD\u662F\u4E0D\u53EF\u89C1\u3001\u4E0D\u53EF\u76F4\u63A5\u611F\u77E5\u7684\u3002\u5B83\u62E5\u6709\u5F3A\u5927\u7684\u6F5C\u5728\u80FD\u529B\uFF0C\u5C31\u50CF\u4E00\u4E2A\u88C5\u5907\u4E86\u9876\u7EA7\u53D1\u52A8\u673A\u548C\u7CBE\u5BC6\u4F20\u52A8\u7CFB\u7EDF\u7684\u88F8\u9732\u5E95\u76D8\u3002\u5B83\u80FD\u8DD1\uFF0C\u4F46\u4F60\u6CA1\u6CD5\u5F00\u3002\\n\\n---\\n\\n\u524D\u7AEF\u662F\u201C\u5177\u201D - \u5E94\u7528\u7A0B\u5E8F\u7684\u5916\u89C2\u3001\u754C\u9762\u548C\u4EA4\u4E92\u3002\\n\\n- \u4FE1\u606F\u5448\u73B0\\n- \u7528\u6237\u4EA4\u4E92\\n- \u7528\u6237\u4F53\u9A8C\\n\\n\u524D\u7AEF\u5C06\u540E\u7AEF\u90A3\u4E9B\u62BD\u8C61\u7684\u3001\u57FA\u4E8E\u6570\u636E\u7684\u201C\u529F\u80FD\u201D\uFF0C\u8F6C\u5316\u4E3A\u4E86\u7528\u6237\u53EF\u4EE5\u770B\u89C1\u3001\u70B9\u51FB\u3001\u89E6\u6478\u7684\u5177\u4F53\u5F62\u6001\u3002\u5B83\u4E3A\u90A3\u4E2A\u5F3A\u5927\u7684\u5F15\u64CE\u88C5\u4E0A\u4E86\u65B9\u5411\u76D8\u3001\u4EEA\u8868\u76D8\u3001\u5EA7\u6905\u548C\u6F02\u4EAE\u7684\u5916\u58F3\uFF0C\u8BA9\u4E00\u4E2A\u666E\u901A\u4EBA\u4E5F\u80FD\u9A7E\u9A6D\u5B83\u3002\\n\\n---\\n\\nAPI - \u8FDE\u63A5\u201C\u5DE5\u201D\u4E0E\u201C\u5177\u201D\u7684\u5951\u7EA6 - \u8840\u8109\\n\\n## \u7528\u6237\u4EF7\u503C\u5B9E\u73B0\\n\\n\u201CAccessable\u201D\uFF08\u53EF\u89E6\u8FBE/\u53EF\u7528\u6027\uFF09\u5728\u5F88\u591A\u65F6\u5019\u6BD4\u529F\u80FD\u672C\u8EAB\u66F4\u91CD\u8981\u3002\\n\\n\u201CAccessible\u201D\u672C\u8EAB\u4E0D\u662F\u7ED3\u679C\uFF0C\u4F46\u5B83\u662F\u901A\u5F80\u7ED3\u679C\u7684\u552F\u4E00\u6865\u6881\u3002\u4E00\u4E2A\u65E0\u6CD5\u88AB\u7528\u6237\u89E6\u8FBE\u3001\u7406\u89E3\u548C\u4F7F\u7528\u7684\u529F\u80FD\uFF0C\u5176\u7ED3\u679C\u7B49\u4E8E\u96F6\u3002\\n\\n```\\n\u7528\u6237\u83B7\u5F97\u7684\u6700\u7EC8\u7ED3\u679C = \u6838\u5FC3\u529F\u80FD(\u5DE5)\u7684\u6F5C\u5728\u4EF7\u503C \xd7 \u53EF\u7528\u6027(\u5177)\u7684\u5B9E\u73B0\u7A0B\u5EA6\\n```\\n\\n\u201CAccessable\u201D\\n\\n- \u5B83\u662F\u4EF7\u503C\u7684\u201C\u6700\u540E\u4E00\u516C\u91CC\u201D\\n- \u5B83\u5B9A\u4E49\u4E86\u76EE\u6807\u7528\u6237\\n- \u5728\u529F\u80FD\u540C\u8D28\u5316\u7684\u4E16\u754C\u91CC\uFF0C\u5B83\u672C\u8EAB\u5C31\u662F\u6838\u5FC3\u7ADE\u4E89\u529B\\n\\n\u53EA\u6709\u88AB\u7528\u6237\u201CAccessable\u201D\u5730\u4F53\u9A8C\u5230\u7684\u90A3\u90E8\u5206\u529F\u80FD\uFF0C\u624D\u6784\u6210\u4E86\u771F\u6B63\u7684\u201C\u6709\u6548\u7ED3\u679C\u201D\u3002\\n\\n\u4E3E\u4F8B\u6765\u8BF4\\n\\n- \u6F5C\u5728\u7ED3\u679C\uFF1A \u540E\u7AEF\u5B9E\u73B0\u4E86100\u4E2A\u529F\u80FD\u3002\u8FD9\u662F\u7406\u8BBA\u4E0A\u7684\u3001\u6F5C\u5728\u7684\u4EF7\u503C\u3002\\n- \u6709\u6548\u7ED3\u679C\uFF1A \u7528\u6237\u56E0\u4E3A\u754C\u9762\u53CB\u597D\u3001\u5F15\u5BFC\u6E05\u6670\uFF0C\u6700\u7EC8\u53EA\u4F7F\u7528\u4E86\u5176\u4E2D\u6700\u91CD\u8981\u768410\u4E2A\u529F\u80FD\uFF0C\u5E76\u89E3\u51B3\u4E86\u4ED6\u4EEC\u7684\u95EE\u9898\u3002\u8FD910\u4E2A\u529F\u80FD\u5E26\u6765\u7684\u4EF7\u503C\uFF0C\u624D\u662F\u201C\u6709\u6548\u7ED3\u679C\u201D\u3002\\n\\n---\\n\\n- \u201C\u5DE5\u201D\u51B3\u5B9A\u4E86\u4E00\u4E2A\u5DE5\u5177\u7684\u4EF7\u503C\u4E0A\u9650\uFF0C\u5B83\u80FD\u8D70\u591A\u9AD8\u3001\u591A\u8FDC\u3002\\n- \u201C\u5177\u201D\u5219\u51B3\u5B9A\u4E86\u8FD9\u4E2A\u4EF7\u503C\u4E0A\u9650\u4E2D\u6709\u591A\u5C11\u80FD\u591F\u88AB\u5B9E\u9645\u4EA4\u4ED8\u7ED9\u7528\u6237\uFF0C\u5B83\u51B3\u5B9A\u4E86\u5DE5\u5177\u80FD\u8D70\u591A\u5BBD\u3001\u591A\u5E7F\u3002\\n\\n\u5728\u4E00\u4E2A\u8FFD\u6C42\u6781\u81F4\u529F\u80FD\u548C\u6027\u80FD\u7684\u201C\u5DE5\u7A0B\u5E08\u601D\u7EF4\u201D\u91CC\uFF0C\u201C\u5DE5\u201D\u662F\u6838\u5FC3\u3002\\n\u4F46\u5728\u4E00\u4E2A\u4EE5\u7528\u6237\u4E3A\u4E2D\u5FC3\u7684\u201C\u4EA7\u54C1\u601D\u7EF4\u201D\u91CC\uFF0C\u786E\u4FDD\u201C\u5DE5\u201D\u7684\u4EF7\u503C\u80FD\u901A\u8FC7\u201C\u5177\u201D\u987A\u7545\u5730\u4F20\u9012\u51FA\u53BB\uFF0C\u624D\u662F\u901A\u5F80\u6210\u529F\u7684\u5173\u952E\u3002\\n\\n## \u5DE5\u4E0E\u5177 = Function and Interface\\n\\n- \u5DE5 = Function\\n  - \u5B83\u5173\u4E4E\u201C\u4E3A\u4EC0\u4E48\u201D\u548C\u201C\u505A\u4EC0\u4E48\u201D (Why & What it does)\u3002\\n  - \u5B83\u662F\u5185\u5728\u7684\u903B\u8F91\u3001\u76EE\u7684\u3001\u80FD\u529B\u3001\u8FC7\u7A0B\u3002\\n  - \u5728\u8F6F\u4EF6\u4E2D\uFF0C\u5B83\u5C31\u662F\u540E\u7AEF\u903B\u8F91\u3001\u7B97\u6CD5\u3001\u6570\u636E\u5904\u7406\u3001\u4E1A\u52A1\u89C4\u5219\u3002\\n  - \u5B83\u662F\u5DE5\u5177\u7684\u7075\u9B42\u548C\u4EF7\u503C\u6838\u5FC3\uFF0C\u4F46\u672C\u8EAB\u662F\u62BD\u8C61\u7684\u3001\u4E0D\u53EF\u89C1\u7684\u3002\\n- \u5177 = Interface\\n  - \u5B83\u5173\u4E4E\u201C\u662F\u4EC0\u4E48\u201D\u548C\u201C\u600E\u4E48\u7528\u201D (What it is & How to use it)\u3002\\n  - \u5B83\u662F\u5916\u5728\u7684\u5F62\u6001\u3001\u8F7D\u4F53\u3001\u4EA4\u4E92\u70B9\u3001\u5448\u73B0\u65B9\u5F0F\u3002\\n  - \u5728\u8F6F\u4EF6\u4E2D\uFF0C\u5B83\u5C31\u662F\u56FE\u5F62\u7528\u6237\u754C\u9762(GUI)\u3001\u5E94\u7528\u7A0B\u5E8F\u7F16\u7A0B\u63A5\u53E3(API)\u3001\u547D\u4EE4\u884C(CLI)\u3002\\n  - \u5728\u786C\u4EF6\u4E2D\uFF0C\u5B83\u5C31\u662F\u4EA7\u54C1\u7684\u5916\u89C2\u3001\u6309\u94AE\u3001\u5C4F\u5E55\u3002\\n  - \u5B83\u662F\u529F\u80FD\u7684**\u8EAB\u4F53\u548C\u8868\u8FBE\u5F62\u5F0F**\uFF0C\u662F\u8FDE\u63A5\u7528\u6237\u548C\u529F\u80FD\u7684**\u552F\u4E00\u6865\u6881**\u3002\\n\\n## Function and Interface\\n\\n- \u597D\u754C\u9762 + \u597D\u529F\u80FD = \u7406\u60F3\u7684\u4EA7\u54C1\u3002 \u4EF7\u503C\u6700\u5927\u5316\u3002\\n- \u574F\u754C\u9762 + \u597D\u529F\u80FD = \u749E\u7389\uFF0C\u4F46\u96BE\u4EE5\u89E6\u53CA\u3002\\n- \u597D\u754C\u9762 + \u574F\u529F\u80FD = \u91D1\u7389\u5176\u5916\uFF0C\u8D25\u7D6E\u5176\u4E2D\u3002\\n- \u574F\u754C\u9762 + \u574F\u529F\u80FD = \u7535\u5B50\u5783\u573E\u3002\\n\\n\u201C\u7528\u6237\u754C\u9762\u201D\u4E0D\u662F\u7ED3\u679C\\n\\n- \u7528\u6237\u8981\u7684**\u7ED3\u679C**\u4E0D\u662F\u201C\u70B9\u51FB\u4E00\u4E2A\u652F\u4ED8\u6309\u94AE\u201D\uFF0C\u800C\u662F\u201C\u6210\u529F\u4E70\u5230\u4E00\u4EF6\u5546\u54C1\u201D\u3002\\n- \u7528\u6237\u8981\u7684**\u7ED3\u679C**\u4E0D\u662F\u201C\u770B\u5230\u4E00\u4E2A\u6F02\u4EAE\u7684\u56FE\u8868\u201D\uFF0C\u800C\u662F\u201C\u7406\u89E3\u4E86\u8FD9\u4E2A\u6708\u5F00\u652F\u7684\u53D8\u5316\u8D8B\u52BF\u201D\u3002\\n\\n\u4F46\u4ECE\u7528\u6237\u7684\u611F\u77E5\u548C\u4F53\u9A8C\u6765\u770B\uFF0C\u201C\u7528\u6237\u754C\u9762\u201D\u5C31\u662F\u4ED6\u4EEC\u80FD\u4F53\u9A8C\u5230\u7684\u90A3\u4E2A\u201C\u7ED3\u679C\u201D\u7684\u5168\u90E8\u3002\\n\\n\u4F8B\u5982\u4E00\u4E2A\u9910\u5385\\n\\n- \u6700\u7EC8\u7ED3\u679C\u662F\uFF1A \u4E00\u6B21\u6EE1\u610F\u800C\u9971\u8DB3\u7684\u7528\u9910\u4F53\u9A8C\u3002\\n- \u6838\u5FC3\u529F\u80FD (\u5DE5) \u662F\uFF1A \u53A8\u5E08\u70F9\u996A\u51FA\u7684\u7F8E\u5473\u83DC\u80B4\u3002\\n- \u7528\u6237\u754C\u9762 (\u5177) \u662F\uFF1A \u9910\u5385\u7684\u88C5\u4FEE\u3001\u83DC\u5355\u7684\u8BBE\u8BA1\u3001\u670D\u52A1\u5458\u7684\u6001\u5EA6\u3001\u9910\u5177\u7684\u6446\u653E\u3001\u83DC\u54C1\u7684\u5448\u73B0\u65B9\u5F0F\uFF08\u6446\u76D8\uFF09\u3002\\n\\n\u4F60\u4E0D\u80FD\u201C\u5403\u201D\u83DC\u5355\u548C\u670D\u52A1\u5458\uFF0C\u4F60\u6700\u7EC8\u5403\u7684\u662F\u83DC\u3002\u4F46\u5982\u679C\u83DC\u5355\u6A21\u7CCA\u4E0D\u6E05\u3001\u670D\u52A1\u5458\u6001\u5EA6\u6076\u52A3\u3001\u73AF\u5883\u5608\u6742\u810F\u4E71\uFF0C\u90A3\u4E48\u5373\u4F7F\u83DC\u672C\u8EAB\u518D\u597D\u5403\uFF0C\u4F60\u83B7\u5F97\u7684\u201C\u7ED3\u679C\u201D\uFF08\u7528\u9910\u4F53\u9A8C\uFF09\u4E5F\u662F\u7CDF\u7CD5\u7684\u3002\\n\\n\u53CD\u8FC7\u6765\u8BF4\uFF0C\u5982\u679C\u6574\u4E2A\u201C\u754C\u9762\u201D\u4F53\u9A8C\u6781\u4F73\uFF0C\u5B83\u751A\u81F3\u80FD\u63D0\u5347\u4F60\u5BF9\u83DC\u54C1\uFF08\u529F\u80FD\uFF09\u7684\u8BC4\u4EF7\u3002\\n\\n---\\n\\n\u7528\u6237\u754C\u9762\u4E0D\u662F\u7ED3\u679C\u672C\u8EAB\uFF0C\u4F46\u5B83\u662F\u5BF9\u7ED3\u679C\u7684\u5C01\u88C5 (Packaging) \u548C\u5448\u73B0 (Presentation)\u3002\\n\u5728\u7528\u6237\u7684\u4E3B\u89C2\u4E16\u754C\u91CC\uFF0C\u8FD9\u4E2A\u5C01\u88C5\u548C\u5448\u73B0\u7684\u597D\u574F\uFF0C\u76F4\u63A5\u5B9A\u4E49\u4E86\u4ED6\u4EEC\u6240\u83B7\u5F97\u7684\u6700\u7EC8\u7ED3\u679C\u7684\u8D28\u91CF\u3002\\n\\n\u4E00\u4E2A\u529F\u80FD\uFF08\u5DE5\uFF09\u65E0\u8BBA\u591A\u597D\uFF0C\u90FD\u5FC5\u987B\u901A\u8FC7\u754C\u9762\uFF08\u5177\uFF09\u8FD9\u4E2A\u552F\u4E00\u7684\u901A\u9053\u624D\u80FD\u62B5\u8FBE\u7528\u6237\u3002\u5728\u8FD9\u4E2A\u4F20\u9012\u8FC7\u7A0B\u4E2D\uFF0C\u754C\u9762\u65E2\u662F\u5B88\u95E8\u4EBA\uFF0C\u53C8\u662F\u653E\u5927\u5668\u3002\\n\\n- \u5B88\u95E8\u4EBA\uFF1A \u51B3\u5B9A\u4E86\u7528\u6237\u80FD\u4E0D\u80FD\u3001\u613F\u4E0D\u613F\u8FDB\u6765\u4F53\u9A8C\u6838\u5FC3\u529F\u80FD\u3002\\n- \u653E\u5927\u5668\uFF1A \u51B3\u5B9A\u4E86\u6838\u5FC3\u529F\u80FD\u7684\u4EF7\u503C\u662F\u88AB\u589E\u5F3A\u4E86\uFF0C\u8FD8\u662F\u88AB\u524A\u5F31\u4E86\u3002\\n\\n\\n## \u7ED3\u8BBA\\n\\n- \u521B\u9020\u4E00\u4E2A\u597D\u7684\u5DE5\u5177\uFF0C\u672C\u8D28\u4E0A\u5C31\u662F\u4E3A\u5353\u8D8A\u7684\u201C\u529F\u80FD\u201D\u5BFB\u627E\u6700\u6070\u5F53\u7684\u201C\u754C\u9762\u201D\u3002\\n- \u65E0\u8BBA\u662F\u4EE3\u7801\u3001\u4EA7\u54C1\uFF0C\u8FD8\u662F\u4E00\u4E2A\u56E2\u961F\u3001\u4E00\u5957\u6D41\u7A0B\uFF0C\u8FD9\u4E2A\u201C\u5DE5\u4E0E\u5177\u201D\u7684\u601D\u7EF4\u6A21\u578B\u90FD\u540C\u6837\u9002\u7528\u3002\u5B83\u662F\u521B\u9020\u4E0E\u8BBE\u8BA1\u7684\u6838\u5FC3\u3002\\n\\n\x3c!--\\nxref\\n\\nV2EX https://v2ex.com/t/1163017\\n\u77E5\u4E4E https://zhuanlan.zhihu.com/p/1956685404435636382\\n\u53D1\u5E03 https://wener.me/story/function-and-interface\\n\u539F\u6587 https://github.com/wenerme/wener/blob/master/story/2025/2025-10-1-function-and-interface.md\\n--\x3e"},{"id":"here-my-love-ch2","metadata":{"permalink":"/story/here-my-love-ch2","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/here-my-love/2025-10-01-\u6545\u4E8B\u7684\u91CD\u65B0\u5F00\u59CB.md","source":"@site/../story/here-my-love/2025-10-01-\u6545\u4E8B\u7684\u91CD\u65B0\u5F00\u59CB.md","title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u7B2C\u4E8C\u7AE0 - \u6545\u4E8B\u7684\u91CD\u65B0\u5F00\u59CB","description":"\u8BB0\u5FC6\u7684\u7247\u6BB5\u6700\u662F\u6320\u4EBA\u3002","date":"2025-10-01T00:00:00.000Z","tags":[{"inline":true,"label":"\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979","permalink":"/story/tags/\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979"},{"inline":true,"label":"\u6545\u4E8B","permalink":"/story/tags/\u6545\u4E8B"}],"readingTime":1.52,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u7B2C\u4E8C\u7AE0 - \u6545\u4E8B\u7684\u91CD\u65B0\u5F00\u59CB","slug":"here-my-love-ch2","tags":["\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979","\u6545\u4E8B"],"date":"2025-10-01T00:00:00.000Z","type":"novel"},"unlisted":false,"prevItem":{"title":"\u5DE5\u5177 - \u5DE5 \u4E0E \u5177","permalink":"/story/function-and-interface"},"nextItem":{"title":"\u89E3\u5BC6 ClassFinal \u52A0\u5BC6\u7684 Java Jar \u5305","permalink":"/story/decrypt-classfinal-jar"}},"content":"\u8BB0\u5FC6\u7684\u7247\u6BB5\u6700\u662F\u6320\u4EBA\u3002\\n\\n\u56DE\u5FC6\u91CC\u6A21\u7CCA\u7684\u7247\u6BB5\uFF0C\u6CA1\u6709\u524D\u56E0\u7684\u540E\u679C\uFF0C\u6CA1\u6709\u8D77\u627F\u7684\u8F6C\u5408\uFF0C\u751A\u81F3\u8FDE\u5F53\u521D\u8DCC\u5B95\u7684\u8D77\u4F0F\uFF0C\u5FC3\u6F6E\u7684\u6F8E\u6E43\u90FD\u5DF2\u7ECF\u5E73\u9759\u3002\\n\\n\u53EA\u5269\u4E0B\u7247\u6BB5\uFF0C\u4ECD\u65E7\u6709\u4E00\u4E9B\u8138\u5E9E\u3002\\n\\n\u5269\u4E0B\u7684\uFF0C\u5C31\u50CF\u662F\u6545\u4E8B\u7684\u6CE8\u811A\uFF0C\u6CA1\u6709\u4E3B\u89D2\u4F46\u4F3C\u4E4E\u53C8\u662F\u7275\u8FDE\u7684\u4E00\u7CFB\u5217\u6545\u4E8B\u3002\\n\\n\u4E00\u76F4\u4EE5\u6765\u7684\u6211\u4E3B\u5F20\u662F\u6D3B\u5728\u5F53\u4E0B\u3002\\n\\n\u4F46\u56DE\u5FC6\u7F8E\u5999\u7684\u662F\uFF0C\u80FD\u4ECE\u4E00\u4E2A\u7B2C\u4E09\u8005\u7684\u89C6\u89D2\uFF0C\u53BB\u91CD\u65B0\u5BA1\u89C6\u90A3\u4E9B\u66FE\u7ECF\u53D1\u751F\u7684\u6545\u4E8B\u3002\\n\\n\u4F46\u65E9\u5DF2\u5FD8\u8BB0\u662F\u600E\u4E48\u5F00\u59CB\u7684\uFF0C\u4E0D\u8FC7\uFF0C\u7D22\u6027\u662F\u6709\u4E2A\u5408\u9002\u7684\u7ED3\u5C3E\u3002\\n\\n## \u5F00\u59CB\u7684\u6545\u4E8B\\n\\n\u65F6\u95F4\u56DE\u5230\u521D\u4E2D\u65F6\u4EE3\uFF0C\u65B0\u9C9C\u548C\u65E0\u804A\u7684\u4FE1\u606F\u5145\u65A5\u7740\u6BCF\u5929\u91CD\u590D\u7684\u751F\u6D3B\u3002\\n\\n\u800C\u8FD9\u4E2A\u7537\u5B69\u6709\u4E2A\u7B80\u5355\u7684\u671F\u76FC\uFF1A\u6BCF\u5929\u80FD\u770B\u5230\u5979\u3002\\n\\n\u5973\u5B69\u5F88\u559C\u6B22\u7B11\uFF0C\u8FD9\u5E94\u8BE5\u662F\u7537\u5B69\u8BB0\u5FC6\u6700\u6DF1\u523B\u7684\u90E8\u5206\u3002\u5979\u7684\u7B11\u5BB9\u50CF\u662F\u9633\u5149\uFF0C\u80FD\u7167\u4EAE\u6574\u4E2A\u6559\u5BA4\u3002\\n\\n\u7537\u5B69\u5F88\u50BB\uFF0C\u53EA\u5E0C\u671B\u80FD\u5C3D\u91CF\u9760\u8FD1\u5979\uFF0C\u5373\u4FBF\u662F\u4EC0\u4E48\u90FD\u6CA1\u80FD\u8BF4\u3002\\n\\n\u7537\u5B69\u5F88\u50BB\uFF0C\u53EA\u5E0C\u671B\u80FD\u548C\u5979\u5750\u5728\u4E00\u8D77\uFF0C\u5373\u4FBF\u662F\u4EC0\u4E48\u90FD\u4E0D\u53EF\u80FD\u505A\u3002\\n\\n\u7537\u5B69\u5F88\u50BB\uFF0C\u53EA\u5E0C\u671B\u80FD\u548C\u5979\u4E00\u8D77\u653E\u5B66\uFF0C\u5373\u4FBF\u662F\u4EC0\u4E48\u90FD\u4E0D\u53EF\u80FD\u804A\u3002\\n\\n\u4F46\u552F\u4E00\u80FD\u505A\u7684\uFF0C\u53EA\u80FD\u662F\u6BCF\u5929\u770B\u5230\u5979\uFF0C\u5219\u5DF2\u7ECF\u5F88\u6EE1\u8DB3\u4E86\u3002\\n\\n\u7537\u5B69\u603B\u662F\u559C\u6B22\u81EA\u6301\u77DC\u6301\uFF0C\u4E5F\u6216\u8BB8\u5979\u5E76\u4E0D\u4F1A\u4E3B\u52A8\u3002\\n\\n\u4E00\u5929\u5929\u8FD9\u6837\u8FC7\u8FD9\uFF0C\u4ECE\u672A\u60F3\u8FC7\u6545\u4E8B\u4F1A\u6709\u8F6C\u6298\uFF0C\u53EA\u9700\u8981\u8FD9\u6837\u7684\u7F8E\u597D\u751F\u6D3B\u4E00\u76F4\u5EF6\u7EED\uFF0C\u4E0D\uFF0C\u8FD9\u5BF9\u4ED6\u6765\u8BF4\u5C31\u662F\u7F8E\u597D\u7684\u3002\\n\\n\u539F\u6765\uFF0C\u4ED6\u4ECE\u6765\u6CA1\u5728\u8111\u5B50\u91CC\u51FA\u73B0\u8FC7\u559C\u6B22\u4E24\u4E2A\u5B57\uFF0C\u56E0\u4E3A\u4ED6\u4ECE\u6765\u6CA1\u60F3\u8FC7\u8981\u62E5\u6709\u5979\u3002\\n\\n\u539F\u6765\uFF0C\u4ED6\u4ECE\u6765\u6CA1\u610F\u8BC6\u5230\uFF0C\u6216\u8BB8\u4ED6\u66FE\u7ECF\u559C\u6B22\u8FC7\u5979\u3002\\n\\n\u539F\u6765\uFF0C\u4ED6\u771F\u7684\u5F88\u50BB\uFF0C\u4F46\u8FD9\u5374\u5F88\u7F8E\u597D\u3002\\n\\n\u4ED6\u8BF4\u4ED6\u4ECE\u6765\u6CA1\u6709\u540E\u6094\uFF0C\u7F8E\u597D\u662F\u9700\u8981\u56DE\u5934\u770B\u624D\u80FD\u53D1\u73B0\u7684\u3002\\n\\n\u539F\u6765\uFF0C\u4ED6\u771F\u7684\u5F88\u50BB\u3002"},{"id":"decrypt-classfinal-jar","metadata":{"permalink":"/story/decrypt-classfinal-jar","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2024/2024-09-18-decrypt-classfinal-jar.md","source":"@site/../story/2024/2024-09-18-decrypt-classfinal-jar.md","title":"\u89E3\u5BC6 ClassFinal \u52A0\u5BC6\u7684 Java Jar \u5305","description":"ClassFinal \u662F\u4E00\u6B3Ejava class\u6587\u4EF6\u5B89\u5168\u52A0\u5BC6\u5DE5\u5177\uFF0C\u652F\u6301\u76F4\u63A5\u52A0\u5BC6jar\u5305\u6216war\u5305\uFF0C\u65E0\u9700\u4FEE\u6539\u4EFB\u4F55\u9879\u76EE\u4EE3\u7801\uFF0C\u517C\u5BB9spring-framework\uFF1B\u53EF\u907F\u514D\u6E90\u7801\u6CC4\u6F0F\u6216\u5B57\u8282\u7801\u88AB\u53CD\u7F16\u8BD1\u3002","date":"2024-09-18T00:00:00.000Z","tags":[{"inline":true,"label":"Java","permalink":"/story/tags/java"},{"inline":true,"label":"Decrypt","permalink":"/story/tags/decrypt"}],"readingTime":2.05,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"decrypt-classfinal-jar","title":"\u89E3\u5BC6 ClassFinal \u52A0\u5BC6\u7684 Java Jar \u5305","tags":["Java","Decrypt"]},"unlisted":false,"prevItem":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u7B2C\u4E8C\u7AE0 - \u6545\u4E8B\u7684\u91CD\u65B0\u5F00\u59CB","permalink":"/story/here-my-love-ch2"},"nextItem":{"title":"\u6211\u8BB0\u5F55\u601D\u8003\u7684\u65B9\u5F0F\u7B80\u5355\u603B\u7ED3","permalink":"/story/how-i-note"}},"content":"[ClassFinal](https://github.com/roseboy/classfinal) \u662F\u4E00\u6B3Ejava class\u6587\u4EF6\u5B89\u5168\u52A0\u5BC6\u5DE5\u5177\uFF0C\u652F\u6301\u76F4\u63A5\u52A0\u5BC6jar\u5305\u6216war\u5305\uFF0C\u65E0\u9700\u4FEE\u6539\u4EFB\u4F55\u9879\u76EE\u4EE3\u7801\uFF0C\u517C\u5BB9spring-framework\uFF1B\u53EF\u907F\u514D\u6E90\u7801\u6CC4\u6F0F\u6216\u5B57\u8282\u7801\u88AB\u53CD\u7F16\u8BD1\u3002\\n\\n**\u8981\u70B9**\\n\\n- \u62FF\u5230 password\\n  - \u53EF\u80FD\u5185\u7F6E\u4E86\\n    - META-INF/.classes/org.springframework.config.Pass\\n  - \u53EF\u80FD\u9700\u8981\u901A\u8FC7\u5916\u90E8\u65B9\u5F0F\u83B7\u53D6\\n    - \u547D\u4EE4\u884C\u53C2\u6570\u6216\u8005\u73AF\u5883\u53D8\u91CF\u6216\u8005\u62E6\u622A Class \u52A0\u8F7D\\n  - \u603B\u7684\u6765\u8BF4\u6BD4\u8F83\u5BB9\u6613\u83B7\u53D6\\n- \u5C06 jar \u6DFB\u52A0\u5230 classpath - \u65B9\u4FBF\u76F4\u63A5\u8C03\u7528 net.roseboy.classfinal \u5185\u5185\u5BB9\\n  - \u901A\u8FC7 IDE \u6216\u8005\u901A\u8FC7\u547D\u4EE4\u884C\u53C2\u6570\\n- \u89E3\u538B jar \u5230\u5F53\u524D \u76EE\u5F55 tmp\\n- \u89E3\u5BC6 class\\n- \u53CD\u7F16\u8BD1\u5F97\u5230 java\\n- \u6DFB\u52A0 lib \u76EE\u5F55\u5230 classpath\\n- \u901A\u8FC7 IDEA \u53EF\u76F4\u63A5\u8C03\u7528\u539F\u59CB jar \u91CC\u5185\u5BB9\u6216\u76F4\u63A5\u542F\u52A8 Application\\n  - \u53EF\u80FD\u9700\u8981\u4FEE\u6539\u53CD\u7F16\u8BD1\u540E\u7684 java \u6587\u4EF6 - \u90E8\u5206\u53CD\u7F16\u8BD1\u8BED\u6CD5\u9519\u8BEF\\n\\n\x3c!-- more --\x3e\\n\\n```java title=\\"DecryptClassFinal.java\\"\\npackage main;\\n\\nimport net.roseboy.classfinal.JarDecryptor;\\nimport net.roseboy.classfinal.util.EncryptUtils;\\nimport net.roseboy.classfinal.util.StrUtils;\\n\\nimport java.io.File;\\nimport java.io.IOException;\\nimport java.nio.file.Files;\\nimport java.nio.file.Path;\\n\\npublic class DecryptClassFinal {\\n    public static void main(String[] args) throws IOException {\\n        String src =System.getProperty(\\"user.dir\\") +  \\"/tmp/META-INF/.classes\\";\\n        String dst = System.getProperty(\\"user.dir\\") + \\"/src/main/class\\";\\n\\n        File srcDir = new File(src);\\n        JarDecryptor.getInstance();\\n        // \u9ED8\u8BA4 password \u4F4D\u7F6E\\n        String pass = Files.readString(Path.of(src+\\"/org.springframework.config.Pass\\"));\\n        char[] password =  EncryptUtils.md5(pass.toCharArray());\\n\\n        System.out.printf(\\"src:%s\\\\n\\", src);\\n        System.out.printf(\\"dst:%s\\\\n\\", dst);\\n        System.out.printf(\\"password:%s\\\\n\\", pass);\\n\\n        if (srcDir.isDirectory()) {\\n            for (File file : srcDir.listFiles()) {\\n                String fp = file.getName();\\n                if (fp.startsWith(\\"org.springframework\\")) {\\n                    continue;\\n                }\\n\\n                byte[] fileBytes = Files.readAllBytes(file.toPath());\\n                byte[] out = dec(password, fp, fileBytes);\\n\\n                String[] split = fp.split(\\"[.]\\");\\n                String fn = split[split.length-1];\\n\\n                String p = dst+\\"/\\"+ fp.substring(0, fp.lastIndexOf(\'.\')).replaceAll(\\"[.]\\", \\"/\\");\\n                new File(p).mkdirs();\\n                String f = p+\\"/\\"+ fn +\\".class\\";\\n\\n                System.out.println(\\"Write to: \\"+f+\\" Len:\\"+out.length);\\n                Files.write(new File(f).toPath(), out);\\n            }\\n        }\\n\\n    }\\n\\n    public static byte[] dec(char[] password, String fileName, byte[] bytes){\\n        char[] pass;\\n        pass = StrUtils.merger(new char[][]{password, fileName.toCharArray()});\\n        return  EncryptUtils.de(bytes, pass, 1);\\n    }\\n}\\n```\\n\\n\u8FD0\u884C main \u540E src/main/class \u76EE\u5F55\u4E0B\u4F1A\u751F\u6210\u89E3\u5BC6\u540E\u7684 class \u6587\u4EF6\u3002\\n\\n```bash title=\\"\u53CD\u7F16\u8BD1 class \u4E3A java\\"\\n# \u5047\u8BBE\u662F macOS \u5B89\u88C5\u7684 IDEA\\n# IDEA \u81EA\u5E26\u7684\u53CD\u7F16\u8BD1\u5DE5\u5177\u89E3\u5BC6\u5373\u53EF\\njava -cp ~/Applications/IntelliJ\\\\ IDEA\\\\ Ultimate.app/Contents/plugins/java-decompiler/lib/java-decompiler.jar \\\\\\n  org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler \\\\\\n  -dgs=true \\\\\\n  src/main/class/ src/main/java/\\n```\\n\\n\u6267\u884C\u540E src/main/java \u76EE\u5F55\u4E0B\u4F1A\u751F\u6210\u53CD\u7F16\u8BD1\u540E\u7684 java \u6587\u4EF6\u3002\\n\\n:::tip\\n\\n\u89E3\u538B\u5F97\u5230\u7684 lib \u76EE\u5F55(sprint-boot \u7684 jar)\uFF0C\u53EF\u4EE5\u76F4\u63A5\u52A0\u5165\u5230 classpath \u4E2D\uFF0C\u7136\u540E\u5373\u53EF\u76F4\u63A5\u5728\u4EE3\u7801\u4E2D\u8C03\u7528 jar \u6216\u8005\u76F4\u63A5\u8FD0\u884C Application\u3002\\n\\n:::"},{"id":"how-i-note","metadata":{"permalink":"/story/how-i-note","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2024/2024-07-18-how-i-note.md","source":"@site/../story/2024/2024-07-18-how-i-note.md","title":"\u6211\u8BB0\u5F55\u601D\u8003\u7684\u65B9\u5F0F\u7B80\u5355\u603B\u7ED3","description":"1. README \u6D89\u8DB3\u6216\u8005\u4E86\u89E3\u4E00\u4E2A\u65B0\u7684\u9886\u57DF\uFF0C\u9700\u8981\u5148\u5BF9\u4E00\u4E2A\u9886\u57DF\u6709\u57FA\u7840\u7684\u7406\u89E3","date":"2024-07-18T00:00:00.000Z","tags":[{"inline":true,"label":"Thinking","permalink":"/story/tags/thinking"}],"readingTime":4.09,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"how-i-note","title":"\u6211\u8BB0\u5F55\u601D\u8003\u7684\u65B9\u5F0F\u7B80\u5355\u603B\u7ED3","tags":["Thinking"]},"unlisted":false,"prevItem":{"title":"\u89E3\u5BC6 ClassFinal \u52A0\u5BC6\u7684 Java Jar \u5305","permalink":"/story/decrypt-classfinal-jar"},"nextItem":{"title":"\u7B2C\u4E00\u6B21\u5C1D\u8BD5\u673A\u5668\u5B66\u4E60","permalink":"/story/ml-first-try"}},"content":"1. README \u6D89\u8DB3\u6216\u8005\u4E86\u89E3\u4E00\u4E2A\u65B0\u7684\u9886\u57DF\uFF0C\u9700\u8981\u5148\u5BF9\u4E00\u4E2A\u9886\u57DF\u6709\u57FA\u7840\u7684\u7406\u89E3\\n   - \u6BCF\u79CD\u9886\u57DF\u7C7B\u578B\u7684\u6846\u67B6\u7ED3\u6784\u53EF\u80FD\u4F1A\u4E0D\u4E00\u6837\\n   - \u4F8B\u5982 \u75BE\u75C5\u76F8\u5173 https://wener.me/notes/healthcare/disease/adhesive-capsulitis\\n   - \u4F8B\u5982 \u6280\u672F\u76F8\u5173 https://wener.me/notes/voip/asterisk\\n1. GLOSSARY \u8BB0\u5F55\u8FC7\u7A0B\u4E2D\u9047\u5230\u7684\u5404\u79CD\u672F\u8BED\uFF0C\u901A\u8FC7\u672F\u8BED\u80FD\u591F\u5FEB\u901F\u4E86\u89E3\u4E00\u4E2A\u9886\u57DF\\n   - \u672F\u8BED\u901A\u5E38\u6D89\u53CA\u82F1\u8BED&\u4E2D\u6587\u8BCD\u6C47\\n   - \u5F88\u591A\u65F6\u5019\u82F1\u6587\u8BCD\u6C47\u66F4\u80FD\u4F53\u73B0\u672C\u610F\\n   - \u4F8B\u5982 \u5065\u5EB7\u76F8\u5173 https://wener.me/notes/healthcare/glossary\\n   - \u4F8B\u5982 AI\u673A\u5668\u5B66\u4E60\u76F8\u5173 https://wener.me/notes/ai/ml/glossary\\n1. AWESOME \u4E86\u89E3\u548C\u6574\u7406\u4E00\u4E2A\u9886\u57DF\u7684\u8D44\u6E90\uFF0C\u80FD\u591F\u5FEB\u901F\u627E\u5230\u4E00\u4E2A\u9886\u57DF\u7684\u4F18\u79C0\u8D44\u6E90\\n   - \u5982\u679C\u662F\u4F01\u4E1A\uFF0C\u5219\u9700\u8981\u4E86\u89E3\u7ADE\u4E89\u5BF9\u624B\\n   - \u4F8B\u5982 Kubernetes \u76F8\u5173 https://wener.me/notes/devops/kubernetes/awesome\\n   - \u4F8B\u5982 AI \u76F8\u5173 https://wener.me/notes/ai/ml/awesome\\n1. FAQ \u8BB0\u5F55\u8FC7\u7A0B\u4E2D\u7684\u5404\u79CD\u5E38\u89C1\u95EE\u9898\uFF0C\u5E38\u89C1\u95EE\u9898\u80FD\u5E26\u6765\u975E\u5E38\u7684\u4EF7\u503C\uFF0C\u5C55\u73B0\u4E86\u4E00\u5B9A\u7684\u601D\u8003\\n   - \u4F8B\u5982 \u9500\u552E\u76F8\u5173 https://wener.me/notes/economics/sales/faq\\n   - \u4F8B\u5982 \u8D22\u52A1\u76F8\u5173 https://wener.me/notes/economics/accounting/faq\\n1. DESIGN \u603B\u7ED3\u7ED3\u8BBA\uFF0C\u7EDF\u4E00\u81EA\u5DF1\u7684\u601D\u8003\u65B9\u5F0F\uFF0C\u5F97\u51FA\u81EA\u5DF1\u7684\u8BBE\u8BA1\u6A21\u5F0F\\n   - \u6C89\u6DC0\u4EF7\u503C\u548C\u601D\u8003\u8FC7\u7A0B\\n   - \u8FED\u4EE3\u81EA\u5DF1\u7684\u601D\u8DEF\\n   - \u4F8B\u5982 ERP \u76F8\u5173 https://wener.me/notes/dev/design/erp\\n1. Write in Public\\n   - \u7406\u89E3\u548C\u8868\u8FBE\u81EA\u5DF1\u7684\u601D\u8003\u3001\u6C89\u6DC0\u81EA\u5DF1\u7684\u601D\u8003\u3001\u5206\u4EAB\u81EA\u5DF1\u7684\u601D\u8003\\n   - \u5982\u679C\u8BB0\u5F55\u8FC7\u7A0B\u662F Public \u7684\u72B6\u6001\uFF0C\u90A3\u4E48\u5C31\u4F1A\u66F4\u52A0\u6CE8\u91CD\u8D28\u91CF\\n\\n## \u5982\u4F55\u7528\u8BB0\u7B14\u8BB0\u6765\u7D22\u5F15\u77E5\u8BC6 {#how-i-indexing-my-knowdge-by-taking-notes}\\n\\n> 2022-07-21 \u7684\u4E00\u4E9B\u601D\u8003\\n\\n1. **\u5DE5\u4F5C** \u662F\u91CD\u590D\u7684\u4EFB\u52A1 - Job is recurring work\\n2. **\u7ECF\u9A8C** \u662F\u89E3\u51B3\u91CD\u590D\u95EE\u9898\u7684\u65B9\u6848 - Experience is solution for recurring situation\\n3. **\u77E5\u8BC6** \u662F\u91CD\u7528\u7ECF\u9A8C - Knowledge is about reusing experience\\n4. **\u8BB0\u7B14\u8BB0** \u662F\u91CD\u7528\u83B7\u53D6\u77E5\u8BC6\u7684\u65F6\u95F4 - Noting is about reusing time used to acquire the knowledge\\n\\n\u8981\u5B8C\u6210\u4EFB\u52A1\uFF0C\u53EA\u9700\u4E86\u89E3\u4E00\u70B9\u70B9\u77E5\u8BC6\u3002\u77E5\u8BC6\u662F\u79EF\u7D2F\u3001\u6F14\u53D8\u548C\u65F6\u95F4\u7684\u7ED3\u679C\uFF0C\u7531\u5C0F\u7247\u6BB5\u7EC4\u6210\u3002\u6761\u6761\u5927\u8DEF\u901A\u7F57\u9A6C\uFF0C\u4F60\u5FC5\u987B\u627E\u5230\u81EA\u5DF1\u7684\u90A3\u6761\u3002\\n\\n\u901A\u8FC7\u8BB0\u7B14\u8BB0\uFF0C\u9996\u5148\u505A\u4E00\u7EC4\u6807\u8BB0\uFF0C\u7136\u540E\u6DF1\u5165\u6316\u6398\uFF0C\u6700\u7EC8\u5F62\u6210\u4E00\u4E2A\u77E5\u8BC6\u6C60\u3002\\n\\n**\u7D22\u5F15\u77E5\u8BC6**\\n\\n- \u5927\u8111\u5BB9\u91CF\u6709\u9650\uFF08\u5B57\u9762\u610F\u4E49\u4E0A\u7684\uFF09\\n- \u7D22\u5F15\u662F\u4E3A\u4E86\u76F4\u8FBE\u91CD\u70B9\\n- \u91CD\u70B9\u5982\uFF1A\u5217\u8868\u3001\u8868\u683C\u3001\u4EE3\u7801 \u8FD9\u6837\u7684\u8868\u73B0\u65B9\u5F0F\\n- \u8BB0\u5F55\u5185\u5BB9\u662F\u5173\u4E8E\uFF1A\u4E0A\u4E0B\u6587\u3001\u80CC\u666F\u3001\u539F\u56E0\u3001\u5173\u7CFB\u3001\u4E3A\u4EC0\u4E48\u3001\u6CE8\u610F\u4E8B\u9879 \u7B49\\n\\n\u91CD\u70B9\u53EF\u80FD\u975E\u5E38\u7B80\u5355\uFF0C\u4F8B\u5982 Next.js \u4E0D\u652F\u6301 ESM\uFF0C\u8FD9\u5C31\u8DB3\u591F\u505A\u51FA\u51B3\u7B56\u3002\\n\u4F46\u5982\u679C\u4F60\u60F3\u4E86\u89E3\u66F4\u591A\uFF0C\u4F60\u5C06\u82B1\u8D39\u66F4\u591A\u65F6\u95F4\u5F97\u51FA\u7ED3\u8BBA\uFF0C\u662F\u7684\uFF0C\u5B83\u8FD8\u6CA1\u51C6\u5907\u597D\uFF0C**\u4F46\u662F...**\u3002\\n\\n\u4E0D\u8981\u6D6A\u8D395\u5206\u949F\u9009\u62E9\u6280\u672F\uFF0C\u4F7F\u7528\u4F60\u5DF2\u7ECF\u8DB3\u591F\u4E86\u89E3\u7684\u65E0\u804A\u6280\u672F\u3002\\n\\n**Thoughts**\\n\\n- **\u4F53\u7CFB\u7ED3\u6784\u548C\u8BBE\u8BA1** - \u9009\u62E9\u662F\u5173\u952E\uFF0C\u4F60\u6700\u597D\u4E86\u89E3\u5B83\u4EEC\u3002\\n- \u4E0D\u8981\u5728\u540C\u4E00\u5757\u77F3\u5934\u4E0A\u7ECA\u5012\u4E24\u6B21\u3002\\n- \u8BB0\u7B14\u8BB0\u662F\u4E3A\u4E86\u81EA\u5DF1\uFF0C\u5199\u6587\u7AE0\u548C\u535A\u5BA2\u662F\u4E3A\u4E86\u522B\u4EBA\u9605\u8BFB\u3002\\n- \u8BB0\u7B14\u8BB0\u53EF\u4EE5\u91CA\u653E\u5927\u8111\u538B\u529B\uFF0C\u5C31\u50CF\u5C06\u601D\u7EF4\u5206\u6563\u5230\u53E6\u4E00\u4E2A\u5730\u65B9\u3002\\n\\n\u8BB0\u7B14\u8BB0\u662F\u601D\u8003\u7684\u53CD\u6620\uFF0C\u5C31\u50CF\u6563\u70B9\u56FE\uFF0C\u7D22\u5F15\u5C06\u5176\u53D8\u6210\u6709\u5411\u56FE\uFF0C\u8FD9\u662F\u6211\u4EEC\u5EFA\u6A21\u77E5\u8BC6\u7684\u65B9\u5F0F\u3002\\n\u5199\u4F5C\u5C31\u50CF\u7ED8\u753B\uFF0C\u8BD5\u56FE\u5728\u8BF4\u670D\u4F60\u4E00\u4E2A\u89C2\u70B9\uFF0C\u8FD9\u4E2A\u89C2\u70B9\u5728\u5728\u6807\u9898\u6216\u7B2C\u4E00\u6BB5\u4E2D\u5DF2\u7ECF\u63D0\u51FA\uFF0C\u5176\u4F59\u7684\u6587\u5B57\u90FD\u662F\u5728\u8BC1\u660E\u201C\u6211\u65E9\u5C31\u544A\u8BC9\u8FC7\u4F60\u4E86\u201D\u3002\\n\\n\x3c!--\\n2022-07-21\\n\\njob is recuring work\\nexpieroerence is  solution for recurring sitioation\\nknoelegy is about reusing expieroerence\\nnoting is about reusing time used to acquire the knoweleg\\n\\nto get the job done, only need to know a little, a point\\n\\nknoelegy is about accumlation, evevoling, time, pieces of smaller\\nevery road lead to roma, you have to find your one\\n\\nby noting, your make set a marker first, second, finally you dig in to it.\\nthen you will dig a pooll,\\n\\nindexing knowdege\\nmy brain size is limited (literally)\\n\\nindexing is about get to the point\\npoints like\\n    list\\n    table\\n    code\\n\\nthe statemet is all about\\n    context, background, reason, relation, why, cautions\\nbut the point is simple, like nextjs is not esm ready\\nthis is enought  for decision\\nis you want to know more, you will pay more time to get the conclssion, yes its; not ready,**but**\\n\\ndont waste 5min on choossing a tech, using a boring tech\\nbased on you already know your choose enough,\\n\\nartch  and design is all about choose, you better know them\\n\\nfaq\\n\u4E0D\u8981\u518D\u4E00\u4E2A\u77F3\u5934\u4E0A\u7ECA\u5012\u4E24\u6B21\\n\\nnoting is for youself\uFF0C writing article and blog post is for others to read\\n\\nthis is my  first attempt to writing in english\uFF0C hope I dont make too much mistabkess\\n\\nnoting can realease the brain pressure, like split it out to another place\\n\\n\\nnoting is reflecting of throughts, like a scatter graph,\\nindexng make that to dag graph, that\'s how we model knowneges\\nwrinting is like a painting, it\'s tring to covince you,\\nThey make the point in the title or first paragraph, the rest words is all about \\"I\'ve told your so\\".\\n--\x3e"},{"id":"ml-first-try","metadata":{"permalink":"/story/ml-first-try","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2024/2024-06-15-ml-first-try.md","source":"@site/../story/2024/2024-06-15-ml-first-try.md","title":"\u7B2C\u4E00\u6B21\u5C1D\u8BD5\u673A\u5668\u5B66\u4E60","description":"\u7B2C\u4E00\u6B21\u5F00\u59CB\u6B63\u5F0F\u63A5\u89E6\u673A\u5668\u5B66\u4E60\u9886\u57DF\uFF0C\u8BB0\u5F55\u548C\u6574\u7406\u4E00\u4E9B\u4E2D\u95F4\u8FC7\u7A0B\u3002","date":"2024-06-15T00:00:00.000Z","tags":[{"inline":true,"label":"Setup","permalink":"/story/tags/setup"},{"inline":true,"label":"Ubuntu","permalink":"/story/tags/ubuntu"},{"inline":true,"label":"Debian","permalink":"/story/tags/debian"}],"readingTime":6.21,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"ml-first-try","title":"\u7B2C\u4E00\u6B21\u5C1D\u8BD5\u673A\u5668\u5B66\u4E60","tags":["Setup","Ubuntu","Debian"]},"unlisted":false,"prevItem":{"title":"\u6211\u8BB0\u5F55\u601D\u8003\u7684\u65B9\u5F0F\u7B80\u5355\u603B\u7ED3","permalink":"/story/how-i-note"},"nextItem":{"title":"\u4E3A\u4EC0\u4E48\u9009\u62E9 Alpine Linux?","permalink":"/story/why-alpine"}},"content":"\u7B2C\u4E00\u6B21\u5F00\u59CB\u6B63\u5F0F\u63A5\u89E6\u673A\u5668\u5B66\u4E60\u9886\u57DF\uFF0C\u8BB0\u5F55\u548C\u6574\u7406\u4E00\u4E9B\u4E2D\u95F4\u8FC7\u7A0B\u3002\\n\\n\x3c!-- more --\x3e\\n\\n- Linode\\n  - 32 GB + RTX6000 GPU x1 + 8C 32GB\\n    - $1000/mo, $1.50/hr\\n  - \u53EA\u6709 eu-center \u5730\u533A\uFF0C\u592A\u6162\u592A\u6162\u4E86\\n- GCP\\n  - NVIDIA Tesla L4 + 4 vCPU + 16 GB\\n    - US$598.46/mo, US$0.82/hr\\n  - \u6709\u4E9A\u592A\u5730\u533A - \u53F0\u6E7E\\n\\n## GCP Deep Learning VM\\n\\n- \u5B58\u50A8\u81F3\u5C11 100 GB+\\n  - 3854 \u5F20\u56FE\u7247\uFF0C\u7F13\u5B58\u4E3A .npy\\n- \u57FA\u4E8E Debian 11 \u548C Ubuntu 22.04\\n- SSH \u8FDB\u5165\u7684\u65F6\u5019\u4F1A\u63D0\u793A\u5B89\u88C5 driver\\n- \u9ED8\u8BA4\u73AF\u5883\\n  - conda\\n  - numpy\\n  - scipy\\n  - matplotlib\\n  - pandas\\n  - nltk\\n  - pillow\\n  - scikit-image\\n  - opencv-python\\n  - scikit-learn\\n  - CUDA, CuNN, NCCL\\n- https://cloud.google.com/deep-learning-vm/docs/introduction\\n\\n```bash\\nsudo apt install -y neofetch ffmpeg libc-bin\\n\\n# python \u9ED8\u8BA4\u6765\u81EA\u4E8E /opt/conda/bin/python\\npip install --upgrade pip\\n\\n# \u786E\u5B9A\u73AF\u5883\u9A71\u52A8\u6B63\u5E38\\ncat /proc/driver/nvidia/version\\nnvidia-smi\\nsudo docker run --gpus all nvidia/cuda:12.5.0-base-ubuntu22.04 nvidia-smi\\n\\n#\\nsudo apt install -y make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev git\\n#pip install nvidia-cublas-cu11 nvidia-cudnn-cu11\\n\\nsudo apt install -y docker-buildx-plugin docker-compose-plugin\\n\\n# ultralytics ->\\n# py-cpuinfo, mpmath, triton, sympy, opencv-python, nvidia-nvtx-cu12, nvidia-nvjitlink-cu12, nvidia-nccl-cu12, nvidia-curand-cu12, nvidia-cufft-cu12, nvidia-cuda-runtime-cu12, nvidia-cuda-nvrtc-cu12, nvidia-cuda-cupti-cu12, nvidia-cublas-cu12, nvidia-cusparse-cu12, nvidia-cudnn-cu12, nvidia-cusolver-cu12, torch, ultralytics-thop, torchvision, ultralytics\\n\\n# better running in tmux\\ntmux new -A -s main\\n```\\n\\n### Could not load library libcudnn_cnn_train.so.8\\n\\n- /opt/conda/lib/python3.10/site-packages/nvidia/cudnn/lib/libcudnn_cnn_train.so.8\\n- /opt/conda/lib/python3.10/site-packages/torch/lib\\n- /usr/local/cuda/lib64\\n\\n```\\nCould not load library libcudnn_cnn_train.so.8. Error: /usr/local/cuda/lib64/libcudnn_cnn_train.so.8: undefined symbol: _ZN5cudnn3cnn5infer22queryClusterPropertiesERPhS3_, version libcudnn_cnn_infer.so.8\\n```\\n\\n```bash\\nldd /opt/conda/lib/python3.10/site-packages/nvidia/cudnn/lib/libcudnn_cnn_train.so.8\\nldd /usr/local/cuda/lib64/libcudnn_cnn_train.so.8\\n\\n# \u4FEE\u6539\u540E\u5C31\u53EF\u4EE5\u4E86\\nLD_LIBRARY_PATH=/opt/conda/lib/python3.10/site-packages/nvidia/cudnn/lib/:$LD_LIBRARY_PATH yolo\\n\\n#LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/conda/lib/python3.10/site-packages/torch/lib\\n```\\n\\n- https://github.com/pytorch/pytorch/issues/104591\\n\\n## Debian\\n\\n```bash\\napt update\\napt -y upgrade\\n\\napt install -y build-essential python3 python3-pip pipx htop curl wget git jq neofetch\\n\\n# Components \u589E\u52A0 contrib non-free non-free-firmware\\nnano /etc/apt/sources.list.d/debian.sources\\napt install -y firmware-misc-nonfree\\n\\n#\\napt install -y nvidia-detect nvidia-driver\\n\\n# nvidia-cuda-toolkit - \u975E\u5E38\u5927\\n\\nnvidia-detect\\n\\n# Docker Debian\\n# ====================\\n# Add Docker\'s official GPG key:\\nsudo apt-get update\\nsudo apt-get install ca-certificates curl\\nsudo install -m 0755 -d /etc/apt/keyrings\\nsudo curl -fsSL https://download.docker.com/linux/debian/gpg -o /etc/apt/keyrings/docker.asc\\nsudo chmod a+r /etc/apt/keyrings/docker.asc\\n\\n# Add the repository to Apt sources:\\necho \\"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/debian \\\\\\n  $(. /etc/os-release && echo \\"$VERSION_CODENAME\\") stable\\" \\\\\\n  | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\\nsudo apt-get update\\n\\nsudo apt-get -y install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\\n```\\n\\n## Ubuntu\\n\\n- Ubuntu 22.04 LTS\\n\\n```bash\\napt update\\napt -y upgrade\\n\\napt install -y build-essential python3 python3-pip pipx htop curl wget git jq neofetch\\npipx ensurepath\\n#pipx install poetry\\n#curl https://pyenv.run | bash\\n\\n# Nvdia Driver\\n# ====================\\nlspci -nn | grep -E -i \\"3d|display|vga\\"\\n\\n# https://ubuntu.com/server/docs/nvidia-drivers-installation\\n# https://www.nvidia.com/download/index.aspx\\n# https://www.nvidia.com/Download/Find.aspx\\n# apt install -y ubuntu-drivers-common\\n# ubuntu-drivers list --gpgpu # \u6240\u6709\u652F\u6301\u7684 GPU\\n# ubuntu-drivers install # \u81EA\u52A8\u68C0\u6D4B\u5B89\u88C5\u6240\u6709\u9A71\u52A8\\n# ubuntu-drivers install --gpgpu\\n# ubuntu-drivers install --gpgpu nvidia:535-server\\n# apt install nvidia-utils-535-server\\n\\n# nvidia-utils-535-server\\napt install -y nvidia-driver-535\\n\\n# reboot # \u91CD\u542F\u540E\u624D\u80FD\u751F\u6548\\n\\nnvidia-smi\\ncat /proc/driver/nvidia/version\\n\\n#sudo add-apt-repository ppa:graphics-drivers/ppa\\n#sudo apt-get update\\n\\n# Docker Ubuntu\\n# ====================\\nsudo apt-get update\\nsudo apt-get install ca-certificates curl\\nsudo install -m 0755 -d /etc/apt/keyrings\\nsudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc\\nsudo chmod a+r /etc/apt/keyrings/docker.asc\\n\\n# Add the repository to Apt sources:\\necho \\"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu $(. /etc/os-release && echo \\"$VERSION_CODENAME\\") stable\\" \\\\\\n  | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\\nsudo apt-get update\\n\\nsudo apt-get -y install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\\n\\n# Nvidia Container Toolkit\\n# ====================\\n# https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html\\ncurl -fsSL https://nvidia.github.io/libnvidia-container/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/nvidia-container-toolkit-keyring.gpg \\\\\\n  && curl -s -L https://nvidia.github.io/libnvidia-container/stable/deb/nvidia-container-toolkit.list \\\\\\n  | sed \'s#deb https://#deb [signed-by=/usr/share/keyrings/nvidia-container-toolkit-keyring.gpg] https://#g\' \\\\\\n    | sudo tee /etc/apt/sources.list.d/nvidia-container-toolkit.list\\nsed -i -e \'/experimental/ s/^#//g\' /etc/apt/sources.list.d/nvidia-container-toolkit.list\\n\\nsudo apt-get update\\nsudo apt-get install -y nvidia-container-toolkit nvidia-docker2\\n\\nsudo systemctl restart docker\\n\\n# \u6D4B\u8BD5\\n# https://hub.docker.com/r/nvidia/cuda\\nsudo docker run --gpus all nvidia/cuda:12.5.0-base-ubuntu22.04 nvidia-smi\\n```\\n\\n## ENV\\n\\n```bash\\n# rclone for dataset sync\\n# ====================\\ncurl -Lo /tmp/rclone.deb https://github.com/rclone/rclone/releases/download/v1.67.0/rclone-v1.67.0-linux-amd64.deb\\nsudo dpkg -i /tmp/rclone.deb\\nrclone --version\\n\\n# Python\\n# ====================\\npython3 --version # \u5EFA\u8BAE 3.9-3.11\\n\\nsudo mkdir -p /data/ml\\nsudo chown -R $USER:$USER /data/ml\\ncd /data/ml\\n\\n# YoloV10\\n# ====================\\ngit clone https://github.com/THU-MIG/yolov10 /data/ml/yolov10\\ncd /data/ml/yolov10\\npython3 -m venv venv\\nsource venv/bin/activate\\npip3 install -r requirements.txt\\n\\n# Yolo\\n# ====================\\nmkdir -p /data/ml/yolo\\ncd /data/ml/yolo\\npython3 -m venv venv\\nsource venv/bin/activate\\npip3 install openvino==2023.2 \'datumaro[default]\'\\npip3 install ultralytics torch torchvision\\n\\n# rclone for sync\\n# ====================\\n# \u63A5\u53D7 FTP \u4E0A\u4F20 - \u4FEE\u6539\u8D26\u53F7\u5BC6\u7801\\nrclone serve ftp --addr 0.0.0.0:18080 /data/ --user USER --pass PASS\\n# \u540C\u6B65 \u4FEE\u6539 IP\u3001\u8D26\u53F7\u5BC6\u7801\\n# rclone sync /data/ds/ :ftp,host=127.0.0.1,port=18080,user=USER,pass=$(rclone obscure PASS):ds -P --stats-one-line --transfers 10 -M\\n```\\n\\n- Nvdia Driver\\n  - [NVIDIA RTX / Quadro Enterprise Driver Branch History for Windows](https://www.nvidia.com/en-us/drivers/rtx-enterprise-and-quadro-driver-branch-history/)\\n\\n```bash\\n# for pyenv\\napt install -y make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev git\\n\\npyenv install 3.9\\ncd /data/ml/yolov10\\npyenv local 3.9\\n\\ncat << \'EOF\' >> ~/.bashrc\\nexport PATH=\\"$HOME/.pyenv/bin:$PATH\\"\\neval \\"$(pyenv init --path)\\"\\neval \\"$(pyenv init -)\\"\\neval \\"$(pyenv virtualenv-init -)\\"\\nEOF\\nsource ~/.bashrc\\n\\n# \u624B\u52A8\\nexport PYENV_ROOT=\\"$HOME/.pyenv\\"\\n[[ -d $PYENV_ROOT/bin ]] && export PATH=\\"$PYENV_ROOT/bin:$PATH\\"\\neval \\"$(pyenv init -)\\"\\n\\n# \u81EA\u52A8\\n# ~/.bashrc\\neval \\"$(pyenv virtualenv-init -)\\"\\n```\\n\\n## nvtop\\n\\n```bash\\ncurl -o nvtop -L https://github.com/Syllo/nvtop/releases/download/3.2.0/nvtop-3.2.0-x86_64.AppImage\\nchmod +x nvtop\\n./nvtop\\n```\\n\\n**from source**\\n\\n```bash\\ngit clone https://github.com/Syllo/nvtop.git /data/gits/nvtop\\ncd /data/gits/nvtop\\nmkdir build\\ncd build\\ncmake ..\\nmake\\nsudo make install\\n```\\n\\n- https://github.com/Syllo/nvtop\\n\\n# FAQ\\n\\n## Non-monotonic DTS; previous: 22695088, current: 22695088; changing to 22695089. This may result in incorrect timestamps in the output file.\\n\\n```bash\\nffmpeg -fflags +genpts -i input.flv -c copy -vsync 1 output.mp4\\n```\\n\\n- flv -> mp4 \u51FA\u73B0\\n  - \u5B9E\u65F6\u89C6\u9891\u6D41\u6296\u52A8\u5BFC\u81F4\\n- DTS - Decoding Time Stamp\\n\\n## cache\\n\\n```bash\\n# clip gdown huggingface matplotlib pip torch\\ndu -sh ~/.cache\\n```"},{"id":"why-alpine","metadata":{"permalink":"/story/why-alpine","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2024/2024-03-06-why-alpine.md","source":"@site/../story/2024/2024-03-06-why-alpine.md","title":"\u4E3A\u4EC0\u4E48\u9009\u62E9 Alpine Linux?","description":"Small. Simple. Secure.","date":"2024-03-06T00:00:00.000Z","tags":[{"inline":true,"label":"DevOps","permalink":"/story/tags/dev-ops"},{"inline":true,"label":"Alpine","permalink":"/story/tags/alpine"}],"readingTime":2.52,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"why-alpine","title":"\u4E3A\u4EC0\u4E48\u9009\u62E9 Alpine Linux?","tags":["DevOps","Alpine"]},"unlisted":false,"prevItem":{"title":"\u7B2C\u4E00\u6B21\u5C1D\u8BD5\u673A\u5668\u5B66\u4E60","permalink":"/story/ml-first-try"},"nextItem":{"title":"\u57FA\u4E8E SNI \u5B9E\u73B0\u65E0\u611F\u5168\u5C40\u4EE3\u7406","permalink":"/story/sni-proxy"}},"content":"> Small. Simple. Secure.\\n>\\n> Alpine Linux is a security-oriented, lightweight Linux distribution based on musl libc and busybox.\\n>\\n> Alpine Linux \u662F\u4E00\u4E2A\u57FA\u4E8E musl libc \u548C busybox, \u9762\u5411\u5B89\u5168, \u8F7B\u91CF\u7EA7\u7684 Linux \u53D1\u5E03\u7248.\\n\\n\x3c!-- more --\x3e\\n\\n## \u4E3A\u4EC0\u4E48 {#why}\\n\\nsmall footprint, non-systemd, fast enough, good community, sane defaults.\\n\\n\u963F\u91CC\u4E91\u3001\u817E\u8BAF\u4E91\u3001\u7269\u7406\u670D\u52A1\u5668\u3001\u865A\u62DF\u673A\u3001\u5BB9\u5668\u90FD\u9002\u7528 AlpineLinux.\\n\\n1. \u73AF\u5883\u90FD\u4E00\u6837\uFF0C\u4F7F\u7528\u5404\u65B9\u9762\u719F\u6089\uFF0C\u719F\u7EC3\\n2. \u5C0F/\u5FEB - \u963F\u91CC\u4E91 ECS \u53EA\u9700\u8981\u4E0A\u4F20\u4E00\u4E2A \u51E0\u5341 MB \u7684\u955C\u50CF\u5373\u53EF\uFF0C\u4ECE 0 \u5B89\u88C5\u53EA\u9700\u8981 3 \u5206\u949F\\n3. \u7B80\u5355 - \u53EF\u4EE5\u7531\u5185\u800C\u5916\u7684\u4E86\u89E3\u6240\u6709 alpine \u7EC6\u8282\uFF0C\u5BF9\u4E8E debian \u548C centos \u6211\u90FD\u505A\u4E0D\u5230\uFF0C\u56E0\u4E3A\u592A\u590D\u6742\\n4. \u8DDF\u4E0A\u65F6\u4EE3 - \u5185\u6838 \u4E00\u822C\u662F\u6700\u8FD1\u7684 lts\uFF0C\u80FD\u5FEB\u901F\u5229\u7528\u4E0A\u65B0\u7684\u5185\u6838\u7279\u6027\uFF0C\u6BD4\u5982\u73B0\u5728 linux \u5185\u6838\u652F\u6301 io_uring, ntfs\\n5. \u5FEB\u901F\u66F4\u65B0 - \u5B89\u5168\u95EE\u9898\u54CD\u5E94\u975E\u5E38\u5FEB - \u56E0\u4E3A\u4F7F\u7528\u9762\u975E\u5E38\u5E7F\\n6. \u884D\u751F\u4E1A\u52A1\u96C6\u6210\u7CFB\u7EDF - \u7CFB\u7EDF\u9884\u88C5\u4E00\u4E9B\u8F6F\u4EF6\u548C\u670D\u52A1 - \u4F8B\u5982: k3sos\\n\\n**\u4E0D\u9002\u7528\u573A\u666F**\\n\\n1. \u673A\u5668\u5B66\u4E60 - ubuntu/debian \u662F\u6700\u597D\u7684 - \u6700\u65B0 Linux \u5F00\u59CB\u8981\u96C6\u6210 Nvidia \u9A71\u52A8\uFF0C\u60C5\u51B5\u4F1A\u6709\u6240\u597D\u8F6C\uFF0C\u76EE\u524D Nvidia \u5B98\u65B9\u5C1A\u672A\u6B63\u5F0F\u652F\u6301Alpine\u3002\\n2. \u5546\u52A1\u7528\u684C\u9762\u7CFB\u7EDF - \u9ED8\u8BA4 xfce - _\u751F\u6001_ \u548C\u4F53\u9A8C\u6CA1\u6709 ubuntu \u597D\\n3. \u5B9A\u5236\u5316\u5D4C\u5165\u5F0F\u8BBE\u5907 - alpine \u652F\u6301\u7684 arch \u8FDC\u6CA1\u6709 debian \u7684\u591A\uFF0C\u5982\u679C arch \u652F\u6301\u53EF\u4EE5\u8003\u8651 alpine\\n\\n**Not Convinced?**\\n\\n- \u8F7B\u91CF\u7EA7\\n  - \u6700\u5C0F\u5B89\u88C5 5MB\\n  - musl\\n  - openrc\\n- \u90E8\u5206\u5305\u63D0\u4F9B\u9759\u6001\u7F16\u8BD1\u4E8C\u8FDB\u5236\uFF0C\u53EF\u5728\u975E Alpine \u73AF\u5883\u4F7F\u7528\\n- \u7A33\u5B9A\u6EDA\u52A8\u5347\u7EA7\\n  - \u6709\u7A33\u5B9A\u7248\u548C\u6700\u65B0\u7248\\n  - \u6BCF\u534A\u5E74\u4E00\u4E2A\u7A33\u5B9A\u7248\\n  - \u7A33\u5B9A\u7248\u4F1A\u7EF4\u62A4\u4E24\u5E74\\n  - \u53EF\u975E\u5E38\u7B80\u4FBF\u7684\u5347\u7EA7\\n- \u7B80\u5355\u7684\u5305\u7BA1\u7406\\n  - APK \u672C\u5730\u5B58\u50A8\u903B\u8F91\u548C\u7ED3\u6784\u975E\u5E38\u7B80\u5355\\n  - APK \u4ED3\u5E93\u903B\u8F91\u7ED3\u6784\u7B80\u5355 - \u4E0D\u540C\u4E8E deb/rpm\\n  - \u5305\u7684\u6784\u5EFA\u4E5F\u5F88\u7B80\u5355 - abuild \u80FD\u591F\u5728\u672C\u5730\u6784\u5EFA\u5305\\n- \u73B0\u4EE3\u5316\\n  - \u5185\u6838\u7248\u672C\u8F83\u65B0\\n    - \u80FD\u591F\u5229\u7528\u4E0A\u5F88\u591A\u65B0\u5185\u6838\u7684\u529F\u80FD\\n  - \u5305\u7248\u672C\u6BD4\u8F83\u65B0\\n    - \u4F8B\u5982 zfs, docker \u7B49\u90FD\u662F\u5BF9\u5E94\u7248\u672C\u7684\u6700\u65B0\u7248\\n- \u751F\u6001\u5708\u4E30\u5BCC\\n  - \u5305\u975E\u5E38\u591A\\n  - \u517C\u5BB9\u826F\u597D\\n  - \u793E\u533A\u6D3B\u8DC3\\n- \u652F\u6301\u8F83\u591A\u5E73\u53F0\\n  - x86_64\\n  - x86\\n  - aarch64\\n  - armhf\\n  - ppc64le\\n  - s390x\\n  - armv7\\n  - riscv64\\n- \u652F\u6301\u6811\u8393\u6D3E\\n- \u5F88\u591A docker \u955C\u50CF\u57FA\u4E8E AlpineLinux\\n  - Docker For Mac \u7684\u57FA\u7840\u7CFB\u7EDF\u662F AlpineLinux\\n\\n## Alpine \u7684\u7F3A\u70B9 {#when-not}\\n\\n- \u6587\u6863\u4E0D\u591F\u5168\u9762\\n  - Wiki \u5185\u5BB9\u8F83\u5C11, \u66F4\u65B0\u4E0D\u591A\\n  - \u4F46\u5927\u591A\u6587\u6863\u53EF\u53C2\u8003 Arch \u548C Gentoo\\n- musl libc \u53EF\u80FD\u6709\u517C\u5BB9\u95EE\u9898, \u6709\u65F6\u5019\u9700\u8981\u8865\u4E01\\n  - \u4F46\u8D8A\u6765\u8D8A\u591A\u7684\u5F00\u53D1\u8005\u4E5F\u90FD\u4F1A\u505A\u517C\u5BB9\u4E86\\n  - [\u5E38\u89C1\u7684 Musl \u95EE\u9898](https://wener.me/notes/os/linux/libc/musl/faq)\\n\\n## \u4F7F\u7528\u8FC7\u7A0B\u5E38\u89C1\u95EE\u9898 {#faq}\\n\\n```bash\\n# \u5EFA\u8BAE\u5B89\u88C5\u57FA\u7840\u5305\uFF0C\u5BF9\u65B0\u4EBA\u4F7F\u7528\u76F8\u5BF9\u53CB\u597D\\napk add curl busybox-extras file nano libc6-compat gcompat bash\\n```\\n\\n- [\u4F7F\u7528 Alpine \u7684\u5E38\u89C1\u95EE\u9898](https://wener.me/notes/os/alpine/faq)\\n- \u5236\u4F5C\u5404\u79CD Docker \u53EF\u53C2\u8003 [wenerme/dockerfiles](https://github.com/wenerme/dockerfiles)\\n- \u9488\u5BF9 Alpine \u7684\u5404\u79CD Ansible \u4EFB\u52A1 [wenerme/ansible-collection-wenerme-alpine](https://github.com/wenerme/ansible-collection-wenerme-alpine)"},{"id":"sni-proxy","metadata":{"permalink":"/story/sni-proxy","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2023/2023-06-21-sni-proxy.md","source":"@site/../story/2023/2023-06-21-sni-proxy.md","title":"\u57FA\u4E8E SNI \u5B9E\u73B0\u65E0\u611F\u5168\u5C40\u4EE3\u7406","description":"\u57FA\u672C\u7ED3\u6784","date":"2023-06-21T00:00:00.000Z","tags":[{"inline":true,"label":"\u4EE3\u7406","permalink":"/story/tags/\u4EE3\u7406"},{"inline":true,"label":"\u8FD0\u7EF4","permalink":"/story/tags/\u8FD0\u7EF4"}],"readingTime":2.93,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"sni-proxy","title":"\u57FA\u4E8E SNI \u5B9E\u73B0\u65E0\u611F\u5168\u5C40\u4EE3\u7406","tags":["\u4EE3\u7406","\u8FD0\u7EF4"]},"unlisted":false,"prevItem":{"title":"\u4E3A\u4EC0\u4E48\u9009\u62E9 Alpine Linux?","permalink":"/story/why-alpine"},"nextItem":{"title":"\u6062\u590D\u7FA4\u6656\u6570\u636E\u76D8","permalink":"/story/recover-synology"}},"content":"**\u57FA\u672C\u7ED3\u6784**\\n\\n```mermaid\\nflowchart TD\\n    Router[\u8DEF\u7531] --\x3e |DNS| Lan[\u4EE3\u7406\u8282\u70B9<br/>dnsmasq]\\n    Lan --\x3e |172.32.1.1| SNI[SNI \u4EE3\u7406<br/>gost] --\x3e |\u4E0A\u6E38\u4EE3\u7406| Proxy[clash/socket/http]\\n```\\n\\n\x3c!-- more --\x3e\\n\\n1. \u8DEF\u7531\u5668\u4E0A\u914D\u7F6E DNS \u4E3A\u5C40\u57DF\u7F51\u5185\u7684\u4E00\u4E2A\u8282\u70B9\\n1. \u8DEF\u7531\u5668\u4E0A\u914D\u7F6E \u8DEF\u7531 172.32.1.1 \u5230\u5185\u7F51\u7684\u4E00\u4E2A IP\\n1. DNS \u5339\u914D\u9700\u8981\u4EE3\u7406\u7684\u8DEF\u7531\u8FD4\u56DE 172.32.1.1\\n1. 172.32.1.1 \u4E0A\u90E8\u7F72 sni \u4EE3\u7406\uFF0C\u76D1\u542C 80\u3001443\\n\\n**\u524D\u7F6E\u6761\u4EF6**\\n\\n- \u5DF2\u6709\u76F8\u5173\u4EE3\u7406\u670D\u52A1\\n\\n**\u540E\u7F6E\u6761\u4EF6**\\n\\n- \u4FEE\u6539\u8DEF\u7531\u5668\u914D\u7F6E\\n\\n**\u5E94\u7528\u573A\u666F**\\n\\n- \u5BB6\u5EAD\\n  - \u65E0\u611F\\n- \u670D\u52A1\u5668\u8FD0\u7EF4 - \u4E91\u670D\u52A1\u5668\u3001\u7269\u7406\u670D\u52A1\u5668\\n  - \u65E0\u611F\\n  - \u80FD\u652F\u6301\u4EFB\u610F\u573A\u666F\\n- \u516C\u53F8\u5C40\u57DF\u7F51\\n  - \u80FD\u9650\u5236\u8303\u56F4\\n\\n## \u624B\u52A8\u914D\u7F6E\u8282\u70B9\\n\\n```bash\\nip addr add 172.32.1.1/32 dev eth0 # \u589E\u52A0 IP\\n\\n# \u5B89\u88C5\u90E8\u7F72 gost - \u63D0\u4F9B SNI \u4EE3\u7406\\n# ===============\\ncurl -LO https://github.com/go-gost/gost/releases/download/v3.0.0-rc8/gost_3.0.0-rc8_linux_amd64.tar.gz\\ntar zxvf gost*.tar.gz\\n# \u76D1\u542C 80, 443 - \u4E0A\u6E38\u4EE3\u7406\u4E3A 192.168.1.2:7890\uFF0C\u5982\u679C\u5728\u5F53\u524D\u8282\u70B9\u4E5F\u53EF\u4EE5 127.0.0.1:7890\\n./gost -L sni://:80 -L sni://:443 -F socks5://192.168.1.2:7890\\n# \u6D4B\u8BD5 gost \u4EE3\u7406\u662F\u5426\u6210\u529F\\ncurl -H \'Host: google.com\' 127.0.0.1\\n\\n# \u5B89\u88C5\u90E8\u7F72 dnsmasq\\n# ===============\\napk add dnsmasq\\n# \u4E0A\u6E38\u914D\u7F6E\\ncat << EOF > /etc/dnsmasq.d/main.conf\\nserver=223.5.5.5\\nlog-queries=extra\\nEOF\\n\\n# \u914D\u7F6E\u4EE3\u7406\u5E38\u7528\u7684\u57DF\u540D\\ncurl -L https://ghproxy.com/raw.githubusercontent.com/wenerme/wener/master/notes/service/dns/gfwlist.txt \\\\\\n  | sed -E \'s#.+#address=/&/172.32.1.1#\' > /etc/dnsmasq.d/gfwlist.conf\\n\\n# \u6D4B\u8BD5\u542F\u52A8\\ndnsmasq -d\\n# \u6D4B\u8BD5\uFF0C\u8FD4\u56DE 172.32.1.1 \u4E3A\u6B63\u5E38\u7ED3\u679C\\nnslookup google.com 127.0.0.1\\n\\n# service dnsmasq start # \u670D\u52A1\u542F\u52A8\\n# rc-update add dnsmasq # \u5F00\u673A\u81EA\u52A8\u542F\u52A8\\n```\\n\\n- \u914D\u7F6E\u8DEF\u7531\u5668\\n  - DNS\\n  - \u8DEF\u7531 172.32.1.1 \u5230\u5185\u7F51\u8282\u70B9\\n\\n## Docker \u542F\u52A8\u670D\u52A1\\n\\n```bash\\n# --network=host or -p 80:80 -p 443:443 -p 53:53/udp\\n# -e FAKEIP=172.32.1.1\\ndocker run --rm -it -e PROXY=socks5://192.168.66.1:7890 -p 80:80 -p 443:443 -p 53:53/udp --name proxy wener/sni-rev-proxy\\n\\nnslookup google.com 127.0.0.1\\ncurl --resolve google.com:80:127.0.0.1 google.com\\n\\n# \u6DFB\u52A0 FAKEIP\\nip addr add 172.32.1.1/32 dev eth0\\n```\\n\\n- \u914D\u7F6E\u8DEF\u7531\u5668\\n  - DNS\\n  - \u8DEF\u7531 172.32.1.1 \u5230\u5185\u7F51\u8282\u70B9\\n\\n# FAQ\\n\\n## \u65E0\u6CD5\u4FEE\u6539\u8DEF\u7531\u5668\\n\\n\u672C\u5730\u4F7F\u7528\u76F4\u63A5\u4FEE\u6539 resolv.conf \u6216\u8005 hosts\\n\\n```txt title=\\"/etc/resolv.conf\\"\\nnameserver 127.0.0.1\\n```\\n\\n- \u4F7F\u7528\u90E8\u7F72 DNS \u7684\u8282\u70B9 IP\\n\\n```txt title=\\"/etc/hosts\\"\\n172.32.1.1 docker.io\\n172.32.1.1 registry-1.docker.io\\n```\\n\\n- \u76F4\u63A5\u6620\u5C04\u5355\u4E2A\u57DF\u540D\\n- \u6CE8\u610F\uFF1A CNAME \u7684\u57DF\u540D\u4E5F\u9700\u8981\u6620\u5C04\\n\\n## \u4E3A\u4EC0\u4E48\u7528 172.32.1.1\\n\\n- 172.32.1.1 \u4E3A\u516C\u7F51 IP \u5730\u5740\uFF0C\u4F46\u8FD9\u4E2A\u5730\u5740\u88AB\u4F7F\u7528\u7684\u6982\u7387\u975E\u5E38\u4F4E\\n- \u5982\u679C\u4E0D\u7ED9\u4EE3\u7406\u8282\u70B9\u4E00\u4E2A\u516C\u7F51\u5730\u5740\u800C\u662F\u4F7F\u7528\u5185\u7F51\u5730\u5740\uFF0C\u90A3\u4E48 iOS \u8BBF\u95EE\u7F51\u7EDC\u65F6\u4F1A\u63D0\u793A \u201C\u662F\u5426\u5141\u8BB8\u5E94\u7528\u8BBF\u95EE\u672C\u5730\u7F51\u7EDC\u201D\u3002\\n\\n## \u4E3A\u4EC0\u4E48\u9009\u62E9 DNS+SNI \u4F5C\u4E3A\u5168\u5C40\u4EE3\u7406\\n\\n- \u5BA2\u6237\u7AEF\u65E0\u611F\uFF0C\u4E0D\u9700\u8981\u6539\u4EFB\u4F55\u914D\u7F6E\\n- \u80FD\u5B9E\u73B0\u5168\u5C40 - \u4F8B\u5982 docker \u4E0D\u9700\u8981\u5C31\u884C\u914D\u7F6E\uFF0Ck8s \u4E0D\u9700\u8981\u5C31\u884C\u914D\u7F6E \u5C31\u80FD\u62C9\u53D6\u955C\u50CF\\n- \u4EE3\u7406\u8303\u56F4\u6613\u4E8E\u63A7\u5236 - DNS \u5C42\u63A7\u5236\\n\\n## \u80FD\u4E0D\u80FD\u4E0D\u9650\u5236\u57DF\u540D\u6240\u6709\u90FD\u4EE3\u7406\\n\\n- \u53EF\u4EE5\uFF0Cdnsmasq \u9ED8\u8BA4\u5168\u90E8\u8FD4\u56DE\u56FA\u5B9A ip\\n- \u786E\u4FDD\u4E0A\u6E38\u4EE3\u7406\u652F\u6301\u7B56\u7565\u63A7\u5236\u5373\u53EF\uFF0C\u4F8B\u5982 clash\\n\\n## \u5173\u4E8E\u4E0A\u6E38 DNS\\n\\n- \u53EF\u4EE5\u9009\u62E9\u516C\u5171\u7684\uFF0C\u4F8B\u5982 223.5.5.5\\n- \u4E5F\u53EF\u4EE5\u9009\u62E9\u81EA\u5DF1\u90E8\u7F72\u7684 adguard \u4E4B\u7C7B\u7684\\n  - \u652F\u6301\u62E6\u622A\u9690\u79C1\u76F8\u5173\u57DF\u540D\\n  - \u907F\u514D DNS \u6C61\u67D3\\n\\n## \u5176\u4ED6\u65E0\u611F\u5168\u5C40\u4EE3\u7406\u7684\u65B9\u5F0F\\n\\n1. \u4FEE\u6539\u7F51\u5173\uFF0Ctproxy - \u65E0\u611F\uFF0C\u4F46\u662F\u91CD\u65B0\u90E8\u7F72 dhcp\uFF0C\u66FF\u4EE3\u8DEF\u7531\u4F5C\u4E3A\u7F51\u5173\\n1. \u5728 WiFi+Lan \u7684\u8282\u70B9\u4E0A\uFF0C\u5C06 WiFi \u914D\u7F6E\u4E3A\u8D70\u4EE3\u7406\uFF0C\u8FDE WiFi \u5219\u8D70\u4EE3\u7406\uFF0C\u589E\u52A0\u4E00\u4E2A lan \u4E0D\u4FEE\u6539\u73B0\u6709\u3002"},{"id":"recover-synology","metadata":{"permalink":"/story/recover-synology","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2023/2023-05-29-recover-synology.md","source":"@site/../story/2023/2023-05-29-recover-synology.md","title":"\u6062\u590D\u7FA4\u6656\u6570\u636E\u76D8","description":"Recover Synology","date":"2023-05-29T00:00:00.000Z","tags":[{"inline":true,"label":"AlpineLinux","permalink":"/story/tags/alpine-linux"},{"inline":true,"label":"\u8FD0\u7EF4","permalink":"/story/tags/\u8FD0\u7EF4"}],"readingTime":5.97,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"recover-synology","title":"\u6062\u590D\u7FA4\u6656\u6570\u636E\u76D8","tags":["AlpineLinux","\u8FD0\u7EF4"]},"unlisted":false,"prevItem":{"title":"\u57FA\u4E8E SNI \u5B9E\u73B0\u65E0\u611F\u5168\u5C40\u4EE3\u7406","permalink":"/story/sni-proxy"},"nextItem":{"title":"\u8FC1\u79FB\u963F\u91CC\u4E91 CDN \u5230 Cloudflare","permalink":"/story/migrate-aliyun-cdn-to-cf"}},"content":"## Recover Synology\\n\\n- Recover Synology from AlpineLinux\\n- btrfs report I/O Error\\n\\n## \u95EE\u9898\\n\\n\u7FA4\u6656\u7684\u76D8\u641E\u7684\u5F88\u590D\u6742\\n\\n- mdraid -> lvm -> btrfs\\n\\n\u53EA\u770B\u5230 btrfs \u62A5\u9519\uFF08I/O Error\uFF09\uFF0C\u65E0\u6CD5\u4F7F\u7528\uFF0C\u6CA1\u770B\u5230\u5177\u4F53\u7684\u78C1\u76D8\u9519\u8BEF\uFF0C\u53EA\u80FD\u9010\u7EA7\u6392\u67E5\u3002\\n\\n\u4E3B\u8981\u76EE\u7684\u662F\u6302\u8F7D btrfs \u6062\u590D\u6570\u636E\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u64CD\u4F5C\\n\\n```bash\\nfile -s /dev/sda1 # linux_raid_member\\nfile -s /dev/sda2 # swap\\nfile -s /dev/sda3 # \u53D1\u73B0\u662F\u7528\u7684 mdadm RAID 6\\n# /dev/sda3: Linux Software RAID version 1.2 (1) UUID= name=DF:2 level=6 disks=4\\n\\napk add mdadm\\n\\nmdadm --examine --scan  # \u626B\u63CF\\nmdadm --assemble --scan # \u6DFB\u52A0\\ncat /proc/mdstat        # \u72B6\u6001\\n\\nfile -s /dev/md127 # \u53D1\u73B0\u662F LVM\\n# /dev/md127: LVM2 PV (Linux Logical Volume Manager), UUID: , size: 11980386729984\\n```\\n\\n**\u6302\u8F7D LVM**\\n\\n```bash\\napk add lvm2\\n\\npvscan\\n# PV /dev/md127   VG vg1             lvm2 [<10.90 TiB / 604.00 MiB free]\\nvgscan\\n# Found volume group \\"vg1\\" using metadata type lvm2\\n\\nlvdisplay\\nlvs\\n# /dev/vg1/syno_vg_reserved_area\\n# /dev/vg1/volume_1\\n\\nvgchange -ay vg1 # \u6FC0\u6D3B vg1\\n\\nfile -s /dev/vg1/volume_1 # -> /dev/mapper/vg1-volume_1\\nfile -s /dev/mapper/vg1-volume_1\\n# /dev/mapper/vg1-volume_1: BTRFS Filesystem label \\"2022.12.04-17:42:08 v42661\\", sectorsize 4096, nodesize 16384, leafsize 16384, UUID=, 151894196224/11979737530368 bytes used, 1 devices\\n```\\n\\n**\u6302\u8F7D btrfs**\\n\\n```bash\\napk add btrfs-progs btrfs-progs-extra\\nmodprobe btrfs\\n\\nbtrfs device scan\\nbtrfs filesystem show\\n\\nbtrfs check /dev/mapper/vg1-volume_1 # \u5C1D\u8BD5\u68C0\u6D4B\\n```\\n\\n```\\nERROR: errors found in fs roots\\nfound 151884984320 bytes used, error(s) found\\ntotal csum bytes: 2896392\\ntotal tree bytes: 127860736\\ntotal fs tree bytes: 99958784\\ntotal extent tree bytes: 15761408\\nbtree space waste bytes: 25632487\\nfile data blocks allocated: 103613448192\\n referenced 103061467136\\n```\\n\\n- \u53D1\u73B0\u4E0D\u5C11\u95EE\u9898\\n\\n```bash\\nmount /dev/mapper/vg1-volume_1 /mnt # \u5C1D\u8BD5\u6302\u8F7D\\n# wrong fs type, bad option, bad superblock on /dev/mapper/vg1-volume_1\\n\\ndmesg # \u5185\u6838\u65E5\u5FD7\u627E\u539F\u56E0\\n# BTRFS critical (device dm-1): corrupt leaf\\n\\nmount -t btrfs -o recovery,ro /dev/mapper/vg1-volume_1 /mnt\\n\\nbtrfs check /dev/mapper/vg1-volume_1 --repair # \u5C1D\u8BD5\u4FEE\u590D\uFF0C\u4F46\u662F\u5931\u8D25\\n# ERROR: failed to repair root items: I/O error\\n\\nbtrfs scrub start -Bf /dev/mapper/vg1-volume_1\\n# btrfs rescue zero-log /dev/<device_name>\\n```\\n\\n- smartctl \u5C1D\u8BD5\u68C0\u6D4B\u786C\u76D8\u95EE\u9898\\n- mdadm \u5C1D\u8BD5 resync\\n\\n> \u65E0\u89E3, TODO\\n\\n```\\n/dev/mapper/cachedev_0 on /volume1 type btrfs (rw,nodev,relatime,ssd,synoacl,space_cache=v2,auto_reclaim_space,metadata_ratio=50,block_group_cache_tree,subvolid=256,subvol=/@syno)\\n```\\n\\n## wrong fs type, bad option, bad superblock on /dev/mapper/vg1-volume_1\\n\\n```bash\\nmount -t btrfs /dev/mapper/vg1-volume_1 /mnt\\n```\\n\\n```txt\\nBTRFS: device label 2022.12.04-17:42:08 v42661 devid 1 transid 449145 /dev/mapper/vg1-volume_1 scanned by mount (4067)\\nBTRFS info (device dm-1): using crc32c (crc32c-intel) checksum algorithm\\nBTRFS info (device dm-1): using free space tree\\nBTRFS critical (device dm-1): corrupt leaf: root=1 block=668844032 slot=1, invalid root flags, have 0x400000000 expect mask 0x1000000000001\\nBTRFS error (device dm-1): read time tree block corruption detected on logical 668844032 mirror 1\\nBTRFS critical (device dm-1): corrupt leaf: root=1 block=668844032 slot=1, invalid root flags, have 0x400000000 expect mask 0x1000000000001\\nBTRFS error (device dm-1): read time tree block corruption detected on logical 668844032 mirror 2\\nBTRFS error (device dm-1): open_ctree failed\\n```\\n\\n```bash\\nbtrfs check /dev/mapper/vg1-volume_1 --repair\\n```\\n\\n```bash\\nERROR: failed to repair root items: I/O error\\n```\\n\\n## S.M.A.T Check\\n\\n```bash\\napk add smartmontools\\n\\nsmartctl -t long /dev/sda\\nsmartctl -t long /dev/sdb\\nsmartctl -t long /dev/sdc\\nsmartctl -t long /dev/sdd\\n\\n# \u5F88\u6162\\nsmartctl -l selftest /dev/sda\\nsmartctl -l selftest /dev/sdb\\nsmartctl -l selftest /dev/sdc\\nsmartctl -l selftest /dev/sdd\\n\\nsmartctl -a /dev/sda\\n```\\n\\n## LVM Check\\n\\n```bash\\nvgck vg1 -v\\npvck /dev/md127\\n```\\n\\n## mdadm check\\n\\n> 4\\\\*10T SAS \u9700\u8981\u8DD1 8h, iostat -> ~200MB/s\\n\\n```bash\\nmdadm --detail /dev/md127\\nmdadm --action=check /dev/md127\\n\\n# \u67E5\u770B\u6709\u95EE\u9898\u7684\u5757\\nwatch cat /sys/block/md127/md/mismatch_cnt\\n# \u67E5\u770B\u8FDB\u5EA6\\ncat /proc/mdstat\\ncat /sys/block/md127/md/sync_action\\n```\\n\\n```\\nmd127: mismatch sector in range 713232-713240\\n```\\n\\n```bash\\necho idle > /sys/block/md127/md/sync_action # \u505C\u6B62 check\\nmdadm --action=repair /dev/md127            # \u5C1D\u8BD5\u4FEE\u590D - repair=resync\\niostat -h                                   # write \u662F\u6709\u4FEE\u590D\\n\\n# K/Sec\\ncat /proc/sys/dev/raid/speed_limit_max\\nsysctl dev.raid.speed_limit_max # 200000\\nsysctl dev.raid.speed_limit_max=2000000\\n\\n# \u4E0D\u662F\u5E73\u6ED1\u9650\u901F\uFF0C\u800C\u662F\u5E73\u5747 - \u56E0\u6B64 resync \u4E00\u4F1A\u513F\u6EE1\u901F\uFF0C\u4E00\u4F1A\u513F 0\\nsysctl dev.raid.speed_limit_max=100000 # \u5982\u679C\u89C9\u5F97\u4FEE\u590D\u4E86\u95EE\u9898\uFF0C\u53EF\u4EE5\u964D\u4F4E\u901F\u5EA6\uFF0C\u7136\u540E\u5C1D\u8BD5\u7CFB\u7EDF\u64CD\u4F5C\\n```\\n\\n- https://unix.stackexchange.com/a/531230/47774\\n\\n\x3c!--\\nmdadm /dev/md1 -r /dev/sdc2\\nmdadm /dev/md1 -a /dev/sdc2\\nmdadm --monitor --mail=root@localhost --delay=1800 /dev/md2\\n\\nmdadm --stop /dev/md1\\n--action=\\nidle, frozen, check, repair\\n\\necho frozen > /sys/block/md0/md/sync_action\\necho none > /sys/block/md0/md/resync_start\\necho idle > /sys/block/md0/md/sync_action\\n--\x3e\\n\\n## BTRFS critical (device dm-1): corrupt leaf\\n\\n```\\nBTRFS error (device dm-1): read time tree block corruption detected on logical 668844032 mirror 2\\nBTRFS critical (device dm-1): corrupt leaf: root=1 block=668844032 slot=1, invalid root flags, have 0x400000000 expect mask 0x1000000000001\\nBTRFS error (device dm-1): read time tree block corruption detected on logical 668844032 mirror 1\\nBTRFS critical (device dm-1): corrupt leaf: root=1 block=668844032 slot=1, invalid root flags, have 0x400000000 expect mask 0x1000000000001\\nBTRFS error (device dm-1): read time tree block corruption detected on logical 668844032 mirror 2\\nBTRFS error (device dm-1): open_ctree failed\\n```\\n\\n```bash\\nbtrfs check /dev/mapper/vg1-volume_1 --repair\\n```\\n\\n```txt\\n[1/7] checking root items\\nchecksum verify failed on 711114752 wanted 0xed010ef2 found 0xb32e10d9\\nchecksum verify failed on 711114752 wanted 0xed010ef2 found 0x3a406fa5\\nchecksum verify failed on 711114752 wanted 0xed010ef2 found 0xb32e10d9\\nCsum didn\'t match\\nERROR: failed to repair root items: I/O error\\n```\\n\\n---\\n\\n```\\nBTRFS: device label 2022.12.04-17:42:08 v42661 devid 1 transid 449145 /dev/mapper/vg1-volume_1 scanned by btrfs (22854)\\n```\\n\\n## btrfs backup\\n\\napk add partclone\\n\\n```bash\\n#btrfstune -u /dev/mapper/vg1-volume_1\\n```\\n\\nhttps://manpages.debian.org/jessie/partclone/partclone.btrfs.8\\n\\nnoerror: Instructs dd to continue operation, ignoring all read errors\\nsync: Instruct dd to fill input blocks with zeroes if there were any read errors\\n\\ndd if=/dev/sda of=/dev/sdb1 bs=1MB conv=noerror,sync status=progress\\n| gzip -c > backup.img.gz\\ngunzip -c /PATH/TO/DRIVE/backup_image.img.gz | dd of=/dev/sda\\n\\n## LV Status NOT available\\n\\n\u662F\u56E0\u4E3A\u6CA1\u6709 active\\n\\n```bash\\nvgchange -ay vg1\\n```\\n\\n## WARNING: PV /dev/md127 in VG vg1 is using an old PV header, modify the VG to update.\\n\\n\u4E0D\u7BA1\\n\\n## File descriptor 63 (pipe: 111755) leaked on pvck invocation.\\n\\n```bash\\nLVM_SUPPRESS_FD_WARNINGS=1 vgck vg1\\n```\\n\\n## \u53C2\u8003\\n\\n- [btrfs.8](https://man7.org/linux/man-pages/man8/btrfs.8.html)\\n- [btrfs-check.8](https://man7.org/linux/man-pages/man8/btrfs-check.8.html)\\n- [vgchange.8](https://man7.org/linux/man-pages/man8/vgchange.8.html)\\n- [vgck.8](https://man7.org/linux/man-pages/man8/vgck.8.html)\\n- [md.4](https://man7.org/linux/man-pages/man4/md.4.html)\\n- [mdadm.8](https://man7.org/linux/man-pages/man8/mdadm.8.html)\\n- BTRFS: failed to read log tree\\n  - `btrfs rescue zero-log /dev/<devicename>`\\n  - https://www.suse.com/support/kb/doc/?id=000018761\\n- https://www.cyberciti.biz/tips/linux-raid-increase-resync-rebuild-speed.html\\n\\n**clean up**\\n\\n```bash\\napk del mdadm lvm2 btrfs-progs btrfs-progs-extra\\n```"},{"id":"migrate-aliyun-cdn-to-cf","metadata":{"permalink":"/story/migrate-aliyun-cdn-to-cf","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2022/2022-10-07-migrate-aliyun-cdn-to-cf.md","source":"@site/../story/2022/2022-10-07-migrate-aliyun-cdn-to-cf.md","title":"\u8FC1\u79FB\u963F\u91CC\u4E91 CDN \u5230 Cloudflare","description":"\u6BCF\u6708\u8282\u7701 30\xa5 \u963F\u91CC\u4E91\u5168\u7AD9 CDN \u6D41\u91CF\u8D39\u7528\u3002","date":"2022-10-07T00:00:00.000Z","tags":[{"inline":true,"label":"DevOps","permalink":"/story/tags/dev-ops"},{"inline":true,"label":"Aliyun","permalink":"/story/tags/aliyun"}],"readingTime":1.74,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"migrate-aliyun-cdn-to-cf","title":"\u8FC1\u79FB\u963F\u91CC\u4E91 CDN \u5230 Cloudflare","tags":["DevOps","Aliyun"]},"unlisted":false,"prevItem":{"title":"\u6062\u590D\u7FA4\u6656\u6570\u636E\u76D8","permalink":"/story/recover-synology"},"nextItem":{"title":"CRM \u5B9E\u73B0\u7ECF\u5386","permalink":"/story/crm-trails"}},"content":"![](./2022-10-07-cf-stat.png)\\n\\n\u6BCF\u6708\u8282\u7701 30\xa5 \u963F\u91CC\u4E91\u5168\u7AD9 CDN \u6D41\u91CF\u8D39\u7528\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u80CC\u666F\\n\\nhttps://wener.tech \u4E3A\u56FD\u5185\u5907\u6848\u57DF\u540D\uFF0Chttps://wener.me \u4E3A\u672A\u5907\u6848\u57DF\u540D\uFF0C\u4E24\u4E2A\u7AD9\u70B9\u63D0\u4F9B\u76F8\u540C\u5185\u5BB9\uFF0C\u6570\u636E\u90FD\u4E3A github pages\\n\\n- wener.me https://github.com/wenerme/wener/tree/gh-pages\\n- wener.tech https://github.com/wenerme/wener.tech/tree/gh-pages\\n- https://charts.wener.tech https://github.com/wenerme/charts\\n\\n\u56E0\u4E3A\u4E00\u4E2A repo \u53EA\u80FD\u6709\u4E00\u4E2A CNAME\uFF0C\u6240\u4EE5\u4F7F\u7528\u4E86\u4E24\u4E2A\u3002\\n\\n\u5728\u56FD\u5185\u5907\u6848\u57DF\u540D\u6700\u7701\u4E8B\u7684\u65B9\u5F0F\u662F\u653E\u5230\u56FD\u5185\u4E91\u5E73\u53F0\u89E3\u6790\uFF0C\u8FC1\u51FA\u53EF\u80FD\u5BFC\u81F4\u5907\u6848\u64A4\u9500\uFF0C\u56E0\u6B64 wener.tech \u4F7F\u7528\u4E86\u963F\u91CC\u4E91\u5168\u7AD9 CDN\u3002\\n\\n\u5176\u4E2D charts.wener.tech \u6D41\u91CF\u6700\u5927\uFF0C\u56E0\u4E3A\u52A0\u5230\u4E00\u4E9B helm charts \u7684\u7D22\u5F15\u7AD9\u91CC\uFF0C\u4E14\u90E8\u7F72\u5F88\u591A\u5730\u65B9\u90FD\u7528\u5230\u4E86\u3002\\n\u5176\u4E2D\u91CF\u6700\u5927\u7684\u8BF7\u6C42\u4E3A index.yaml \uFF0C \u5355\u4E2A\u6587\u4EF6\u4E0D\u5C0F\uFF0C\u8BF7\u6C42\u6B21\u6570\u9AD8\uFF0C\u6BCF\u4E2A\u6708\u7684\u5168\u7AD9 CDN \u57FA\u672C\u90FD\u82B1\u8D39\u5728\u4E86 charts.wener.tech\u3002\\n\\n## \u8FC1\u79FB\\n\\n\u6BCF\u4E2A\u6708\u4E3A charts.wener.tech \u6D41\u91CF\u4ED8\u8D39\u4E5F\u4E0D\u662F\u529E\u6CD5\uFF0C\u56E0\u6B64\u6253\u7B97\u8FC1\u79FB\u3002\\n\\n**\u4E4B\u524D**\\n\\nimport Mermaid from \'@theme/Mermaid\';\\n\\n<Mermaid\\n  chart={`\\ngraph TD\\n    charts.wener.tech --CNAME--\x3e AliyunCDN\\n    AliyunCDN --\x3e GitHubPages\\n`}\\n/>\\n\\n\\n**\u4E4B\u540E**\\n\\n<Mermaid\\n  chart={`\\ngraph TD\\n    charts.wener.tech -- CNAME --\x3e fb.wener.me\\n    fb.wener.me --\x3e ArgoTunnel --Kubernetes--\x3e Nginx\\n    Nginx --\x3e GitHubPages\\n`}\\n/>\\n\\n\u56E0\u4E3A wener.tech \u662F\u5728\u56FD\u5185\uFF0C\u56E0\u6B64\u53EA\u80FD\u4F7F\u7528 CNAME \u65B9\u5F0F\u5230 cloudflare\uFF0Ccloudflare \u652F\u6301\u4E3A\u5916\u90E8\u57DF\u540D\u914D\u7F6E ssl \uFF0C\u7136\u540E fallback \u5230\u6258\u7BA1\u57DF\u540D\u3002\\n\\n\u4F7F\u7528\u4E86 Nginx \u4F5C\u4E3A\u53CD\u5411\u4EE3\u7406\u7F13\u5B58\uFF0C\u5C1D\u8BD5\u4E86 Varnish\uFF0C\u4F46\u53D1\u73B0\u8FD8\u662F Nginx \u6700\u4E3A\u7B80\u5355\u66B4\u529B\u3002\\n\\nGitHub Pages \u6709\u65F6\u5019\u5728\u56FD\u5185\u4E5F\u4E0D\u4E00\u5B9A\u80FD\u8BBF\u95EE\uFF0C\u52A0\u4E86\u672C\u5730\u7F13\u5B58\u662F\u6700\u4E3A\u4FDD\u9669\u7684\u3002\\n\\n> **Note** [Why choose nginx as proxy cache](https://wener.me/notes/devops/web/proxy-cache).\\n\\n**Cloudflare \u7F13\u5B58\u547D\u4E2D\u95EE\u9898**\\n\\n\u4E00\u5F00\u59CB\u7F13\u5B58\u547D\u4E2D\u662F\u5F88\u4F4E\u7684\\n\\n![](./2022-10-07-cf-stat.png)\\n\\n\u56E0\u4E3A Cloudflare \u57FA\u4E8E extension \u7F13\u5B58\u800C\u4E0D\u662F mime\uFF0C\u4E14\u9ED8\u8BA4\u4E0D\u7F13\u5B58 html yaml \u8FD9\u79CD\uFF0C\u5728\u901A\u8FC7 Page Rule \u6DFB\u52A0\u5168\u7AD9\u7F13\u5B58\u540E\uFF0C\u7F13\u5B58\u547D\u4E2D\u7387\u4E00\u4E0B\u5B50\u5C31\u4E0A\u53BB\u4E86\u3002\\n\\n\u5C31\u8FD9\u6837\u6BCF\u4E2A\u6708\u8282\u7701\u4E86\u4E00\u5C0F\u7B14\u963F\u91CC\u4E91\u5168\u7AD9 CDN \u6D41\u91CF\u8D39\u7528\u3002\\n\\n**\u7A7F\u900F\u5230 Nginx \u7684\u6D41\u91CF**\\n\\n![](./2022-10-07-goaccess-stat.png)"},{"id":"crm-trails","metadata":{"permalink":"/story/crm-trails","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2022/2022-08-17-crm-trials.md","source":"@site/../story/2022/2022-08-17-crm-trials.md","title":"CRM \u5B9E\u73B0\u7ECF\u5386","description":"| v   | date              |","date":"2022-08-17T00:00:00.000Z","tags":[{"inline":true,"label":"\u601D\u8003","permalink":"/story/tags/\u601D\u8003"},{"inline":true,"label":"CRM","permalink":"/story/tags/crm"}],"readingTime":6.93,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"crm-trails","title":"CRM \u5B9E\u73B0\u7ECF\u5386","tags":["\u601D\u8003","CRM"]},"unlisted":false,"prevItem":{"title":"\u8FC1\u79FB\u963F\u91CC\u4E91 CDN \u5230 Cloudflare","permalink":"/story/migrate-aliyun-cdn-to-cf"},"nextItem":{"title":"\u5927\u5E08\u4E4B\u8DEF","permalink":"/story/raod-to-master"}},"content":"| v   | date              |\\n| --- | ----------------- |\\n| v1  | 2019.11 - 2021.01 |\\n| v2  | 2020.01 - 2020.06 |\\n| v3  | 2020.11 - 2022.07 |\\n| v4  | 2022.06 - 2022.11 |\\n| v5  | 2022.11 - 2023.03 |\\n| v6  | 2023.03 -         |\\n\\n:::tip Choose\\n\\n- FE\\n  - React\\n  - Vite\\n  - tailwindcss\\n  - daisyui\\n  - headlessui\\n  - floatingui\\n  - GraphQL + urlq + CodeGen\\n  - react-hook-form\\n  - zustand\\n- BE\\n  - PostgreSQL\\n  - mikro-orm\\n  - type-graphql\\n  - NestJS\\n  - Hono\\n  - swc+esbuild -> single bundle\\n  - ts-node+swc -> faster dev\\n- \u4E0D\u8981\u9009\u62E9\\n  - ~~andt~~\\n  - ~~trpc~~\\n\\n:::\\n\\n## v1\\n\\n- \u540E\u7AEF - Java - 2019.11 - 2021.01\\n- \u524D\u7AEF - NextJS v9 + Antd - 2019.11 - 2021.3\\n  - @reduxjs/toolkit\\n\\n:::tip \u603B\u7ED3\\n\\n\u975E\u5E38\u7B80\u5355\u7684\u5C1D\u8BD5\uFF0C\u5F88\u5FEB\u5C31\u5931\u8D25\u4E86\uFF0C\u76EE\u6807\u5E76\u4E0D\u660E\u786E\u3002\\n\u5BF9 CRM \u5E76\u4E0D\u4E86\u89E3\uFF0C\u8FC7\u4E8E\u76F2\u76EE\u3002\\n\u5806\u780C\u4E86\u4E00\u4E9B\u57FA\u7840\u524D\u7AEF\u7EC4\u4EF6\u3002\u524D\u7AEF\u5F00\u53D1\u80FD\u529B\u5C1A\u4E0D\u6210\u719F\u3002\\n\\n:::\\n\\n\x3c!-- more --\x3e\\n\\n## v2\\n\\n- 2020.01 - 2020.06\\n- \u540E\u7AEF - Node - nestjs\\n  - nestjs\\n  - objection - ORM\\n  - swagger\\n- \u524D\u7AEF - Antd v4+NextJS v9\\n  - react-final-form\\n  - redux\\n  - tinacms\\n\\n:::tip \u603B\u7ED3\\n\\n**\u540E\u7AEF**\\n\\n\u540E\u7AEF\u5C1D\u8BD5\u6784\u5EFA\u57FA\u4E8E Schema \u7684 CRM\uFF0C\u4F46\u8FC7\u4E8E\u52A8\u6001\uFF0C\u8FC7\u4E8E\u7075\u6D3B\u5BFC\u81F4\u903B\u8F91\u5F00\u53D1\u590D\u6742\u3002\\n\u5BF9 NodeJS \u540E\u7AEF\u5F00\u53D1\u5E76\u4E0D\u8DB3\u591F\u4E86\u89E3\uFF0C\u76EE\u6807\u66F4\u50CF\u662F\u4E00\u4E2A low-code \u540E\u7AEF\uFF0C\u4F46\u662F\u652F\u6301 CRM \u5B9E\u4F53\u3002\\n\u8FD9\u4E2A\u9636\u6BB5\u5BF9 CRM \u903B\u8F91\u6709\u4E86\u4E00\u4E9B\u4E86\u89E3\u3002\\n\\n- \u9700\u8981\u7684\u662F \u5148 CRM \u518D low-code\\n- \u6838\u5FC3\u903B\u8F91\u662F\u786E\u5B9A\u7684\u624D\u80FD\u66F4\u597D\u5F00\u53D1\u4E1A\u52A1 - \u4E0D\u7136\u8981\u505A\u592A\u591A\u5047\u8BBE\\n- NodeJS \u5BB9\u5668\u771F\u7684\u5F88\u5927\\n- \u786E\u5B9A\u4E86\u8981\u8D70 Schema \u7684\u65B9\u5F0F - \u524D\u7AEF\u901A\u8FC7 Schema \u505A\u66F4\u591A\u7684\u4E8B\u60C5\\n\\n**\u524D\u7AEF**\\n\\n\u524D\u7AEF\u9009\u62E9 Antd\uFF0C\u53D1\u73B0\u963B\u529B\u8D8A\u6765\u8D8A\u5927\uFF0C\u5B9E\u73B0\u5B9A\u5236\u5316\u5F88\u96BE\u3002\\n\u8FD9\u65F6\u7684\u524D\u7AEF\u5F00\u53D1\u80FD\u529B\u8FD8\u76F8\u5BF9\u6B20\u7F3A\uFF0C\u5BF9\u751F\u6001\u8FD8\u4E0D\u591F\u4E86\u89E3\u3002\\n\\n- \u63A2\u7D22\u4E86\u524D\u7AEF\u60F3\u8981\u8FBE\u6210\u7684\u76EE\u6807 - \u7A97\u53E3\u3001\u591A Tab\\n- \u4E0D\u8981\u9009\u62E9 antd \u8FD9\u79CD\u8FC7\u4E8E\u5168\u9762\u65E0\u6CD5\u5B9A\u5236\u7684\u7EC4\u4EF6\u5E93\\n\\n:::\\n\\n## v3\\n\\n- \u540E\u7AEF - Go - 2020.11 - 2022.07\\n  - gorm + restful - \u524D\u671F\\n  - ent + gqlgen - \u4E2D\u671F\\n  - gorm - \u975E\u6838\u5FC3 CRM \u4E1A\u52A1\\n- \u524D\u7AEF - 2020.11 - 2022.1\\n  - NextJS\\n  - BlueprintJS - \u524D\u671F\\n  - graphql-codegen\\n  - urql - GraphQL\\n  - TailwindCSS - \u540E\u671F\\n  - zustand - \u540E\u671F\\n  - react-hook-form\\n\\n:::tip \u603B\u7ED3\\n\\n\u8FD9\u4E2A\u9636\u6BB5\u662F\u5386\u65F6\u6700\u957F\u7684\uFF0C\u9664\u4E86\u6838\u5FC3\u7684 CRM \u8FD8\u5B8C\u6210\u4E86\u5176\u4ED6\u7684\u4E00\u4E9B\u9644\u5C5E\u6A21\u5757\u3002\\n\\n**\u540E\u7AEF**\\n\\n\u540E\u7AEF\u4F7F\u7528 Golang \u5F00\u53D1\u4E0A\u8FDB\u884C\u4E86\u4E00\u4E9B\u63A2\u7D22\uFF0C\u524D\u671F gorm+restful \u65B9\u5F0F\u4EE3\u7801\u91CF\u5927\u4E14\u91CD\u590D\u3002\\n\u4E4B\u540E\u9009\u62E9 ent+gqlgen+\u81EA\u5B9A\u4E49\u751F\u6210\u4EE3\u7801\u3002\\n\\n- GraphQL \u5BF9\u524D\u7AEF\u975E\u5E38\u53CB\u597D - \u4F46\u9009\u62E9\u4E86\u5148 GraphQL \u800C\u975E\u5148 GRPC \u662F\u6BD4\u8F83\u5931\u8BEF\u7684\\n- \u57FA\u4E8E ent \u5B9E\u73B0\u81EA\u5B9A\u4E49\u751F\u6210\u903B\u8F91\\n  - \u751F\u6210\u4E86 schema - \u4F46\u975E\u6807\u51C6 jsonschema - \u4E14\u957F\u671F\u672A\u4ECE\u540E\u7AEF\u62C9\u800C\u662F\u76F4\u63A5\u653E\u5728\u4E86\u524D\u7AEF\\n    - \u6539\u52A8\u56F0\u96BE\\n    - \u81EA\u5B9A\u4E49 schema \u524D\u671F\u7528\u8D77\u6765\u723D\uFF0C\u540E\u671F\u7EF4\u62A4\u56F0\u96BE - \u8BB0\u5FC6\u5C42\u9762\u548C\u719F\u6089\u5EA6\u5C42\u9762\\n  - \u751F\u6210\u4E86 graphql \u7684 golang resolver \u4EE3\u7801 - \u901A\u8FC7\u89E3\u6790 AST \u7684\u65B9\u5F0F\u690D\u5165\\n    - \u751F\u6210\u903B\u8F91\u8FC7\u4E8E\u4F9D\u8D56 ent\uFF0C\u6539\u52A8\u7EF4\u62A4\u56F0\u96BE\\n    - \u751F\u6210 golang resolver \u903B\u8F91\u7EF4\u62A4\u56F0\u96BE\\n- ent \u751F\u6210\u8FC7\u591A\u7684\u4E1C\u897F - \u4EE3\u7801\u5E93\u5197\u4F59\\n- ent \u5347\u7EA7\u6709\u98CE\u9669\\n  - \u751F\u6210\u903B\u8F91\u4E0D\u517C\u5BB9 - **\u4E3B\u8981\u95EE\u9898** - \u4E0D\u6562\u968F\u610F\u5347\u7EA7 - \u5F00\u53D1\u963B\u788D\\n  - \u81EA\u8EAB\u4E0D\u517C\u5BB9\\n- \u786E\u5B9A\u4E86\u8981\u5148 GRPC \u7684\u65B9\u5F0F\u5F00\u53D1\\n- \u57FA\u4E8E\u591A DB \u540E\u7AEF\u7684\u591A\u79DF\u6237\u903B\u8F91\u4E0D\u597D\u7EF4\u62A4\\n- \u4F18\u5148\u8BBE\u8BA1\u7684 On-Prime \u6A21\u5F0F\uFF0C\u672A\u8003\u8651 SaaS\uFF0C\u540E\u671F\u5C1D\u5230\u4E86\u82E6\u5934\\n\\n**\u524D\u7AEF**\\n\\n\u524D\u671F\u57FA\u4E8E Blueprint \u5FEB\u901F\u5B9E\u73B0\u5927\u591A\u529F\u80FD\uFF0C\u4F46\u8FD8\u662F\u56E0\u4E3A\u7ECF\u9A8C\u4E0D\u8DB3\uFF0C\u5F88\u591A\u4E1C\u897F\u5B9E\u73B0\u6709\u7F3A\u9677\u3002\u4F46\u5B9E\u73B0\u4E86\u521D\u671F\u539F\u578B\uFF0C\u8FBE\u5230\u4E86\u60F3\u8981\u7684\u7ED3\u679C\u3002\\n\\n- Blueprint \u63D0\u4F9B CSS \u76F4\u63A5\u4F7F\u7528\uFF0C\u975E\u5E38\u65B9\u4FBF - \u4FB5\u5165\u6027\u8FDC\u8FDC\u5C0F\u4E8E Antd\\n- Blueprint \u5347\u7EA7\u9700\u8981\u6539\u52A8\u6240\u6709\u7684 CSS \u524D\u7F00 - \u26A0\uFE0F\\n- \u540E\u671F\u9009\u62E9 Tailwind \u5F00\u53D1\\n- \u7EC4\u4EF6\u4F20\u9012\u3001\u81EA\u5B9A\u4E49\u7ECF\u9A8C\u6B20\u7F3A - \u505A\u4E86\u5F88\u591A\u4E0D\u597D\u7EF4\u62A4\u7684\u6269\u5C55\\n- \u57FA\u7840 Schema \u4E0D\u6807\u51C6 - \u5F88\u591A\u4E1C\u897F\u57FA\u4E8E\u4E0D\u6807\u51C6\u7684 schema \u5F00\u53D1\u540E\u7ED3\u679C\u662F\u5F80\u66F4\u4E0D\u597D\u7684\u65B9\u5411\u53D1\u5C55\\n- \u4F18\u5148\u8003\u8651\u4E86\u7528\u6237\u4F7F\u7528\u800C\u975E\u7BA1\u7406\u4F7F\u7528\uFF0C\u5BFC\u81F4\u6240\u6709\u7BA1\u7406\u7EF4\u62A4\u5F00\u901A\u90FD\u9700\u8981\u4EBA\u4E3A - \u4E0D\u53EF\u6301\u7EED\\n- \u671F\u671B\u4E2D\u7684\u6A21\u5757\u5316\u4E00\u76F4\u672A\u5B9E\u73B0\\n\\n:::\\n\\n## v4\\n\\n- 2022.06 -> 2022.11\\n- \u540E\u7AEF\\n  - \u786E\u5B9A\u4E86\u8981\u4F18\u5148 GRPC\uFF0C\u4E14\u4F7F\u7528\u6807\u51C6 Schema\u3002\\n    - \u56E0\u6B64\u5C06 protobuf \u7684\u5B9A\u4E49\u4F5C\u4E3A Single-Source\u2014Of\u2014Truth Schema\u3002\\n    - \u5206\u79BB\u63A5\u53E3 Schema \u548C DB - \u4E4B\u524D\u662F ent schema -> graphql schema\\n  - \u867D\u7136\u9009\u62E9 GRPC \u4F46\u4E5F\u8981\u76F4\u63A5\u80FD\u7ED9\u524D\u7AEF\u8BBF\u95EE\\n    - \u9009\u62E9\u4E86 connect \u534F\u8BAE\\n    - \u5B9E\u73B0\u4E86 connect-gateway\\n      - \u5B9E\u73B0\u4E86\u57FA\u4E8E Redis \u670D\u52A1\u53D1\u73B0\\n      - \u5B9E\u73B0\u4E86\u57FA\u4E8E grpc reflection \u81EA\u52A8\u66B4\u9732\u670D\u52A1\\n  - DB \u786E\u5B9A\u4E0D\u8981\u901A\u8FC7 ORM \u81EA\u52A8\u7EF4\u62A4\u800C\u662F\u624B\u52A8\u7EF4\u62A4\\n    - \u5B9E\u73B0\u57FA\u4E8E PG RLS \u7684\u591A\u79DF\u6237\u903B\u8F91\u800C\u975E\u591A DB \u6A21\u5F0F\\n    - \u5B9E\u73B0 CRM \u65F6 DB Schema \u7684\u91CD\u8981\u6027\u7B49\u540C\u63A5\u53E3\\n    - \u4E1A\u52A1\u6C89\u6DC0\u4E3A\u6570\u636E\u5E93\u6A21\u578B\\n    - \u4E5F\u56E0\u6B64\u5206\u79BB API \u6A21\u578B\u548C\u6570\u636E\u5E93\u6A21\u578B\\n  - Golang -> NodeJS\\n    - \u521D\u671F\u5C1D\u8BD5\u7528 Golang \u5B9E\u73B0\\n    - \u6838\u5FC3\u95EE\u9898 \u26A0\uFE0F\\n      - \u5F00\u53D1\u4E00\u6BB5 \u524D\u7AEF\u518D\u56DE\u5230 Golang \u4F1A **\u75DB\u4E0D\u6B32\u751F** - \u4E0A\u4E0B\u6587\u5207\u6362\u3001\u5F00\u53D1\u601D\u8DEF\u5207\u6362\\n      - Golang \u751F\u6210\u4EE3\u7801\u53EA\u80FD\u9759\u6001\u751F\u6210\uFF0CNodeJS \u53EF\u4EE5\u52A8\u6001\u751F\u6210\\n        - NodeJS \u66F4\u52A0\u7075\u6D3B - PoC \u9636\u6BB5\u66F4\u6709\u4F18\u52BF\\n      - \u4F7F\u7528 NodeJS \u53EF\u4EE5\u548C\u524D\u7AEF\u5728\u540C\u4E00\u4E2A\u4ED3\u5E93 - \u6838\u5FC3\u903B\u8F91\u5F00\u53D1\u7EF4\u62A4\u66F4\u5BB9\u6613\\n  - NodeJS\\n    - fastify+jsonschema+sequelize\\n    - \u901A\u8FC7 grpc \u751F\u6210 descriptor, definitoon\\n    - \u542F\u52A8\u540E\u901A\u8FC7 descriptor \u751F\u6210 jsonschema\\n    - \u901A\u8FC7 jsonschema+definitoon \u751F\u6210 grpc-service - nice-grpc\\n    - \u5B9E\u73B0\u6807\u51C6\u7684 CRUD \u8BED\u4E49\\n    - fastify POST -> grpc \u5B9E\u73B0 - \u7C7B\u4F3C connect \u8BED\u4E49\\n    - grpc-server -> grpc \u5B9E\u73B0\\n    - \u672A\u6765: web -> connect-gateway -> grpc-server -> grpc \u5B9E\u73B0\\n- \u524D\u7AEF\\n  - daisyui+tailwindcss - \u653E\u5F03 ~~Blueprint~~\\n  - \u4E0D\u518D\u76F4\u63A5\u9009\u62E9\u6210\u719F\u7684 UI \u6846\u67B6\uFF0C\u800C\u662F\u9009\u62E9\u57FA\u4E8E CSS \u7684\u6837\u5F0F\u5E93\\n  - daisyui \u63D0\u4F9B\u4E86\u4E00\u5957\u547D\u540D class \u7684\u65B9\u5F0F - \u6709 Theme\\n  - \u786E\u5B9A \u7BA1\u7406\u529F\u80FD\u4F18\u5148\u4E8E\u7528\u6237\u529F\u80FD\\n  - \u786E\u5B9A \u529F\u80FD\u80FD\u88AB\u770B\u5230\u624D\u7B97\u5F00\u53D1\u5B8C\u6210\\n  - \u6A21\u5757\u5316\\n    - \u4ECD\u5728\u5C1D\u8BD5\u4E2D - \u501F\u9274\u5176\u4ED6\u5B9E\u73B0\\n    - \u63D0\u4F9B\u5F00\u653E\u7684 OSS \u5B58\u50A8\\n    - \u76EE\u524D\u660E\u786E\u65B9\u5411\\n      - \u5206\u79BB os \u903B\u8F91\u548C\u6838\u5FC3 route \u903B\u8F91 - \u63C9\u5728\u4E00\u8D77\u56F0\u96BE\\n\\n## v5\\n\\n- 2022.11 -> 2023.03\\n- \u65B9\u5F0F\u7684\u8C03\u6574\\n  - \u4E0D\u53EA\u662F\u72EC\u7ACB\u4E8E\u4E1A\u52A1\u5355\u7EAF\u7684\u601D\u8003\u600E\u4E48\u505A CRM - \u6CA1\u6709\u4EFB\u4F55\u610F\u4E49/\u4EA7\u51FA\u7684\u4E1C\u897F\u4E0D\u53EF\u7528\\n  - \u4E1A\u52A1\u5C42\u9762\u5C06\u4EE5\u524D\u7684\u601D\u8DEF\u4EE5 DB Schema \u7684\u65B9\u5F0F\u6C89\u6DC0\\n  - \u8D34\u5408\u73B0\u5B9E\u505A\u4E00\u4E9B\u5B9E\u9645\u7684\u4E8B\u60C5\\n- \u540E\u7AEF\\n  - RPC over NATS\\n    - \u7B80\u5355\u6613\u7528\\n    - \u80FD\u5B9E\u73B0\u591A\u79DF\u6237\\n  - \u81EA\u5B9A\u4E49 RPC\\n    - \u5F31 Schema - \u4E00\u4E2A\u4EBA\u7EF4\u62A4\u4E0D\u8FC7\u6765\\n  - \u91CD\u65B0\u5B9A\u4E49\u5206\u5C42\\n    - DB -> Entity -> EntityService -> RemoteService -> Controller, tRPC, GraphQL\\n    - \u5C42\u6B21\u66F4\u591A\uFF0C\u4F46\u662F\u66F4\u6E05\u6670\\n    - \u6539\u52A8\u76F8\u5BF9\u72EC\u7ACB\uFF0C\u4E92\u4E0D\u5F71\u54CD\\n  - \u4F9D\u7136\u5168\u9762\u7684 NodeJS/TS/NextJS/NestJS\\n  - \u5C1D\u8BD5\u66F4\u52A0\u8F7B\u91CF\u7684\u670D\u52A1 - HonoJS\\n  - \u5C1D\u8BD5\u66F4\u52A0\u8F7B\u91CF\u7684\u524D\u7AEF - Vite\\n    - \u4E0D\u80FD SSR/SSG/Server Action\\n    - \u6DFB\u52A0\u591A\u4E2A\u9875\u9762\u76F8\u5BF9\u9EBB\u70E6\\n  - \u5C1D\u8BD5 Typescript \u751F\u6210 zod/typebox - Single-Source-Of-Truth\\n- \u524D\u7AEF\\n  - \u5927\u90E8\u5206\u9875\u9762\u76F4\u63A5\u4F7F\u7528\u4E86 v4 \u7684\u5185\u5BB9 - \u903B\u8F91\u7ED3\u6784\u4E0A\u6709\u4E00\u5B9A\u8C03\u6574\\n  - \u8BC1\u660E daisyui+tailwindcss \u7684\u79FB\u690D\u6027\u7684\u786E\u5F88\u597D\\n  - \u5C1D\u8BD5\u5F15\u5165\u4E86 shadcn\\n  - \u6838\u5FC3\u529F\u80FD\u80FD\u591F\u505A\u5230\u6A21\u5757\u5316\\n  - \u5C1D\u8BD5\u91CD\u65B0\u6062\u590D\u591A\u7A97\u53E3\\n\\n## v6\\n\\n- 2023.3 ->\\n- \u57FA\u4E8E v5 \u5927\u81F4\u5185\u5BB9\u4E0D\u53D8\u7684\u60C5\u51B5\u4E0B\u8C03\u6574\u4EE5\u63D0\u5347\u5F00\u53D1\u6548\u7387\\n- \u4E3B\u8981\u8C03\u6574\u5185\u5BB9\\n  - API \u8C03\u6574 - trpc -> GQL\\n  - \u7ED3\u6784\u9009\u578B\u8C03\u6574 - \u8F7B\u91CF\u5316, \u5F00\u53D1\u6548\u7387\u4F18\u5148\\n- \u8C03\u6574\u5185\u5BB9\\n  - ~~Nats RPC + trpc~~ -> GraphQL\\n    - trpc \u5185\u5BB9\u591A\u4E86\u8FC7\u540E\u7C7B\u578B\u63A8\u5BFC\u592A\u6162\\n    - GraphQL \u76F4\u63A5\u5BF9\u5BA2\u6237\u7AEF\u4FDD\u7559\\n      - \u907F\u514D\u8981\u6C42\u901A\u8FC7 RPC+trpc \u5BF9\u5BA2\u6237\u7AEF\\n      - \u51CF\u5C11\u5F00\u53D1\u91CF\\n    - RPC \u4FDD\u7559\u4E3A\u5BF9\u670D\u52A1\u7AEF\\n  - NextJS -> Vite - \u7EAF\u9759\u6001\u524D\u7AEF console\\n    - \u5F00\u53D1\u53CD\u6620\u8981\u5FEB\u5F97\u591A\\n    - \u73B0\u5728\u7684 NextJS \u4E0D\u9002\u5408\u505A\u540E\u53F0\uFF0C\u4E0D\u9002\u5408\u505A\u592A\u8FC7\u52A8\u6001\u7684\u9879\u76EE\\n    - Vite HMR \u4F53\u9A8C\u8981\u597D\u5F97\u591A\\n  - ~~fastify + NestJS Controller~~ -> Hono\\n    - \u4FDD\u7559 NestJS \u4F5C\u4E3A IoC \u5BB9\u5668\\n    - Hono \u7B80\u5355\u5BB9\u6613\u7EF4\u62A4\\n    - \u7F3A\u70B9\u662F Hono OpenAPI \u4F7F\u7528 zod-openapi\\n      - \u6CA1 NestJS Controller \u90A3\u4E48\u597D\u7528\\n      - \u4F46 \u53EF\u4EE5 share schema \u7ED9\u524D\u7AEF - \u4E0D\u8FC7\u4F7F\u7528\u4E86 GraphQL Codegen \u4E00\u822C\u4E5F\u4E0D\u9700\u8981\\n  - GraphQL \u4F7F\u7528 type-graphql+yoga+urql\\n  - \u5927\u91CF\u5F15\u5165 mixin \u6765\u62BD\u8C61\u4E1A\u52A1\u903B\u8F91\\n    - ORM \u5C42 https://github.com/wenerme/wode/blob/main/packages/nestjs/src/entity/mixins/index.ts\\n    - GQL \u5C42 https://github.com/wenerme/wode/blob/main/packages/nestjs/src/type-graphql/mixins/index.ts\\n  - Golang -> Bun\\n    - \u5C06\u6700\u540E\u4F9D\u8D56 Golang \u7684 \u4F01\u4E1A\u5FAE\u4FE1\u4F1A\u8BDD\u5185\u5BB9\u5B58\u6863\u8F6C\u4E3A Bun\\n    - bun:ffi \u80FD\u5F88\u597D\u7684\u548C c interop\\n      - [WeWorkFinanceClient.ts](https://github.com/wenerme/wode/blob/main/packages/client/src/wecom/archive/bun/WeWorkFinanceClient.ts)\\n- \u9886\u57DF\u5F00\u53D1\\n  - Follow \u56FA\u5B9A\u7684 schema \u6A21\u5F0F https://wener.me/notes/dev/design/schema\\n  - \u9010\u6E10\u56FA\u5316\u5927\u7684\u4E1A\u52A1\u6846\u67B6 https://wener.me/notes/dev/design/erp\\n  - \u9010\u6B65\u5F15\u5165\u4E00\u4E9B\u516C\u5171\u7684\u4E1A\u52A1\u903B\u8F91\\n- \u7ED3\u679C\\n  - \u76EE\u524D\u5DEE\u4E0D\u591A\u7684\u524D\u540E\u7AEF\u90E8\u7F72\u4E86 3+ \u5957\\n  - \u56FA\u5316\u4E0B\u6765\u5DEE\u4E0D\u591A\u7684\u524D\u540E\u7AEF\u6846\u67B6\\n    - \u524D\u7AEF https://github.com/wenerme/wode/tree/main/packages/console\\n    - \u540E\u7AEF https://github.com/wenerme/wode/tree/main/packages/nestjs\\n  - \u5916\u90E8\u96C6\u6210 https://github.com/wenerme/wode/tree/main/packages/client\\n- \u63A5\u4E0B\u6765\\n  - \u62BD\u53D6\u66F4\u591A\u516C\u5171\u4E1A\u52A1\u903B\u8F91\\n  - \u5F15\u5165\u66F4\u591A\u4E1A\u52A1\u57DF\\n  - \u6587\u4EF6\u5904\u7406 - \u7C7B\u4F3C\u7F51\u76D8\\n  - \u66F4\u591A\u5916\u90E8\u670D\u52A1\u96C6\u6210"},{"id":"raod-to-master","metadata":{"permalink":"/story/raod-to-master","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2022/2022-06-11-raod-to-master.md","source":"@site/../story/2022/2022-06-11-raod-to-master.md","title":"\u5927\u5E08\u4E4B\u8DEF","description":"\u5E7C\u513F\u56ED\u5C0F\u670B\u53CB\u7684\u753B\u548C\u81EA\u7531\u6D3E\u540D\u753B\u5E08\u7684\u8BDD\u6CA1\u4EC0\u4E48\u533A\u522B\uFF0C\u5C0F\u5B66\u751F\u4F5C\u6587\u548C\u540D\u4F5C\u5BB6\u7684\u6587\u7AE0\u4E5F\u6CA1\u4EC0\u4E48\u533A\u522B\u3002\u5B83\u4EEC\u5728\u5F62\u5F0F\u548C\u5185\u5BB9\u4E0A\u90FD\u662F\u5DEE\u4E0D\u591A\u7684\u3002","date":"2022-06-11T00:00:00.000Z","tags":[],"readingTime":0.32,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"raod-to-master","title":"\u5927\u5E08\u4E4B\u8DEF"},"unlisted":false,"prevItem":{"title":"CRM \u5B9E\u73B0\u7ECF\u5386","permalink":"/story/crm-trails"},"nextItem":{"title":"2022\u4E0A\u6D77\u5C01\u57CE\u65E5\u8BB0","permalink":"/story/2022-shanghai-lockdown-memo"}},"content":"\u5E7C\u513F\u56ED\u5C0F\u670B\u53CB\u7684\u753B\u548C\u81EA\u7531\u6D3E\u540D\u753B\u5E08\u7684\u8BDD\u6CA1\u4EC0\u4E48\u533A\u522B\uFF0C\u5C0F\u5B66\u751F\u4F5C\u6587\u548C\u540D\u4F5C\u5BB6\u7684\u6587\u7AE0\u4E5F\u6CA1\u4EC0\u4E48\u533A\u522B\u3002\u5B83\u4EEC\u5728\u5F62\u5F0F\u548C\u5185\u5BB9\u4E0A\u90FD\u662F\u5DEE\u4E0D\u591A\u7684\u3002\\n\\n\x3c!-- more --\x3e\\n\\n\u4E0D\u540C\u7684\u662F\uFF0C\u540E\u8005\u4F1A\u503E\u6CE8\u66F4\u591A\u7684\u65F6\u95F4\u3001\u7CBE\u529B\u53BB\u5B8C\u6210\u4F5C\u54C1\u3002\u800C\u8981\u5B8C\u6210\u8FD9\u6837\u7684\u4F5C\u54C1\u53C8\u5FC5\u987B\u8981\u6709\u8DB3\u591F\u7684\u9605\u5386\uFF0C\u77E5\u8BC6\u7ECF\u9A8C\u79EF\u7D2F\uFF0C\u65F6\u95F4\u7684\u6C89\u6DC0\u3002"},{"id":"2022-shanghai-lockdown-memo","metadata":{"permalink":"/story/2022-shanghai-lockdown-memo","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2022/2022-05-24-lockdown-memo.md","source":"@site/../story/2022/2022-05-24-lockdown-memo.md","title":"2022\u4E0A\u6D77\u5C01\u57CE\u65E5\u8BB0","description":"\u5C01\u63A7\u81EA 2022-03-16","date":"2022-05-24T00:00:00.000Z","tags":[{"inline":true,"label":"\u751F\u6D3B","permalink":"/story/tags/\u751F\u6D3B"}],"readingTime":0.9,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"2022-shanghai-lockdown-memo","title":"2022\u4E0A\u6D77\u5C01\u57CE\u65E5\u8BB0","tags":["\u751F\u6D3B"]},"unlisted":false,"prevItem":{"title":"\u5927\u5E08\u4E4B\u8DEF","permalink":"/story/raod-to-master"},"nextItem":{"title":"\u4F01\u4E1A\u5EFA\u7AD9\u7684\u57FA\u672C\u524D\u63D0\u8003\u91CF","permalink":"/story/prerequires-for-offcial-site"}},"content":"\u5C01\u63A7\u81EA 2022-03-16\\n\u89E3\u5C01\u4E8E 2022-06-01\\n\u5171\u5C01\u63A7 77 \u5929\\n\\n\x3c!-- https://day.js.org/ --\x3e\\n\x3c!-- dayjs(\'2022-06-01\').diff(dayjs(\'2022-03-16\'),\'days\') --\x3e\\n\\n\x3c!-- more --\x3e\\n\\n- \u751F\u6D3B\\n  - \u5C01\u63A7\u671F\u95F4\u91CD\u770B\u4E86\u6240\u6709 [MCU \u7535\u5F71](https://wener.me/notes/culture/movie/movie-awesome)\\n  - \u770B\u4E86\u90E8\u5206 MCU TV - \u60E9\u7F5A\u8005\u3001\u591C\u9B54\u4FA0\\n  - \u901A\u5173 \u8DEF\u6613\u5409\u9B3C\u5C4B\u3001\u9A6C\u91CC\u5965\u4E0E\u75AF\u5154\\n  - \u5929\u7A7A\u5251 - 15h\\n  - \u62A2\u83DC\\n    - \u56E0\u4E3A\u751F\u6D3B\u662F\u591C\u732B\u5B50\u4F5C\u606F\uFF0C\u5927\u591A\u80FD\u62A2\u5230 6 \u70B9\u90A3\u6CE2 \u53EE\u549A\u3002\\n    - \u901A\u8FC7\u8BBE\u7F6E iOS \u81EA\u52A8\u70B9\uFF0C\u7701\u529B\\n      - \u8BBE\u7F6E-\u901A\u7528-\u8F85\u52A9\u529F\u80FD-\u5207\u6362\u63A7\u5236\\n      - \u5148\u5F55\u5165\u8981\u70B9\u7684\u4F4D\u7F6E\uFF0C\u7136\u540E\u8FDE\u6309 3 \u6B21 \u7535\u6E90\u952E \u542F\u7528\\n      - \u7C7B\u4F3C \u5B8F\\n  - \u5496\u5561\u6212\u65AD\\n    - \u5C1D\u8BD5\u4E0D\u559D\u5496\u5561\uFF0C3\u5929\u540E\u53D1\u751F\u6212\u65AD\u53CD\u5E94\uFF0C\u6B32\u4ED9\u6B32\u6B7B\\n- \u4EE3\u7801\\n  - \u79CD\u5B50\u7D22\u5F15\u9879\u76EE [wenerme/torrenti](https://github.com/wenerme/torrenti)\\n    - \u884D\u751F\u4EE3\u7406\u9879\u76EE [wenerme/proxc](https://github.com/wenerme/proxc)\\n  - \u4F01\u4E1A\u5B98\u7F51 - Strapi+NextJS\\n    - \u884D\u751F [Tiptap \u7F16\u8F91\u5668](https://github.com/wenerme/wode) - \u4EFF Google Doc\\n  - Web3 DAO \u524D\u7AEF\u9879\u76EE\\n    - [\u5B66\u4E60 Web3 \u76F8\u5173](https://wener.me/notes/blockchain/blockchain-awesome)\\n    - \u73A9\u5E01 - \u635F\u5931 500+"},{"id":"prerequires-for-offcial-site","metadata":{"permalink":"/story/prerequires-for-offcial-site","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2022/2022-05-24-prerequires-for-offcial-site.md","source":"@site/../story/2022/2022-05-24-prerequires-for-offcial-site.md","title":"\u4F01\u4E1A\u5EFA\u7AD9\u7684\u57FA\u672C\u524D\u63D0\u8003\u91CF","description":"\u57FA\u672C\u529F\u80FD","date":"2022-05-24T00:00:00.000Z","tags":[{"inline":true,"label":"\u6307\u5357","permalink":"/story/tags/\u6307\u5357"}],"readingTime":0.62,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"prerequires-for-offcial-site","title":"\u4F01\u4E1A\u5EFA\u7AD9\u7684\u57FA\u672C\u524D\u63D0\u8003\u91CF","tags":["\u6307\u5357"]},"unlisted":false,"prevItem":{"title":"2022\u4E0A\u6D77\u5C01\u57CE\u65E5\u8BB0","permalink":"/story/2022-shanghai-lockdown-memo"},"nextItem":{"title":"Love the World","permalink":"/story/love-the-world"}},"content":"**\u57FA\u672C\u529F\u80FD**\\n\\n1. \u6587\u7AE0\u7F16\u8F91\\n2. \u7528\u6237\u8054\u7CFB\u8868\u5355\u63D0\u4EA4\\n3. \u9759\u6001 - \u5229\u4E8E SEO\\n\\n**\u8003\u8651**\\n\\n1. \u662F\u5426\u9700\u8981\u81EA\u6709\u57DF\u540D\\n   - \u6CA1\u6709\u81EA\u6709\u57DF\u540D\u53EF\u7528\u5E73\u53F0\u63D0\u4F9B\u7684\\n   - \u57DF\u540D\u662F\u5FC5\u987B\u7684\\n2. \u662F\u5426\u9700\u8981 HTTPS \u8BC1\u4E66\\n   - \u53EF\u63D0\u4F9B\u514D\u8D39\u8BC1\u4E66 - \u6D89\u53CA\u8FD0\u7EF4\\n   - \u53EF\u4E70 - \u4E91\u5E73\u53F0\u8D2D\u4E70\uFF0C\u9700\u8981\u5B9A\u671F\u66F4\u65B0\u7EF4\u62A4\\n3. \u662F\u5426\u9700\u8981\u5907\u6848\\n   - \u672A\u5907\u6848\u5FAE\u4FE1\u65E0\u6CD5\u76F4\u63A5\u6253\u5F00\\n   - \u6700\u7B80\u5355\u7684\u5907\u6848\u9700\u8981\u6302\u4E91\u670D\u52A1\u5546 - \u670D\u52A1\u5668\\n   - \u4F7F\u7528\u5E73\u53F0\u63D0\u4F9B\u7684\u57DF\u540D\u53EF\u907F\u514D\u5907\u6848\\n4. \u6258\u7BA1\u6216\u81EA\u884C\u63D0\u4F9B\u670D\u52A1\u5668\\n   - \u6258\u7BA1 - \u5E73\u53F0\u63D0\u4F9B\u670D\u52A1\u5668\u8D44\u6E90 - \u4F7F\u7528\u5E73\u53F0\u5E26\u5BBD\\n   - \u81EA\u884C\u63D0\u4F9B\u670D\u52A1\u5668 - \u9700\u8981\u7EF4\u62A4\u3001\u5B9A\u65F6\u4ED8\u8D39\\n     - \u4E00\u822C\u514D\u8D39 1mb \u5E26\u5BBD\uFF08\u56FE\u7247\u591A\u4F1A\u975E\u5E38\u6162\uFF09"},{"id":"love-the-world","metadata":{"permalink":"/story/love-the-world","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2022/2022-05-19-love-the-world.md","source":"@site/../story/2022/2022-05-19-love-the-world.md","title":"Love the World","description":"\u6DF1\u5207\u7684\u7231\u7740\u8FD9\u4E2A\u7F8E\u597D\u7684\u4E16\u754C\uFF0C\u56E0\u6B64\u66F4\u6DF1\u5207\u7684\u6068\u7740\u8BA9\u8FD9\u4E2A\u4E16\u754C\u80AE\u810F\u7684\u4E1C\u897F\u3002","date":"2022-05-19T00:00:00.000Z","tags":[{"inline":true,"label":"\u601D\u8003","permalink":"/story/tags/\u601D\u8003"},{"inline":true,"label":"\u751F\u6D3B","permalink":"/story/tags/\u751F\u6D3B"}],"readingTime":1.6,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"love-the-world","title":"Love the World","tags":["\u601D\u8003","\u751F\u6D3B"]},"unlisted":false,"prevItem":{"title":"\u4F01\u4E1A\u5EFA\u7AD9\u7684\u57FA\u672C\u524D\u63D0\u8003\u91CF","permalink":"/story/prerequires-for-offcial-site"},"nextItem":{"title":"\u6570\u636E\u540C\u6B65\u6A21\u5F0F","permalink":"/story/etl-pattens"}},"content":"\u6DF1\u5207\u7684\u7231\u7740\u8FD9\u4E2A\u7F8E\u597D\u7684\u4E16\u754C\uFF0C\u56E0\u6B64\u66F4\u6DF1\u5207\u7684\u6068\u7740\u8BA9\u8FD9\u4E2A\u4E16\u754C\u80AE\u810F\u7684\u4E1C\u897F\u3002\\n\\n\x3c!-- more --\x3e\\n\\n\u670D\u4ECE\u6027\u5B9E\u9A8C\uFF0C\u4E0D\u505C\u7684\u6311\u6218\u4F60\u7684\u5E95\u7EBF\uFF0C\u6216\u8BB8\u62FF\u51C6\u4E86\u8FD9\u7FA4\u4EBA\u9AA8\u5B50\u91CC\u90FD\u662F\u60F3\u7740\u201C\u987A\u7740\u5B83\u4EEC\u5C31\u597D\u4E86\u201D\uFF0C\u8FD9\u4E2A\u5E95\u7EBF\u8D8A\u6765\u8D8A\u4F4E\u3002\\n\\n\u8C01\u90FD\u53EF\u4EE5\u6307\u7740\u4F60\u7684\u8138\u6765\u6559\u80B2\u4F60\uFF0C\u53EA\u8981\u5B83\u8BA4\u4E3A\u5B83\u662F\u201C\u5BF9\u7684\u201D\uFF0C\u89C4\u5219\u90FD\u5728\u5634\u4E0A\uFF0C\u6743\u5229\u5728\u65E0\u9650\u653E\u5927\uFF0C\u6CA1\u6709\u4EBA\u89C9\u5F97\u8FD9\u6709\u4EC0\u4E48\u4E0D\u5BF9\u3002\\n\u6216\u8BB8\u6709\u4EBA\u89C9\u5F97\u4E0D\u5BF9\uFF0C\u53EF\u662F\u4ED6\u4EEC\u4E0D\u88AB\u5141\u8BB8\u201C\u53D1\u58F0\u201D\uFF0C\u6211\u4E5F\u4E0D\u88AB\u5141\u8BB8\u201C\u53D1\u58F0\u201D\u3002\\n\\n\u7B80\u5355\u7684\u968F\u58F0\u9644\u548C\u8FD8\u4E0D\u8DB3\u4EE5\u6EE1\u8DB3\u5B83\u4EEC\u7684\u201C\u6307\u5BFC\u201D\u6B32\u671B\uFF0C\u5B83\u4EEC\u5E0C\u671B\u4F60\u89C9\u5F97\u610F\u8BC6\u5230\u81EA\u5DF1\u7684\u9519\u8BEF\uFF0C\u867D\u7136\u4F60\u77E5\u9053\u4E8B\u5B9E\u4E0A\u5E76\u4E0D\u662F\u4E00\u4E2A\u9519\u8BEF\uFF0C\u4F46\u8FD8\u662F\u9519\u4E86\u3002\\n\u9519\u5728\u8EAB\u5728\u8FD9\u4E2A\u73AF\u5883\u3002\\n\\n\u957F\u8F88\u89C9\u5F97\u63A5\u53D7\u5B83\u4EEC\u7684\u201C\u6559\u80B2\u201D\u3001\u201C\u6307\u5BFC\u201D\u6CA1\u6709\u5931\u53BB\u4EC0\u4E48\uFF0C\u4F46\u8FD9\u672C\u8EAB\u5C31\u5728\u4E00\u76F4\u5931\u53BB\uFF0C\u5E76\u4E14\u5931\u53BB\u7684\u8D8A\u6765\u8D8A\u591A\u3002\\n\\n\u5F53\u4F5C\u4E3A\u4E00\u4E2A\u5E95\u5C42\u4EBA/\u666E\u901A\u4EBA\uFF0C\u65E9\u5DF2\u8BA4\u8BC6\u5230\u81EA\u5DF1\u65E0\u6CD5\u6539\u53D8\u4EFB\u4F55\u4E8B\u60C5\uFF0C\u65E0\u6CD5\u83B7\u53D6\u5230\u66F4\u591A\uFF0C\u90A3\u4E48\u65E0\u8BBA\u505A\u6216\u8005\u4E0D\u505A\u4EC0\u4E48\u90FD\u662F\u5728\u5931\u53BB\uFF0C\u5931\u53BB\u81EA\u5DF1\uFF0C\u5931\u53BB\u4EB2\u4EBA\uFF0C\u5931\u53BB\u5B69\u5B50\u7684\u672A\u6765\uFF0C\u5C31\u6CA1\u90A3\u4E48\u60F3\u8981\u7EE7\u7EED\u53BB\u9644\u548C\u3002\\n\u65E9\u4E00\u70B9\u89E3\u8131\u4E5F\u7B97\u662F\u4E00\u79CD\u9003\u907F\uFF0C\u9700\u8981\u52C7\u6C14\u3002\u653E\u5F03\u4E86\u5BF9\u4EFB\u4F55\u4EBA\u8D1F\u8D23\uFF0C\u4E00\u70B9\u70B9\u7684\u5931\u53BB\u8010\u5FC3\uFF0C\u4E00\u70B9\u70B9\u7684\u79EF\u7D2F\u4EC7\u6068\u3002\\n\\nTring to look the bright side, but in the dark room, there is no light.\\n\\n<details>\\n<summary>\u8D77\u56E0\uFF1A</summary>\\n\\n\u5C01\u63A7\u671F\uFF0C\u6211\u5988\u5E26\u7740\u6211\u5B69\u5B50\u53BB\u82B1\u56ED\u73A9\uFF0C\u53EF\u662F\u76AE\u7403\u4E0D\u5C0F\u5FC3\u6389\u51FA\u4E86\u56F4\u5899\u5916\uFF0C\u6211\u5988\u60F3\u5728\u56F4\u5899\u8BA9\u522B\u4EBA\u5E2E\u5FD9\u6361\u7403\uFF0C\u6273\u5F00\u4E86\u4E00\u70B9\u56F4\u5899\u4E0A\u7684\u94C1\u4E1D\u3002\\n<br/>\\n\u5C0F\u533A\u4E0D\u77E5\u9053\u90A3\u91CC\u6765\u7684\u4EBA\uFF0C\u6572\u4E0A\u95E8\u6765\u6559\u80B2\uFF0C\u6559\u80B2\u4E86\u4E00\u4F1A\uFF0C\u6211\u5988\u4E5F\u5728\u5E94\u548C\uFF0C\u53EF\u662F\u6211\u4E0D\u8010\u70E6\u4E86\uFF0C\u6211\u8BF4\u6211\u4EEC\u77E5\u9053\u9519\u4E86\uFF0C\u4E0D\u4F1A\u4E86\uFF0C\u7136\u540E\u5173\u95E8\u4E86\u3002\\n\u5BF9\u65B9\u5E76\u4E0D\u7F62\u4F11\uFF0C\u626C\u8A00\u8981\u62A5\u8B66\uFF0C\u6211\u5988\u53EA\u597D\u5F00\u95E8\u7EE7\u7EED\u63A5\u53D7\u6559\u80B2\uFF0C\u5BF9\u65B9\u4E5F\u66F4\u8D77\u52B2\u4E86\u3002\\n</details>"},{"id":"etl-pattens","metadata":{"permalink":"/story/etl-pattens","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2022/2022-01-26-etl-pattens.md","source":"@site/../story/2022/2022-01-26-etl-pattens.md","title":"\u6570\u636E\u540C\u6B65\u6A21\u5F0F","description":"A \u540C\u6B65\u5230 B","date":"2022-01-26T00:00:00.000Z","tags":[{"inline":true,"label":"Design","permalink":"/story/tags/design"},{"inline":true,"label":"Architecture","permalink":"/story/tags/architecture"}],"readingTime":1.49,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u6570\u636E\u540C\u6B65\u6A21\u5F0F","slug":"etl-pattens","tags":["Design","Architecture"]},"unlisted":false,"prevItem":{"title":"Love the World","permalink":"/story/love-the-world"},"nextItem":{"title":"\u7EC4\u5EFA\u4F60\u81EA\u5DF1\u7684 NAS \u670D\u52A1\u5668","permalink":"/story/build-your-own-nas"}},"content":"> A \u540C\u6B65\u5230 B\\n>\\n> DBA -> A -> B -> DBB\\n>\\n> Extract -> Load\\n>\\n> Extract -Transform-> Load\\n\\n\x3c!-- more --\x3e\\n\\n## \u573A\u666F\\n\\n**A,B,DBA,DBB \u4E92\u901A\u6027**\\n\\n| from\\\\to | DBA | A   | B   | DBB |\\n| ------- | --- | --- | --- | --- |\\n| DBA     |     |     |     | \u{1F7E1}  |\\n| A       |     |     | \u{1F7E2}  | \u{1F7E1}  |\\n| B       | \u{1F7E0}  | \u{1F7E2}  |     |     |\\n| DBB     | \u{1F7E0}  |     |     |     |\\n\\n- \u{1F7E2} - \u6709\u53EF\u80FD - A <-> B\\n- \u{1F7E1} - \u4E5F\u8BB8\u53EF\u80FD - \u63D0\u4F9B\u516C\u6709\u4E91\u6570\u636E\u5E93\u4F5C\u4E3A\u540C\u6B65\u76EE\u6807\\n- \u{1F7E0} - \u4E0D\u592A\u53EF\u80FD\\n  - \u5982\u679C\u662F\u5185\u90E8\u670D\u52A1\u662F\u53EF\u80FD\u7684\\n\\n## \u6A21\u5F0F\\n\\n- Push - \u63A8 - A -> B\\n- Pull - \u62C9 - A <- B\\n- Reactive - A <-> B\\n- \u7B2C\u4E09\u65B9 - A -> X -> B\\n\\n## \u65B9\u5F0F\\n\\n- \u5168\u91CF\\n- \u589E\u91CF\\n  - \u57FA\u4E8E\u589E\u91CF\u6E38\u6807\\n  - \u57FA\u4E8E CDC \u4E8B\u4EF6\\n- Schema+Data\\n\\n## \u5B9E\u73B0\u65B9\u6848\\n\\n- DBA -> A -> B -> DBB\\n  - B \u66B4\u9732 API\uFF0CA \u8BF7\u6C42 B - Push/Hook\\n  - \u4F8B\u5982: WebHook\\n- DBA -> A <- B -> DBB\\n  - A \u66B4\u9732 API\uFF0CB \u8BF7\u6C42 A - Pull/Query\\n  - \u4F8B\u5982: WebHook\\n- DBA -> A -> DBB\\n  - \u4F8B\u5982: \u914D\u7F6E\u540C\u6B65\u76EE\u6807\u7ED9 A, A \u76F4\u63A5\u5199\u5165\\n- DBA -> B -> DBB\\n  - \u4F8B\u5982: RLS \u66B4\u9732\u7ED9 B \u8BBF\u95EE\\n- DBA <-> DBB\\n  - \u4F8B\u5982: DB Link, Replication\\n- DBA -> A -> Queue -> B -> DBB\\n  - A,B \u901A\u8FC7 Queue \u4EA4\u4E92 - A,B \u90FD\u6CA1\u6709\u66B4\u9732\u63A5\u53E3\\n  - \u88AB\u52A8\\n  - Queue \u5B9A\u4F4D\\n    - \u6570\u636E\u5B58\u50A8 - Kafka\\n    - \u4FE1\u606F\u4F20\u8F93 - Redis, Nats - \u4F8B\u5982 RPC over Redis Stream\\n- DBA -> X -> DBB\\n- DBA -> A -> X -> B -> DBB\\n  - \u501F\u52A9\u7B2C\u4E09\u65B9\u670D\u52A1 - \u4F8B\u5982: AirByte, PgLoader\\n  - X \u670D\u52A1\u4F5C\u4E3A \u4E2D\u95F4\u670D\u52A1 \u4E0E A,B \u4EA4\u4E92\\n    - \u66FF\u4EE3 Queue \u89D2\u8272\\n    - \u4E3B\u52A8\\n  - X \u5177\u6709\u9002\u914D\u80FD\u529B\\n\\n## Transform \u8003\u8651\\n\\n- \u6570\u636E Schema \u9002\u914D\\n- \u6570\u636E\u7C7B\u578B\u9002\u914D\\n- \u8FC7\u6EE4\u3001\u8F6C\u6362\u3001\u8BA1\u7B97\\n- \u901A\u5E38\u5305\u542B\u903B\u8F91\\n  - \u903B\u8F91 ~= Script\\n    - Lua, Python, JS\\n  - gRPC - \u5916\u90E8\u8C03\u7528\\n- Transform \u7684\u590D\u6742\u5EA6\u51B3\u5B9A\u4E86\u662F ETL \u8FD8\u662F\u6D41\u5904\u7406\\n  - ETL - \u7B80\u5355\u9002\u914D\u3001\u8C03\u6574\u3001\u5143\u6570\u636E\\n  - \u6D41\u5904\u7406 - \u5305\u542B\u72B6\u6001\u3001\u4F9D\u8D56\u524D\u540E\u6D88\u606F/Window\u3001\u5305\u542B\u805A\u5408\\n- \u4F8B\u5982: Flink, SparkSQL, Storm\u3001KafkaSQL\\n\\n## \u6570\u636E\u7F16\u7801 \u8003\u8651\\n\\n- \u6587\u672C\u7F16\u7801 - CSV,JSON,JSONL - \u57FA\u7840\uFF0C\u4E22\u5931\u7C7B\u578B\u4FE1\u606F\\n- \u4E8C\u8FDB\u5236\u7F16\u7801 - Avro, Parqute, Protobuf\\n- CBOR - Concise Binary Object Representation\\n  - \u5BF9\u6BD4 JSON \u80FD\u66F4\u597D\u7684\u4FDD\u7559\u7C7B\u578B\u4FE1\u606F\\n- Schema+Data - \u6570\u636E\u66F4\u7D27\u51D1"},{"id":"build-your-own-nas","metadata":{"permalink":"/story/build-your-own-nas","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2022/2022-01-14-build-your-own-nas.md","source":"@site/../story/2022/2022-01-14-build-your-own-nas.md","title":"\u7EC4\u5EFA\u4F60\u81EA\u5DF1\u7684 NAS \u670D\u52A1\u5668","description":"\u7EC4\u5EFA NAS \u9700\u8981\u8003\u8651\u7684\u56E0\u7D20\u548C\u5EFA\u8BAE\u3002","date":"2022-01-14T00:00:00.000Z","tags":[{"inline":true,"label":"\u8FD0\u7EF4","permalink":"/story/tags/\u8FD0\u7EF4"},{"inline":true,"label":"DevOps","permalink":"/story/tags/dev-ops"}],"readingTime":6.29,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"build-your-own-nas","title":"\u7EC4\u5EFA\u4F60\u81EA\u5DF1\u7684 NAS \u670D\u52A1\u5668","tags":["\u8FD0\u7EF4","DevOps"]},"unlisted":false,"prevItem":{"title":"\u6570\u636E\u540C\u6B65\u6A21\u5F0F","permalink":"/story/etl-pattens"},"nextItem":{"title":"2021 \u603B\u7ED3","permalink":"/story/2021-review"}},"content":"\u7EC4\u5EFA NAS \u9700\u8981\u8003\u8651\u7684\u56E0\u7D20\u548C\u5EFA\u8BAE\u3002\\n\\n\x3c!-- more --\x3e\\n\\n:::tip \u6838\u5FC3\u56E0\u7D20\\n\\n- \u786C\u4EF6 - \u76F4\u63A5\u5F71\u54CD\u529F\u8017\\n  - \u786C\u76D8 - \u57FA\u672C\u4E0D\u53D8\\n  - \u4E3B\u673A - \u53D8\u5316\u5F88\u5927\\n- \u8F6F\u4EF6 - \u57FA\u672C\u4E0D\u53D8\\n\\n:::\\n\\n## \u7269\u6599\\n\\n:::tip \u76EE\u6807\\n\\n- \u4EF7\u683C\u4FBF\u5B9C\\n- \u5BB9\u91CF\u9AD8\\n\\n:::\\n\\n- HP MicroServer \u5168\u65B0\u5FAE\u5854 - \u53C2\u8003\u4EF7\u683C: \xa54000 , \u529F\u8017 60W\\n  - HP MicroServer Gen 10\\n    - \u5168\u65B0 AMD x3216 8G \xa52300\\n    - \u6700\u591A 4 \u4E2A\u786C\u76D8\\n  - SAS 6T\xd74 - \xa51600\\n  - SAS \u5361 - \xa5100\\n- \u4E8C\u624B\u5854\u5F0F - \u53C2\u8003\u4EF7\u683C: \xa54700 , \u529F\u8017 120W\\n  - DDR4 \u670D\u52A1\u5668 - ~\xa52000\\n    - 1U 4\xd73.5 \u5BF8\u76D8\u4F4D\\n    - 2U 8\xd73.5 \u5BF8\u76D8\u4F4D\\n  - CPU XeonE5v4\xd72 ~\xa51000 - 32 \u6838 64 \u7EBF\u7A0B\\n  - \u5185\u5B58 DDR4 ECC REG 16G\xd74 - 64G ~\xa51000\\n  - SAS 6T\xd74 - \xa51600\\n  - SAS \u5361 - \xa5100\\n- \u661F\u9645\u8717\u725B J1900 - \u53C2\u8003\u4EF7\u683C: \xa52500 , \u529F\u8017 30W\\n  - \u661F\u9645\u8717\u725B DDR3 J1900 8G ~ \xa5800\\n  - SAS 6T\xd74 - \xa51600\\n  - SAS \u5361 - \xa5100\\n  - \u975E\u5E38\u5165\u95E8\u6B3E\uFF0C\u6CA1\u4EC0\u4E48\u4E0A\u5347\u7A7A\u95F4\uFF0C\u6CA1\u4EC0\u4E48\u6298\u817E\u7684\u610F\u4E49\\n\\n:::tip \u5BB9\u91CF\u8003\u8651\\n\\n\u73B0\u5728 2022 \u5E74\uFF0C\u624B\u673A\u5E73\u53F0\u5B58\u50A8\u4E0A T \u7684\u5DF2\u7ECF\u8D8A\u6765\u8D8A\u591A\uFF0C\u7B14\u8BB0\u672C SSD \u90FD\u6709\u51E0 T \u7684\u4E86\uFF0C\u53F0\u5F0F\u673A\u66F4\u4E0D\u7528\u8BF4\uFF0C\u51E0 T \u7684\u5B58\u50A8\u5F88\u6B63\u5E38\u3002\\n\\n- \u5355\u76D8 < 4T \u4F1A\u6BD4\u8F83\u6D6A\u8D39\u76D8\u4F4D\\n- \u5355\u76D8 > 10T \u6062\u590D\u975E\u5E38\u6162\\n- \u5EFA\u8BAE\u81F3\u5C11 6T\xd74 - RAID5 \u53EF\u7528\u5927\u7EA6 15T\\n\\n:::\\n\\n### \u90E8\u4EF6\u53C2\u8003\u4EF7\u683C\\n\\n| \u90E8\u4EF6                | \u89C4\u683C             | \xa5      | taobao                                           |\\n| ------------------- | ---------------- | ------ | ------------------------------------------------ |\\n| SAS                 | 6T 3.5 \u5BF8 7.2K   | \xa5400   | https://item.taobao.com/item.htm?id=560836442610 |\\n| SAS                 | 1.2T 2.5 \u5BF8 10K  | \xa5160   | https://item.taobao.com/item.htm?id=547264783830 |\\n| SAS \u76F4\u901A\u5361          |                  | \xa5100   | https://item.taobao.com/item.htm?id=521090584542 |\\n| SATA                | 14TB 3.5 \u5BF8 7.2K | \xa51200  | https://item.taobao.com/item.htm?id=599544680031 |\\n| \u5185\u5B58 DDR3 ECC REG   | 16G              | ~\xa5120  | https://item.taobao.com/item.htm?id=13978621463  |\\n| \u5185\u5B58 DDR4 ECC REG   | 16G              | ~\xa5250  | https://item.taobao.com/item.htm?id=567468034444 |\\n| \u5185\u5B58 DDR4 ECC REG   | 32G              | ~\xa5600  | https://item.taobao.com/item.htm?id=567468034444 |\\n| \u5185\u5B58 DDR4 ECC NOREG | 16G              | ~\xa5500  |\\n| \u5185\u5B58 DDR4 ECC NOREG | 32G              | ~\xa51000 |\\n| CPU [E5-2683V4]     | 2.1G 16C32T 120W | ~\xa5500  | https://item.taobao.com/item.htm?id=597514302182 |\\n| CPU [E3-1235Lv5]    |\\n\\n[e5-2683v4]: https://ark.intel.com/content/www/us/en/ark/products/91766/intel-xeon-processor-e52683-v4-40m-cache-2-10-ghz.html\\n[e3-1235lv5]: https://www.intel.cn/content/www/cn/zh/products/sku/88170/intel-xeon-processor-e31235l-v5-8m-cache-2-00-ghz/specifications.html\\n\\n:::caution PC \u548C \u4F01\u4E1A\u7EA7\u670D\u52A1\u5668 \u8FC7\u6E21\u4EA7\u54C1\\n\\n- \u670D\u52A1\u5668\u5E02\u573A\u6709\u6BD4 PC \u5F3A\uFF0C\u4F46\u6BD4\u670D\u52A1\u5668\u5F31\u7684\u4E00\u4E2A\u4EA7\u54C1\u7EBF\uFF0C\u901A\u5E38\u7528\u4E8E\u4E2A\u4EBA\u5DE5\u4F5C\u5BA4\u4E4B\u7C7B\u7684\u573A\u666F\u3002\\n- \u7279\u70B9\\n  - \u670D\u52A1\u5668\u4F53\u79EF\u5C0F\\n  - CPU \u529F\u8017\u4F4E - 25W\\n  - \u5185\u5B58\u4F7F\u7528 ECC NOREG\\n    - \u4E8C\u624B\u5E02\u573A\u5C11\uFF0C\u4EF7\u683C\u504F\u9AD8\\n    - \u9700\u8981 CPU \u652F\u6301\\n    - \u9700\u8981\u4E3B\u677F\u652F\u6301\\n\\n:::\\n\\n## \u4E3B\u673A\u9009\u62E9\\n\\n- \u673A\u578B\u9009\u62E9\\n  - \u5FAE\u5854 - \u566A\u97F3\u5C0F\uFF0C\u529F\u8017\u4E00\u822C ~60w\\n    - \u4E8C\u624B\u5C11 - \u5927\u591A\u4E70\u65B0\u7684\uFF0C\u4EF7\u683C\u9AD8\\n    - \u4F53\u79EF\u5C0F\\n    - \u4E00\u822C\u4E3B\u677F\u4E0D\u652F\u6301 ECC REG \u5185\u5B58\\n  - \u670D\u52A1\u5668 - \u566A\u97F3\u5927\uFF0C\u529F\u8017\u4E00\u822C ~120w\\n    - \u4E8C\u624B\u591A - \u4FBF\u5B9C\\n    - \u4F53\u79EF\u5927 - \u4E00\u822C 1U\\n    - \u6269\u5C55\u80FD\u529B\u5F3A - \u901A\u5E38\u652F\u6301 \u4E00\u4E2A\u534A\u9AD8+\u4E00\u4E2A\u5168\u9AD8 PCI - \u56E0\u6B64\u53EF\u4EE5\u914D GPU\\n    - \u5982\u679C\u6CA1\u6709\u4E66\u623F\u3001\u5E93\u623F\u6216\u9690\u7792\u89D2\u843D\u4E0D\u63A8\u8350\\n    - \u90E8\u5206\u670D\u52A1\u5668\u566A\u97F3\u4E5F\u4E0D\u662F\u7279\u522B\u5927\\n- \u5E73\u53F0\u9009\u62E9\\n  - \u901A\u5E38\u4E8C\u624B\u90FD\u662F\u843D\u540E\u597D\u51E0\u4E2A\u4E16\u4EE3\uFF0C\u4F46\u5EFA\u8BAE\u81F3\u5C11\u9009\u62E9 DDR4\\n  - DDR3 \u4EF7\u683C\u662F DDR4 \u7684\u4E00\u534A - \u5982\u679C\u9884\u7B97\u6709\u9650\uFF0C\u90A3\u4E5F\u662F\u53EF\u4EE5\u7684\\n    - \u9009\u62E9 DDR3 CPU \u4E5F\u4F1A\u4FBF\u5B9C\u4E00\u534A\u4EE5\u4E0A - \u662F\u518D\u4E0A\u4E00\u4E2A\u4E16\u4EE3\u7684\u5E73\u53F0\\n- \u914D\u7F6E\u9009\u62E9\\n  - \u5168\u65B0\u6574\u5957\u4E3B\u673A - \u5305\u542B CPU+\u5185\u5B58\\n    - \u6027\u4EF7\u6BD4\u4E0D\u9AD8\uFF0C\u4F46\u7701\u4E8B\\n  - \u4E8C\u624B\u670D\u52A1\u5668\\n    - \u6027\u4EF7\u6BD4\u6700\u9AD8\uFF0C\u7701\u4E8B\\n    - \u53EF\u9009\u6027\u4E0D\u591A\\n  - \u81EA\u5DF1\u914D\u4E3B\u673A - \u4E3B\u677F+\u673A\u7BB1+\u7535\u6E90+CPU+\u5185\u5B58\\n    - \u4E8B\u60C5\u6700\u591A\uFF0C\u5982\u679C\u4E0D\u662F\u559C\u6B22\u641E\u8FD9\u4E2A\uFF0C\u5EFA\u8BAE\u4E0D\u8981\\n- \u670D\u52A1\u5668\u9009\u62E9\\n  - \u67B6\u5F0F\\n    - \u4E8C\u624B\u5E02\u573A\u6700\u591A\uFF0C\u5360\u5730\u9762\u79EF\u5927\\n    - 1U\\n      - 8 \u4E2A 2.5 \u5BF8\u76D8\u4F4D\\n      - 4 \u4E2A 3.5 \u5BF8\u76D8\u4F4D\\n  - \u5854\u5F0F\\n    - \u4E8C\u624B\u5E02\u573A\u4E0D\u591A\uFF0C\u5360\u5730\u9762\u79EF\u5927\\n    - \u548C\u666E\u901A\u53F0\u5F0F\u7535\u8111\u5DEE\u4E0D\u591A\\n    - \u670D\u52A1\u5668\u4E3B\u677F\\n  - \u5200\u7247\\n    - \u4E8C\u624B\u5E02\u573A\u5F88\u5C11\\n  - \u6A21\u5757\\n    - \u4E8C\u624B\u5E02\u573A\u4E0D\u592A\u591A\uFF0C\u5360\u5730\u9762\u79EF\u5F88\u5C0F\\n    - \u9B54\u6539\u540E\u7684\u975E\u5E38\u5B89\u9759\\n- \u6210\u54C1 NAS \u670D\u52A1\u5668\\n  - \u7FA4\u6656 - \u4E0D\u518D\u8FD9\u91CC\u7684\u8BA8\u8BBA\u8303\u56F4\u5185\\n\\n### \u914D\u7F6E\u76EE\u6807\\n\\n| -    | \u673A\u578B     | CPU      | \u5185\u5B58  | \u786C\u76D8        |\\n| ---- | -------- | -------- | ----- | ----------- |\\n| \u6700\u4F4E | \u5FAE\u5854,ITX | 4 \u6838     | 8G    | 6T\xd74 raidz1 |\\n| \u63A8\u8350 | -        | 4 \u6838+    | 16G+  |\\n| \u66F4\u9AD8 | \u670D\u52A1\u5668   | 32 \u6838\u5FC3+ | 128G+ |\\n\\n> \u901A\u5E38\u914D\u7F6E\u4E2A\u6700\u4F4E\uFF0C\u540E\u671F\u80FD\u591F\u8C03\u6574\u7EC4\u4EF6\u5373\u53EF\\n\\n### \u5168\u65B0\u6574\u5957\u4E3B\u673A\\n\\n- [hp microserver gen 10]\\n  - AMD x3216 8G \xa52300\\n  - https://item.taobao.com/item.htm?id=564308249868#detail\\n- hp microserver gen 10 plus\\n  - **\u975E\u5E38\u5C0F\u5DE7**\\n  - \u9700\u8981\u6D77\u6DD8\\n  - \xa55000\\n- mineNAS \u81F3\u5F3A \u5FAE\u5854\\n  - Core \u7CFB\u5217 CPU https://item.taobao.com/item.htm?id=546747046542\\n    - \xa53600\\n  - Xeon \u7CFB\u5217 CPU https://item.taobao.com/item.htm?id=523041473305\\n    - \xa57500+\\n\\n[hp microserver gen 10 spec]: https://support.hpe.com/hpesc/public/docDisplay?docId=a00028525en_us&docLocale=en_US\\n[hp microserver gen 10]: https://www.hpe.com/psnow/doc/a00008701enw\\n\\n### \u4E8C\u624B\u670D\u52A1\u5668\\n\\n- \u67B6\u5F0F\\n  - HP DL160G9 https://item.taobao.com/item.htm?id=564082577179\\n    - \u51C6\u7CFB\u7EDF \xa5750\\n    - E5-4650V3\\\\*2 24 \u6838 48 \u7EBF + 64G + Intel 800G SSD \xa53290\\n    - 8\xd72.5 \u5BF8\u76D8\u4F4D\\n  - DELL R430 X99 https://item.taobao.com/item.htm?id=567440742661\\n    - \u51C6\u7CFB\u7EDF \xa52200\\n    - 4\xd73.5 \u5BF8\u76D8\u4F4D\\n  - DELL R630 https://item.taobao.com/item.htm?id=557304169457\\n    - \u51C6\u7CFB\u7EDF \xa51449\\n    - 8\xd72.5 \u5BF8\u76D8\u4F4D\\n  - DELL R730 - https://item.taobao.com/item.htm?id=604846119404\\n    - 2U\\n    - 8-12 3.5 \u5BF8\u76D8\u4F4D, 8-24 2.5 \u5BF8\u76D8\u4F4D,\\n- \u6A21\u5757\u670D\u52A1\u5668\\n  - \u5E7F\u8FBE \u5355\u6A21\u5757\u5373\u53EF\\n  - \u6539\u88C5\u540E\u7684\u975E\u5E38\u5B89\u9759\\n  - \u4EF7\u683C ~\xa5500\\n  - **\u6CE8\u610F** \u786C\u76D8\u53EF\u80FD\u4E0D\u592A\u597D\u653E\\n\\n### \u88C5\u673A\\n\\n:::tip\\n\\n- \u88C5\u673A\u901A\u5E38\u4E3B\u677F\u90FD\u662F\u4E70\u65B0\u7684\\n- \u673A\u7BB1\u770B\u60C5\u51B5\u4E70\u65B0\u7684\u6216\u4E8C\u624B\u7684\u6216\u5B9A\u5236\u7684\\n- \u660E\u786E\u88C5\u673A\u8981\u8FBE\u6210\u7684\u76EE\u6807 - \u4E0D\u8981\u4E3A\u4E86\u88C5\u673A\u800C\u88C5\u673A\\n  - \u5BB9\u91CF\uFF1F\\n  - \u5C3A\u5BF8\u5927\u5C0F\uFF1F\\n  - \u786C\u76D8\u3001\u5185\u5B58\u3001CPU\uFF1F\\n\\n:::\\n\\n- \u4E3B\u677F\\n  - https://www.asrockrack.com/\\n    - \u9009\u62E9\u597D\u540E\u53EF\u6DD8\u4E8C\u624B\\n- \u673A\u7BB1\\n  - \u786E\u5B9A\u597D\u4E3B\u677F\u7C7B\u578B\u540E\u51B3\u5B9A\\n  - \u5C0F\u7684\u60C5\u51B5\u53EF\u5B9A\u5236 \u4E9A\u514B\u529B \u673A\u7BB1\\n- \u7535\u6E90\\n  - \u529F\u8017 < 120W \u65F6\u53EF\u8003\u8651\u5916\u7F6E\\n  - \u670D\u52A1\u5668\u529F\u8017\u6700\u597D\u4E70 \u4E8C\u624B \u670D\u52A1\u5668\u7535\u6E90\u6A21\u5757\\n\\n## \u7CFB\u7EDF\\n\\n1. \u9ED1\u7FA4\u6656\\n\\n- \u5B89\u88C5\u4F7F\u7528\u5BB9\u6613\\n- \u73B0\u6210\u7684\u5E94\u7528\\n- \u9002\u7528\u4E8E\u65B0\u624B\u6216\u4E0D\u613F\u610F\u6298\u817E\u7684\u73A9\u5BB6\\n- \u76F8\u5BF9\u5C01\u95ED - \u4E0D\u5EFA\u8BAE\u7528\u670D\u52A1\u5668\u8FD0\u884C\uFF0C\u53EF\u4EE5\u8003\u8651\u5F00\u865A\u62DF\u673A\\n\\n2. Linux\\n\\n### Linux\\n\\n- AlpineLinux\\n- zfs\\n  - \u770B\u60C5\u51B5\u4F7F\u7528 raidz1,raidz2,draid\\n    - raidz1=raid5 - 4 \u76D8\u65F6\\n    - raidz2=raid6 - 6 \u76D8\u65F6\\n    - draid - >= 12 \u76D8\u65F6\\n  - SSD \u7F13\u5B58 - \u5982\u679C\u6709\u9884\u7B97\\n- \u5E94\u7528\u573A\u666F\\n  - \u591A\u5A92\u4F53 - Jeylyfin, Plex, \u7167\u7247, \u97F3\u4E50\\n  - \u4E0B\u8F7D\u5668 - aria2, qtorrent, transimision\\n  - \u5BB6\u5EAD - Nextcloud\\n  - \u5171\u4EAB - samba, afp\\n  - \u5907\u4EFD - afp/TimeMachine\\n  - \u5E38\u7528\u5E94\u7528 - vaultwarden\\n  - \u670D\u52A1\u5668\\n    - Kubernetes/k3s - \u63A8\u8350\\n    - Docker\\n    - \u865A\u62DF\u673A\\n\\n# \u5E38\u89C1\u95EE\u9898\\n\\n## \u5982\u4F55\u9009\u62E9\u786C\u76D8\u7F13\u5B58\\n\\n- \u5982\u679C\u4F7F\u7528 ZFS+SSD \u4F5C\u4E3A\u7F13\u5B58\uFF0C\u90A3\u786C\u76D8\u7684\u7F13\u5B58\u5F71\u54CD\u4E0D\u5927\\n- \u5982\u679C\u4F7F\u7528 \u786C\u4EF6 RAID\uFF0C\u90A3\u786C\u76D8\u7684\u7F13\u5B58\u80FD\u63D0\u6548\\n\\n## \u4E3A\u4EC0\u4E48\u9009\u62E9 SAS \u786C\u76D8\\n\\n- SAS \u4E3A\u4F01\u4E1A\u7EA7\u786C\u76D8 - \u4E8C\u624B\u8D28\u91CF\u9AD8\\n- \u4E8C\u624B\u5E02\u573A\u591A\\n- \u652F\u6301\u70ED\u63D2\u62D4 - \u66F4\u6362\u5BB9\u6613\\n- **\u4F46** \u901A\u5E38\u9700\u8981\u989D\u5916\u7684 SAS \u5361 - \u4E00\u822C\u9009\u62E9\u534A\u9AD8 PCI\\n- SAS \u8FD8\u9700\u8981\u6CE8\u610F\u533A\u5206 2.5 \u548C 3.5\\n  - 3.5 - \u5BB9\u91CF 300G-5T, \u8F6C\u901F 7200+\\n  - 2.5 - \u5BB9\u91CF 120G-1T, \u8F6C\u901F 10000-15000\\n\\n## \u5982\u4F55\u9009\u62E9 CPU\\n\\n- \u5FD7\u5F3A Xeon\\n  - \u4F18\u70B9\\n    - \u4E8C\u624B\u5E02\u573A\u591A\\n    - \u4EF7\u683C\u4FBF\u5B9C\\n    - \u6027\u80FD\u975E\u5E38\u597D - \u6838\u5FC3\u591A\\n  - \u7F3A\u70B9\\n    - \u529F\u8017\u9AD8 - 120W\\n    - \u9700\u8981\u4E3B\u677F\u652F\u6301\\n    - \u4E00\u822C\u5A92\u4F53\u80FD\u529B\u666E\u901A\\n    - \u5168\u65B0\u975E\u5E38\u8D35\\n- \u5FD7\u5F3A Xeon L\\n  - \u4F18\u70B9\\n    - \u529F\u8017\u4F4E - 25W\\n  - \u7F3A\u70B9\\n    - ECC NOREG\\n    - \u901A\u5E38\u5185\u5B58\u53EA\u652F\u6301 2 \u901A\u9053 - \u4E00\u822C\u5BB6\u7528 NAS \u8DB3\u77E3\\n- \u9177\u777F Core\\n  - \u4F18\u70B9\\n    - \u5355\u6838\u9891\u7387\u9AD8\\n    - \u5A92\u4F53\u5904\u7406\u80FD\u529B\u5F3A\\n    - \u529F\u8017\u4E00\u822C - 60W\\n  - \u7F3A\u70B9\\n    - \u8D35\\n    - \u6838\u5FC3\u6570\u5C11 - \u4F5C\u4E3A\u670D\u52A1\u5668\u6838\u5FC3\u6570\u6BD4\u5355\u6838\u9891\u7387\u66F4\u91CD\u8981\\n- \u51CC\u52A8 Celeron\\n  - \u4F18\u70B9\\n    - \u529F\u8017\u975E\u5E38\u4F4E - 10W\\n  - \u7F3A\u70B9\\n    - \u80FD\u529B\u6709\u9650\\n\\n## \u670D\u52A1\u5668 \u548C PC/HTPC \u7684\u533A\u522B\\n\\n- \u670D\u52A1\u5668\u901A\u5E38\u652F\u6301\u7BA1\u7406\u6A21\u5757\\n  - \u542F\u52A8\u6162\\n  - \u652F\u6301\u8FDC\u7A0B\u8FDC\u79BB - \u5F00\u673A\uFF0C\u505C\u673A\uFF0C\u5065\u5EB7\u68C0\u67E5\uFF0CKVM\\n  - \u56FA\u4EF6\u5347\u7EA7\\n- PC/HTPC \u4E00\u822C\u76F4\u63A5\u542F\u52A8\u5373\u53EF"},{"id":"2021-review","metadata":{"permalink":"/story/2021-review","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2022/2022-01-01-2021-review.md","source":"@site/../story/2022/2022-01-01-2021-review.md","title":"2021 \u603B\u7ED3","description":"It\'s HARD, but progressing.","date":"2022-01-01T00:00:00.000Z","tags":[{"inline":true,"label":"\u601D\u8003","permalink":"/story/tags/\u601D\u8003"}],"readingTime":0.04,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"2021-review","title":"2021 \u603B\u7ED3","tags":["\u601D\u8003"]},"unlisted":false,"prevItem":{"title":"\u7EC4\u5EFA\u4F60\u81EA\u5DF1\u7684 NAS \u670D\u52A1\u5668","permalink":"/story/build-your-own-nas"},"nextItem":{"title":"\u4ECE\u65B0\u5B66\u4E60","permalink":"/story/relearning"}},"content":"> It\'s HARD, but progressing.\\n\\n---\\n\\n> Long way to go."},{"id":"relearning","metadata":{"permalink":"/story/relearning","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-12-20-relearning.md","source":"@site/../story/2021/2021-12-20-relearning.md","title":"\u4ECE\u65B0\u5B66\u4E60","description":"\u6700\u8FD1\u5F00\u59CB\u5B66\u4E60 PMP\uFF0C\u7BA1\u7406\uFF0C\u5BF9\u6211\u6765\u8BF4\u662F\u4E00\u4E2A\u201C\u5168\u65B0\u201D\u7684\u9886\u57DF\u3002","date":"2021-12-20T00:00:00.000Z","tags":[{"inline":true,"label":"\u601D\u8003","permalink":"/story/tags/\u601D\u8003"},{"inline":true,"label":"\u5B66\u4E60","permalink":"/story/tags/\u5B66\u4E60"}],"readingTime":4.87,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"relearning","title":"\u4ECE\u65B0\u5B66\u4E60","tags":["\u601D\u8003","\u5B66\u4E60"]},"unlisted":false,"prevItem":{"title":"2021 \u603B\u7ED3","permalink":"/story/2021-review"},"nextItem":{"title":"\u7CFB\u7EDF\u76D8\u6062\u590D","permalink":"/story/rescue-root-disk"}},"content":"\u6700\u8FD1\u5F00\u59CB\u5B66\u4E60 PMP\uFF0C\u7BA1\u7406\uFF0C\u5BF9\u6211\u6765\u8BF4\u662F\u4E00\u4E2A\u201C\u5168\u65B0\u201D\u7684\u9886\u57DF\u3002\\n\\n\x3c!-- more --\x3e\\n\\n![relearning.banner.jpg](./2021-12-20-relearning.banner.jpg)\\n\\n\u5B66\u4E60\u53BB\u5B66\u4E60\uFF0C\u662F\u8FD9\u6B21\u5B66\u4E60\u5F00\u59CB\u8001\u5E08\u8BB2\u7684\u4E3B\u9898\uFF0C\u56E0\u6B64\u4E5F\u4EA7\u751F\u4E86\u81EA\u5DF1\u7684\u4E00\u4E9B\u601D\u8003\u3002\\n\u5B66\u4E60\u53BB\u5B66\u4E60\uFF0C\u6211\u8BA4\u4E3A\u662F meta-learning\u3002\u5B66\u4E60\uFF0C\u5E94\u8BE5\u4ECE\u672A\u505C\u6B62\u8FC7\uFF0C\u5F53\u6211\u4EEC\u4ECE\u7334\u5B50\u5F00\u59CB\uFF0C\u6211\u4EEC\u5C31\u5728\u5B66\u4E60\u53BB\u719F\u6089\u3001\u4E86\u89E3\u3001\u638C\u63E1\u65B0\u7684\u5DE5\u5177\u3001\u73AF\u5883\u3001\u4E8B\u7269\u3002\\n\\n\u4E0D\u9700\u8981\u5B66\u4E60\u7684\u601D\u8003\uFF0C\u662F\u6F5C\u610F\u8BC6\u7684\u63D0\u5347\u3002\u5BF9\u5B66\u4E60\u8FC7\u7A0B\u8FDB\u884C\u601D\u8003\u5F52\u7EB3\u603B\u7ED3\u662F\uFF0C\u5F97\u5230\u7684\u662F\u8FC7\u7A0B\u6539\u8FDB\u65B9\u5F0F\uFF0C\u56E0\u6B64\u4E24\u4E2A\u4EBA\u5B66\u4E60\u4E00\u5929\u7684\u7ED3\u679C\u4F1A\u6709\u6240\u4E0D\u540C\u3002\\n\\n\u8BA9\u7ED9\u6211\u8054\u60F3\u5230\u82F1\u8BED\u7684\u4E24\u4E2A\u5355\u8BCD\uFF0Cstudy & learn\u3002study \u5F3A\u8C03\u7684\u53EA\u662F\u8FC7\u7A0B\uFF0Clearn \u5F3A\u8C03\u7684\u662F\u7ED3\u679C\u5185\u5BB9\uFF0C\u5E94\u8BE5\u601D\u8003\u5E73\u65F6\u5B66\u4E60\u662F study \u8FD8\u662F learn\u3002\\n\\n> \u5E26\u601D\u8003\u7684\u5B66\u4E60\u66F4\u5BB9\u6613\u83B7\u53D6\u4E00\u9879\u6280\u80FD\u77E5\u8BC6\u3002\\n\\n## \u7BA1\u7406\\n\\n\u7BA1\u7406\uFF0C\u5BF9\u6211\u6765\u8BF4\u662F\u4E00\u4E2A \u201C\u5168\u65B0\u201D \u7684\u9886\u57DF\uFF0C\u4F5C\u4E3A\u6280\u672F\u7814\u53D1\uFF0C\u4ECE\u672A\u4ECE\u7BA1\u7406\u5B66\u7684\u6982\u5FF5\u53BB\u601D\u8003\u8FC7\u95EE\u9898\u3002\\n\u4F46\u4E4B\u6240\u4EE5\u662F\u201C\u5168\u65B0\u201D\uFF0C\u662F\u56E0\u4E3A\uFF0C\u751F\u6D3B\u65E0\u5904\u4E0D\u662F\u7BA1\u7406\uFF0C\u5BB6\u5EAD\u7EA0\u7EB7\u3001\u751F\u6D3B\u89C4\u5212\u3001\u65E5\u5E38\u5DE5\u4F5C\u3002\\n\\n\u6211\u7406\u89E3\u7684\u7BA1\u7406\uFF0C\u662F\u63A7\u5236\u3002\\n\\n![](./feedback-loop.svg)\\n\\n\u63A7\u5236\u7406\u8BBA\u7684 \u53CD\u9988\u5FAA\u73AF\uFF08feedbak loop\uFF09 \u56FE\u3002\\n\\n![](./PDCA-Multi-Loop.png)\\n\\n\u7CBE\u76CA\u751F\u4EA7\u7684 PDCA \u5FAA\u574F\u56FE\u3002\\n\\n![](https://kroki.io/plantuml/svg/eNpljrFKBDEQhvt5iqkF5fZQ7AQtfAGvOyxCdm43bDIJySyH1hYqIip2VlZrp5Wlb7PnPYZ7rhwBq498f_iS1BgOKiqHzrPXdfSOUGJLkLZLVNwkCjidZLIMBouD3KgY_XJWG90wpYSTvcNsDEo3qqKZEUvH1lTsiAUtLSS71CbSKtGJjyXFvLSfP0wL1Vo59Sxn5pKwmOZfJS2KK_uvUQDUpiQkF-RiaCQdTRDjGWC-c467R9g_vPe3bwh_HMy6u-qvn2DERqxuuvXrHYz4Fc-f_ccXjNiIoQXbfTh_vzyu7jsYkTV_AJjNmHw=)\\n\\n\u9879\u76EE\u7BA1\u7406 5 \u5927\u8FC7\u7A0B\u7EC4\u3002\\n\\n\u867D\u7136\u662F\u4E0D\u540C\u9886\u57DF\u91CC\u7684\u4E3B\u9898\uFF0C\u4F46\u8868\u8FBE\u7684\u5374\u662F\u76F8\u540C\u7684\u5185\u5BB9\u3002\\n\\n\u63A7\u5236\uFF0C\u51CF\u5C11\u53D8\u91CF\uFF0C\u63D0\u5347\u53EF\u9884\u6D4B\u6027\u3002\\n\\n\u63A7\u5236\uFF0C\u662F\u4E3A\u4E86 \u63D0\u5347/\u6539\u8FDB \u73B0\u6709\u8FC7\u7A0B\u3002\\n\\nWhat happened is happened,but what we can learn from the past ?\\n\\n## \u5B66\u4E60\\n\\n\u4E3A\u4E86\u66F4\u597D\u7406\u89E3\u548C\u7BA1\u7406\u81EA\u5DF1\u7684\u5B66\u4E60\uFF0C\u6211\u68B3\u7406\u4E86\u6211\u7684\u5B66\u4E60\u8FC7\u7A0B\uFF0C\u5E0C\u671B\u80FD\u4ECE\u65E0\u610F\u8BC6\u53D8\u6210\u6709\u610F\u8BC6\u7684\u5B66\u4E60\u3002\\n\\n**\u6211\u7684\u5B66\u4E60\u8FC7\u7A0B**\\n\\n- Repeat - \u91CD\u590D - \u6284\u5199\u91CD\u590D\u6700\u4E3A\u6D45\u663E\u7684\u5185\u5BB9\\n- Refactor - \u91CD\u6784 - \u6309\u7167\u81EA\u5DF1\u7684\u7406\u89E3\u4ECE\u65B0\u7EC4\u7EC7\u5185\u5BB9\u8BED\u8A00\\n- Realize - \u4ECE\u65B0\u610F\u8BC6 - \u5BF9\u7167\u751F\u6D3B\u3001\u5DE5\u4F5C\u3001\u73B0\u5B9E\u3001\u8DF3\u51FA\u56FA\u5316\u573A\u666F\\n- Regain - \u4ECE\u65B0\u83B7\u53D6 - \u638C\u63E1\\n\\n:::caution\\n\\n\u5E76\u4E0D\u662F\u6240\u6709\u4E3B\u9898\u90FD\u4F1A\u7ECF\u5386\u6240\u6709\u7684\u8FC7\u7A0B\u3002\u5B66\u4EE5\u81F4\u7528\uFF0C\u65E0\u4EE5\u81F4\u7528\u7684\u4E3B\u9898\u53EA\u4F1A\u505C\u7559\u5728\u65E9\u671F\u9636\u6BB5\u3002\\n\\n:::\\n\\n> ~~We learn from teacher.~~\\n>\\n> Teacher teached us.\\n>\\n> Whatever teaches us is our teacher.\\n\\n\u8001\u5E08\u3001\u4E66\u672C\u3001\u6587\u7AE0\u3001\u6E90\u7801\u3001\u4E8B\u4EF6\u90FD\u53EF\u80FD\u89E6\u53D1\u6211\u4EEC\u7684\u201C\u63D0\u5347\u201D\u3002\\n\\n**Repeat**\\n\\n\u8FD9\u65F6\u5019\u6211\u4F1A\u8FDB\u884C\u7B80\u5355\u7684\u8BB0\u5F55\uFF0C\u597D\u8BB0\u6027\u4E0D\u5982\u70C2\u7B14\u5934\u3002\\n\\n\u5728 https://github.com/wenerme/wener \u8FD9\u91CC\u6211\u8BB0\u5F55\u4E86\u611F\u5174\u8DA3\u7684\u5F88\u591A\u5185\u5BB9\uFF0C\u6709\u7684\u53EF\u80FD\u662F\u5DE5\u4F5C\u76F8\u5173\u7684\uFF0C\u4F8B\u5982\uFF1A\u6280\u672F\uFF1B\u53EF\u80FD\u662F\u5DE5\u4F5C\u65E0\u5173\u7684\uFF0C\u4F8B\u5982\uFF1A[\u533B\u5B66]\u3002\\n\\n:::tip Repeat\u9636\u6BB5 \u5185\u5BB9\u7684\u7279\u70B9\\n\\n- \u6D45\u663E\\n- \u79BB\u6563\\n- \u7CBE\u7B80\\n\\n:::\\n\\n- \u6D45\u663E - You get what you see\\n- \u79BB\u6563\\n- \u7CBE\u7B80 - \u77E5\u8BC6\u7D22\u5F15\\n\\n\\n[\u533B\u5B66]: https://github.com/wenerme/wener/blob/958471ae9d9e2399e3c901f68380cea3c3154e82/notes/healthcare/disease/rheumatoid-arthritis.md\\n\\n**Refactor**\\n\\n\u6709\u65F6\u5019\uFF0C\u6211\u4EEC\u4F1A\u91CD\u590D\u9047\u5230\u76F8\u540C\u7684\u95EE\u9898\uFF0C\u62B1\u6709\u76F8\u540C\u7684\u7591\u95EE\uFF0C\u9700\u8981\u53C2\u8003\u76F8\u540C\u7684\u8BDD\u9898\u3002\\n\\n\u6B64\u65F6\u53C2\u8003\u7B80\u5355\u8BB0\u5F55\u7684\u5185\u5BB9\u5DF2\u7ECF\u4E0D\u8DB3\u4EE5\u56DE\u7B54\u6216\u89E3\u51B3\u95EE\u9898\uFF0C\u56E0\u6B64\uFF0C\u4F1A\u5BF9\u5185\u5BB9\u8FDB\u884C\u91CD\u65B0\u91CD\u6784\u3002\\n\\n\u91CD\u6784\u610F\u5473\u7740\u91CD\u65B0\u68B3\u7406\u5185\u5BB9\u77E5\u8BC6\uFF0C\u4ECE\u65B0\u8C03\u6574\u201C\u7D22\u5F15\u201D\u5185\u5BB9\uFF0C\u6309\u7167\u81EA\u5DF1\u7684\u201C\u8111\u56DE\u8DEF\u201D\u5BF9\u95EE\u9898\u57DF\u8FDB\u884C\u7406\u89E3\u5206\u6790\u3002\\n\\n\u4F7F\u7528 git \u8FDB\u884C\u7B14\u8BB0\u7684\u597D\u5904\u662F\u5B83\u80FD\u8BB0\u5F55\u4F60\u7684\u201C[\u8FC7\u7A0B]\u201D\u3002\\n\\n[\u8FC7\u7A0B]: https://github.com/wenerme/wener/commits/master/notes/devops/kubernetes\\n\\n:::tip Refactor\u9636\u6BB5 \u5185\u5BB9\u7684\u7279\u70B9\\n\\n- \u53D1\u6563\u7684\u5355\u4E2A\u4E3B\u9898\u7275\u5F15\u51FA\u65B0\u7684\u4E3B\u9898\\n- \u6309\u7167\u81EA\u5DF1\u7684\u201C\u8111\u56DE\u8DEF\u201D\u7EC4\u7EC7\u7684\u5185\u5BB9\u7ED3\u6784\\n- \u90E8\u5206\u5185\u5BB9\u4F1A\u8FDB\u884C\u7EC6\u5316\\n\\n:::\\n\\n**Realize**\\n\\n\u610F\u8BC6\u9636\u6BB5\u6709\u4E24\u4E2A\u65B9\u5F0F\uFF1A\\n\\n1. \u81EA\u8EAB\\n2. \u8DE8\u57DF\\n\\n\u81EA\u8EAB\uFF0C\u6211\u4EEC\u901A\u5E38\u8BB2\u4ECE\u5931\u8D25\u5B66\u4E60\uFF0C\u66F4\u591A\u7684\u662F\u610F\u8BC6\u5230\u4E86\u95EE\u9898\u70B9\uFF0C\u95EE\u9898\u70B9\u5728\u4E0D\u7ECF\u5386\u7684\u65F6\u5019\u662F\u4E0D\u4F1A\u53D1\u73B0\u7684\uFF0C\u800C\u5F53\u9047\u5230\u95EE\u9898\uFF0C\u89E3\u51B3\u95EE\u9898\u8FD9\u4E2A\u5FAA\u73AF\u8FDB\u884C\u591A\u6B21\u540E\uFF0C\u4F1A\u57FA\u4E8E\u57FA\u672C\u7684\u7406\u8BBA\u77E5\u8BC6\u62BD\u53D6\u51FA\u5C5E\u4E8E\u81EA\u5DF1\u7684\u7ECF\u9A8C\u7ED3\u8BBA\u3002\\n\\n\u8DE8\u57DF\uFF0C\u5B66\u4E60\u548C\u6210\u957F\u4E0D\u53EF\u80FD\u662F\u4E00\u6761\u8DEF\u8D70\u5230\u5934\u7684\uFF0C\u6709\u6240\u6210\u5C31\u7684\u4EBA\u7EDD\u4E0D\u53EF\u80FD\u53EA\u4F1A\u7CBE\u901A\u4E00\u95E8\u5B66\u79D1\uFF0C\u7406\u89E3\u4E0D\u540C\u9886\u57DF\u4E8B\u7269\u7684\u76F8\u5173\u6027\u662F\u610F\u8BC6\u63D0\u5347\u7684\u5173\u952E\u3002\\n\\n**Regain**\\n\\n\u4E4B\u6240\u4EE5\u53EB regain\uFF0C\u662F\u56E0\u4E3A\u5DF2\u7ECF\u7ECF\u5386\u8FC7\u65E9\u671F\u7684 gain \u8FC7\u7A0B\uFF0Cregain \u65F6\uFF0C\u624D\u662F\u6211\u4EEC\u771F\u6B63\u7684\u6709\u6240\u638C\u63E1\uFF0C\u5B66\u4EE5\u81F4\u7528\u3002\\n\\n:::tip Ragain \u9636\u6BB5\u7684\u4F53\u73B0\\n\\n- \u72EC\u7ACB\u51B3\u7B56\\n- \u9884\u6D4B\u884C\u4E3A\\n\\n:::\\n\\n\u8FD9\u65F6\u5019\u6211\u613F\u79F0\u4E4B\u4E3A\uFF1A \u4E13\u5BB6/Master\u3002\\n\\n## \u601D\u7EF4\u6A21\u5F0F\\n\\n\u901A\u5E38\u5B66\u4E60\u5206\u4E3A\u4E24\u79CD\u573A\u666F\uFF1A\\n\\n1. \u5DE5\u5177\u6280\u672F\u5B66\u4E60 - \u5B9E\\n2. \u601D\u60F3\u65B9\u6CD5\u8BBA\u5B66\u4E60 - \u865A\\n\\n\u56E0\u4E3A\u6211\u7684\u4E3B\u8981\u804C\u8D23\u662F\u8F6F\u4EF6\u5F00\u53D1\uFF0C\u7BA1\u7406\u5BF9\u6211\u6765\u8BF4\u662F\u4E2A\u201C\u865A\u201D\u6280\u80FD\uFF0C\u56E0\u4E3A\u5E76\u4E0D\u80FD\u76F4\u63A5\u6307\u5BFC\u5DE5\u4F5C\u3002\u4F46\u5BF9\u4E8E\u9879\u76EE\u7ECF\u7406\u6765\u8BF4\uFF0C\u7BA1\u7406\u662F\u4E2A\u201C\u5B9E\u201D\u6280\u80FD\uFF0C\u800C\u8BA1\u7B97\u673A\u7406\u8BBA\u5219\u662F\u201C\u865A\u201D\u6280\u80FD\u3002\\n\\n\u5B66\u4E60\u9879\u76EE\u7BA1\u7406\uFF0C\u662F\u66F4\u591A\u662F\u4E3A\u4E86\u53BB\u4E86\u89E3\u9879\u76EE\u7BA1\u7406\u7684\u601D\u7EF4\u6A21\u5F0F\u3002\\n\\n:::tip \u6A21\u5F0F=\u9524\u5B50=\u5DE5\u5177\\n\\n\u5F53\u6211\u4EEC\u624B\u91CC\u62FF\u7740\u9524\u5B50\u65F6\uFF0C\u770B\u5230\u6240\u6709\u4E1C\u897F\u90FD\u662F\u9489\u5B50\u3002\\n\\n-- \u5DE5\u5177\u5B9A\u5F8B\\n\\n:::\\n\\n\x3c!-- \u9A6C\u65AF\u6D1B\u7684\u9524\u5B50 \u300A\u79D1\u5B66\u7684\u5FC3\u7406\u5B66\u300B --\x3e\\n\\n\u9879\u76EE\u7BA1\u7406\u601D\u7EF4\u6A21\u5F0F \u548C \u8F6F\u4EF6\u8BBE\u8BA1\u6A21\u5F0F \u975E\u5E38\u76F8\u4F3C\uFF0C\u662F\u5F53\u6211\u4EEC\u89E3\u51B3\u95EE\u9898\u65F6\u7684\u53C2\u7167\u3002\\n\\n\u4F46\u5F53\u4F60\u6CA1\u6709\u8FD9\u4E2A\u53C2\u7167\uFF0C\u6CA1\u6709\u8FD9\u628A\u9524\u5B50\u65F6\uFF0C\u5C31\u4F1A\u9677\u5165\u56F0\u5883\uFF0C\u4E0D\u65AD\u91CD\u590D\u9519\u8BEF\u3002\\n\\n## \u5B66\u4E60\u4E3B\u9898\\n\\n\u5B66\u4E60\u662F\u4E00\u4E2A\u52A8\u4F5C\uFF0C\u5FC5\u7136\u4F1A\u6709\u76EE\u6807\uFF0C\u5B66\u4E60\u7684\u4E3B\u9898\u53EF\u4EE5\u662F\u5927\u800C\u5E7F\u7684\uFF0C\u4E5F\u53EF\u4EE5\u662F\u5C0F\u800C\u7CBE\u7684\u3002\u4E0D\u5982\u8BF4\uFF0C\u6211\u4EEC\u90FD\u9700\u8981\u628A\u81EA\u5DF1\u7684\u77E5\u8BC6\u50A8\u5907\u78E8\u7EC3\u6210 T \u578B\u7ED3\u6784\u3002\\n\\n![](https://kroki.io/excalidraw/svg/eNrdls1u20YQgN-Fvars_v_opjiOrdR1XNiFHRhCsRbX0tYUSZArWbLha1-gt158aq-9Bn2eBO1jdEjqD6LSCE7ToNVJuzucmZ35dmbuAz_LbNAO7LRvYhfl5varfuyyq9TkUdAKbGxHNvFF0L68D1wEgpHz12PHJ53vh_34ZO-wc6WPLEjO9Zg8T29hOQ3anLOQaa6YFkhTyVvBLGgTqUItNWEKMaHKzVsX-WHQpoiGCsEJoYIShQkcDa0bDH3QRq3AJIPYVv8Kn6c3di-N0xzsfYGqH1i8Mv2bQZ6Ok2hx5nOTFJnJ4QJwfu3i-NTPSi3B0PSH47x0u9Z2XvuAF-uFXJFCTEAK1A6GiS0gDqQVpJnpOw-XwQj8KW1m3agMUW_5_dDkWS0fVC6VlqyF-GGhicYaSdkKJjYvXJrApkLL1XGa9ME01lxIwjQCn1zxHPLgy8-vTVxYuGupc3-Zm2Qcx61gnEXG1zao1gzCzwUGM1nq6gxeohbqtS63RBr1wPXYFH4vHY2cBy0n5UcLzYU3uX_mksglg8WeTaKNnUqqU-Z_aE20Jre2N-fjoTWniT4zL7_pdvvadrPvzu72z05u7iZbaRKahUhLjISmlGuq5jjhUDHKGFOEEbwOFFrxg7UOBUMIM8FAuhT63_BEFZacKoHXeUKswRMwQSBOVD6dJ64gCU2eUKsR38-A0wYxy1gQQTdjobAC8un2p1Vh-e3gIp3-wPeywy_ZgZrI8-TV-etPmPMVjSXpgoZCIiwEwlyQRd1EALrEVDKOscT66eA234cUIYFSQTRFYAee06pacQK1iiu9O5cbLJXCDZKkqI3sBMIHQNoNkW3YNq7d6_0dSZThxqvCAiGOSJmO96BEOjOD2aE9OPdndpQM85sL--LfQkkSHjJCOBNQISRWi6JJQoyZBJoo01J8PErQ5zEUIQRcKokEdJ4VXJqEEjiWUBkg9YirBVyEUwzWMf5n2YJGoOjnZmtLQBpxqGmrIJnuvT5Jzgf7t9PJeEzNy4wd6_6qDXo79XUXlEKHME5xiYnSaFkcOA5hsFJI8XrQmuelbAqLNBD1X256Rfl_1fQY3JYiCO1602OqOURRSaki8ulNT2ClNSiuUtAO_nj85c_ffnz3-FjGIk38qbsDOwTVqxdm5OJZFYJSvhO7ATgWxPba14XEO5iyF9s-zaqIFzZ2SakFPuuDFgOrvLtELs3dwCUmPtv0YK1WzQFZlSrRLFUUmrMQMD29t1SZztHR9CLqjM5y__zg9PTV19fj409fqhi8C0KV0gpRxYSumyCDIVXCoCewxgxIr0CnWoUw6Smp64L28V1w84nMAQPLBPoww7ujuUNtEgQjincgB9S-ffPT2zc_v_v91wYjO6P1YZhWRh56VZ4teH7_8PAXflh1kw==)\\n\\n:::tip \u4FD7\u8BDD\u8BF4\\n\\n\u4E1C\u65B9\u4E0D\u4EAE\u897F\u65B9\u4EAE\u3002\\n\\n:::\\n\\n\u4E0D\u540C\u7684\u89D2\u5EA6\u3001\u89C2\u70B9\u90FD\u4F1A\u8BA9\u5B66\u4E60\u66F4\u52A0\u5BB9\u6613\u3002\\n\\n## \u5B66\u4E60\u8FC7\u7A0B\\n\\n\u5B66\u4E60\u662F\u6301\u7EED\u7684\u4E0D\u662F\u4E00\u6B21\u6027\u7684\uFF0C\u6CA1\u6709\u65F6\u95F4\u9650\u5236\uFF0C\u6CA1\u6709\u9886\u57DF\u9650\u5236\uFF0C\u6CA1\u6709\u601D\u7EF4\u9650\u5236\u3002\\n\\n\u5B66\u4E60\u7684\u9A71\u52A8\u5374\u80AF\u5B9A\u662F\u6709\u6839\u56E0\u7684\uFF0C\u6BCF\u4E2A\u4EBA\u90FD\u6709\u6240\u4E0D\u540C\u3002\\n\\n> We are who we are.\\n\\n\u5B66\u4E60\u7684\u53C2\u8003\u4E0D\u5E94\u8BE5\u662F\u522B\u4EBA\uFF0C\u800C\u662F\u81EA\u5DF1\u3002\u4ECA\u5929\u7684\u81EA\u5DF1\u671F\u671B\u660E\u5929\u7684\u81EA\u5DF1\u5BF9\u6BD4\u6628\u5929\u7684\u81EA\u5DF1\u80FD\u6709\u6240\u63D0\u5347\uFF0C\u800C\u8FBE\u6210\u8FD9\u6837\u63D0\u5347\u7684\u5C31\u662F\u5B66\u4E60\u3002"},{"id":"rescue-root-disk","metadata":{"permalink":"/story/rescue-root-disk","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-11-17-rescue-root-disk.md","source":"@site/../story/2021/2021-11-17-rescue-root-disk.md","title":"\u7CFB\u7EDF\u76D8\u6062\u590D","description":"\u559C\u6B22\u4F7F\u7528 \u95EA\u5B58\u76D8/U \u76D8 \u4F5C\u4E3A Linux \u7CFB\u7EDF\u76D8\uFF0C\u4F46 U \u76D8 \u4F7F\u7528\u5BFF\u547D\u6709\u9650\uFF0C\u5F53\u5F02\u5E38\u540E\u9700\u8981\u5BF9\u7CFB\u7EDF\u76D8\u8FDB\u884C\u66F4\u6362\u3002","date":"2021-11-17T00:00:00.000Z","tags":[{"inline":true,"label":"AlpineLinux","permalink":"/story/tags/alpine-linux"},{"inline":true,"label":"\u8FD0\u7EF4","permalink":"/story/tags/\u8FD0\u7EF4"}],"readingTime":4.73,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"rescue-root-disk","title":"\u7CFB\u7EDF\u76D8\u6062\u590D","tags":["AlpineLinux","\u8FD0\u7EF4"]},"unlisted":false,"prevItem":{"title":"\u4ECE\u65B0\u5B66\u4E60","permalink":"/story/relearning"},"nextItem":{"title":"PostgreSQL ORDER BY+LIMIT \u65F6\u7684\u7D22\u5F15\u9009\u62E9","permalink":"/story/postgresql-use-wrong-index-with-order-and-limit"}},"content":"\u559C\u6B22\u4F7F\u7528 \u95EA\u5B58\u76D8/U \u76D8 \u4F5C\u4E3A Linux \u7CFB\u7EDF\u76D8\uFF0C\u4F46 U \u76D8 \u4F7F\u7528\u5BFF\u547D\u6709\u9650\uFF0C\u5F53\u5F02\u5E38\u540E\u9700\u8981\u5BF9\u7CFB\u7EDF\u76D8\u8FDB\u884C\u66F4\u6362\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u73B0\u72B6\\n\\n\u4F7F\u7528 SanDisk CZ430 \u4F5C\u4E3A \u7CFB\u7EDF\u76D8/Root \u5206\u533A\\n\\n**lsblk**\\n\\n```\\nNAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\\nsda      8:0    1 114.6G  0 disk\\n\u251C\u2500sda1   8:1    1   128M  0 part /boot\\n\u2514\u2500sda2   8:2    1 114.4G  0 part /\\n```\\n\\n**df -h /**\\n\\n```\\nFilesystem      Size  Used Avail Use% Mounted on\\n/dev/sda2       113G  2.2G  106G   2% /\\n```\\n\\n\u5728\u4F7F\u7528\u4E00\u6BB5\u65F6\u95F4\u540E\uFF0C U \u76D8 \u5F02\u5E38\uFF0C\u7CFB\u7EDF\u88AB\u91CD\u65B0\u6302\u8F7D\u4E3A\u53EA\u8BFB\u3002\\n\\n```bash\\ntouch ~/test\\n```\\n\\n```\\ntouch: cannot touch \'/home/admin/test\': Read-only file system\\n```\\n\\ndmesg \u53EF\u770B\u5230\u5F02\u5E38\u4FE1\u606F\uFF0C\u51E0\u4E2A\u6708\u524D\u5DF2\u7ECF\u51FA\u95EE\u9898\u4E86\uFF0C\u56E0\u4E3A\u7CFB\u7EDF\u8FD8\u80FD\u6B63\u5E38\u4F7F\u7528\u6682\u4E14\u6CA1\u7BA1\u3002\\n\\n```dmesg title=\\"dmesg -T\\"\\n[Tue Sep  7 16:48:16 2021] sd 2:0:0:0: [sda] tag#0 UNKNOWN(0x2003) Result: hostbyte=0x00 driverbyte=0x08 cmd_age=0s\\n[Tue Sep  7 16:48:16 2021] sd 2:0:0:0: [sda] tag#0 Sense Key : 0x7 [current]\\n[Tue Sep  7 16:48:16 2021] sd 2:0:0:0: [sda] tag#0 ASC=0x27 ASCQ=0x0\\n[Tue Sep  7 16:48:16 2021] sd 2:0:0:0: [sda] tag#0 CDB: opcode=0x2a 2a 00 00 04 16 90 00 00 08 00\\n[Tue Sep  7 16:48:16 2021] blk_update_request: critical target error, dev sda, sector 267920 op 0x1:(WRITE) flags 0x103000 phys_seg 1 prio class 0\\n[Tue Sep  7 16:48:16 2021] Buffer I/O error on dev sda2, logical block 466, lost async page write\\n```\\n\\n## \u5907\u4EFD\u6062\u590D\u65B9\u6848\\n\\n\u5C06\u73B0\u5728\u6570\u636E\u5B8C\u6574\u5907\u4EFD\u5230\u65B0\u7684 U \u76D8\uFF0C\u91CD\u542F\u5373\u53EF\uFF0C\u4F46\u6062\u590D\u5907\u4EFD\u6709\u597D\u51E0\u79CD\u65B9\u5F0F\u3002\\n\\n1.  \u5168\u76D8 dd\\n\\n- \u901F\u5EA6\u6162\\n- \u7B80\u5355\u66B4\u529B\\n- \u9700\u8981\u63D0\u4F9B\u81F3\u5C11\u73B0\u5728\u78C1\u76D8\u5927\u5C0F\u7684\u5B58\u50A8\\n\\n2. \u91CD\u88C5 - \u4EC5\u62F7\u8D1D\u6570\u636E\\n\\n- \u9EBB\u70E6\\n\\n3. \u6062\u590D\u5206\u533A\u3001\u6062\u590D\u6570\u636E\\n\\n- \u9AD8\u6548\\n- \u9700\u8981\u591A\u4E00\u70B9\u64CD\u4F5C\\n- \u65B0\u78C1\u76D8\u53EA\u9700\u8981\u5DF2\u7528\u7A7A\u95F4\u5927\u5C0F\u5373\u53EF\\n\\n## \u6062\u590D\\n\\n\u56E0\u4E3A\u8FD9\u662F\u5DF2\u7ECF\u7B2C\u4E09\u56DB\u6B21\u6062\u590D\u4E86\uFF0C\u4E4B\u524D\u90FD\u662F dd\uFF0C\u4F46\u8FD9\u6B21\u6253\u7B97\u7528\u66F4\u9AD8\u6548\u7684\u65B9\u5F0F\uFF0C\u4E14\u8FD9\u6B21\u7684\u7CFB\u7EDF\u76D8\u4E3A 128G\uFF0C\u4F46\u76EE\u524D\u53EA\u6709 64G \u7684\u7A7A\u95F2 U \u76D8\uFF0C\u6545\u9009\u62E9\u65B9\u6848 3\u3002\\n\\n**\u6062\u590D\u8FC7\u7A0B**\\n\\n0. \u51C6\u5907\u5907\u4EFD\u76D8\\n1. \u5206\u533A\u8868\u5907\u4EFD & \u542F\u52A8\u5206\u533A\u5907\u4EFD\\n2. root \u5206\u533A \u5907\u4EFD & \u4FEE\u590D\\n3. \u9A8C\u8BC1\\n4. \u5173\u673A\\n5. \u53D6\u6389\u574F\u7684 U \u76D8\\n6. \u5F00\u673A\\n\\n:::tip \u6062\u590D\u5907\u4EFD\u6CE8\u610F\u4E8B\u9879\\n\\n- \u9009\u62E9\u4E00\u4E2A\u53EF\u5199\u76EE\u5F55 - tmpfs,shm - \u4F8B\u5982: /run, /var/run, /tmp, /dev/shm\\n\\n:::\\n\\n### \u51C6\u5907\u5907\u4EFD\u76D8\\n\\n- \u5907\u4EFD\u76D8 /dev/sdb 64G\uFF0C\u540C SanDisk CZ430\\n\\n```pre title=\\"lsblk\\"\\nNAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT\\nsda      8:0    1 114.6G  0 disk\\n\u251C\u2500sda1   8:1    1   128M  0 part /boot\\n\u2514\u2500sda2   8:2    1 114.4G  0 part /\\nsdb      8:16   1  57.3G  0 disk\\n```\\n\\n### \u5206\u533A\u8868&\u542F\u52A8\u5206\u533A\u5907\u4EFD\\n\\n```bash\\n# \u786E\u4FDD\u4F7F\u7528 root \u7528\u6237\u64CD\u4F5C\\nsudo su\\n# \u8FDB\u5165\u53EF\u5199\u76EE\u5F55\\ncd /run\\n\\n# \u6B63\u5E38\u60C5\u51B5\u5206\u533A\u8868\u7684\u5907\u4EFD\u6062\u590D\\n# sfdisk -d /dev/sda | sfdisk -f /dev/sdb\\n\\n# \u9009\u62E9\u7B80\u5355\u65B9\u5F0F\u5907\u4EFD\u540E\u518D\u4FEE\u6539\u6700\u540E\u5206\u533A\\n# \u8FD9\u91CC dd 130MB - \u540C\u65F6\u628A boot \u5206\u533A\u5907\u4EFD\u4E86\\ndd if=/dev/sda of=/dev/sdb bs=1M count=130 status=progress\\n\\n# \u8F6C\u50A8\u5206\u533A\u8868\\nsfdisk -d /dev/sda > sda.partition.table.txt\\n# \u5220\u9664\u7B2C\u4E8C\u4E2A\u5206\u533A\u7684\u5927\u5C0F\\nsed -r \'$ s/size=\\\\s*\\\\d+,//\' -i sda.partition.table.txt\\n# \u91CD\u5EFA\u5206\u533A\\nsfdisk -f /dev/sdb < sda.partition.table.txt\\n# \u73B0\u5728\u5206\u533A\u5927\u5C0F\u6B63\u5E38\\nfdisk -l /dev/sdb\\n\\n# \u5206\u533A\u53D8\u5316\u91CD\u65B0\u626B\u63CF\\nmdev -s\\npartprobe\\n# \u51FA\u73B0\u5206\u533A\\nls /dev/sdb*\\n```\\n\\n### root \u5206\u533A\u5907\u4EFD\\n\\n- root \u5206\u533A\u4E00\u822C\u8F83\u5927\uFF0C\u76F4\u63A5 dd \u6162\u4E14\u4F24 U \u76D8\\n- \u76F4\u63A5 dd \u9700\u8981\u76EE\u6807\u76F8\u540C\u5927\u5C0F\uFF0C\u5426\u5219\u4E22\u6570\u636E\\n- \u8FD9\u91CC\u4F7F\u7528 clone \u6570\u636E\u65B9\u5F0F\\n\\n:::caution \u7531\u4E8E\u76EE\u6807\u5206\u533A\u66F4\u5C0F\uFF0C\u4E0D\u80FD\u76F4\u63A5\u590D\u5236\\n\\n```bash\\n# ext4 \u6570\u636E\u62F7\u8D1D - \u57FA\u4E8E ext4 block\uFF0C\u53EA\u62F7\u8D1D\u4F7F\u7528\u90E8\u5206\\n# \u4E5F\u53EF\u4EE5\u7528\u4E8E\u751F\u6210 img \u5907\u4EFD\u955C\u50CF\u4E4B\u540E\u7528\\ne2image -ra -p /dev/sda2 /dev/sdb2\\n```\\n\\n- \u5982\u679C\u5206\u533A\u5927\u5C0F\u8DB3\u591F\uFF0C\u76F4\u63A5\u590D\u5236\u5373\u53EF\\n\\n:::\\n\\n\u56E0\u4E3A root \u5206\u533A\u4E3A 120G\uFF0C\u4F46\u5B9E\u9645\u53EA\u7528\u4E86 2.2G\uFF0C \u5148\u955C\u50CF\u5206\u533A\uFF0C\u7F29\u5C0F\u5206\u533A\uFF0C\u7136\u540E\u6062\u590D\u5230\u65B0\u7684\u5206\u533A\u3002\\n\\n\u7D22\u6027\u5185\u5B58\u6709 4G\uFF0C\u56E0\u6B64\u76F4\u63A5\u5728 /dev/shm \u64CD\u4F5C\uFF0C\u5426\u5219\u9700\u8981\u5916\u7F6E\u5B58\u50A8\u3002\\n\\n```bash\\n# \u4ECE\u65B0\u6302\u8F7D\u4E3A 3G - \u9ED8\u8BA4 2G\\nmount -o remount,size=3G /dev/shm\\n# \u5236\u4F5C\u955C\u50CF\\ne2image -rap /dev/sda2 sda2.raw\\n\\n# \u4FEE\u590D\u5206\u533A - \u4E00\u822C U\u76D8 \u635F\u574F\u90FD\u4F1A\u5BFC\u81F4 fs \u5F02\u5E38\\ne2fsck -y sda2.raw\\n# \u7F29\u5C0F\u5206\u533A\\nresize2fs sda2.raw 4G\\n# \u6062\u590D\\ne2image -rap sda2.raw /dev/sdb2\\n# \u6269\u5C55\u5206\u533A\\nresize2fs /dev/sdb2\\n```\\n\\n### \u9A8C\u8BC1\\n\\n```bash\\nfsck /dev/sdb1\\nfsck /dev/sdb2\\n\\nmount /dev/sdb2 /mnt\\nmount /dev/sdb1 /mnt/boot\\n# \u4E0D\u5E94\u8BE5\u6709\u53D8\u5316\\nrsync -vna /boot/ /mnt/boot/\\n\\n# \u7531\u4E8E fsck \u4FEE\u590D\uFF0C\u53EF\u80FD root \u5206\u533A\u5927\u5C0F\u4E0D\u540C\\ndf / /mnt /boot /mnt/boot\\n```\\n\\n\u5982\u679C\u88C5\u6709 qemu\uFF0C\u8FD8\u53EF\u4EE5\u76F4\u63A5\u542F\u7528 qemu \u9A8C\u8BC1\uFF0C\u76EE\u524D\u5C31\u7B80\u5355\u786E\u8BA4\u6587\u4EF6\u6CA1\u95EE\u9898\u5373\u53EF\u3002\\n\\n```bash\\n# \u51C6\u5907\u5173\u673A\u91CD\u542F\\numount -R /mnt\\neject /dev/sdb\\n\\npoweroff\\n```\\n\\n\u53D6\u6389 \u574F\u7684 U \u76D8\uFF0C\u542F\u52A8\u3002\\n\\n\u4E00\u5207\u6062\u590D\u6B63\u5E38\u3002\u{1F389}\\n\\n## \u603B\u7ED3\\n\\n\u7CFB\u7EDF\u76D8\u6062\u590D\u8FD8\u662F\u76F8\u5F53\u5BB9\u6613\uFF0C\u4F46 CZ430 \u786E\u5B9E\u6709\u70B9\u8001\u4E86\uFF0C\u5728 2017 \u5E74\u5DE6\u53F3\u4E0A\u5E02\uFF0C\u76F8\u540C\u89C4\u683C\u5DF2\u7ECF\u5356 4\u30015 \u5E74\u4E86\uFF0C\u6027\u80FD\u5404\u65B9\u9762\u6709\u6240\u6B20\u7F3A\uFF0C\u4E4B\u540E\u4F1A\u5C3D\u91CF\u9009\u62E9 Lexar S47\u3002\\n\\n- https://wener.me/notes/ops/admin/fio-out/\\n  - SanDisk CZ430, Lexar S47 \u6027\u80FD\u5BF9\u6BD4\\n\\n\u6B64\u5916\u4F7F\u7528 U \u76D8 \u505A\u7CFB\u7EDF\u76D8\u7684\u65F6\u5019\uFF0C\u4E00\u5B9A\u6CE8\u610F\u4FEE\u6539 docker \u4E4B\u7C7B\u7684\u6570\u636E\u76EE\u5F55\u4E3A\u5176\u4ED6\u5B58\u50A8\uFF0C\u56E0\u4E3A\u8DD1\u5B9E\u9645\u5E94\u7528\u7684\u65F6\u5019 U \u76D8 \u6027\u80FD\u662F\u4E0D\u8DB3\u7684\uFF0C\u4E14\u6570\u636E\u5E93\u7C7B\u578B\u5E94\u7528\u7684\u5C0F BlockSize IO \u4E0D\u9002\u5408 U \u76D8\u3002"},{"id":"postgresql-use-wrong-index-with-order-and-limit","metadata":{"permalink":"/story/postgresql-use-wrong-index-with-order-and-limit","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-10-11-postgresql-use-wrong-index-with-order-and-limit.md","source":"@site/../story/2021/2021-10-11-postgresql-use-wrong-index-with-order-and-limit.md","title":"PostgreSQL ORDER BY+LIMIT \u65F6\u7684\u7D22\u5F15\u9009\u62E9","description":"\u5F53\u4F7F\u7528 ORDER BY+LIMIT \u65F6 PostgreSQL \u53EF\u80FD\u4F1A\u9009\u62E9\u66F4\u5DEE\u7684\u6267\u884C\u65B9\u5F0F\uFF0C\u6570\u636E\u91CF\u5927\u65F6\uFF0C\u6267\u884C\u6548\u7387\u76F8\u5DEE\u6210\u767E\u4E0A\u5343\u500D\u3002","date":"2021-10-11T00:00:00.000Z","tags":[{"inline":true,"label":"PostgreSQL","permalink":"/story/tags/postgre-sql"},{"inline":true,"label":"DevOps","permalink":"/story/tags/dev-ops"}],"readingTime":3.71,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"PostgreSQL ORDER BY+LIMIT \u65F6\u7684\u7D22\u5F15\u9009\u62E9","slug":"postgresql-use-wrong-index-with-order-and-limit","tags":["PostgreSQL","DevOps"]},"unlisted":false,"prevItem":{"title":"\u7CFB\u7EDF\u76D8\u6062\u590D","permalink":"/story/rescue-root-disk"},"nextItem":{"title":"K3S vs K0S","permalink":"/story/k3s-vs-k0s"}},"content":"\u5F53\u4F7F\u7528 ORDER BY+LIMIT \u65F6 PostgreSQL \u53EF\u80FD\u4F1A\u9009\u62E9\u66F4\u5DEE\u7684\u6267\u884C\u65B9\u5F0F\uFF0C\u6570\u636E\u91CF\u5927\u65F6\uFF0C\u6267\u884C\u6548\u7387\u76F8\u5DEE\u6210\u767E\u4E0A\u5343\u500D\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u7D22\u5F15\u9009\u62E9\u95EE\u9898\\n\\n\u5047\u8BBE\u7ED3\u6784\u5982\u4E0B\\n\\n```sql\\ncreate table organizations(\\n  id bigserial primary key,\\n  jgmc text,\\n  clrq date\\n);\\n\\ncreate index if not exists idx_organizations_clrq on ic.organizations (clrq);\\ncreate index if not exists idx_organizations_jgmc_fts on ic.organizations using pgroonga (jgmc);\\n```\\n\\n\u67E5\u8BE2\u901A\u5E38\u57FA\u4E8E clrq \u6392\u5E8F\uFF0C\u4F46\u4F1A \u641C\u7D22 jgmc\u3002\\n\\n```sql\\nexplain analyse verbose\\nselect jgmc, clrq, id\\nfrom ic.organizations\\nwhere jgmc &@~ \'\u767E\u5EA6\'\\n  and clrq is not null\\norder by clrq desc\\nlimit 30 offset 0\\n;\\n```\\n\\n:::tip \u4F7F\u7528\u4E86 clrq is not null \u800C\u975E nulls last\\n\\n\u56E0\u4E3A\u7D22\u5F15\u9ED8\u8BA4\u9690\u542B nulls last\uFF0C\u4E5F\u5C31\u662F\u8BF4 `order by clrq asc` \u9690\u542B `order by clrq asc nulls last`\u3002\\n\u5F53\u4F7F\u7528 `order by clrq desc nulls last` \u65F6\u4E0D\u4F1A\u9009\u62E9 `idx_organizations_clrq` \u7D22\u5F15\uFF0C\u56E0\u4E3A nulls \u987A\u5E8F\u4E0D\u5339\u914D\u3002\\n\u56E0\u6B64\u4F7F\u7528 `is not null` \u6392\u9664\u3002\\n\\n:::\\n\\n\u7ED9\u51FA\u7684\u6267\u884C\u8BA1\u5212\u548C\u7ED3\u679C\u5982\u4E0B\\n\\n```\\nLimit  (cost=0.43..33132.51 rows=30 width=1284) (actual time=4678.918..13104.109 rows=6 loops=1)\\n\\"  Output: jgmc, clrq, id\\"\\n  ->  Index Scan Backward using idx_organizations_clrq on ic.organizations  (cost=0.43..4069724.46 rows=3685 width=1284) (actual time=4678.916..13104.101 rows=6 loops=1)\\n\\"        Output: jgmc, clrq, id\\"\\n        Index Cond: (organizations.clrq IS NOT NULL)\\n        Filter: (organizations.jgmc &@~ \'\u767E\u5EA6\'::text)\\n        Rows Removed by Filter: 3685166\\nPlanning Time: 0.826 ms\\nExecution Time: 13104.226 ms\\n```\\n\\n\u5B9E\u9645\u6267\u884C\u4E86 13s\uFF0C\u9009\u62E9\u4E86 idx_organizations_clrq \u7D22\u5F15\u3002\\n\\n\u4F46\u5982\u679C\u53BB\u6389 LIMIT\uFF1A\\n\\n```sql\\nexplain analyse verbose\\nselect jgmc, clrq, id\\nfrom ic.organizations\\nwhere jgmc &@~ \'\u767E\u5EA6\'\\n  and clrq is not null\\norder by clrq desc\\n-- limit 30 offset 0\\n;\\n```\\n\\n\u7ED9\u51FA\u7684\u8BA1\u5212\u5982\u4E0B\\n\\n```\\nSort  (cost=40479.53..40488.74 rows=3685 width=1284) (actual time=19.771..19.774 rows=6 loops=1)\\n\\"  Output: jgmc, clrq, id\\"\\n  Sort Key: organizations.clrq DESC\\n  Sort Method: quicksort  Memory: 36kB\\n  ->  Index Scan using idx_organizations_jgmc_fts on ic.organizations  (cost=0.00..40261.24 rows=3685 width=1284) (actual time=19.716..19.737 rows=6 loops=1)\\n\\"        Output: jgmc, clrq, id\\"\\n        Index Cond: (organizations.jgmc &@~ \'\u767E\u5EA6\'::text)\\n        Filter: (organizations.clrq IS NOT NULL)\\nPlanning Time: 0.706 ms\\nExecution Time: 21.824 ms\\n```\\n\\n\u5B9E\u9645\u6267\u884C\u53EA\u9700\u8981 21ms\uFF0C\u9009\u62E9\u4E86 idx_organizations_jgmc_fts \u7D22\u5F15\u3002\\n\\nPostgreSQL \u5728\u8FD9\u6837\u7684\u573A\u666F\u4E0B\u9009\u62E9\u4E86\u9519\u8BEF\u7684\u7D22\u5F15\uFF0C\u5BFC\u81F4\u67E5\u8BE2\u65F6\u95F4\u76F8\u5DEE 600 \u500D\u3002\\n\\n## \u7D22\u5F15\u9009\u62E9\u539F\u56E0\\n\\nORDER BY+LIMIT \u8BA9\u67E5\u8BE2\u6709 **\u63D0\u524D\u7ED3\u675F\u7684\u53EF\u80FD**\u3002\\n\\n\u4F8B\u5982 \u5B9E\u9645\u6570\u636E 10k,\u4F46 limit 10, \u53EA\u9700\u4F7F\u7528\u7D22\u5F15\u626B\u63CF 10 \u6761\u6570\u636E\u4FBF\u53EF\u4EE5\u505C\u6B62\u6267\u884C\uFF0C\u800C\u4E0D\u9700\u8981\u5148\u5224\u65AD \u5176\u4ED6 \u6761\u4EF6\u3002\\n\\n\u56E0\u6B64 PostgreSQL \u7684 optimizer \u6709\u8BA9\u8FD9\u79CD\u9009\u62E9\u4F18\u5148\u7684\u903B\u8F91 [pathnode.c#L3633-L3753](https://github.com/postgres/postgres/blob/REL_13_STABLE/src/backend/optimizer/util/pathnode.c#L3633-L3753)\u3002\\n\\n- create_limit_path \u9488\u5BF9 LIMIT/OFFSET \u521B\u5EFA\u6267\u884C\u8BA1\u5212\\n  - adjust_limit_rows_costs \u8C03\u6574\u6B64\u65F6\u7684 rows costs\\n\\n```c title=\\"adjust_limit_rows_costs\\"\\n*total_cost = *startup_cost +\\n  (input_total_cost - input_startup_cost)\\n  * count_rows / input_rows;\\n```\\n\\n|                var | meaning         |\\n| -----------------: | --------------- |\\n|         total_cost | \u603B cost         |\\n|       startup_cost | \u521D\u59CB cost       |\\n|   input_total_cost | \u8F93\u5165\u603B cost     |\\n| input_startup_cost | \u8F93\u5165\u521D\u59CB\u603B cost |\\n|         count_rows | limit           |\\n|         input_rows | \u8F93\u5165 \u884C         |\\n\\n\u5728\u8FD9\u4E2A\u8C03\u6574\u903B\u8F91\u91CC\u4F1A\u5C06\u73B0\u5728\u7684\u8FC7\u7A0B cost `input_total_cost - input_startup_cost` \u4E58\u4EE5 \u7CFB\u6570 `count_rows / input_rows`\u3002\\n\u8FD9\u4E2A\u7CFB\u6570\u4FBF\u4F1A\u4F7F\u5F97 ORDER BY+LIMIT \u65F6\u4F18\u5148\u9009\u62E9\u7D22\u5F15\u3002\\n\\n\u56E0\u4E3A\u4E24\u4E2A\u8BA1\u5212\u7684 rows \u76F8\u540C\uFF0C\u4F18\u5148\u4E86 \u6392\u5E8F\u7D22\u5F15\u5219\u4F1A\u9009\u62E9\u6392\u5E8F\u7D22\u5F15\u65B9\u6848\u3002\\n\\n## \u89E3\u51B3\u95EE\u9898\\n\\n:::tip \u76EE\u6807\\n\\n\u907F\u514D\u9009\u62E9\u6392\u5E8F\u7D22\u5F15\\n\\n:::\\n\\n1. \u4F7F\u7528 noop function \u907F\u514D\u7D22\u5F15\\n\\n```sql\\nexplain verbose\\nselect clrq, jgmc, id\\nfrom ic.organizations\\nwhere jgmc &@~ \'\u767E\u5EA6\'\\n  and clrq is not null\\norder by coalesce(clrq) desc\\nlimit 30 offset 0\\n;\\n```\\n\\n2. \u4F7F\u7528 expression \u907F\u514D\u7D22\u5F15\\n\\n```sql\\nexplain verbose\\nselect clrq, jgmc, id\\nfrom ic.organizations\\nwhere jgmc &@~ \'\u767E\u5EA6\'\\n  and clrq is not null\\norder by clrq+0 desc\\nlimit 30 offset 0\\n;\\n```\\n\\n3. \u6DFB\u52A0 nulls \u987A\u5E8F\u907F\u514D\u7D22\u5F15\\n\\n- \u56E0\u4E3A index \u9ED8\u8BA4 asc nulls last \u56E0\u6B64 asc \u548C desc \u9009\u62E9\u4E0D\u540C nulls \u987A\u5E8F\\n- where is not null\\n- desc nulls last\\n- asc nulls first\\n\\n```sql\\nexplain verbose\\nselect clrq, jgmc, id\\nfrom ic.organizations\\nwhere jgmc &@~ \'\u767E\u5EA6\'\\n  and clrq is not null\\norder by clrq desc nulls last\\nlimit 30 offset 0\\n;\\n```\\n\\n4. \u8C03\u6574 STATISTICS\\n\\n- \u5728\u4E24\u8005\u7EDF\u8BA1 rows \u4E0D\u540C\u7684\u60C5\u51B5\u4E0B - \u8FD9\u91CC\u4E0D\u9002\u7528\\n- SET STATISTICS\\n- CREATE STATISTICS\\n\\n## STATISTICS \u573A\u666F\\n\\nSTATISTICS \u5F71\u54CD n_distinct\uFF0Cn_distinct \u5F71\u54CD inputs_rows\uFF0C\u591A\u4E2A\u8BA1\u5212\u76F8\u540C\uFF0C\u53EF\u589E\u52A0 STATISTICS \u907F\u514D\u9519\u8BEF\u9009\u62E9\u7D22\u5F15\u3002\\n\\n```sql\\nSELECT attname,\\n       n_distinct,\\n       null_frac\\nFROM pg_stats\\nWHERE tablename = \'organizations\'\\n  and attname in (\'clrq\', \'jgmc\');\\n```\\n\\n| attname | n_distinct  | null_frac     |\\n| :------ | :---------- | :------------ |\\n| clrq    | 7914        | 0.00030666665 |\\n| jgmc    | -0.99441195 | 0.0030133333  |\\n\\n```sql\\nSELECT relname, reltuples, relpages\\nFROM pg_class\\nWHERE relname LIKE \'organizations\';\\n```\\n\\n| relname       | reltuples | relpages |\\n| :------------ | :-------- | :------- |\\n| organizations | 3686376   | 1116103  |\\n\\n## \u53C2\u8003\\n\\n- https://gocardless.com/blog/debugging-the-postgres-query-planner/\\n- https://dba.stackexchange.com/a/258986/234272"},{"id":"k3s-vs-k0s","metadata":{"permalink":"/story/k3s-vs-k0s","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-07-25-k3s-vs-k0s.md","source":"@site/../story/2021/2021-07-25-k3s-vs-k0s.md","title":"K3S vs K0S","description":"| vs.               | k0s                               | k3s                                   |","date":"2021-07-25T00:00:00.000Z","tags":[{"inline":true,"label":"Kubernetes","permalink":"/story/tags/kubernetes"},{"inline":true,"label":"DevOps","permalink":"/story/tags/dev-ops"}],"readingTime":7.09,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"K3S vs K0S","slug":"k3s-vs-k0s","tags":["Kubernetes","DevOps"]},"unlisted":false,"prevItem":{"title":"PostgreSQL ORDER BY+LIMIT \u65F6\u7684\u7D22\u5F15\u9009\u62E9","permalink":"/story/postgresql-use-wrong-index-with-order-and-limit"},"nextItem":{"title":"\u65E5\u5E38\u5DE5\u4F5C\u4E4B\u5916","permalink":"/story/out-of-daily-work"}},"content":"| vs.               | k0s                               | k3s                                   |\\n| ----------------- | --------------------------------- | ------------------------------------- |\\n| since             | 2020-06                           | 2019-03                               |\\n| by                | Mirants                           | Rancher/SUSE                          |\\n| Governance        | Mirants                           | CNCF                                  |\\n| Github            | [k0sproject/k0s]                  | [k3s-io/k3s]                          |\\n| Stars             | [![][k0s-stars]][k0sproject/k0s]  | [![][k3s-stars]][k3s-io/k3s]          |\\n| Issues            | [![][k0s-issues]][k0sproject/k0s] | [![][k3s-issues]][k3s-io/k3s]         |\\n| CNI               | kube-router,calico                | flannel                               |\\n| CRI               | containerd                        | containerd                            |\\n| CSI               | OpenEBS                           | local-path-provisioner                |\\n| Windows           | \u2705 - calico                       | \u274C                                    |\\n| Arch              | amd64,arm,arm64                   | amd64,arm,arm64                       |\\n| LoadBalancer      | n/a                               | klipper-lb                            |\\n| Ingress           | n/a                               | traefik                               |\\n| Controller-Worker | [konnectivity]                    | [remotedialer] - WebSocket \u53CD\u5411\u4EE3\u7406   |\\n| \u6587\u6863              | \u2B50\uFE0F\u2B50\uFE0F                            | \u2B50\uFE0F\u2B50\uFE0F                                |\\n| \u6210\u719F              | \u2B50\uFE0F\u2B50\uFE0F                            | \u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F                             |\\n| \u56FD\u5185\u73AF\u5883\u53CB\u597D      | \u2B50\uFE0F                               | \u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F                             |\\n| Pod CIDR          | 10.244.0.0/16                     | 10.42.0.0/16                          |\\n| Service CIDR      | 10.96.0.0/12                      | 10.43.0.0/16                          |\\n| CoreDNS           | 10.96.0.10                        | 10.43.0.10                            |\\n| configuration     | /etc/k0s/k0s.yaml                 | /etc/rancher/k3s/config.yaml          |\\n| registry          | /etc/k0s/k0s.yaml                 | /etc/rancher/k3s/registry.yaml        |\\n| data-dir          | /var/lib/k0s                      | /var/lib/rancher/k3s                  |\\n| bin-dir           | /var/lib/k0s/bin                  | /var/lib/rancher/k3s/data/current     |\\n| kubeconfig        | /var/lib/k0s/pki/admin.conf       | /etc/rancher/k3s/k3s.yaml             |\\n| manifest          | /var/lib/k0s/manifests            | /var/lib/rancher/k3s/server/manifests |\\n| local storage     | /var/openebs/local                | /var/lib/rancher/k3s/storage/         |\\n| \u670D\u52A1\u8FD0\u884C\u65B9\u5F0F      | supervisor - \u72EC\u7ACB\u591A\u8FDB\u7A0B           | embeded - \u5355\u8FDB\u7A0B                      |\\n| containerd        | bundled                           | \u7CFB\u7EDF/bundled                          |\\n\\n[k0s-issues]: https://img.shields.io/github/issues/k0sproject/k0s\\n[k0s-stars]: https://img.shields.io/github/stars/k0sproject/k0s\\n[k0s]: https://wener.me/notes/devops/kubernetes/distro/k0s\\n[k0sproject/k0s]: https://github.com/k0sproject/k0s\\n[k3s-io/k3s]: https://github.com/k3s-io/k3s\\n[k3s-issues]: https://img.shields.io/github/issues/k3s-io/k3s\\n[k3s-stars]: https://img.shields.io/github/stars/k3s-io/k3s\\n[k3s]: https://wener.me/notes/devops/kubernetes/distro/k3s\\n[k0s]: https://wener.me/notes/devops/kubernetes/distro/k0s\\n[remotedialer]: https://github.com/rancher/remotedialer\\n[konnectivity]: https://kubernetes.io/docs/tasks/extend-kubernetes/setup-konnectivity/\\n\\n\x3c!-- more --\x3e\\n\\n- [k0s]\\n  - CIS security benchmark\\n  - \u7B26\u5408 FIPS 140-2 \u8981\u6C42\\n  - bundled\\n    - iptables, containerd, ctr, runc, etcd, kine\\n    - openebs\\n      - openebs-hostpath -> /var/openebs/local\\n    - kube-router\\n    - konnectivity\\n    - helm-controller\\n- [k3s]\\n  - CNCF \u9879\u76EE - \u8131\u79BB\u4E86 rancher\\n  - bundled\\n    - containerd, ctr, runc, etcd, kine\\n    - helm-controller - \u652F\u6301\u90E8\u7F72 helm chart, CDR \u63A7\u5236\\n    - traefik - \u63D0\u4F9B ingress \u80FD\u529B - \u901A\u8FC7 helm \u90E8\u7F72\\n    - local-path-provisioner - \u63D0\u4F9B\u57FA\u4E8E\u672C\u5730\u76EE\u5F55\u7684\u5B58\u50A8\u7C7B\\n      - \u9ED8\u8BA4 /var/lib/rancher/k3s/storage\\n    - klipper-lb - \u57FA\u4E8E iptable \u8F6C\u53D1\u7684\u8D1F\u8F7D\u5747\u8861\\n\\n:::caution\\n\\n- k3s \u9ED8\u8BA4\u5305\u542B\u8F83\u591A\u7EC4\u4EF6\uFF0C\u90E8\u7F72\u540E \u53EF\u4F7F\u7528\u6027 \u66F4\u9AD8\uFF0C\u4F46\u90E8\u5206\u7EC4\u4EF6\uFF08 traefik,klipper-lb,local-path-provisioner \uFF09\u4E0D\u5EFA\u8BAE\u751F\u4EA7\u4F7F\u7528\uFF0C\u63D0\u4F9B\u8FD9\u4E9B\u7EC4\u4EF6\u66F4\u591A\u662F\u4E3A\u4E86\u4FDD\u8BC1\u529F\u80FD\u5B8C\u6574\uFF0C\u5F00\u7BB1\u5373\u7528\u3002\\n- \u4F7F\u7528 k3s \u4E0D\u63A8\u8350\u4F7F\u7528\u5185\u7F6E traefik \u548C klipper-lb\\n  - ingress \u5EFA\u8BAE\u81EA\u884C\u5B89\u88C5 - \u6BD4\u8F83\u91CD\u8981\u7684\u6838\u5FC3\u7EC4\u4EF6\\n  - \u5EFA\u8BAE\u4F7F\u7528 metallb \u66FF\u4EE3 klipper-lb\\n- \u56E0\u4E3A Controller-Worker \u7F51\u7EDC\u4E0D\u540C\uFF0Ck3s \u548C k0s \u65E0\u6CD5\u6DF7\u5408\u4F7F\u7528\\n\\n:::\\n\\n**\u547D\u4EE4\u5BF9\u6BD4**\\n\\n| k0s                   | k3s                                            |\\n| --------------------- | ---------------------------------------------- |\\n| k0s systinfo          | ./contrib/util/check-config.sh                 |\\n| k0s backup            | k3s etcd-snapshot                              |\\n| k0s restore           | k3s server --cluster-reset-restore-path        |\\n| k0s controller        | k3s server                                     |\\n| k0s worker            | k3s agent                                      |\\n| n/a                   | k3s crictl                                     |\\n| k0s install           | https://get.k3s.io \u4F1A\u5B89\u88C5 systemd, openrc \u670D\u52A1 |\\n| k0s reset             | n/a                                            |\\n| k0s kubeconfig create | n/a                                            |\\n| k0sctl                | n/a                                            |\\n| k0sctl apply          | ~autok3s                                       |\\n| k0sctl backup         | n/a                                            |\\n| ---                   | ---                                            |\\n| k0s kubectl           | k3s kubectl                                    |\\n| k0s ctr               | k3s ctr                                        |\\n\\n## \u5982\u4F55\u9009\u62E9\\n\\n**\u76F8\u540C\u70B9**\\n\\n- \u9762\u5411\u76F8\u540C\u7528\u6237\u7FA4\u4F53\u548C\u4F7F\u7528\u573A\u666F\uFF0C\u975E\u5E38\u7C7B\u4F3C\\n- \u6838\u5FC3\u90FD\u4F7F\u7528 kine - \u533A\u522B\u4E0D\u5927\\n- \u90FD\u6709\u5927\u7684\u4F01\u4E1A\u652F\u6491\u5F00\u53D1\\n\\n**\u9009\u62E9\u8003\u91CF**\\n\\n- k3s\\n  - \u66F4\u6210\u719F - \u5B58\u5728\u65F6\u95F4\u66F4\u957F\uFF0C\u4F7F\u7528\u7684\u66F4\u72EC\u7ACB\\n  - \u793E\u533A\u66F4\u5927 - \u793E\u533A\u8FD8\u4E0E rancher\u3001rke \u6709\u4EA4\u96C6\\n  - \u4E2D\u6587\u5316\u793E\u533A\u53CB\u597D\\n  - \u5355\u8282\u70B9\u9ED8\u8BA4 SQLite\\n- k0s\\n  - \u66F4\u65B0 - 2020 \u5E74 - \u76EE\u524D\u5DF2\u7ECF\u6210\u719F\uFF0C\u53EF\u4EE5\u7528\u4E8E\u751F\u4EA7\\n  - \u7528\u6237\u4F53\u9A8C\u66F4\u597D\\n  - **k0sctl**\\n    - \u80FD\u66F4\u597D\u7684\u8F85\u52A9\u7EF4\u62A4\u66F4\u591A\u7684\u96C6\u7FA4\uFF0C\u51CF\u5C11\u5BF9 \u811A\u672C/ansible \u7684\u4F9D\u8D56\u3002\\n    - \u66F4\u597D\u5347\u7EA7\\n    - \u66F4\u597D\u5907\u4EFD\\n  - \u5355\u8282\u70B9\u9ED8\u8BA4 etcd/kine\\n\\n## \u4E3A\u4EC0\u9009\u62E9 K0S\\n\\n- k0s \u4F5C\u4E3A supervisor \u8FD0\u884C - \u{1F31F}\\n  - \u6BCF\u4E2A\u8FDB\u7A0B\u72EC\u7ACB - etcd, k0s-api, kube-apiserver\\n    - \u65B9\u4FBF\u8C03\u8BD5\uFF0C\u6392\u67E5\u95EE\u9898 - \u80FD\u6E05\u695A\u77E5\u9053\u54EA\u4E2A\u8FDB\u7A0B\u542F\u52A8\u4E86\u6CA1\u542F\u52A8\\n    - \u80FD\u770B\u5230\u6240\u6709\u5B9E\u9645\u8FD0\u884C\u53C2\u6570\\n    - \u53EF\u4EE5\u5355\u72EC kill \u8FDB\u7A0B - \u4F8B\u5982: \u4FEE\u6539\u4E86 containerd \u955C\u50CF\u914D\u7F6E\uFF0C\u53EA\u80FD\u901A\u8FC7 kill \u6765\u4F7F\u65B0\u7684\u914D\u7F6E\u751F\u6548\\n      - \u4E0D\u9700\u8981\u542F\u505C\u5168\u90E8\u670D\u52A1\\n  - \u4EE3\u7801\u90E8\u7F72\u8FD0\u884C\u903B\u8F91\u6E05\u6670 - \u5982\u679C\u9700\u8981\u66F4\u6DF1\u5165\u4E86\u89E3\\n- ~~k0s bundled \u4E86\u66F4\u591A\u4F9D\u8D56 - \u2B50\uFE0F - containerd, iptables~~ - \u76EE\u524D k3s \u548C k0s \u8FD9\u4E00\u5757\u533A\u522B\u4E0D\u5927\\n  - \u51E0\u4E4E\u5BF9\u7CFB\u7EDF\u6CA1\u4EC0\u4E48\u989D\u5916\u4F9D\u8D56\\n- k0sctl \u8F85\u52A9\u90E8\u7F72\\n  - \u5982\u679C\u9700\u8981\u53EF\u81EA\u884C\u8FDB\u884C\u5B9A\u5236\u5316\\n  - \u66FF\u4EE3\u90E8\u5206 ansible \u5DE5\u4F5C\\n- \u9ED8\u8BA4 control plane \u548C worker \u5206\u79BB\\n  - \u26A0\uFE0F \u90E8\u7F72\u6709\u4E00\u4E9B\u6CE8\u610F\u4E8B\u9879\\n- \u4F7F\u7528 konnectivity - \u76F8\u5BF9\u66F4 kubernetes\\n  - \u6539\u52A8\u66F4\u5C0F\\n\\n:::caution\\n\\n- \u9ED8\u8BA4\u7528\u5230\u4E86 k8s.gcr.io \u955C\u50CF - \u56FD\u5185\u73AF\u5883\u90E8\u7F72\u9700\u8981\u6CE8\u610F\uFF0C\u5EFA\u8BAE\u7528 airgap \u5305\u5BFC\u5165\u57FA\u7840\u955C\u50CF\u3002\\n- k0sctl \u529F\u80FD\u8FD8\u6BD4\u8F83\u6B20\u7F3A @2022\\n\\n:::\\n\\n## \u4E3A\u4EC0\u9009\u62E9 K3S\\n\\n- \u66F4\u52A0\u6210\u719F\\n- \u66F4\u65B0\u66F4\u9891\u7E41 - \u66F4\u8D34\u8FD1\u4E0A\u6E38\\n- ~~\u6613\u4E8E\u8FC1\u79FB\u5907\u4EFD - e.g. sqlite -> etcd\uFF0C k3s snapshot~~\\n- \u793E\u533A\u66F4\u5927\\n- \u5BF9\u4E2D\u56FD\u73AF\u5883\u53CB\u597D - \u80CC\u9760 rancher\\n  - k0s \u9ED8\u8BA4 k8s.gcr.io \u955C\u50CF - \u56FD\u5185\u73AF\u5883\u90E8\u7F72\u9700\u8981\u6CE8\u610F\uFF0C\u5EFA\u8BAE\u7528 airgap \u5305\u5BFC\u5165\u57FA\u7840\u955C\u50CF\u3002\\n\\n## \u5173\u4E8E Provisioning\\n\\n\u867D\u7136\u6709 autok3s \u548C k0sctl\uFF0C\u4E00\u822C\u91CD\u590D\u90E8\u7F72\u65F6\u5019\u8FD8\u662F\u5EFA\u8BAE\u81EA\u884C\u811A\u672C\u90E8\u7F72\uFF0C\u4F46\u521D\u6B21\u5C1D\u8BD5\u4F7F\u7528\u8FD9\u79CD\u81EA\u52A8\u5316\u5DE5\u5177\u95EE\u9898\u4E0D\u5927\u3002\\n\\n\u5EFA\u8BAE\u81EA\u884C\u90E8\u7F72\u7684\u4E3B\u8981\u539F\u56E0\uFF1A\\n\\n1. \u5DE5\u5177\u53EF\u80FD\u4F1A\u66F4\u65B0\u8FED\u4EE3 - \u5DE5\u5177\u4F1A\u53D8\\n2. \u7279\u6B8A\u9700\u6C42 - e.g. \u9700\u8981\u81EA\u5B9A\u4E49\u914D\u7F6E\uFF0Cpod \u6570\u91CF\uFF0C\u7F51\u7EDC\u53C2\u6570\\n3. \u7279\u6B8A\u73AF\u5883 - e.g. musl, arm, alpinelinux\\n4. \u66F4\u597D\u7BA1\u63A7\u7EC6\u8282\\n\\n\u5F53\u9700\u8981\u5728\u591A\u4E2A\u73AF\u5883\u4E2D\u8FDB\u884C\u91CD\u590D\u90E8\u7F72\u65F6\uFF0C\u81EA\u884C\u7F16\u5199\u7684\u81EA\u52A8\u5316\u811A\u672C\u6BD4\u4F7F\u7528\u5B98\u65B9\u7684\u81EA\u52A8\u5316\u5DE5\u5177\u66F4\u52A0\u53EF\u9760\u3002\\n\\n## \u5173\u4E8E Docker\\n\\n\u4E0D\u5EFA\u8BAE\u4F7F\u7528 Docker \u4F5C\u4E3A\u5BB9\u5668\u8FD0\u884C\u65F6\uFF0C\u5EFA\u8BAE\u4F7F\u7528 containerd\u3002\\n\\n1. \u9ED8\u8BA4\u914D\u7F6E\uFF0C\u4E0D\u9700\u8981\u4EFB\u4F55\u914D\u7F6E\\n2. \u907F\u514D\u6C61\u67D3 docker\\n3. \u73B0\u5728\u90FD bundle \u4E86 containerd\uFF0C\u66F4\u80FD\u5339\u914D k8s \u8981\u6C42\u7684\u7248\u672C\\n\\n\u63A8\u8350 Docker \u7528\u4E8E\u524D\u671F bootstrap \u6216\u8005\u4F5C\u4E3A host sock \u7ED9\u5BB9\u5668\u5185\u7528\u3002\\n\\n1. \u901A\u8FC7 docker \u542F\u52A8 dns \u76F8\u5173\u7684\u670D\u52A1\\n\\n- dns \u670D\u52A1\u8FC7\u4E8E\u5E95\u5C42\uFF0C\u4E0D\u5E94\u8BE5\u5728 k8s \u5185\u90E8\u8FD0\u884C\uFF0C\u4F1A\u5BFC\u81F4\u542F\u52A8\u5F88\u6162\\n- \u7528\u4E8E\u5B9E\u73B0\u91CD\u65B0\u6620\u5C04 domain -> ip\\n- \u4F8B\u5982: adguard, dnsmasq\\n- \u4F8B\u5982: \u6620\u5C04 docker.io \u4E3A \u5185\u7F51 IP\\n\\n2. \u901A\u8FC7 docker \u542F\u52A8 registry \u7F13\u5B58\u955C\u50CF - \u914D\u7F6E\u4E3A mirror \u53EF\u52A0\u901F\u6216\u8005\u5B9E\u73B0 airgap\\n3. \u5982\u679C\u4E0D\u60F3\u5728 k8s \u5185 dind \u53EF\u4EE5\u6620\u5C04 host docker.sock\\n\\n## \u7EC4\u4EF6\u7B80\u4ECB\\n\\n- [kine](https://wener.me/notes/devops/kubernetes/distro/kine)\\n  k3s \u548C k0s \u6700\u6838\u5FC3\u7EC4\u4EF6\\n  - \u63D0\u4F9B etcd \u80FD\u529B\\n  - \u540E\u7AEF\u652F\u6301 etcd,sqlite,mysql,postgresql,dqlite\\n- [traefik](https://wener.me/notes/devops/kubernetes/network/traefik-ingress)\\n  - \u63D0\u4F9B Ingress \u80FD\u529B\\n- [k3s-io/helm-controller](https://github.com/k3s-io/helm-controller)\\n  - \u652F\u6301\u90E8\u7F72 helm chart\\n  - \u901A\u8FC7 CDR \u63A7\u5236\\n- CNI - \u5BB9\u5668\u7F51\u7EDC\\n  - [flannel](https://wener.me/notes/devops/kubernetes/network/flannel/)\\n  - [calico](https://wener.me/notes/devops/kubernetes/network/calico/)\\n  - [kube-router](https://wener.me/notes/devops/kubernetes/network/kube-router/)\\n- CSI - \u5BB9\u5668\u5B58\u50A8\\n  - [local-path-provisioner](https://wener.me/notes/devops/kubernetes/storage/local-path-provisioner/)\\n    - \u57FA\u4E8E\u672C\u5730\u8DEF\u5F84\u63D0\u4F9B volume\\n  - [openebs](https://wener.me/notes/devops/kubernetes/storage/openebs/)\\n- LoadBalancer\\n  - [k3s-io/klipper-lb](https://github.com/k3s-io/klipper-lb)\\n    - \u57FA\u4E8E iptable \u63D0\u4F9B ClusterIP \u80FD\u529B\\n  - [metallb](https://wener.me/notes/devops/kubernetes/network/metallb/)\\n\\n## \u53C2\u8003\\n\\n- [certified-kubernetes-installer](https://landscape.cncf.io/card-mode?category=certified-kubernetes-installer&grouping=category)\\n\\n# \u4E3A\u4EC0\u4E48\u4F1A\u5B58\u5728\u4E0D\u540C\u53D1\u884C\u7248\\n\\nK8S \u4F5C\u4E3A\u6700\u539F\u59CB\u7684\u9879\u76EE\uFF0C\u6D3E\u751F\u51FA\u6765\u5F88\u591A \u5206\u652F/\u53D1\u5E03\u7248\u3002\\n\\nKubernetes \u7684\u6838\u5FC3\u80FD\u529B\u4E3A\u8D44\u6E90\u8C03\u5EA6\uFF0C\u4E3B\u8981\u8D44\u6E90\u4E3A Pod/\u5BB9\u5668\u7EC4/\u8BA1\u7B97\u8D44\u6E90\u3002\\n\u56E0\u4E3A\u662F\u5206\u5E03\u5F0F\u591A\u8282\u70B9\uFF0C\u6240\u4EE5\u5BF9\u7F51\u7EDC\u6709\u8981\u6C42\u3002Pod \u8C03\u5EA6\u4E3B\u8981\u63D0\u4F9B\u8BA1\u7B97\u80FD\u529B\uFF0C\u5B9E\u9645\u4F7F\u7528\u8FD8\u4F1A\u9700\u8981\u5B58\u50A8\u80FD\u529B\u3002\\n\u4E5F\u5C31\u662F\u8BF4 Kubernetes \u6D89\u53CA\u5230\u6838\u5FC3\u7684\u4E09\u5143\u7D20\\n\\n- \u8BA1\u7B97\\n- \u7F51\u7EDC\\n- \u5B58\u50A8\\n\\nKubernetes \u6838\u5FC3\u8C03\u5EA6\u8BA1\u7B97\u8D44\u6E90\uFF0C\u4F46\u5BF9\u4E8E\u7F51\u7EDC\u548C\u5B58\u50A8\u662F \u65E0\u610F\u89C1/Unopinioned \uFF0C\u4F46\u5B9E\u9645\u90E8\u7F72\u4F7F\u7528\u65F6\u8FD9\u65F6\u5019\u53C8\u4E0D\u53EF\u907F\u514D\u7684\u8981\u9762\u5BF9\u8FD9\u4E9B\u95EE\u9898\u3002\\n\u56E0\u6B64\u4E0D\u540C\u7684 \u53D1\u5E03\u7248/Distribution \u5C31\u662F\u5BF9\u8FD9\u4E9B\u95EE\u9898\u4E0D\u540C\u7684\u770B\u6CD5\u3002\\n\\n## K8S \u8981\u6C42\\n\\nKubernetes \u7531 Google \u5F00\u53D1\uFF0C\u4F46\u4E0D\u662F\u6240\u6709\u4EBA\u90FD\u6709\u90A3\u4E48\u5927\u89C4\u6A21\u7684\u95EE\u9898\uFF0C\u800C\u5927\u591A\u6570\u65F6\u5019\u90FD\u662F\u5C0F\u89C4\u6A21\uFF0C\u5148\u8BA9 K8S \u201C\u8DD1\u8D77\u6765\u201D\u3002\\n\\nKubernetes \u81EA\u8EAB\u56E0\u4E3A\u5BF9\u57FA\u7840\u8BBE\u65BD\u5C42 \u65E0\u610F\u89C1/Unopinioned\uFF0C\u56E0\u6B64\u9ED8\u8BA4\u662F\u6CA1\u6709\u90E8\u7F72\u5DE5\u5177\uFF0C\u53EA\u6709\u8981\u6C42\uFF1A\\n\\n- \u8981\u6C42\u8282\u70B9\u8FD0\u884C\u5728\u5E73\u5766\u7F51\u7EDC\\n- \u8981\u6C42 etcd \u80FD\u529B\u7684\u72B6\u6001\u5B58\u50A8\\n- \u8981\u6C42 cloud-controller \u63D0\u4F9B\u8282\u70B9\u4FE1\u606F\\n- \u8981\u6C42 \u5BB9\u5668\u8FD0\u884C\u65F6\\n\\n\u5728\u8FD9\u4E9B\u57FA\u7840\u4E4B\u4E0A\uFF0CKubernetes \u63D0\u4F9B\u57FA\u4E8E\u72B6\u6001\u7684 \u63A5\u53E3 \u8FDB\u884C\u8D44\u6E90\u8C03\u5EA6\u3002\\n\\n## K8S \u90E8\u7F72\\n\\n\u9664\u4E86\u6EE1\u8DB3 K8S \u7684\u8981\u6C42\uFF0C\u5728\u5B9E\u9645\u4F7F\u7528\u65F6\u8FD8\u5E0C\u671B\u80FD\u65B9\u4FBF\u5FEB\u6377\u7684\u7BA1\u7406\u90E8\u7F72\u3002\\nK8S \u63D0\u4F9B\u4E86 kubeadm \u8FDB\u884C\u5B89\u88C5\uFF0C\u4E0D\u540C\u7684\u53D1\u5E03\u7248\u4E5F\u9700\u8981\u63D0\u4F9B\u7C7B\u4F3C\u7684\u5DE5\u5177\uFF0C\u4F46\u5DE5\u5177\u533A\u5206\u4E3A\u4E24\u90E8\u5206\\n\\n1. \u8FDC\u7A0B\u5F00\u901A\u90E8\u7F72\\n   - SSH\\n   - \u63A7\u5236\u8282\u70B9\u901A\u8FC7\u5DE5\u5177\u90E8\u7F72\u5230\u591A\u4E2A\u8282\u70B9\\n2. \u5F00\u901A\u90E8\u7F72\u7684\u63D0\u524D\u51C6\u5907\\n   - CA \u8BC1\u4E66\\n   - ETCD/\u5B58\u50A8\u521D\u59CB\u5316\\n   - \u7F51\u7EDC\u8BBE\u7F6E\\n   - Bootstrap\\n\\nkubeadm \u548C k0s, k3s \u90FD\u5C5E\u4E8E\u7B2C\u4E8C\u79CD\u573A\u666F\uFF0C\u7B2C\u4E00\u79CD\u573A\u666F\u7684\u5DE5\u5177\u4F8B\u5982\\n\\n- autok3s\\n- rke\\n- ansible\\n- k0sctl"},{"id":"out-of-daily-work","metadata":{"permalink":"/story/out-of-daily-work","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-07-22-out-of-daily-work.md","source":"@site/../story/2021/2021-07-22-out-of-daily-work.md","title":"\u65E5\u5E38\u5DE5\u4F5C\u4E4B\u5916","description":"\u5DE5\u4F5C\u662F\u6C38\u8FDC\u4E5F\u505A\u4E0D\u5B8C\u7684\uFF0C\u4F46\u5728\u8FD9\u6761\u8D70\u4E0D\u5B8C\u7684\u8DEF\u4E0A\u4E5F\u8981\u591A\u770B\u770B\u6CBF\u9014\u7684\u98CE\u666F\u3002","date":"2021-07-22T00:00:00.000Z","tags":[],"readingTime":0.39,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u65E5\u5E38\u5DE5\u4F5C\u4E4B\u5916","slug":"out-of-daily-work"},"unlisted":false,"prevItem":{"title":"K3S vs K0S","permalink":"/story/k3s-vs-k0s"},"nextItem":{"title":"\u6211\u7684\u7AD9\u70B9\u662F\u5982\u4F55\u6784\u5EFA\u7684\uFF1F\uFF01","permalink":"/story/how-i-build-my-site"}},"content":"> \u5DE5\u4F5C\u662F\u6C38\u8FDC\u4E5F\u505A\u4E0D\u5B8C\u7684\uFF0C\u4F46\u5728\u8FD9\u6761\u8D70\u4E0D\u5B8C\u7684\u8DEF\u4E0A\u4E5F\u8981\u591A\u770B\u770B\u6CBF\u9014\u7684\u98CE\u666F\u3002\\n\\n\x3c!-- more --\x3e\\n\\n**\u53D1\u73B0\u548C\u89C2\u5BDF**\\n\\n- \u68C0\u67E5\u90AE\u4EF6\\n  - News\\n  - Mail list\\n- \u6D4F\u89C8 HN\\n- \u6D4F\u89C8 Reddit\\n- \u6D4F\u89C8 Twitter\\n- \u6D4F\u89C8 IRC - \u770B\u6709\u4EC0\u4E48\u503C\u5F97\u6CE8\u610F\u7684\\n- \u6D4F\u89C8 Telegram \u770B\u770B\u6709\u8DA3\u7684\u4E8B\u60C5\\n- \u8FC7\u6389\u5FAE\u4FE1\u672A\u8BFB\u6D88\u606F\\n- \u68C0\u67E5 Github\\n  - \u5173\u6CE8\u95EE\u9898\u662F\u5426\u6709\u6240\u53D8\u5316\u548C\u8FDB\u5C55\\n  - \u5173\u6CE8\u9879\u76EE\u662F\u5426\u6709\u65B0\u7248\u672C\\n    - \u66F4\u65B0 AlpineLinux \u5305\\n\\nBack to work."},{"id":"how-i-build-my-site","metadata":{"permalink":"/story/how-i-build-my-site","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-06-30-how-i-build-my-site.md","source":"@site/../story/2021/2021-06-30-how-i-build-my-site.md","title":"\u6211\u7684\u7AD9\u70B9\u662F\u5982\u4F55\u6784\u5EFA\u7684\uFF1F\uFF01","description":"\u6211\u7684\u7AD9\u70B9 wener.me \u548C\u56FD\u5185\u5907\u6848\u955C\u50CF wener.tech \u6784\u5EFA\u8FC7\u7A0B\u548C\u903B\u8F91\u3002","date":"2021-06-30T00:00:00.000Z","tags":[{"inline":true,"label":"Aliyun","permalink":"/story/tags/aliyun"}],"readingTime":3.17,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u6211\u7684\u7AD9\u70B9\u662F\u5982\u4F55\u6784\u5EFA\u7684\uFF1F\uFF01","slug":"how-i-build-my-site","tags":["Aliyun"]},"unlisted":false,"prevItem":{"title":"\u65E5\u5E38\u5DE5\u4F5C\u4E4B\u5916","permalink":"/story/out-of-daily-work"},"nextItem":{"title":"macOS \u5FAE\u4FE1\u5907\u4EFD\u539F\u7406","permalink":"/story/macos-wechat-backup"}},"content":"\u6211\u7684\u7AD9\u70B9 [wener.me](https://wener.me) \u548C\u56FD\u5185\u5907\u6848\u955C\u50CF [wener.tech](https://wener.tech) \u6784\u5EFA\u8FC7\u7A0B\u548C\u903B\u8F91\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## Docusaurus\\n\\n\u7AD9\u70B9\u57FA\u4E8E [docusaurus](https://docusaurus.io/) 2.0-alpha \u6784\u5EFA\uFF0Cdocusaurus \u5904\u4E8E 2.0-alpha \u5DF2\u7ECF\u5F88\u957F\u4E00\u6BB5\u65F6\u95F4\u4E86\uFF0C\u6700\u8FD1\u8FDB\u5165\u4E86 beta \u9636\u6BB5\u3002\u65E9\u671F\u5BF9\u4E2D\u6587\u652F\u6301\u6709\u7F3A\u9677\uFF0C\u63D0\u4EA4\u51E0\u4E2A\u4FEE\u590D\u540E\u90FD\u80FD\u6B63\u5E38\u4F7F\u7528\u4E86\u3002\\n\\ndocusaurus \u6709 blog \u548C doc \u7684\u6982\u5FF5\u3002\\ndocusaurus \u672C\u8EAB\u662F facebook \u4E3A\u4E86\u652F\u6301\u6280\u672F\u6587\u6863\u5B58\u5728\u7684\uFF0C\u56E0\u6B64\u5BF9 doc \u7684\u652F\u6301\u975E\u5E38\u597D\uFF0Cdoc \u4E3B\u8981\u7279\u6027\\n\\n- \u591A\u7248\u672C\\n- \u591A\u8BED\u8A00\\n- \u96C6\u6210 algolia \u641C\u7D22\\n- \u81EA\u5B9A\u4E49\u63D2\u4EF6\\n- mdx\\n- \u652F\u6301\u66FF\u6362\u5185\u7F6E \u7EC4\u4EF6\\n\\ndoc \u9ED8\u8BA4\u76EE\u5F55\u4E3A /docs\uFF0C\u53EF\u81EA\u5B9A\u4E49\u3002\\n\\nblog \u4E3A\u5355\u7BC7\u6587\u7AE0\uFF0C\u9ED8\u8BA4\u76EE\u5F55\u4E3A /blog\uFF0C\u652F\u6301\u81EA\u5B9A\u4E49 slug\uFF0C\u9ED8\u8BA4 slug \u4E3A\u6CDB\u5316\u540E\u7684\u6587\u4EF6\u540D\u3002\\n\\n\\n```bash\\n# \u65B0\u9879\u76EE\u521D\u59CB\u5316\\nnpx @docusaurus/init@latest init my-website classic\\n```\\n\\n## \u6784\u5EFA\\n\\n\u5F52\u6839\u7ED3\u5E95\uFF0Cdocusaurus \u662F\u4E00\u4E2A npm \u5E93\uFF0C\u56E0\u6B64\u5B9E\u73B0\u81EA\u5B9A\u4E49\u9700\u8981\u57FA\u4E8E\u4E00\u4E2A node \u9879\u76EE\u3002\\n\u7AD9\u70B9\u7684\u6784\u5EFA\u9879\u76EE\u4F4D\u4E8E [site](https://github.com/wenerme/wener/tree/master/site) \u76EE\u5F55\u4E0B\uFF0C\u6784\u5EFA\u8FC7\u7A0B\u4E3A\\n\\n- \u540C\u6B65 /story \u5230 /site/story\\n- \u540C\u6B65 /notes \u5230 /site/notes\\n\\n:::tip\\n\\n\u540C\u6B65\u8FC7\u7A0B\u4F1A\u8FC7\u6EE4\u90E8\u5206 md \u6587\u4EF6\uFF0Cdocusaurus \u9ED8\u8BA4\u4F1A\u5904\u7406\u6240\u6709 md \u6587\u4EF6\uFF0C\u4F46\u662F wenerme/wener \u4E2D\u7684\u90E8\u5206 md \u6587\u4EF6\u662F\u4E0D\u5E0C\u671B\u88AB\u6784\u5EFA\u7684\u3002\\n\u56E0\u6B64\u6211\u7684\u8FC7\u6EE4\u903B\u8F91\u662F\u53EA\u5305\u542B\u6587\u4EF6\u5F00\u5934\u6709 frontmatter \u7684\uFF0C\u4E5F\u5C31\u662F\u6587\u4EF6\u5F00\u5934\u4E3A `---`\u3002\\n\\n:::\\n\\n- \u9884\u5904\u7406 markdown\\n  - \u4F8B\u5982 \u5F15\u7528\u5916\u90E8 markdown [story/project/bbvm.md](https://raw.githubusercontent.com/wenerme/wener/master/story/project/bbvm.md)\\n- \u81EA\u5B9A\u4E49\u811A\u672C\u751F\u6210 sidebar\\n  - docusaurus \u7684 sidebar \u9700\u8981\u624B\u52A8\u4E66\u5199\uFF0C\u4F46\u6587\u6863\u8FC7\u591A\u4E14\u6BCF\u6B21\u65B0\u589E\u540E\u90FD\u9700\u8981\u6DFB\u52A0\uFF0C\u56E0\u6B64\u5B9E\u73B0\u4E86\u811A\u672C\u81EA\u52A8\u626B\u63CF\\n  - [site/sidebars.js#L48-L65](https://github.com/wenerme/wener/blob/f34b8624b8cc55e539af282d275d4805650aee41/site/sidebars.js#L48-L65)\\n- \u7AD9\u70B9\u6784\u5EFA\\n  - \u6784\u5EFA\u540E\u4F1A\u751F\u6210\u5230 /build \u76EE\u5F55\\n\\n## \u81EA\u52A8\u5316\u90E8\u7F72\\n\\n\u7AD9\u70B9\u57FA\u4E8E github [action](https://github.com/wenerme/wener/blob/master/.github/workflows/build.yaml) \u8FDB\u884C\u6784\u5EFA\uFF0C\u6BCF\u6B21\u63A8\u9001\u540E\u4F1A\u8FDB\u884C\u6784\u5EFA\uFF0C\u4F1A\u5C06\u6784\u5EFA\u7684\u5185\u5BB9\u63A8\u9001\u5230 [gh-pages](https://github.com/wenerme/wener/deployments) \u5206\u652F\u3002\\n\u63A8\u9001\u7684\u5185\u5BB9\u540C\u65F6\u5305\u542B\u4E86 CNAME\uFF0C\u5B9E\u73B0\u4E86 wener.me \u57DF\u540D\u7684\u6620\u5C04\u3002\\n\\n\u5B8C\u6210 wener.me \u63A8\u9001\u540E\u4FEE\u6539 CNAME \u4E3A wener.tech \u63A8\u9001\u5230 [wenerme/wener.tech](https://github.com/wenerme/wener.tech)\uFF0C\u5B9E\u73B0 wener.tech \u57DF\u540D\u7684\u6620\u5C04\u3002\\n\\n## \u57DF\u540D\u914D\u7F6E\\n\\n.me \u57DF\u540D\u5728\u56FD\u5185\u65E0\u6CD5\u5907\u6848\uFF0C\u56E0\u6B64\u76F4\u63A5\u6258\u7BA1\u5728\u4E86 [cloudflare.com](https://cloudflare.com)\uFF0C\u6DFB\u52A0\u4E24\u4E2A\u8BB0\u5F55\\n\\n```\\nA wener.me 185.199.109.153\\nA wener.me 185.199.108.153\\n```\\n\\n\u81F3\u6B64 wener.me \u53EF\u4EE5\u88AB\u8BBF\u95EE\u3002\\n\\n\u56E0\u4E3A cloudflare \u5728\u56FD\u5185\u8BBF\u95EE\u901F\u5EA6\u8F83\u6162\uFF0C\u4E14 .me \u65E0\u6CD5\u5907\u6848\u7684\u539F\u56E0\uFF0C\u56E0\u6B64\u955C\u50CF\u4E86 wener.tech\u3002\\n\\n:::caution\\n\\n\u5FAE\u4FE1\u4F1A\u62E6\u622A\u6240\u6709\u6CA1\u6709\u5907\u6848\u7684\u57DF\u540D\uFF0C\u63D0\u793A\u7528\u6237\u662F\u5426\u524D\u5F80\uFF0C\u975E\u5E38\u5F71\u54CD\u4F53\u9A8C\u3002\\n\\n:::\\n\\nwener.tech \u4F7F\u7528 nginx \u7F13\u5B58\u5B9E\u73B0\u3002\\n\\n~~wener.tech \u4F7F\u7528\u963F\u91CC\u4E91 dcdn/\u5168\u7AD9\u52A0\u901F \u5B9E\u73B0\uFF0C\u6DFB\u52A0\u57DF\u540D www.wener.tech \uFF0C\u6307\u5411 185.199.108.153 \u548C 185.199.109.153\u3002\\n\u6DFB\u52A0\u5B8C\u6210\u540E\u524D\u5F80\u57DF\u540D\u89E3\u6790\uFF0C\u5C06 www.wener.tech CNAME \u5230 www.wener.tech.w.kunluncan.com \u3002\u5B8C\u6210\u540E\u5EFA\u8BAE\u5F00\u542F https~~\u3002\\n\\n\u81F3\u6B64 www.wener.tech \u53EF\u4EE5\u88AB\u8BBF\u95EE\u3002\\n\\n:::caution dcdn \u7684 \u5751\\n\\n- \u963F\u91CC\u7684 dcdn \u5B9E\u73B0\u548C cloudflare \u7C7B\u4F3C\u7684\u529F\u80FD\uFF0C\u4F46\u4F53\u9A8C\u5DEE\u5F88\u591A\\n- dcdn \u901A\u8FC7 CNAME \u5B9E\u73B0\uFF0C\u4E3B\u57DF\u540D wener.tech \u65E0\u6CD5\u8FDB\u884C CNAME\uFF0C\u56E0\u6B64\u53EA\u80FD\u4F7F\u7528 www.wener.tech\\n- \u8BBF\u95EE wener.tech \u4F1A\u53D1\u73B0\u5DE6\u4FA7\u4FA7\u8FB9\u680F\u5361\u987F\uFF0C\u5E94\u8BE5\u662F dcdn \u7684\u201C\u4F18\u5316\u201D\u5BFC\u81F4\u7684\\n  - wener.me \u6CA1\u6709\u8FD9\u4E2A\u95EE\u9898\\n\\n:::\\n\\n## \u603B\u7ED3\\n\\n\u57FA\u4E8E github action + cloudflare \u53EF\u4EE5\u5F88\u5BB9\u6613\u5B9E\u73B0\u201C\u514D\u8D39\u201D\u7684\u9759\u6001\u7AD9\u70B9\u6258\u7BA1\u3002\\n\u5982\u679C\u9700\u8981\u52A8\u6001\u80FD\u529B\uFF0C\u53EF\u4EE5\u914D\u5408 [next.js](https://github.com/vercel/next.js)+[vercel](https://vercel.com/) \u5B9E\u73B0\u3002\u4F8B\u5982 [apis.wener.me](https://apis.wener.me)\u3002\\n\\ncloudflare \u770B\u4F3C\u6CA1\u8D77\u4EC0\u4E48\u4F5C\u7528\uFF0C\u4F46\u662F\u5374\u662F\u5FC5\u987B\u7684\uFF0C\u56E0\u4E3A\u9ED8\u8BA4 github pages \u548C vercel \u5728\u56FD\u5185\u90FD\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u6216\u8BBF\u95EE\u90FD\u662F\u95F4\u6B47\u6027\u80FD\u901A\uFF0C\u4F7F\u7528 cloudflare \u867D\u7136\u901F\u5EA6\u504F\u6162\uFF0C\u4F46\u81F3\u5C11\u90FD\u80FD\u8BBF\u95EE\u3002"},{"id":"macos-wechat-backup","metadata":{"permalink":"/story/macos-wechat-backup","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-06-27-macos-wechat-backup.md","source":"@site/../story/2021/2021-06-27-macos-wechat-backup.md","title":"macOS \u5FAE\u4FE1\u5907\u4EFD\u539F\u7406","description":"iPhone7 32G \u7528\u4E86\u51E0\u5E74\u540E\uFF0C\u5FAE\u4FE1\u5360\u4E86 10G\uFF0C\u5982\u679C\u80FD\u628A\u5FAE\u4FE1\u5907\u4EFD\u540E\u6E05\u9664\uFF0C\u8FD8\u80FD\u518D\u6218\u4E24\u5E74\uFF01","date":"2021-06-27T00:00:00.000Z","tags":[{"inline":true,"label":"macOS","permalink":"/story/tags/mac-os"},{"inline":true,"label":"WeChat","permalink":"/story/tags/we-chat"}],"readingTime":7.1,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"macOS \u5FAE\u4FE1\u5907\u4EFD\u539F\u7406","slug":"macos-wechat-backup","tags":["macOS","WeChat"]},"unlisted":false,"prevItem":{"title":"\u6211\u7684\u7AD9\u70B9\u662F\u5982\u4F55\u6784\u5EFA\u7684\uFF1F\uFF01","permalink":"/story/how-i-build-my-site"},"nextItem":{"title":"\u5982\u4F55\u9009\u62E9 Asterisk \u63A5\u53E3","permalink":"/story/agi-vs-ami-vs-ari"}},"content":"iPhone7 32G \u7528\u4E86\u51E0\u5E74\u540E\uFF0C\u5FAE\u4FE1\u5360\u4E86 10G\uFF0C\u5982\u679C\u80FD\u628A\u5FAE\u4FE1\u5907\u4EFD\u540E\u6E05\u9664\uFF0C\u8FD8\u80FD\u518D\u6218\u4E24\u5E74\uFF01\\n\\n- \u5FAE\u4FE1\u81EA\u8EAB\u652F\u6301\u5907\u4EFD\uFF0C\u4F46\u5907\u4EFD\u540E\u662F\u52A0\u5BC6\u7684\uFF0C\u65E0\u6CD5\u8BBF\u95EE\u3002\\n- \u5FAE\u4FE1\u5360\u7528\u7A7A\u95F4\u7684\u4E3B\u8981\u662F\u56FE\u7247\u548C\u89C6\u9891\\n- \u5FAE\u4FE1\u6E05\u7406\u4E0D\u4F1A\u6E05\u9664\u6587\u672C\\n  - \u6587\u672C\u6D88\u606F\u76F8\u5BF9\u5C11\\n  - \u60F3\u8981\u6E05\u9664\u6587\u672C\u6D88\u606F\u53EF\u4EE5\u5378\u8F7D\u91CD\u88C5\\n\\n\x3c!-- more --\x3e\\n\\n- \u901A\u8FC7 macOS \u5907\u4EFD iPhone \u7CFB\u7EDF - \u5907\u4EFD\u65F6\u4E0D\u8981\u52A0\u5BC6\\n  - \u5907\u4EFD\u540E\u4F4D\u4E8E `$HOME/Library/Application Support/MobileSync/Backup/`\\n- \u5907\u4EFD\u540E\u7684\u6570\u636E\\n  - Manifest.{mbdb,db} - mac \u5907\u4EFD\u6587\u4EF6\u6E05\u5355\\n    - Files - \u6587\u4EF6\u6E05\u5355\\n      - `fileID TEXT PRIMARY KEY, domain TEXT, relativePath TEXT, flags INTEGER, file BLOB`\\n        - fileID - \u4E3A \u5907\u4EFD\u6620\u5C04\u540E\u7684\u6587\u4EF6\\n        - domain - \u5E94\u7528\\n        - relativePath - \u5E94\u7528\u76F8\u5BF9\u8DEF\u5F84\\n      - `select relativePath from Files where domain = \'AppDomain-com.tencent.xin\' limit 10`;\\n        - \u5FAE\u4FE1\u76F8\u5173\u6587\u4EF6\\n    - Properties\\n      - `key TEXT PRIMARY KEY, value BLOB`\\n    - .mbdb - \u4E8C\u8FDB\u5236\u6587\u4EF6\uFF0C\u9700\u8981\u81EA\u5B9A\u4E49\u89E3\u7801\u903B\u8F91\\n    - .db - sqlite3 - \u65B0\u7248\u4E00\u822C\u662F sqlite3\\n\\n```bash\\n# \u6253\u5F00 Manifest.db\\nsqlite3 Manifest.db\\n```\\n\\n```sql title=\\"\u5E38\u7528\u64CD\u4F5C\\"\\n-- \u67E5\u770B\u8868\\n.tables\\n.tables Chat_%\\n-- \u67E5\u770B\u8868\u7ED3\u6784\\n.schema Chat_ID\\n```\\n\\n```sql\\n-- \u5173\u5FC3\u7684\u6587\u4EF6\\nselect fileID,relativePath from Files\\nwhere domain = \'AppDomain-com.tencent.xin\' and\\n(\\n  relativePath like \'%/MM.sqlite\'\\n  or relativePath like \'%/WCDB_Contact.sqlite\'\\n  or relativePath like \'%/message_%.sqlite\'\\n);\\n\\n-- \u6240\u6709 DB \u76EE\u5F55\u4E0B\u5185\u5BB9\\nselect fileID,relativePath from Files\\nwhere domain = \'AppDomain-com.tencent.xin\' and relativePath like \'Documents/%/DB/%\';\\n\\n-- \u6587\u4EF6\u6570\u91CF\\nselect count(*) from Files\\nwhere domain = \'AppDomain-com.tencent.xin\';\\n```\\n\\n- \u5907\u4EFD\u540E\u5305\u542B\u5FAE\u4FE1\u6570\u636E\\n  - `message_%d.sqlite` - \u804A\u5929\u5BF9\u8BDD\\n    - ChatExt2_ID\\n    - Chat_ID - \u5BF9\u5E94\u4E00\u4E2A\u804A\u5929\u4F1A\u8BDD\\n      - ID \u4E3A userName \u6216 MD5 \u7684 alias\\n    - Hello_ID\\n  - WCDB_Contact.sqlite - \u8054\u7CFB\u4EBA\\n    - Friend - \u597D\u53CB\\n    - MassSendContact\\n    - QQContact - QQ \u8054\u7CFB\u4EBA\\n  - MM - \u6D88\u606F\\n    - BottleContactTable4\\n    - BottleTable4\\n    - ChatExt2_ID\\n    - Chat_ID\\n    - Emoticon1\\n    - EmoticonPackage05\\n    - EmoticonUpload_1\\n    - Friend\\n    - Friend_Ext\\n    - MassSendContactTable\\n    - MessageBizExtTable\\n    - QQContact\\n    - RevokeMsgTable\\n    - friend_meta\\n  - contactlabel.list - \u6807\u7B7E\u5217\u8868\\n\\n## Friend\\n\\n| column                  | type    | desc                   |\\n| ----------------------- | ------- | ---------------------- |\\n| userName                | text    | WXID\u3001\u7FA4 ID\u3001\u516C\u4F17\u53F7 ID |\\n| type                    | integer | \u7C7B\u578B                   |\\n| certificationFlag       | integer |\\n| imgStatus               | integer |\\n| encodeUserName          | text    |\\n| dbContactLocal          | blob    |\\n| dbContactOther          | blob    |\\n| dbContactRemark         | blob    | \u8054\u7CFB\u4EBA\u5907\u6CE8             |\\n| dbContactHeadImage      | blob    | \u8054\u7CFB\u4EBA\u5934\u50CF             |\\n| dbContactProfile        | blob    |\\n| dbContactSocial         | blob    |\\n| dbContactChatRoom       | blob    | \u7FA4\u4FE1\u606F,XML             |\\n| dbContactBrand          | blob    |\\n| \\\\_packed_DBContactTable | blob    |\\n\\n| userName           | desc        |\\n| ------------------ | ----------- |\\n| 100000000@chatroom | \u7FA4\u7EC4\u4F1A\u8BDD    |\\n| `wxid_`            | \u6807\u51C6\u5FAE\u4FE1 ID |\\n| QQ1000000000       |\\n| gh_123456789abc    | \u516C\u4F17\u53F7      |\\n\\n| encodeUserName   | desc             |\\n| ---------------- | ---------------- |\\n| v1_xxxx@stranger | \u52A0\u5BC6\u540E\u964C\u751F\u4EBA\u59D3\u540D |\\n| v3_xxxx@stranger | \u52A0\u5BC6\u540E\u964C\u751F\u4EBA\u59D3\u540D |\\n\\n| type  |               bin | desc                       |\\n| ----- | ----------------: | -------------------------- |\\n| 0     |                 0 | \u5FAE\u4FE1\u8FD0\u52A8                   |\\n| 1     |                 1 | \u5FAE\u4FE1\u5E94\u7528                   |\\n| 2     |                10 | app + \u7FA4                   |\\n| 3     |                11 | \u597D\u53CB                       |\\n| 4     |               100 | \u7FA4\u91CC\u9762\u7684\u4EBA                 |\\n| 6     |               110 | \u7FA4\u597D\u53CB\uFF0C\u5BF9\u65B9\u52A0\u4F60\uFF0C\u4F60\u672A\u901A\u8FC7 |\\n| 7     |               111 | \u7FA4\u91CC\u9762\u7684\u4EBA\uFF0C\u800C\u4E14\u4E92\u4E3A\u597D\u53CB   |\\n| 11    |              1011 | \u62C9\u9ED1\u522B\u4EBA                   |\\n| 67    |           1000011 | \u6807\u661F                       |\\n| 256   |         100000000 | \u5220\u9664\u597D\u53CB                   |\\n| 259   |         100000011 | \u4E0D\u8BA9\u4ED6\u770B\u6211\u7684\u670B\u53CB\u5708         |\\n| 65539 | 10000000000000011 | \u4E0D\u770B\u4ED6\u7684\u670B\u53CB\u5708             |\\n\\n| bit | desc               |\\n| --- | ------------------ |\\n| 1   | \u4F60\u662F\u5426\u52A0\u5BF9\u65B9\u4E3A\u597D\u53CB |\\n| 2   | \u5BF9\u65B9\u662F\u5426\u52A0\u4F60\u4E3A\u597D\u53CB |\\n| 3   | \u662F\u5426\u7FA4\u91CC\u9762\u7684       |\\n| 4   | \u4F60\u4E3B\u52A8\u62C9\u9ED1\u5BF9\u65B9     |\\n| 7   | \u6807\u661F               |\\n\\n## Chat\\n\\n- Chat\\\\_ \u804A\u5929\u4FE1\u606F\\n- ChatExt\\\\_ \u6D88\u606F\u6269\u5C55\u4FE1\u606F\\n\\n| column     | type    | desc     |\\n| ---------- | ------- | -------- |\\n| CreateTime | INTEGER |\\n| Des        | INTEGER |\\n| ImgStatus  | INTEGER |\\n| MesLocalID | INTEGER |\\n| Message    | TEXT    | \u6D88\u606F\u5185\u5BB9 |\\n| MesSvrID   | INTEGER |\\n| Status     | INTEGER |\\n| TableVer   | INTEGER |\\n| Type       | INTEGER | \u6D88\u606F\u7C7B\u578B |\\n\\n| type  | desc          |\\n| ----- | ------------- |\\n| 1     | \u6587\u672C          |\\n| 3     | \u56FE\u7247          |\\n| 34    | \u8BED\u97F3          |\\n| 42    | \u540D\u7247          |\\n| 43    | \u89C6\u9891          |\\n| 47    | \u8868\u60C5          |\\n| 48    | \u4F4D\u7F6E          |\\n| 49    | \u94FE\u63A5          |\\n| 50    | \u89C6\u9891/\u8BED\u97F3\u901A\u8BDD |\\n| 62    | \u5C0F\u89C6\u9891        |\\n| 10000 | \u7CFB\u7EDF\u6D88\u606F      |\\n\\n# \u9644\u5F55\\n\\n## WCDB_Contact.sqlite\\n\\n```sql\\n-- WCDB_Contact\\nCREATE TABLE Friend\\n(\\n    userName               text primary key on conflict replace,\\n    type                   integer default 0,\\n    certificationFlag      integer default 0,\\n    imgStatus              integer default 0,\\n    encodeUserName         text,\\n    dbContactLocal         blob,\\n    dbContactOther         blob,\\n    dbContactRemark        blob,\\n    dbContactHeadImage     blob,\\n    dbContactProfile       blob,\\n    dbContactSocial        blob,\\n    dbContactChatRoom      blob,\\n    dbContactBrand         blob,\\n    _packed_DBContactTable blob\\n);\\nCREATE TABLE MassSendContact\\n(\\n    UsrName    text not null primary key on conflict replace,\\n    Detail     text,\\n    ConIntRes1 integer default 0,\\n    ConIntRes2 integer default 0,\\n    ConStrRes1 text,\\n    ConStrRes2 text\\n);\\nCREATE TABLE QQContact\\n(\\n    UsrName           text not null primary key on conflict replace,\\n    Uin               integer default 0,\\n    Type              integer default 0,\\n    Sex               integer default 0,\\n    Age               integer default 0,\\n    ImgKey            integer default 0,\\n    ExtKey            integer default 0,\\n    ImgKeyLast        integer default 0,\\n    ExtKeyLast        integer default 0,\\n    CreateTime        integer default 0,\\n    ConIntRes1        integer default 0,\\n    ConIntRes2        integer default 0,\\n    ConIntRes3        integer default 0,\\n    NickName          text,\\n    Email             text,\\n    Mobile            text,\\n    Address           text,\\n    Sign              text,\\n    birthday          text,\\n    FullPY            text,\\n    ShortPY           text,\\n    Img               text,\\n    ConRemark         text,\\n    ConRemark_PYShort text,\\n    ConRemark_PYFull  text,\\n    ConStrRes1        text,\\n    ConStrRes2        text,\\n    ConStrRes3        text\\n);\\n```\\n\\n## MM.sqlite\\n\\n```sql\\nCREATE TABLE Friend\\n(\\n    TableVer     integer default 1,\\n    UsrName      text not null primary key on conflict replace,\\n    NickName     text,\\n    Uin          integer default 0,\\n    Email        text,\\n    Mobile       text,\\n    Sex          integer default 0,\\n    FullPY       text,\\n    ShortPY      blob,\\n    Img          text,\\n    Type         integer default 0,\\n    LastChatTime integer default 0,\\n    Draft        text\\n);\\nCREATE TABLE Friend_Ext\\n(\\n    UsrName           text not null primary key on conflict replace,\\n    ConType           integer default 0,\\n    ConRemark         text,\\n    ConRemark_PYShort text,\\n    ConRemark_PYFull  text,\\n    ConQQMBlog        text,\\n    ConSMBlog         text,\\n    ConChatRoomMem    text,\\n    ConIntRes1        integer default 0,\\n    ConIntRes2        integer default 0,\\n    ConIntRes3        integer default 0,\\n    ConStrRes1        text,\\n    ConStrRes2        text,\\n    ConStrRes3        text\\n);\\nCREATE TABLE friend_meta\\n(\\n    username   text primary key on conflict replace,\\n    lastUpdate integer,\\n    intCon1    integer,\\n    intCon2    integer,\\n    intCon3    integer,\\n    strCon1    text,\\n    strCon2    text,\\n    strCon3    text\\n);\\nCREATE TABLE QQContact\\n(\\n    UsrName           text not null primary key on conflict replace,\\n    Uin               integer default 0,\\n    Type              integer default 0,\\n    Sex               integer default 0,\\n    Age               integer default 0,\\n    ImgKey            integer default 0,\\n    ExtKey            integer default 0,\\n    ImgKeyLast        integer default 0,\\n    ExtKeyLast        integer default 0,\\n    CreateTime        integer default 0,\\n    ConIntRes1        integer default 0,\\n    ConIntRes2        integer default 0,\\n    ConIntRes3        integer default 0,\\n    NickName          text,\\n    Email             text,\\n    Mobile            text,\\n    Address           text,\\n    Sign              text,\\n    birthday          text,\\n    FullPY            text,\\n    ShortPY           text,\\n    Img               text,\\n    ConRemark         text,\\n    ConRemark_PYShort text,\\n    ConRemark_PYFull  text,\\n    ConStrRes1        text,\\n    ConStrRes2        text,\\n    ConStrRes3        text\\n);\\nCREATE TABLE RevokeMsgTable\\n(\\n    MSG_REVOKE_COL_SVRID   bigint  default 0 primary key,\\n    MSG_REVOKE_COL_CONTENT text,\\n    MSG_REVOKE_COL_INTRES1 integer default 0,\\n    MSG_REVOKE_COL_INTRES2 bigint  default 0,\\n    MSG_REVOKE_COL_INTRES3 bigint  default 0,\\n    MSG_REVOKE_COL_STRRES1 text,\\n    MSG_REVOKE_COL_STRRES2 text,\\n    MSG_REVOKE_COL_STRRES3 text,\\n    _packed_RevokeMessage  blob\\n);\\nCREATE TABLE Emoticon1\\n(\\n    MD5        text,\\n    Message    text,\\n    Type       integer default 0,\\n    CreateTime integer default 0,\\n    Len        integer default 0,\\n    Status     integer default 0,\\n    Catalog    text,\\n    CatelogID  integer default 0,\\n    Draft      text,\\n    ConIntRes1 integer default 0,\\n    ConIntRes2 integer default 0,\\n    ConIntRes3 integer default 0,\\n    ConStrRes1 text,\\n    ConStrRes2 text,\\n    ConStrRes3 text\\n);\\nCREATE TABLE EmoticonUpload_1\\n(\\n    UsrName    text,\\n    MesLocalID text,\\n    MD5        text,\\n    Type       integer default 0,\\n    Message    text,\\n    CreateTime integer default 0,\\n    SendTime   integer default 0,\\n    Offset     integer default 0,\\n    Len        integer default 0,\\n    Status     integer default 0,\\n    Catalog    text,\\n    CatelogID  integer default 0,\\n    Draft      text,\\n    ConIntRes1 integer default 0,\\n    ConIntRes2 integer default 0,\\n    ConIntRes3 integer default 0,\\n    ConStrRes1 text,\\n    ConStrRes2 text,\\n    ConStrRes3 text\\n);\\nCREATE TABLE BottleTable4\\n(\\n    BottleLocalID        integer primary key autoincrement,\\n    BottleSvrID          integer default 0,\\n    BottleEncryptUsrName text,\\n    BottleID             text,\\n    BottleExt            text\\n);\\nCREATE TABLE BottleContactTable4\\n(\\n    BottleContactUsrName     text not null primary key on conflict replace,\\n    BottleContactNickName    text,\\n    BottleContactSex         integer default 0,\\n    BottleContactImgStatus   text,\\n    BottleContactHDImgStatus text,\\n    BottleContactProvince    text,\\n    BottleContactCity        text,\\n    BottleContactSign        text,\\n    BottleContactImgKey      integer default 0,\\n    BottleContactImgKeyLast  integer default 0,\\n    BottleContactExtKey      integer default 0,\\n    BottleContactExtKeyLast  integer default 0,\\n    BottleContactINTRES1     integer default 0,\\n    BottleContactINTRES2     integer default 0,\\n    BottleContactINTRES3     integer default 0,\\n    BottleContactTEXTRES1    text,\\n    BottleContactTEXTRES2    text,\\n    BottleContactTEXTRES3    text\\n);\\nCREATE TABLE MassSendContactTable\\n(\\n    UsrName    text not null primary key on conflict replace,\\n    Detail     text,\\n    ConIntRes1 integer default 0,\\n    ConIntRes2 integer default 0,\\n    ConStrRes1 text,\\n    ConStrRes2 text\\n);\\nCREATE TABLE MessageBizExtTable\\n(\\n    chatUsername            text,\\n    msgLocalId              integer,\\n    msgType                 integer,\\n    msgInnerType            integer,\\n    bizId                   text,\\n    msgExtColInt1           integer,\\n    msgExtColInt2           integer,\\n    msgExtColString1        text,\\n    msgExtColString2        text,\\n    _packed_DBMessageBizExt blob\\n);\\nCREATE TABLE EmoticonPackage05\\n(\\n    EmoticonPackageId          text not null primary key on conflict replace,\\n    EmoticonPackageName        text,\\n    EmoticonPackageIconUrl     text,\\n    EmoticonPackagePannelUrl   text,\\n    EmoticonPackagePStatus     integer default 0,\\n    EmoticonPackageDLStatus    integer default 0,\\n    EmoticonPackageInstallTime integer default 0,\\n    EmoticonPackageRemoveTime  integer default 0,\\n    ConIntRes1                 integer default 0,\\n    ConIntRes2                 integer default 0,\\n    ConIntRes3                 integer default 0,\\n    ConStrRes1                 text,\\n    ConStrRes2                 text,\\n    ConStrRes3                 text\\n);\\nCREATE TABLE Chat\\n(\\n    TableVer   integer default 1,\\n    MesLocalID integer primary key autoincrement,\\n    MesSvrID   bigint  default 0,\\n    CreateTime integer default 0,\\n    Message    text,\\n    Status     integer default 0,\\n    ImgStatus  integer default 0,\\n    Type       integer,\\n    Des        integer\\n);\\nCREATE TABLE ChatExt2\\n(\\n    MesLocalID  integer primary key,\\n    msgFlag     integer default 0,\\n    ConIntRes2  integer default 0,\\n    ConIntRes3  integer default 0,\\n    MsgSource   text,\\n    MsgIdentify text,\\n    ConStrRes1  text,\\n    ConStrRes2  text,\\n    ConStrRes3  text,\\n    ConIntRes1  integer default 0\\n);\\n```\\n\\n## `message_%d.sqlite`\\n\\n```sql\\nCREATE TABLE Chat_ID\\n(\\n    CreateTime INTEGER DEFAULT 0,\\n    Des        INTEGER,\\n    ImgStatus  INTEGER DEFAULT 0,\\n    MesLocalID INTEGER PRIMARY KEY AUTOINCREMENT,\\n    Message    TEXT,\\n    MesSvrID   INTEGER DEFAULT 0,\\n    Status     INTEGER DEFAULT 0,\\n    TableVer   INTEGER DEFAULT 1,\\n    Type       INTEGER\\n);\\nCREATE TABLE ChatExt2_ID\\n(\\n    ConIntRes1  INTEGER DEFAULT 0,\\n    ConIntRes2  INTEGER DEFAULT 0,\\n    ConIntRes3  INTEGER DEFAULT 0,\\n    ConStrRes1  TEXT,\\n    ConStrRes2  TEXT,\\n    ConStrRes3  TEXT,\\n    MesLocalID  INTEGER PRIMARY KEY,\\n    msgFlag     INTEGER DEFAULT 0,\\n    MsgIdentify TEXT,\\n    MsgSource   TEXT\\n);\\nCREATE TABLE Hello_ID\\n(\\n    ConIntRes1 INTEGER DEFAULT 0,\\n    ConIntRes2 INTEGER DEFAULT 0,\\n    ConIntRes3 INTEGER DEFAULT 0,\\n    ConStrRes1 TEXT,\\n    ConStrRes2 TEXT,\\n    ConStrRes3 TEXT,\\n    CreateTime INTEGER DEFAULT 0,\\n    Des        INTEGER,\\n    ImgStatus  INTEGER DEFAULT 0,\\n    MesLocalID INTEGER PRIMARY KEY AUTOINCREMENT,\\n    Message    TEXT,\\n    MesSvrID   INTEGER DEFAULT 0,\\n    OpCode     INTEGER DEFAULT 0,\\n    Status     INTEGER DEFAULT 0,\\n    TableVer   INTEGER DEFAULT 1,\\n    Type       INTEGER,\\n    UsrName    TEXT\\n);\\n```\\n\\n# \u53C2\u8003\\n\\n- https://www.jianshu.com/p/07a8d87e698b"},{"id":"agi-vs-ami-vs-ari","metadata":{"permalink":"/story/agi-vs-ami-vs-ari","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-04-30-agi-vs-ami-vs-ari.md","source":"@site/../story/2021/2021-04-30-agi-vs-ami-vs-ari.md","title":"\u5982\u4F55\u9009\u62E9 Asterisk \u63A5\u53E3","description":"Asterisk \u81EA 1999 \u5E74\u53D1\u5C55\u5230\u73B0\u5728\uFF0C\u5DF2\u7ECF\u6210\u4E3A\u4E1A\u754C\u6807\u51C6\u7684 PBX \u5B9E\u73B0\u5E95\u5C42\uFF0C\u4F46\u8FD9 20 \u591A\u5E74\u7684\u53D1\u5C55\u4E5F\u8BA9 Asterisk \u5B9E\u73B0\u975E\u5E38\u591A\u7684\u63A5\u53E3\u3002","date":"2021-04-30T00:00:00.000Z","tags":[{"inline":true,"label":"Asterisk","permalink":"/story/tags/asterisk"},{"inline":true,"label":"VoIP","permalink":"/story/tags/vo-ip"}],"readingTime":2.55,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u5982\u4F55\u9009\u62E9 Asterisk \u63A5\u53E3","slug":"agi-vs-ami-vs-ari","tags":["Asterisk","VoIP"]},"unlisted":false,"prevItem":{"title":"macOS \u5FAE\u4FE1\u5907\u4EFD\u539F\u7406","permalink":"/story/macos-wechat-backup"},"nextItem":{"title":"OpenVox VoxStack \u7F51\u5173\u5206\u6790","permalink":"/story/openvox-gw-inside"}},"content":"Asterisk \u81EA 1999 \u5E74\u53D1\u5C55\u5230\u73B0\u5728\uFF0C\u5DF2\u7ECF\u6210\u4E3A\u4E1A\u754C\u6807\u51C6\u7684 PBX \u5B9E\u73B0\u5E95\u5C42\uFF0C\u4F46\u8FD9 20 \u591A\u5E74\u7684\u53D1\u5C55\u4E5F\u8BA9 Asterisk \u5B9E\u73B0\u975E\u5E38\u591A\u7684\u63A5\u53E3\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u63A5\u53E3\u7B80\u4ECB\\n\\n| API | Protocol            | Async | Block | Access Dialplan |\\n| --- | ------------------- | ----- | ----- | --------------- |\\n| AGI | Shell/Socket        | \u26D4\uFE0F   | \u2705    | \u2705              |\\n| AMI | TCP/5038/Event      | \u2705    | \u26D4\uFE0F   | \u26D4\uFE0F             |\\n| ARI | HTTP/REST/WebSocket | \u2705    | \u2705    | \u2705              |\\n\\nAGI, AMI \u529F\u80FD\u5B8C\u5168\u4E0D\u540C\uFF0C\u4F46 ARI \u548C AGI\uFF0CAMI \u90FD\u6709\u6240\u91CD\u53E0\u3002\\n\\n- AGI - Asterisk Gateway Interface\\n  - \u7B80\u5355\\n  - \u4F5C\u4E3A Dialplan \u51FD\u6570\\n- AMI - Asterisk Manager Interface\\n  - \u4FEE\u6539\u6216\u521B\u5EFA Channel\\n- ARI - Asterisk RESTful Interface\\n  - **Asterisk 12+**\\n  - HTTP Websocket - \u4E8B\u4EF6, Stasis \u5E94\u7528\\n  - RESTful \u63A5\u53E3 - \u63A7\u5236\u5E95\u5C42\u8D44\u6E90\\n\\n## \u63A5\u53E3\u4F7F\u7528\u573A\u666F\\n\\n```\\nAMI - ARI - AGI\\n\u547C\u53EB\u63A7\u5236\\n      \u81EA\u5B9A\u4E49\u901A\u4FE1\u5E94\u7528\\n            Dialplan \u6267\u884C\\n```\\n\\n- AGI - \u6269\u5C55 Dialplan \u5904\u7406\\n  - \u5EFA\u8BAE\u5B9E\u73B0 \u901A\u7528 - \u72EC\u7ACB - \u7279\u6027\u65E0\u5173 \u7684 Dialplan \u51FD\u6570\\n  - \u4F8B\u5982 \u547C\u53EB\u5EFA\u7ACB\u3001\u62C6\u9664\uFF1B\u5916\u7EBF\u63A7\u5236\uFF1BCDR\\n- AMI - \u9002\u7528\u4E8E\u901A\u8BDD\u65F6\u901A\u9053\u7BA1\u63A7\\n- ARI\\n  - ARI \u5305\u542B AMI \u548C AGI \u4E3B\u8981\u529F\u80FD\\n  - \u81EA\u5B9A\u4E49 Dialplan \u5E94\u7528\\n  - \u9AD8\u5EA6\u5B9A\u5236\\n\\n\u5F00\u53D1\u4F7F\u7528\u4E00\u5B9A\u8981\u7F3A\u5C11\u8FB9\u754C\uFF0C\u56E0\u4E3A\u5F88\u591A\u529F\u80FD\u662F\u8FD9\u4E5F\u53EF\u4EE5\u90A3\u4E5F\u53EF\u4EE5\u3002\\n\\n```mermaid\\nsequenceDiagram\\n    PJSIP ->> Dialplan: \u5904\u7406\u901A\u9053\\n    Dialplan ->> AGI: \u8DEF\u7531\\n    AGI ->> Handler: \u5904\u7406 FastAGI/AGI \u8BF7\u6C42\\n    Handler ->> Dialplan: \u5E94\u7528\u786E\u5B9A\u5982\u4F55\u5904\u7406\uFF0C\u8FD4\u56DE\u4E0B\u4E00\u4E2A Dialplan\\n    Dialplan ->> Stasis: \u6267\u884C Stasis Dialplan\\n    Stasis ->> Handler: \u5904\u7406 ARI \u5B9E\u73B0\u81EA\u5B9A\u4E49\u5E94\u7528\\n```\\n\\n## \u5176\u4ED6\u63A5\u53E3\\n\\n- Asterisk CLI\\n  - \u5F00\u53D1\u4F7F\u7528\u7B80\u5355\u65B9\u4FBF\\n  - \u529F\u80FD\u6709\u4E00\u5B9A\u9650\u5236\\n- Call File\\n  - 0 \u8026\u5408\\n  - \u4ECE\u76EE\u5F55\u62C9\u53D6\u547C\u53EB\u8BF7\u6C42 `<astspooldir>/outgoing` - `/var/spool/asterisk/outgoing/`\\n    - \u7C7B\u4F3C\u6253\u5370\u673A pool\\n    - \u9002\u7528\u4E8E\u81EA\u52A8\u53D1\u8D77\u547C\u53EB\\n  - \u751F\u6210\u6587\u4EF6\u653E\u5230\u76EE\u5F55\u7531 chan_pickup \u53BB\u83B7\u53D6\u7136\u540E\u53D1\u8D77\u547C\u53EB\\n  - \u8BED\u6CD5\u4E0E HTTP Header \u76F8\u540C\uFF0C\u652F\u6301 `#` \u548C `;` \u4F5C\u4E3A\u6CE8\u91CA\\n  - \u6CE8\u610F \u26A0\uFE0F - \u5148\u521B\u5EFA\u597D\u6587\u4EF6\u7136\u540E \u79FB\u52A8 \u5230\u76EE\u5F55\uFF0C\u907F\u514D\u5728\u76EE\u5F55\u76F4\u63A5\u521B\u5EFA\\n- CDR - \u547C\u53EB\u8BB0\u5F55\\n  - \u6BCF\u4E00\u901A\u547C\u53EB\u53EF\u4EE5\u8BB0\u5F55\u5230 DB\\n  - \u53EF\u901A\u8FC7\u67E5\u8BE2 cdr \u5B9E\u73B0\u547C\u53EB\u8BB0\u5F55\u529F\u80FD\\n  - \u5F00\u53D1\u4F7F\u7528\u975E\u5E38\u65B9\u4FBF\\n  - \u907F\u514D\u81EA\u884C\u8BB0\u5F55\\n- CEL - \u4E8B\u4EF6\u65E5\u5FD7\\n  - \u65E5\u5FD7\u91CF\u53D6\u51B3\u4E8E\u914D\u7F6E\uFF0C\u53EF\u80FD\u975E\u5E38\u591A\\n  - \u901A\u8FC7\u5904\u7406\u65E5\u5FD7\u80FD\u591F\u5206\u6790\u51FA\u5F53\u524D\u7684\u901A\u9053\u72B6\u6001\\n  - \u5B9E\u65F6\u5904\u7406\u65E5\u5FD7\u80FD\u5B9E\u73B0\u7528\u6237\u901A\u77E5\u548C\u63D0\u9192\\n  - \u907F\u514D\u64CD\u4F5C AMI \u6216 ARI\\n- SNMP\\n  - \u57FA\u672C\u670D\u52A1\u76D1\u63A7\\n- Statd\\n  - \u670D\u52A1\u6307\u6807\u76D1\u63A7\\n  - \u901A\u8BDD\u6570\u91CF\uFF0C\u5750\u5E2D\u6570\u91CF\\n- Realtime DB\\n  - \u7BA1\u7406\u901A\u9053\u5750\u5E2D\\n  - \u6A21\u5757\u914D\u7F6E\\n- Function_CURL\\n  - Dialplan \u91CC\u4F7F\u7528 CURL \u8BF7\u6C42\u5916\u90E8\u7CFB\u7EDF\\n  - \u5B9E\u73B0\u975E\u5E38\u7B80\u5355\u7684\u7CFB\u7EDF\u96C6\u6210\\n- \u540E\u7AEF\u63A5\u53E3\\n  - LDAP\\n  - cURL\\n  - ODBC, SQLite, PostgreSQL, MySQL\\n\\n```bash\\n# \u4F7F\u7528 CLI \u53D1\u8D77\u547C\u53EB\\nasterisk -rx \'channel originate SIP/6003 extension 10086@sip-6003\'\\n```\\n\\n**/var/spool/asterisk/outgoing/hello.call**\\n\\n```ini\\nChannel: SIP/trunkname/6001\\n; Callerid: <callerid>\\n; WaitTime: <number>\\n; MaxRetries: <number>\\n; RetryTime: <number>\\n; Account: <account>\\n\\n; \u6267\u884C\u7684\u5E94\u7528\u548C\u53C2\u6570\\nApplication: Playback\\nData: hello-world\\n\\n; Context+Extension\\n; Context: <context>\\n; Extension: <exten>\\n; Priority: <priority>\\n; Setvar: <var=value>\\n\\n; yes \u4F1A\u5F52\u6863\u5230 outgoing_done\\n; \u5F52\u6863\u540E\u8FD8\u4F1A\u8BB0\u5F55\u72B6\u6001\\n; Archive: <yes|no>\\n; Status: <exitstatus>\\n\\n; \u91CD\u8BD5\u72B6\u6001\\n; StartRetry: <pid> <retrycount> (<time>)\\n; EndRetry: <pid> <retrycount> (<time>)\\n```\\n\\n## \u603B\u7ED3\\n\\n- \u4F7F\u7528 Stasis \u66FF\u4EE3 Dial\\n- \u907F\u514D Asterisk \u5305\u542B\u590D\u6742\u8DEF\u7531\u903B\u8F91\\n- \u901A\u8FC7 ARI \u63A5\u8026\\n- \u6CA1\u6709 ARI \u7684\u4F4E\u7248\u672C Asterisk \u53EA\u80FD\u4F7F\u7528 AMI \u6765\u8FDB\u884C\u5B9E\u65F6\u7BA1\u7406\\n\\n## \u53C2\u8003\\n\\n- [ARI and AGI, a powerful combination](https://www.slideshare.net/JranVinzens/ari-and-agi-a-powerful-combination)"},{"id":"openvox-gw-inside","metadata":{"permalink":"/story/openvox-gw-inside","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-03-25-openvox-gw-inside.md","source":"@site/../story/2021/2021-03-25-openvox-gw-inside.md","title":"OpenVox VoxStack \u7F51\u5173\u5206\u6790","description":"\u56E0\u4E3A\u6DD8\u5230\u4E00\u4E2A\u4E8C\u624B OpenVox \u8BED\u97F3\u7F51\u5173\uFF0C\u5C31\u597D\u5947\\"\u91CC\u9762\\"\u957F\u4EC0\u4E48\u6837\u3002","date":"2021-03-25T00:00:00.000Z","tags":[{"inline":true,"label":"\u5D4C\u5165\u5F0F","permalink":"/story/tags/\u5D4C\u5165\u5F0F"},{"inline":true,"label":"\u7CFB\u7EDF","permalink":"/story/tags/\u7CFB\u7EDF"},{"inline":true,"label":"VoIP","permalink":"/story/tags/vo-ip"}],"readingTime":10.07,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"OpenVox VoxStack \u7F51\u5173\u5206\u6790","slug":"openvox-gw-inside","tags":["\u5D4C\u5165\u5F0F","\u7CFB\u7EDF","VoIP"]},"unlisted":false,"prevItem":{"title":"\u5982\u4F55\u9009\u62E9 Asterisk \u63A5\u53E3","permalink":"/story/agi-vs-ami-vs-ari"},"nextItem":{"title":"\u8BB0\u5F55\u4E00\u6B21\u4FEE\u590D init \u811A\u672C\u7684\u7ECF\u5386","permalink":"/story/fix-init-script"}},"content":"\u56E0\u4E3A\u6DD8\u5230\u4E00\u4E2A\u4E8C\u624B OpenVox \u8BED\u97F3\u7F51\u5173\uFF0C\u5C31\u597D\u5947\\"\u91CC\u9762\\"\u957F\u4EC0\u4E48\u6837\u3002\\n\\nLet\'s find out.\\n\\n\x3c!-- more --\x3e\\n\\n## VS-AGU-E2M0800\\n\\n- VS - VoxStack \u7CFB\u5217 - \u6A21\u5757\u5316\uFF0C\u70ED\u63D2\u62D4\\n- AGU - Analog Gateway - \u6A21\u62DF\u7F51\u5173\\n- \u8F6F\u4EF6 1.1.10\\n- \u786C\u4EF6 1.0.0\\n\\n\u4E00\u5F20\u5361\u4E24\u4E2A\u6A21\u5757\\n\\n- E2M8HJ9DJ68P - VS \u6A21\u5757\\n  - M83241G13 - Freescale Semiconductor - NXP\\n    - Telecom Interface ICs C1K-LS102M 450MHz\\n    - IC C1K 450MHZ VOIP 448BGA\\n- FXS-420 v1.2 - FS42HJ1KK4UY5\\n  - S13215-FM\\n- FXO-400 v1.4 - FXODHJO2XT6L\\n  - 3019-FT 1718FF L0L4\\n  - Si3050-FT 1708EM F1Q5\\n\\n## Web \u7BA1\u7406\u754C\u9762\\n\\n\u754C\u9762\u7C7B\u4F3C\u4E8E\u5B98\u65B9\u6F14\u793A http://admin:admin@demo.openvox.cn:65327\\n\\n\u901A\u8FC7\u5F00\u542F ssh, \u8D26\u53F7\u540D\u8BBE\u7F6E\u4E3A super \u53EF\u83B7\u53D6\u5230 root \u6743\u9650\uFF0C\u9ED8\u8BA4 SSH \u7AEF\u53E3 12345\u3002\\n\\n## \u786C\u4EF6\\n\\n> \u672A\u5F00\u7BB1\uFF0C\u4E0D\u4E00\u5B9A\u51C6\u786E\u3002\\n\\n| -    | \u89C4\u683C                                   |\\n| ---- | -------------------------------------- |\\n| \u5185\u5B58 | 120MB                                  |\\n| CPU  | ARMv6-compatible processor rev 5 (v6l) |\\n\\n**Comcerto 1000 M83263G**\\n\\n- ARM1136 - 2 Core, 650MHz\\n- \u654F\u8FC5\u79D1\u6280/Mindspeed Technologies \u82AF\u7247\\n- Mindspeed \u4E3B\u8981\u63D0\u4F9B VoIP \u9886\u57DF\u89E3\u51B3\u65B9\u6848 - DSP, LTE, Transcede\\n- VoIP, Security Engine, PCIe 2, RGMII 2\\n- SDRAM 16/32 bit DDR2-800/667/533\\n- L1 \u7F13\u5B58 2x(64K D$/64K I$)\\n- VoIP \u80FD\u529B\\n  - Field hardened voice features\\n  - World class acoustic echo cancellation technology\\n  - Narrow and wideband codecs\\n  - G.711, G.729, G.722, G.723.1, iLBC, T.38, G.729.1, G.722.2, AMR, AMR Wideband\\n  - Enhanced echo canceller, CID-I/II, VAD/CNG, AGC\\n  - 3-Way conferencing\\n- TDM/PCM interface for glue-less VoIP support\\n- 2009 \u5E74\\n\\n**/proc/cpuinfo**\\n\\n```\\nProcessor\\t: ARMv6-compatible processor rev 5 (v6l)\\nBogoMIPS\\t: 648.80\\nFeatures\\t: swp half thumb fastmult edsp java\\nCPU implementer\\t: 0x41\\nCPU architecture: 6TEJ\\nCPU variant\\t: 0x1\\nCPU part\\t: 0xb36\\nCPU revision\\t: 5\\n\\nHardware\\t: Comcerto 1000 (EVM)\\nRevision\\t: 0000\\nSerial\\t\\t: 0000000000000000\\n```\\n\\n## \u7CFB\u7EDF\u73AF\u5883\\n\\n> \u5E95\u5C42\u57FA\u4E8E OpenWrt\\n\\n| -        | -                                                                     |\\n| -------- | --------------------------------------------------------------------- |\\n| uname -a | Linux General 2.6.33.5 #4 Tue Aug 29 20:38:01 CST 2017 armv6l unknown |\\n| Busybox  | 1.4.2                                                                 |\\n| Asterisk | 1.8.20.0 / 1.8.X \u53D1\u5E03\u4E8E 2010-10-21 EOL 2015-10-21                     |\\n| dahdi    | 2.6.0                                                                 |\\n| dcra     | 0.1.0                                                                 |\\n\\n> Busybox applet\\n>\\n> [, [[, arping, ash, awk, awx, basename, bunzip2, bzcat, cat, chgrp, chmod, chown, chroot, clear, cp, crond, crontab, cut, date, df, dirname, dmesg, du, echo, egrep, env, expr, false, fgrep, find, free, getty, grep, gunzip, gzip, halt, head, hostid, hostname, httpd, id, ifconfig, init, insmod, ipkg, kill, killall, killall5, klogd, length, less, ln, lock, logger, login, logread, ls, lsmod, md5sum, mdev, mesg, mkdir, mkfifo, mknod, mktemp, mount, mv, nc, netmsg, netstat, nice, nslookup, passwd, pidof, ping, ping6, pivot_root, poweroff, printf, ps, pwd, rdate, reboot, renice, reset, rm, rmdir, rmmod, route, sed, seq, sh, sleep, sort, strings, stty, switch_root, sync, sysctl, syslogd, tail, tar, tee, telnet, test, time, top, touch, tr, traceroute, true, tty, udhcpc, umount, uname, uniq, uptime, vconfig, vi, watchdog, wc, wget, which, xargs, yes, zcat\\n\\n**cmdline**\\n\\n```\\ninit=/etc/preinit ubi.mtd=4,2048 ubi.block=0,0 root=/dev/ubiblk0_0 ro rootfstype=squashfs hwaddress=eth0,a0:98:05:0e:04:8e hwaddress=eth2,00:03:7F:0B:00:01 console=ttyS0,115200 mtdparts=comcertonand:256k(uboot),128k(env),128K(param),4M(kernel),20M(root),4M(ekernel),20M(eroot),16M(config),-(system) partno=M83263G fppmode=1\\n```\\n\\n**\u5185\u6838\u6A21\u5757**\\n\\n| Module    | Size   | Used by     |\\n| --------- | ------ | ----------- |\\n| wctdmc1k  | 30096  | 16          |\\n| dcra      | 8524   | 1 wctdmc1k  |\\n| dahdi     | 185948 | 17 wctdmc1k |\\n| krtpd     | 148520 | 0           |\\n| csmencaps | 14740  | 2           |\\n| led_key   | 2500   | 4           |\\n\\n- dahdi\\n  - wctdmc1k - OpenVox \u6A21\u62DF\u4FE1\u53F7\u5904\u7406\u6A21\u5757\\n    - WCTDMC1K \u8BBE\u5907\u9A71\u52A8 - Mindspeed \u5F00\u53D1\u7684\u82AF\u7247\u9A71\u52A8\\n  - dcra - opvx_dcra - Access Dahdi Channel Registers through procfs\\n- csmencaps - \u5E94\u8BE5\u662F FX \u5904\u7406\u76F8\u5173\u6A21\u5757\\n- led_key - \u5E94\u8BE5\u662F\u9A71\u52A8\u9762\u677F led \u7684\\n- krtpd - Kernel RTP proxy for Asterisk - openvox \u5F00\u53D1\\n  - \u7C7B\u4F3C\u529F\u80FD\u5F00\u6E90 [sipwise/rtpengine](https://github.com/sipwise/rtpengine)\\n\\n```\\nfilename:       /lib/modules/2.6.33.5/dcra.ko\\nlicense:        GPL v2\\nalias:          opvx_dcra\\ndescription:    Access Dahdi Channel Registers through procfs\\nparmtype:       maxchan:int\\nparmtype:       debug:int\\ndepends:\\nvermagic:       2.6.33.5 mod_unload ARMv6\\n```\\n\\n**\u4E3B\u8981\u7528\u6237\u8FDB\u7A0B**\\n\\n| proc                                                | desc            |\\n| --------------------------------------------------- | --------------- |\\n| /bin/php /my_tools/keeper                           |\\n| /bin/php /my_tools/logfile_monitor                  |\\n| /my_tools/checkasteriskstat                         |\\n| /my_tools/ntpclient                                 | \u65F6\u95F4\u540C\u6B65        |\\n| /my_tools/resetkey                                  |\\n| /my_tools/sys_restore                               |\\n| /my_tools/watchdog                                  |\\n| /usr/sbin/crond                                     | \u5B9A\u65F6\u4EFB\u52A1        |\\n| /webservice/service                                 |\\n| asterisk -g                                         | asterisk \u4E3B\u8FDB\u7A0B |\\n| dropbear -p 12345                                   | SSH \u5B88\u62A4\u8FDB\u7A0B    |\\n| lighttpd -f /etc/lighttpd.conf -m /usr/lib/lighttpd | Web \u670D\u52A1        |\\n\\n### \u7CFB\u7EDF\u76EE\u5F55\\n\\n- /www -> /tmp/web/www\\n- /tmp/web/www - cgi-bin css images index.html js lang - \u7BA1\u7406\u5E94\u7528\\n- /data/\\n  - info/\\n  - log/\\n    - cdr.db - SQLite \u901A\u8BDD\u8BB0\u5F55\\n    - sys-log - \u7CFB\u7EDF\u65E5\u5FD7\\n    - update.txt - \u66F4\u65B0\u65E5\u5FD7\\n  - sms/\\n- /my_tools/ - \u7CFB\u7EDF\u5DE5\u5177\\n- /webservice/service - \u670D\u52A1\\n- /version\\n  - version - \u7CFB\u7EDF\u7248\u672C\\n  - build_time - \u6784\u5EFA\u65F6\u95F4\\n  - cfg_ver_list - \u914D\u7F6E\u7248\u672C - \u5185\u5BB9 `1.1.10`\\n  - def_cfg.tar.gz - asterisk \u914D\u7F6E\u5907\u4EFD\\n  - openvpn.sample_configs.tar.gz\\n  - sip_bendpoints.sample_configs.tar.gz\\n\\n**\u7CFB\u7EDF\u6302\u8F7D**\\n\\n| dev            | size   | path          | fstype           |\\n| -------------- | ------ | ------------- | ---------------- |\\n| /dev/ubiblk0_0 | 16.1M  | /             | rootfs, squashfs |\\n| none           | 57.5M  | /tmp          | tmpfs            |\\n| tmpfs          | 512.0k | /dev          | tmpfs            |\\n| /dev/mtdblock7 | 16.0M  | /etc/asterisk | jffs2            |\\n| /dev/mtdblock8 | 63.5M  | /data         | jffs2            |\\n\\n**mtd \u5206\u533A**\\n\\n| mtd  | fs    | range                         | name    | size   | mount         |\\n| ---- | ----- | ----------------------------- | ------- | ------ | ------------- |\\n| mtd0 |       | 0x000000000000-0x000000040000 | uboot   | 256k   |\\n| mtd1 |       | 0x000000040000-0x000000060000 | env     | 128k   |\\n| mtd2 |       | 0x000000060000-0x000000080000 | param   | 128K   |\\n| mtd3 |       | 0x000000080000-0x000000480000 | kernel  | 4M     |\\n| mtd4 | ubi0  | 0x000000480000-0x000001880000 | root    | 20MB   | /             |\\n| mtd5 |       | 0x000001880000-0x000001c80000 | ekernel | 4M     |\\n| mtd6 |       | 0x000001c80000-0x000003080000 | eroot   | 20M    |\\n| mtd7 | jffs2 | 0x000003080000-0x000004080000 | config  | 16M    | /etc/asterisk |\\n| mtd8 | jffs2 | 0x000004080000-0x000008000000 | system  | 63.5MB | /data         |\\n\\n**v1.1.23**\\n\\n\u7248\u672C\u53D8\u5316\u5E95\u5C42\u7CFB\u7EDF\u548C\u8F6F\u4EF6\u5747\u65E0\u53D8\u5316\uFF0C\u53D8\u5316\u7684\u4E3B\u8981\u662F php \u4EE3\u7801\u548C\u90E8\u5206\u914D\u7F6E\u3002\\n\\n| -        | -                                                                      |\\n| -------- | ---------------------------------------------------------------------- |\\n| uname -a | Linux General 2.6.33.5 #23 Mon Oct 14 17:12:50 CST 2019 armv6l unknown |\\n\\n### \u5B89\u88C5\u5305\\n\\n> ipkg list\\n\\n| pkg                       | ver                             |\\n| ------------------------- | ------------------------------- |\\n| base-files-comcerto1000   | 14-unknown                      |\\n| busybox                   | 1.4.2-1                         |\\n| cmm                       | 7.00-5                          |\\n| cyclesoak                 | none-1                          |\\n| dropbear                  | 0.49-1                          |\\n| ethtool                   | 3-0                             |\\n| hotplug2                  | 0.9-1                           |\\n| ip                        | 2.6.23-1                        |\\n| kernel                    | 2.6.33.5-comcerto1000-1         |\\n| kmod-csme                 | 2.6.33.5+2.14.0-comcerto1000-1  |\\n| kmod-fci                  | 2.6.33.5+7.00-comcerto1000-1    |\\n| kmod-fpp-csme             | 2.6.33.5+2.14.0-comcerto1000-1  |\\n| kmod-fpp-driver           | 2.6.33.5-comcerto1000-1         |\\n| kmod-ipt-conntrack        | 2.6.33.5-comcerto1000-1         |\\n| kmod-ipt-core             | 2.6.33.5-comcerto1000-1         |\\n| kmod-matisse              | 1.00-0                          |\\n| kmod-nf-conntrack-netlink | 2.6.33.5-comcerto1000-1         |\\n| kmod-nfnetlink            | 2.6.33.5-comcerto1000-1         |\\n| ldd                       | 14                              |\\n| libc                      | 2.7-14                          |\\n| libcli                    | 1.9.3-1                         |\\n| libgcc                    | 4.1.2-14                        |\\n| libgdbm                   | 1.8.3-0                         |\\n| libgmp                    | 4.2.1-1                         |\\n| libiptc                   | 1.4.7-1                         |\\n| libncurses                | 5.2-8                           |\\n| libnfconntrack            | 0.0.100                         |\\n| libnfnetlink              | 1.0.0                           |\\n| libopenssl                | 0.9.8q-1                        |\\n| libpcap                   | 1.1.1-2                         |\\n| libpopt                   | 1.7-4                           |\\n| libpthread                | 2.7-14                          |\\n| librt                     | 2.7-14                          |\\n| libstdcpp                 | 4.1.2-14                        |\\n| libxtables                | 1.4.7-1                         |\\n| msp-firmware              | 2.6.33.5+3.00.11-comcerto1000-1 |\\n| mtd                       | 5                               |\\n| ntpclient                 | 2003_194-2                      |\\n| openssl-util              | 0.9.8q-1                        |\\n| ppp                       | 2.4.3-7                         |\\n| ppp-mod-pppoe             | 2.4.3-7                         |\\n| rp-pppoe-client           | 3.8-1                           |\\n| udevtrigger               | 106-1                           |\\n| vapi                      | 2.14.0                          |\\n| zlib                      | 1.2.3-3                         |\\n\\n**/etc/ipkg.conf**\\n\\n```\\n/etc/ipkg.conf\\nsrc snapshots http://openwrt.org/downloads/snapshots/$S/packages\\ndest root /\\ndest ram /tmp\\n```\\n\\n### \u7CFB\u7EDF\u5DE5\u5177/my_tools\\n\\n| name                 | type     | desc                                            |\\n| -------------------- | -------- | ----------------------------------------------- |\\n| add_syslog           | shell    | log \u5230 syslog                                   |\\n| addkey_client.sh     | shell    |\\n| addkey_server.sh     | shell    |\\n| astmanproxy          |          | Asterisk Manager Proxy                          |\\n| checkAsteriskProc.sh | shell    | \u68C0\u6D4B\u5E76\u542F\u52A8 dahdi \u548C asterisk                    |\\n| checkCapture.sh      | shell    | dahdi \u505C\u6B62 dump \u7ED9\u5B9A chanid                     |\\n| checkStartFinish.sh  | shell    | sleep 1000s \u91CD\u542F                                |\\n| checkasteriskstat    |\\n| cluster_mode         | php      | \u914D\u7F6E\u96C6\u7FA4\u6A21\u5F0F - master, slave, standalone        |\\n| cluster_slave        |          | slave \u5E94\u7528                                      |\\n| cpuusage             |          | CPU \u4F7F\u7528\u60C5\u51B5 - \u7C7B\u4F3C vmstat                      |\\n| eth_server.conf      |          |\\n| fetch                |          | \u89E3\u5BC6\u56FA\u4EF6                                        |\\n| get_backport         |\\n| gwping               |          | eth ping \u5BA2\u6237\u7AEF                                 |\\n| gwpingd              |          | eth_server - eth_server.conf \u4E3A\u914D\u7F6E\u6587\u4EF6         |\\n| if_monitor           |          |\\n| keeper               |          | \u4FDD\u6301\u8FDB\u7A0B\u5B58\u5728 - \u7C7B\u4F3C supervisor                  |\\n| krtpd_cli            |\\n| led_key.ko           | \u5185\u6838\u6A21\u5757 |\\n| logfile_monitor      | php      | \u65E5\u5FD7\u76D1\u63A7                                        |\\n| lstast               |\\n| net_tool             |          | \u83B7\u53D6\u7F51\u5361\u4FE1\u606F                                    |\\n| ntpclient            |          | NTP \u5BA2\u6237\u7AEF                                      |\\n| play_all_led         |          | \u6240\u6709 LED \u4EAE                                     |\\n| process_cdr          |          | CDR \u5904\u7406                                        |\\n| readDeviceID         |\\n| resetkey             |\\n| restore_cfg_file     |          | \u6062\u590D asterisk \u914D\u7F6E\u6587\u4EF6                          |\\n| safe_append_to_file  |\\n| safe_reboot          | shell    | reboot                                          |\\n| set_busytone.sh      | shell    | fxomon.conf busytone \u8BBE\u7F6E                       |\\n| set_config           |          | \u914D\u7F6E\u6587\u4EF6\u64CD\u4F5C                                    |\\n| set_default          |\\n| set_registers.sh     | shell    | \u6CE8\u518C dcra                                       |\\n| sys_restore          |\\n| unpack.sh            | shell    | \u7528\u4E8E\u89E3\u538B\u56FA\u4EF6 - unzip, md5 checmsum, \u89E3\u5BC6, unzip |\\n| watchdog             |\\n| web_language_init    | php      | \u521D\u59CB\u5316 web \u7684\u8BED\u8A00                               |\\n\\n- astmanproxy\\n  - [davetroy/astmanproxy](https://github.com/davetroy/astmanproxy)\\n\\n```bash\\n# \u56FA\u4EF6\u89E3\u5BC6 - \u7C7B\u4F3C fetch\\nopenssl enc -aes-256-cbc -d -in firmware.img -pass pass:O7r8yGv0cdlNM4lQ -out firmware.tar.gz\\n\\n# \u83B7\u53D6\u914D\u7F6E\\n/my_tools/set_config /etc/asterisk/gw/web_server.conf get option_value general port 2\\n```\\n\\n## \u56FA\u4EF6\\n\\n\u5B98\u7F51\u63D0\u4F9B\u56FA\u4EF6\u4E0B\u8F7D https://www.openvox.cn/pub/firmwares , Web \u754C\u9762\u652F\u6301\u4E0A\u4F20\u6216\u5728\u7EBF\u66F4\u65B0\u3002\\n\\n\u56FA\u4EF6\u66F4\u65B0\u4E0A\u4F20\u903B\u8F91\u4F4D\u4E8E /www/cgi-bin/php/system-tools.php \u3002\\n\u56FA\u4EF6\u51C6\u5907\u597D\u540E\u901A\u8FC7 /my_tools/unpack.sh \u89E3\u538B\u5347\u7EA7\u3002\\n\\n**\u56FA\u4EF6\u683C\u5F0F**\\n\\n- AnalogGateway-current.bin -> tar.gz\\n  - firmware/AnalogGateway-1.1.20.img.md5\\n  - firmware/AnalogGateway-1.1.20.img - openssl enc\'d data with salted password\\n- AnalogGateway-1.1.20.img - \u89E3\u5BC6 -> tar.gz\\n  - AnalogGateway.img - \u5E94\u8BE5\u4E3A\u7CFB\u7EDF\u955C\u50CF\\n  - key - AnalogGateway.img \u7684 md5 checksum\\n  - u-boot.bin - bootloader\\n  - upgrade.sh - \u5347\u7EA7\u811A\u672C\\n\\n```bash\\n# \u4E0B\u8F7D\\ncurl -O https://www.openvox.cn/pub/firmwares/Analog%20Gateway/AnalogGateway-current.bin\\n# \u56FA\u4EF6\u4E3A tar.gz\\ntar zxvf AnalogGateway-current.bin\\ncd firmware\\n# \u56FA\u4EF6\u7ECF\u8FC7 openssl \u52A0\u5BC6 - \u89E3\u5BC6\u540E\u4E3A tar.tz\\nopenssl enc -aes-256-cbc -d -in AnalogGateway-*.img -pass pass:O7r8yGv0cdlNM4lQ -out AnalogGateway.tar.gz\\n\\n# \u89E3\u538B\u83B7\u53D6\u5B9E\u9645\u5185\u5BB9\\nmkdir firmware\\ntar zxvf AnalogGateway.tar.gz -C firmware\\n```\\n\\n**\u56FA\u4EF6\u5347\u7EA7**\\n\\n\u56FA\u4EF6\u5347\u7EA7\u4F7F\u7528 openvox \u5185\u7F6E\u7684\u81EA\u5B9A\u4E49\u5DE5\u5177 /usr/bin/auto_update\uFF0C\u4E3B\u8981\u6D89\u53CA\u64CD\u4F5C mtd\u3002\\n\\n```bash\\n# \\b-i 1 - \u4F7F\u7528 ubiblk\\nauto_update -i 1\\n# -b \u5347\u7EA7 ubook\\nauto_update -b u-boot.bin\\n# -f \u66F4\u65B0\u6587\u4EF6\uFF0C -u \u5347\u7EA7\u7CFB\u7EDF\\nauto_update -u -f AnalogGateway.img\\n```\\n\\n## \u96C6\u7FA4\u6A21\u5F0F\\n\\n\u8FD0\u884C\u6A21\u5F0F\u901A\u8FC7 /my_tools/cluster_mode \u914D\u7F6E\u3002\\n\\n**slave extension**\\n\\n```ini\\n#include sip_general.conf\\n#include sip_endpoints.conf\\n#include sip_slave.conf\\n\\n#include extensions_macro.conf\\n#include extensions_slave.conf\\n#include extensions_dialmatchingrules.conf\\n\\n# ext = slave_password+index\\n[fxs-<ext>-<master_ip>]\\nexten => #00,1,playback(Ext_number)\\nexten => #00,n,agi(getsipbinding.sh)\\nexten => #00,n,Wait(1)\\nexten => #00,n,Hangup()\\nexten => s,1,Dial(SIP/$sip_extension-$slave_masterip)\\nexten => s,n,Hangup()\\n\\nexten => *1*2*3*4,1,agi(factoryreset.sh)\\nexten => *1*2*3*4,n,Hangup()\\nexten => **,1,playback(IP_address)\\nexten => **,n,agi(geteth0ip.sh)\\n\\n[sip-$sip_extension]\\nexten => _X.,1,GotoIf($[\\"${SIP_HEADER(X-Best-Codec)}\\" = \\"\\"]?dial)\\nexten => _X.,n,Set(SIP_CODEC=${SIP_HEADER(X-Best-Codec)})\\nexten => _X.,n(dial),Dial(dahdi/${i}r1/${EXTEN},$DIALTIMEOUT)\\nexten => _X.,n,Hangup()\\n```\\n\\n**master extension**\\n\\n```ini\\n#include sip_general.conf\\n#include sip_endpoints.conf\\n#include sip_master.conf\\n\\n#include extensions_macro.conf\\n#include extensions_fxs.conf\\n#include extensions_master.conf\\n#include extensions_internal.conf\\n#include extensions_routing.conf\\n;#include extensions_sipdef.conf\\n#include extensions_dialmatchingrules.conf\\n```\\n\\n## VS_USB-400\\n\\n- \u65E0\u7EBF\u7F51\u5173\\n\\n### \u7CFB\u7EDF\u73AF\u5883\\n\\n- \u8F6F\u4EF6\u7248\u672C 2.1.22\\n- \u786C\u4EF6\u7248\u672C 1.0\\n- \u4E00\u4E2A\u4E3B\u63A7\uFF0C\u591A\u4E2A\u6A21\u5757\uFF0C\u6A21\u5757\u4E0D\u5E26 CPU\\n- \u65E0\u7EBF\u6A21\u5757\u4E3A \u9AD8\u901A Gobi \u65E0\u7EBF\u5BBD\u5E26\u82AF\u7247\u6280\u672F - GobiNet - USB \u9A71\u52A8\\n- \u901A\u9053 STM32, \u5E95\u677F MCU STM8\\n- \u8BE5\u7248\u672C\u5305\u542B frpc - \u5141\u8BB8 openvox cloud \u5EFA\u7ACB\u94FE\u63A5 - \u6620\u5C04\u4E86 ssh \u548C web\\n\\n> \u8BE5\u7248\u672C\u6700\u5927\u7684\u533A\u522B\u662F\u6A21\u5757\u4E0D\u5728\u662F\u72EC\u7ACB\u7CFB\u7EDF\u3002\\n\\n| HW     | Desc                                   |\\n| ------ | -------------------------------------- |\\n| CPU    | Intel(R) Atom(TM) CPU Z3735G @ 1.33GHz |\\n| Memory | 1 G                                    |\\n| Disk   | 16 G Flash                             |\\n\\n| SW            | Desc                                                                                        |\\n| ------------- | ------------------------------------------------------------------------------------------- |\\n| Debian        | 8                                                                                           |\\n| uname -a      | Linux Wireless-Gateway 4.19.81 #7 SMP Thu Feb 13 08:24:02 CST 2020 i686 i386                |\\n| Busybox       | v1.22.1                                                                                     |\\n| Asterisk      | 1.8.20.0                                                                                    |\\n| /proc/cmdline | BOOT_IMAGE=/vmlinuz ro root=LABEL=kernel1 intel_pstate=disable quiet console=ttyS0,115200n8 |\\n\\n**/proc/mtrr**\\n\\n```\\nreg00: base=0x0ffd00000 ( 4093MB), size=    4MB, count=1: write-protect\\nreg01: base=0x000000000 (    0MB), size= 1024MB, count=1: write-back\\nreg02: base=0x03e000000 (  992MB), size=   32MB, count=1: uncachable\\nreg03: base=0x03d000000 (  976MB), size=   16MB, count=1: uncachable\\nreg04: base=0x03ce00000 (  974MB), size=    2MB, count=1: uncachable\\nreg05: base=0x03c800000 (  968MB), size=    4MB, count=1: uncachable\\n```\\n\\n**/proc/mounts**\\n\\n| dev            | size   | path     | fs       |\\n| -------------- | ------ | -------- | -------- |\\n| /dev/mmcblk0p6 | 487.9M | /etc/cfg | ext4     |\\n| /dev/mmcblk0p7 | 487.9M | /data    | ext4     |\\n| /dev/mmcblk0p2 | 92.8M  | /boot    | ext4     |\\n| /dev/mmcblk0p4 | 28.9M  | /gateway | squashfs |\\n\\n**modules**\\n\\n- GobiNet - \u9A71\u52A8\u65E0\u7EBF\u6A21\u5757\\n- usb_wwan\\n- cdc_acm\\n- ch341\\n- usbserial - \u4F9D\u8D56 USB \u4E32\u53E3\\n- cdc_ether\\n- usbnet\\n- r8152\\n- snd_pcm\\n- snd_timer\\n- i2c_hid\\n- i2c_algo_bit\\n- soundcore\\n- sdhci_acpi\\n- button\\n\\n### \u7CFB\u7EDF\u76EE\u5F55\\n\\n- /my_tools -> /gateway/my_tools\\n- /sound -> /gateway/sound\\n- /webservice -> /gateway/webservice\\n- /version -> /gateway/version\\n- /www -> /gateway/www\\n- /conf\\n- /data\\n  - log/\\n    - cdr.db\\n    - smsinbox.db\\n    - smsoutbox.db\\n- /etc\\n  - cfg/ - Asteris \u914D\u7F6E - \u72EC\u7ACB\u6302\u8F7D - \u53EF\u5907\u4EFD\\n    - gw/ - \u7F51\u5173\u914D\u7F6E\\n      - n2n/ - 2 \u5C42 Mesh \u7EC4\u7F51\\n      - sim840w.conf - SIM \u6A21\u5757\u914D\u7F6E - AT \u547D\u4EE4\u4E4B\u7C7B\\n      - sim6320.conf - SIM \u6A21\u5757\u914D\u7F6E\\n      - uc15.conf - SIM \u6A21\u5757\u914D\u7F6E - UC15\\n      - sms.conf - \u77ED\u4FE1\u914D\u7F6E\\n    - cloud/ - \u5E94\u8BE5\u662F openvox \u4E91\u5E73\u53F0\u4E4B\u7C7B\u7684 - https://cloud.openvox.com.cn/\\n      - cloud.conf\\n      - frpc.ini - openvox \u8BBF\u95EE ssh \u548C web \u7684\u540E\u95E8\\n  - udev/rules.d/\\n    - gobinet.rules - GobiNet \u6620\u5C04 - `/sys/class/net/gobinet*`\\n    - internet.rules - \u6A21\u5757\u5185\u90E8 usbnet \u6620\u5C04 - \u4F1A symlink \u5230 `/dev/opvx/`\\n- /tmp\\n  - hw_info.cfg - \u786C\u4EF6\u914D\u7F6E - \u7531\u4E8E\u751F\u6210 asterisk gw_gsm.conf \u548C extra-channels.conf \u914D\u7F6E\\n- /usr/sbin/cloudMain\\n- /usr/sbin/cloudExternal\\n- /usr/sbin/cloudNat\\n- /gateway - \u5B8C\u6574\u7F51\u5173\u7CFB\u7EDF - \u72EC\u7ACB\u6302\u8F7D\\n  - www/ - PHP \u7F51\u7AD9\\n  - my_tools/ - \u5DE5\u5177\u96C6\\n\\n## Asterisk\\n\\n> \u4E0D\u7BA1\u4EC0\u4E48\u7248\u672C\u7684\u7F51\u5173\uFF0CAsterisk \u7684\u7248\u672C\u4F3C\u4E4E\u90FD\u6CA1\u6709\u53D8\u8FC7 - 1.8.20.0\\n\\n| mod        | desc                                   |\\n| ---------- | -------------------------------------- |\\n| chan_extra | GSM/CDMA Telephony Driver FOR Asterisk |\\n\\n- chan_extra\\n  - OpenVox \u5F00\u53D1\u7684\u65E0\u7EBF\u6A21\u5757 - GSM, CDMA \u548C\u65B0\u7684 LTE \u5747\u4F7F\u7528\u8BE5\u6A21\u5757\\n  - opvxg4xx \u9A71\u52A8\u63D0\u4F9B\u652F\u6301\\n  - \u914D\u7F6E\u6587\u4EF6 extra-channels.conf, chan_extra.conf\\n  - GSM, CDMA \u57FA\u4E8E DAHDi\\n  - 4G LTE \u57FA\u4E8E GobiNet \u5185\u6838\u9A71\u52A8\\n  - \u9A71\u52A8\u4E0B\u8F7D https://www.openvox.cn/pub/misc/GSM/\\n\\n```bash\\nmodprobe opvxg4xx\\n```\\n\\n```bash\\n# Asterisk \u547D\u4EE4\\ngsm show spans\\n```"},{"id":"fix-init-script","metadata":{"permalink":"/story/fix-init-script","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-02-27-fix-init-script.md","source":"@site/../story/2021/2021-02-27-fix-init-script.md","title":"\u8BB0\u5F55\u4E00\u6B21\u4FEE\u590D init \u811A\u672C\u7684\u7ECF\u5386","description":"\u95EE\u9898\u4EA7\u751F\u8FC7\u7A0B","date":"2021-02-27T00:00:00.000Z","tags":[{"inline":true,"label":"AlpineLinux","permalink":"/story/tags/alpine-linux"},{"inline":true,"label":"\u8FD0\u7EF4","permalink":"/story/tags/\u8FD0\u7EF4"}],"readingTime":2.44,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"fix-init-script","title":"\u8BB0\u5F55\u4E00\u6B21\u4FEE\u590D init \u811A\u672C\u7684\u7ECF\u5386","tags":["AlpineLinux","\u8FD0\u7EF4"]},"unlisted":false,"prevItem":{"title":"OpenVox VoxStack \u7F51\u5173\u5206\u6790","permalink":"/story/openvox-gw-inside"},"nextItem":{"title":"AlpineLinux \u5B89\u88C5 Xfce \u684C\u9762","permalink":"/story/alpinelinux-setup-xfce"}},"content":"## \u95EE\u9898\u4EA7\u751F\u8FC7\u7A0B\\n\\n\u7531\u4E8E\u5B9A\u5236\u5316\u8FC7 `/usr/share/mkinitfs/initramfs-init` \u811A\u672C\uFF0C\u5728\u5347\u7EA7\u5927\u7248\u672C\u540E\uFF0C\u8BE5\u6587\u4EF6\u88AB\u8986\u76D6\uFF0C\u5BFC\u81F4\u751F\u6210\u7684 initramfs \u65E0\u6CD5\u542F\u52A8\u7CFB\u7EDF\u3002\\n\\n\u6B63\u5E38\u60C5\u51B5\u5347\u7EA7 `/etc` \u4E0B\u4F1A\u4EA7\u751F `.apk-new` \u540E\u7F00\u6587\u4EF6\u907F\u514D\u5347\u7EA7\u8986\u76D6\uFF0C\u4F46\u7531\u4E8E\u662F `/usr/share` \u4E0B\u6587\u4EF6\uFF0C\u56E0\u6B64\u5BFC\u81F4\u8986\u76D6\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u96BE\u70B9\\n\\n- \u7CFB\u7EDF\u4F7F\u7528\u9759\u6001 IP\\n  - \u9700\u8981\u63D0\u4F9B\u76F8\u540C IP \u6BB5\u5730\u5740\u624D\u80FD\u8FDB\u884C SSH\\n  - \u5047\u8BBE IP \u4E3A 192.168.66.99/22\\n- \u7CFB\u7EDF\u5728\u786C\u76D8\u4E0A - M2\\n  - \u65E0\u6CD5\u76F4\u63A5\u5728\u5176\u4ED6\u7CFB\u7EDF\u4E0A\u8FDB\u884C\u4FEE\u590D\\n  - \u901A\u8FC7\u63D0\u4F9B U \u76D8 \u7CFB\u7EDF\u5728\u539F\u5730\u6062\u590D\\n- root \u76D8\u6709 luks \u52A0\u5BC6\\n  - \u4F9D\u8D56\u786C\u4EF6\u73AF\u5883\\n  - QEMU \u542F\u52A8\u65E0\u6CD5\u6A21\u62DF\u76F8\u540C\u73AF\u5883\\n  - \u9700\u8981\u624B\u52A8\u8F93\u5165\u5BC6\u94A5\u8FDB\u884C\u6302\u8F7D\\n- root \u5BC6\u7801\u4E3A UUID\\n  - \u6781\u5176\u96BE\u8F93\u5165\\n  - \u4E14\u9700\u8981\u8F93\u5165\u591A\u6B21\uFF0C\u56E0\u6B64\u9009\u62E9\u7F51\u7EDC\u6253\u901A\u901A\u8FC7 SSH \u767B\u9646\\n\\n## \u64CD\u4F5C\u8FC7\u7A0B\\n\\n\x3c!-- more --\x3e\\n\\n### \u51C6\u5907\u865A\u62DF\u673A\u548C\u73AF\u5883\\n\\n```bash\\n# QEMU \u865A\u62DF\u673A\\napk add qemu-system-x86_64\\n\\n# \u6865\u63A5\u6A21\u62DF\u7F51\u7EDC\u73AF\u5883 - \u4F7F\u7528\u76F8\u540C IP \u6BB5\u8BBF\u95EE\\nip li add vmbr0 type bridge\\nip li set vmbr0 up\\n# \u6865\u63A5\u4EE5\u4FBF\u4E8E\u8BBF\u95EE 192.168.66.99/22\\nip addr add 192.168.66.1/22 dev vmbr0\\n\\n# \u5141\u8BB8 qemu \u6865\u63A5\u7F51\u5361\\necho \'allow vmbr0\' >> /etc/qemu/bridge.conf\\n```\\n\\n### \u542F\u52A8\u7CFB\u7EDF\\n\\n```bash\\n# \u63D0\u4F9B vnc \u65B9\u4FBF\u67E5\u770B\\n# -curses \u65B9\u4FBF\u8F93\u5165 luks \u5BC6\u94A5\\n# \u6865\u63A5 vmbr0\\nqemu-system-x86_64 -accel kvm -m 2G \\\\\\n  -vnc 0.0.0.0:1 /dev/sda \\\\\\n  -netdev bridge,br=vmbr0,id=n1 -device virtio-net,netdev=n1 \\\\\\n  -curses\\n```\\n\\n\u542F\u52A8\u540E\u65E0\u6CD5\u8FDB\u5165\u7CFB\u7EDF\uFF0C/sysroot \u6302\u8F7D\u5931\u8D25\uFF0C\u51FA\u73B0\u4FEE\u590D shell\\n\\n```\\nmount: mounting /dev/sda2 on /sysroot failed: Invalid argument\\nMounting root failed.\\ninitramfs emergency recovery shell launched. Type \'exit\' to continue boot\\nsh: can\'t access tty; job control turned off\\n/ #\\n```\\n\\n\u6B64\u65F6\u624B\u52A8\u6302\u8F7D /sysroot\\n\\n```bash\\ncryptsetup open /dev/sda2 cryptroot\\n# \u7C98\u8D34\u5BC6\u94A5\\n\\n# \u6302\u8F7D sysroot\\nmount /dev/mapper/cryptroot /sysroot\\n\\n# \u9000\u51FA shell \u6B63\u5E38\u8FDB\u5165\u7CFB\u7EDF\\nexit\\n```\\n\\n### \u4FEE\u590D init \u811A\u672C\\n\\n```bash\\n# \u5C06\u51C6\u5907\u597D\u7684 init \u811A\u672C\u76F4\u63A5\u8986\u76D6\\nrsync --rsync-path=\'sudo rsync\' --no-owner initramfs-init admin@192.168.66.99:/usr/share/mkinitfs/initramfs-init\\n\\n# \u8FDB\u5165\u865A\u62DF\u673A\\nssh admin@192.168.66.99\\n\\n# \u4ECE\u65B0\u751F\u6210 initramfs\\nmkinitfs\\n\\n# \u4E3A\u5B89\u5168\u8D77\u89C1\uFF0C\u9A8C\u8BC1\u811A\u672C\u6B63\u786E\\nmkdir -p /tmp/init\\ncd /tmp/init\\n# \u89E3\u538B\u5230\u5F53\u524D\u76EE\u5F55\\nzcat < /boot/initramfs-lts | cpio -idmv\\n# \u786E\u4FDD\u662F\u6B63\u786E\u7684\u811A\u672C\\ncat init\\n```\\n\\n### \u907F\u514D\u518D\u6B21\u51FA\u73B0\u95EE\u9898\\n\\n/etc \u4E0B\u914D\u7F6E\u4E0D\u4F1A\u88AB\u8986\u76D6\uFF0Clbu \u8FD8\u80FD\u5907\u4EFD\uFF0C\u56E0\u6B64\u5C06 init \u811A\u672C\u653E\u5230 etc\uFF0C\u4FEE\u6539 mkinitfs \u914D\u7F6E\u6307\u5411\u671F\u671B\u7684\u811A\u672C\u3002\\n\\n[mkinitfs](https://github.com/alpinelinux/mkinitfs/blob/master/mkinitfs.in) \u7684\u914D\u7F6E\u6587\u4EF6\u4F4D\u4E8E `/etc/mkinitfs/mkinitfs.conf`, \u9ED8\u8BA4\u914D\u7F6E features, \u8BE5\u6587\u4EF6\u4F1A\u88AB\u811A\u672C\u76F4\u63A5 source ([mkinitfs.in#L237](https://github.com/alpinelinux/mkinitfs/blob/a4d6120aa949cdb6d18eb8241c4706f96685a359/mkinitfs.in#L237)), \u4ECE\u811A\u672C\u53EF\u770B\u51FA\u914D\u7F6E\u53D8\u91CF\u4E3A init.\\n\\n```bash\\ncp /usr/share/mkinitfs/initramfs-init /etc/mkinitfs/initramfs-init\\necho \\"init=/etc/mkinitfs/initramfs-init\\" >> /etc/mkinitfs/mkinitfs.conf\\n```\\n\\n## \u603B\u7ED3\\n\\n\u4E0D\u8981\u4FEE\u6539 `/usr/share` \u4E0B\u7684\u9ED8\u8BA4\u914D\u7F6E\uFF0C\u5C06\u914D\u7F6E\u653E\u5230 `/etc` \u4E0B\uFF0C\u5B89\u5168\u53EF\u9760\uFF0C\u8FD8\u53EF\u4EE5\u4F7F\u7528 lbu \u5907\u4EFD\u3002"},{"id":"alpinelinux-setup-xfce","metadata":{"permalink":"/story/alpinelinux-setup-xfce","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-02-26-alpinelinux-setup-xfce.md","source":"@site/../story/2021/2021-02-26-alpinelinux-setup-xfce.md","title":"AlpineLinux \u5B89\u88C5 Xfce \u684C\u9762","description":"\u5047\u8BBE\u5DF2\u7ECF\u6709\u4E00\u4E2A\u57FA\u7840\u53EF\u7528\u7684 AlpineLinux, \u5982\u679C\u6CA1\u6709\u53EF\u524D\u5F80 wenerme/alpine-image \u4E0B\u8F7D\u6216\u81EA\u884C\u5236\u4F5C","date":"2021-02-26T00:00:00.000Z","tags":[{"inline":true,"label":"Alpine","permalink":"/story/tags/alpine"},{"inline":true,"label":"Desktop","permalink":"/story/tags/desktop"},{"inline":true,"label":"Xfce","permalink":"/story/tags/xfce"}],"readingTime":4.32,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"alpinelinux-setup-xfce","title":"AlpineLinux \u5B89\u88C5 Xfce \u684C\u9762","tags":["Alpine","Desktop","Xfce"]},"unlisted":false,"prevItem":{"title":"\u8BB0\u5F55\u4E00\u6B21\u4FEE\u590D init \u811A\u672C\u7684\u7ECF\u5386","permalink":"/story/fix-init-script"},"nextItem":{"title":"\u4E3A\u4EC0\u4E48\u9700\u8981 GraphQL","permalink":"/story/why-need-graphql"}},"content":"> \u5047\u8BBE\u5DF2\u7ECF\u6709\u4E00\u4E2A\u57FA\u7840\u53EF\u7528\u7684 AlpineLinux, \u5982\u679C\u6CA1\u6709\u53EF\u524D\u5F80 [wenerme/alpine-image](https://github.com/wenerme/alpine-image) \u4E0B\u8F7D\u6216\u81EA\u884C\u5236\u4F5C\\n\\n\x3c!-- more --\x3e\\n\\n## setup xorg\\n\\n\u5B89\u88C5 X server \u548C\u57FA\u7840\u786C\u4EF6\u9A71\u52A8\\n\\n```bash\\n# xfce + xorg\\nsetup-xorg-base xfce4 xfce4-terminal dbus-x11 sudo pm-utils\\n\\nservice dbus start\\nrc-update add dbus\\n\\n# xorg \u8F93\u5165\u8BBE\u5907\\n# apk add xf86-input-mouse xf86-input-keyboard kbd\\n# \u9ED8\u8BA4\u5305\u542B libinput\\n# \u5176\u4ED6 synaptics vmmouse wacom mtrack\\napk add xf86-input-libinput xf86-input-evdev kbd\\n\\n# Intel \u82AF\u7247\u96C6\u6210\u663E\u5361\\napk add xf86-video-intel\\n# AMD \u663E\u5361\\napk add xf86-video-amdgpu\\n# QEMU\\n# apk add xf86-video-qxl\\n# \u5982\u679C\u4EE5\u4E0A\u90FD\u4E0D\u652F\u6301\u5219\u8003\u8651\u4F7F\u7528 framebuffer\\n# https://pkgs.alpinelinux.org/packages?name=xf86-video-*\\n# apk add xf86-video-fbdev\\n```\\n\\n\u6B64\u65F6\u5DF2\u7ECF\u53EF\u4EE5\u8FDB\u5165 xfce \u684C\u9762, \u6CA1\u6709\u767B\u9646\u754C\u9762, \u8FDB\u5165\u754C\u9762\u540E\u53EF\u53F3\u4E0A\u89D2\u9000\u51FA\u767B\u9646\u6216\u8005 `Ctrl+Alt+F1` \u6765\u5207\u6362\u56DE\u547D\u4EE4\u884C\u4F1A\u8BDD\u3002\\n\\n```bash\\n# \u901A\u8FC7 xorg \u63D0\u4F9B\u7684 startx \u542F\u52A8\\nstartx\\n# \u6216\u8005\u6307\u5B9A\u542F\u52A8 xfce4\\nstartxfce4\\n```\\n\\n## setup lightdm\\n\\n\u5B89\u88C5 lightdm \u540E\u53EF\u4EE5\u53EF\u4EE5\u901A\u8FC7\u8D26\u53F7\u5BC6\u7801\u767B\u9646, \u4E5F\u53EF\u4EE5\u8FDC\u7A0B VNC \u8FDB\u5165 xfce \u4F1A\u8BDD\u3002\\n\\n```bash\\napk add lightdm-gtk-greeter\\n\\n# \u6DFB\u52A0\u975E root \u7528\u6237 admin \u5BC6\u7801 admin - \u4E0D\u5C11\u5E94\u7528\u9700\u8981\u975E root \u7528\u6237\\nadduser -D admin\\necho \'admin:admin\' | chpasswd\\necho \'admin ALL=(ALL) NOPASSWD: ALL\' >> /etc/sudoers\\n\\n# \u5F00\u673A\u8FDB\u5165\u767B\u9646\u754C\u9762\\nrc-update add lightdm\\n# \u7ACB\u5373\u542F\u52A8 lightdm \u8FDB\u884C\u767B\u9646\\nservice lightdm start\\n```\\n\\n## setup xfce\\n\\n\u5B89\u88C5\u5E38\u7528\u7684\u5305\\n\\n```bash\\n# \u9ED8\u8BA4\u65E0\u6CD5\u663E\u793A\u4E2D\u6587\u5B57\u7B26\\napk add font-noto-cjk\\n\\n# \u5141\u8BB8\u975E root \u901A\u8FC7 fuse \u8BBF\u95EE\u8BBE\u5907\\napk add gvfs-fuse gvfs-smb\\nservice fuse start\\nrc-update add fuse\\n\\n# \u81EA\u52A8\u6302\u8F7D \u5916\u90E8\u8BBE\u5907\\napk add thunar-volman udisks2\\n# \u90E8\u5206\u8BBE\u5907\u9700\u8981\u989D\u5916\u7684\u5305\\n# gvfs-mtp - MTP - \u5A92\u4F53\u64AD\u653E\u5668\u548C\u79FB\u52A8\u8BBE\u5907\\n# gvfs-gphoto2 - PTP - \u76F8\u673A\u548C\u79FB\u52A8\u8BBE\u5907\\n# gvfs-afc - \u82F9\u679C\u79FB\u52A8\u8BBE\u5907\\n\\n# \u6587\u4EF6\u7BA1\u7406\u5668\u652F\u6301\u538B\u7F29\u548C\u89E3\u538B\\napk add thunar-archive-plugin\\napk add file-roller # thunar-archive-plugin \u652F\u6301\u7684\u7BA1\u7406\u5668\\n```\\n\\n\u5B89\u88C5\u4E86\u76F8\u5173\u63D2\u4EF6\u540E\u6700\u597D\u9000\u51FA\u4F1A\u8BDD\u91CD\u65B0\u767B\u9646\u786E\u4FDD\u751F\u6548\u3002\\n\\n## \u5E94\u7528\\n\\n```bash\\n# \u5C4F\u4FDD, \u4EFB\u52A1\u7BA1\u7406\u5668\\napk add xfce4-screensaver xfce4-taskmanager\\n\\n# \u8C37\u6B4C\u6D4F\u89C8\u5668 - \u4E5F\u53EF\u4EE5\u901A\u8FC7 flatpak \u5B89\u88C5\\napk add chromium\\n# \u706B\u72D0\u6D4F\u89C8\u5668\\n# apk add firefox-esr\\n```\\n\\n### flatpak\\n\\nLinux \u56E0\u4E3A\u53D1\u5E03\u7248\u592A\u5927\u4E86\uFF0C\u5E94\u7528\u5206\u53D1\u6BD4\u8F83\u6DF7\u4E71\uFF0C\u4E14\u4E0D\u5C11\u5E94\u7528\u5E76\u4E0D\u76F4\u63A5\u652F\u6301 musl\uFF0C\u4F7F\u7528 flatpak \u6253\u5305\u7684\u5E94\u7528\u53EF\u907F\u514D\u8FD9\u4E9B\u95EE\u9898\u3002\\n\\n```bash\\napk add flatpak xdg-user-dirs\\n# https://flathub.org/setup/Alpine\\nflatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo\\n\\n# \u5B89\u88C5\\nflatpak install flathub com.visualstudio.code\\n# \u542F\u52A8\\nflatpak run com.visualstudio.code\\n\\nflatpak install flathub org.chromium.Chromium\\n```\\n\\n**\u5E38\u7528\u5E94\u7528**\\n\\n| id                             | name        | \u7528\u9014     |\\n| ------------------------------ | ----------- | -------- |\\n| com.visualstudio.code          | VSC         | \u7F16\u8F91\u5668   |\\n| om.vscodium.codium             | Codium      | \u7F16\u8F91\u5668   |\\n| org.chromium.Chromium          | Chromium    | \u6D4F\u89C8\u5668   |\\n| org.mozilla.firefox            | Firefox     | \u6D4F\u89C8\u5668   |\\n| org.telegram.desktop           | Telegram    | \u5373\u65F6\u804A\u5929 |\\n| com.valvesoftware.Steam        | Steam       | \u6E38\u620F     |\\n| org.mozilla.Thunderbird        | Thunderbird | \u90AE\u4EF6     |\\n| org.filezillaproject.Filezilla | Filezilla   | \u6587\u4EF6     |\\n\\n### AppImage\\n\\n\u4E0D\u901A\u8FC7 flatpak \u9700\u8981\u5B89\u88C5\uFF0CAppImage \u662F\u5C01\u88C5\u597D\u7684\u4E00\u4F53\u5316\u5E94\u7528\uFF0C\u7C7B\u4F3C\u5BB9\u5668\uFF0C\u7C7B\u4F3C macOS \u5E94\u7528\u3002\\n\u4F46\u76EE\u524D\u7531\u4E8E glibc \u517C\u5BB9\u95EE\u9898 Alpine \u65E0\u6CD5\u8FD0\u884C AppImage \u53C2\u89C1 [AppImage/AppImageKit#1015](https://github.com/AppImage/AppImageKit/issues/1015)\u3002\\n\\n**\u5DF2\u77E5\u63D0\u4F9B AppImage \u7684\u5E94\u7528**\\n\\n- Jetbrain Toolbox\\n- Lens - Kubernetes IDE\\n\\n## \u5176\u4ED6\u670D\u52A1\\n\\n- xrdp - RDP \u670D\u52A1\u7AEF - \u652F\u6301 Windows \u76F4\u63A5\u8FDC\u7A0B\u767B\u9646\\n- gvncviewer - VNC \u5BA2\u6237\u7AEF\\n\\n# FAQ\\n\\n## xfce \u652F\u6301\u9AD8\u5206\u8FA8\u7387\\n\\n```bash\\n# \u4E24\u500D\u7F29\u653E\\n# Settings Manager > Appearance > Settings > Window Scaling\\nxfconf-query -c xsettings -p /Gdk/WindowScalingFactor -s 2\\n# \u8C03\u6574\u4E3B\u9898\u4E3A \u9ED8\u8BA4 xhdpi\\n# Settings Manager > Window Manager > Style\\nxfconf-query -c xfwm4 -p /general/theme -s Default-xhdpi\\n```\\n\\n## DISPLAY \u4FE1\u606F\\n\\n```bash\\napk add xrandr\\nDISPLAY=:0 xrandr\\n```\\n\\n## \u67E5\u770B\u5F53\u524D\u663E\u5361\u548C\u58F0\u5361\u4FE1\u606F\\n\\n```bash\\napk add inxi\\ninxi -AG\\n```\\n\\n## kernel: i915 0000:00:02.0: [drm] _ERROR_ CPU pipe A FIFO underrun\\n\\n\u5982\u679C\u8BE5\u9519\u8BEF\u5BFC\u81F4\u95EA\u70C1\u53EF\u6DFB\u52A0\u542F\u52A8\u53C2\u6570\u907F\u514D `i915.enable_psr=0`\\n\\n> [Intel graphics#Screen flickering](https://wiki.archlinux.org/index.php/Intel_graphics#Screen_flickering)\\n>\\n> \u53EF\u80FD\u7531\u4E8E Intel \u96C6\u6210\u663E\u5361\u7684\u8282\u80FD\u529F\u80FD\u5BFC\u81F4\\n\\n## VNC \u8FDC\u7A0B\u684C\u9762\\n\\n```bash\\napk add x11vnc\\n\\n# \u542F\u52A8\u670D\u52A1\u7AEF\u8BBF\u95EE\u5DF2\u6253\u5F00\u4F1A\u8BDD\\nx11vnc -display :0 -auth /var/run/lightdm/root/\\\\:0\\n# \u7136\u540E\u8BBF\u95EE vnc://<IP>:5900 \u5373\u53EF\\n\\n# \u4E0D\u9000\u51FA\\nx11vnc -display :0 -auth /var/run/lightdm/root/\\\\:0 --loop\\n\\n# \u8BBF\u95EE\u65F6\u521B\u5EFA\u65B0\u7684\u4F1A\u8BDD\\n# \u786E\u4FDD init \u80FD\u542F\u52A8\\necho \\"exec startxfce4\\" >> ~/.xinitrc\\napk add xvfb\\nx11vnc -ncache_cr -display :1 -auth /var/run/lightdm/root/\\\\:1 --create\\n\\n# \u4E0D\u8B66\u544A\u6CA1\u6709\u8BBE\u7F6E\u5BC6\u7801\\necho nopw >> ~/.x11vncrc\\n\\n# \u53EF\u8BBE\u7F6E\u4E3A\u5F00\u673A\u542F\u52A8\\n# x11vnc -create -xkb -noxrecord -noxfixes -noxdamage -display :0 -auth /var/run/lightdm/root/:0 -rfbauth /etc/x11vnc.pass -rfbport 5900\\n\\n# \u767B\u9646\u4E4B\u524D\u5F00\u542F VNC\\n# x11vnc -auth guess -display :0\\n```\\n\\n> \u5982\u679C\u670D\u52A1\u5E38\u5F00\uFF0C\u5EFA\u8BAE\u8BBE\u7F6E\u5BC6\u7801\\n\\n## KMS: DRM_IOCTL_MODE_CREATE_DUMB failed: Permission denied\\n\\n- DRM - Direct Rendering Manager\\n\\n## xrandr auto\\n\\n```bash\\nxrandr --auto\\n```\\n\\n```\\nxrandr: Output DP1 is not disconnected but has no modes\\nxrandr: Output HDMI2 is not disconnected but has no modes\\n```\\n\\n```bash\\nexport DISPLAY=:0\\nxrandr --query\\n```\\n\\n## kiskos\\n\\n```bash title=\\"~/.initrc\\"\\nxset -dpms     # Disable DPMS (Energy Star) features\\nxset s off     # Disable screen saver\\nxset s noblank # Don\'t blank the video device\\nexec chromium-browser --kiosk --no-first-run --no-sandbox \'https://wener.me\'\\n```\\n\\n# \u53C2\u8003\\n\\n- AlpineLinux [Xfce Setup](https://wiki.alpinelinux.org/wiki/Xfce_Setup)\\n- [HiDPI#Xfce](https://wiki.archlinux.org/index.php/HiDPI#Xfce)\\n- flatpak [\u5E94\u7528\u5217\u8868](https://flathub.org/apps)\\n- archlinux [x11vnc](https://wiki.archlinux.org/index.php/x11vnc)"},{"id":"why-need-graphql","metadata":{"permalink":"/story/why-need-graphql","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-01-16-why-need-graphql.md","source":"@site/../story/2021/2021-01-16-why-need-graphql.md","title":"\u4E3A\u4EC0\u4E48\u9700\u8981 GraphQL","description":"\u9879\u76EE\u5F00\u59CB\u65F6\u4EBA\u5458\u914D\u5907\u4E00\u822C\u6709\u51E0\u79CD\u60C5\u51B5","date":"2021-01-16T00:00:00.000Z","tags":[{"inline":true,"label":"\u5F00\u53D1","permalink":"/story/tags/\u5F00\u53D1"},{"inline":true,"label":"\u67B6\u6784","permalink":"/story/tags/\u67B6\u6784"},{"inline":true,"label":"GraphQL","permalink":"/story/tags/graph-ql"}],"readingTime":2.97,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"why-need-graphql","title":"\u4E3A\u4EC0\u4E48\u9700\u8981 GraphQL","tags":["\u5F00\u53D1","\u67B6\u6784","GraphQL"]},"unlisted":false,"prevItem":{"title":"AlpineLinux \u5B89\u88C5 Xfce \u684C\u9762","permalink":"/story/alpinelinux-setup-xfce"},"nextItem":{"title":"\u7406\u89E3\u5B69\u5B50\u7684\u89C6\u529B","permalink":"/story/understand-baby-vision"}},"content":"\u9879\u76EE\u5F00\u59CB\u65F6\u4EBA\u5458\u914D\u5907\u4E00\u822C\u6709\u51E0\u79CD\u60C5\u51B5\\n\\n\x3c!-- more --\x3e\\n\\n- \u524D\u540E\u7AEF\u540C\u4E00\u4E2A\u4EBA\\n- \u524D\u540E\u7AEF\u540C\u4E00\u4E2A\u56E2\u961F\\n- \u524D\u540E\u7AEF\u4E0D\u540C\u4EBA\u540C\u4E00\u4E2A\u56E2\u961F\\n- \u524D\u540E\u7AEF\u4E0D\u540C\u4EBA\u4E0D\u540C\u56E2\u961F\\n\\n\u5F00\u53D1\u7684\u5E94\u7528\u4E00\u822C\u533A\u5206\u4E3A\\n\\n- \u91CD\u524D\u7AEF\\n- \u91CD\u540E\u7AEF\\n- \u4E1A\u52A1\u6027\\n- \u6570\u636E\u6027\\n- \u5185\u5BB9\u6027\\n\\n\u56E0\u6B64\u4F1A\u9047\u5230\u51E0\u4E2A\u73B0\u8C61\\n\\n- \u524D\u540E\u7AEF\u5F00\u53D1\u8FDB\u5EA6\u4E0D\u540C\\n- \u524D\u540E\u7AEF\u76F8\u540C\u6A21\u5757\u529F\u80FD\u590D\u6742\u5EA6\u4E0D\u540C\\n- \u4E0D\u540C\u7684\u540E\u7AEF\u5BF9\u8C61\u6709\u76F8\u540C\u7684\u6570\u636E\u5173\u8054\\n- \u76F8\u540C\u524D\u7AEF\u4E0D\u540C\u6A21\u5757\u9700\u8981\u4E0D\u540C\u6570\u636E\\n- \u4E0D\u540C\u524D\u7AEF\u9700\u8981\u4F7F\u7528\u4E0D\u540C\u6570\u636E\\n- \u524D\u7AEF\u8BF7\u6C42\u4E00\u6B21\u6570\u636E\u540E\u4F1A\u518D\u6B21\u53D1\u8D77 N \u6B21\u8BF7\u6C42 - N+1\\n- \u524D\u7AEF\u4E00\u4E2A\u6A21\u5757\u9700\u8981\u5BF9\u5E94\u591A\u4E2A\u540E\u7AEF\\n\\n\u90A3\u4E48\u5C31\u4F1A\u8003\u8651\u51E0\u4E2A\u573A\u666F\\n\\n- \u524D\u7AEF\u81EA\u884C\u9009\u62E9\u8981\u54EA\u4E9B\u6570\u636E\u5B57\u6BB5\\n- \u524D\u7AEF\u63D0\u4F9B\u5173\u8054\u7684\u6570\u636E\u9879\u8FDB\u884C\u4E00\u6B21\u6027\u8FD4\u56DE\\n- \u540E\u7AEF\u6574\u5408\u5176\u4ED6\u670D\u52A1\u8FD4\u56DE\u7ED3\u679C\u8FDB\u884C\u4E00\u6B21\u6027\u8FD4\u56DE\\n\\n\u90A3\u4E48\u8FD9\u65F6\u5019\u5C31\u53EF\u4EE5\u9009\u62E9\u4F7F\u7528 GraphQL\u3002\\n\\n## GraphQL \u4E0D\u9002\u5408\u573A\u666F\\n\\n- \u5FEB\u901F\u8FDB\u5165\u5F00\u53D1 - \u5982\u679C\u9879\u76EE\u521A\u5F00\u59CB\u60F3\u8981\u901F\u5EA6\u5FEB\uFF0C\u90A3\u6700\u597D\u8FD8\u662F REST\\n  - \u6CA1\u6709\u65F6\u95F4\u6295\u5165\u4E86\u89E3 GraphQL \u65B9\u6848\\n- \u4E00\u4E2A\u524D\u7AEF\u4E00\u4E2A\u540E\u7AEF\uFF0C\u524D\u7AEF\u903B\u8F91\u786E\u5B9A\uFF0C\u540E\u7AEF\u4E0D\u9700\u8981\u53D8\u52A8\u5219\u6CA1\u5FC5\u8981\u4F7F\u7528 GraphQL\\n  - \u4E00\u6B21\u6027\u5DE5\u4F5C\uFF0C\u9879\u76EE\u4E0D\u9700\u8981\u6F14\u8FDB\\n\\n## \u5E94\u7528\u573A\u666F\u4E3E\u4F8B\\n\\n### \u9009\u62E9\u6027\u7684\u8FD4\u56DE\u8F83\u91CD\u7684\u8BF7\u6C42\\n\\n```sql\\ncreate table users (\\n  id bigint,\\n  name text\\n);\\ncreate table orders (\\n  id bigint,\\n  user_id bigint,\\n  title text\\n);\\n```\\n\\n\u73B0\u5728 \u4E2A\u4EBA\u9875 \u9700\u8981\u5728\u8BF7\u6C42\u7528\u6237\u65F6\u540C\u65F6\u8FD4\u56DE\u7528\u6237\u7684\u8BA2\u5355\u603B\u6570\uFF0C\u4F46\u5176\u4ED6\u573A\u666F\u4E0D\u9700\u8981\u3002\\n\\n```graphql\\nobject User {\\n  id: Int\\n  name: String\\n  orderCount: Int # -> select count(*) from orders where user_id = source.id\\n}\\n```\\n\\n\u901A\u8FC7 GraphQL \u53EF\u4EE5\u5C06\u9009\u62E9\u7559\u7ED9\u524D\u7AEF\uFF0C\u4E0D\u9700\u8981\u7531\u540E\u7AEF\u53BB\u51B3\u5B9A\u4EC0\u4E48\u65F6\u5019\u8981\u8FD4\u56DE\u4E00\u4E2A\u76F8\u5BF9\u201C\u6602\u8D35\u201D\u7684\u8BF7\u6C42\u3002\\n\\n### \u590D\u6742\u5173\u8054\u5173\u7CFB\\n\\n```sql\\ncreate table users (\\n  id bigint,\\n  name text\\n);\\ncreate table articles (\\n  id bigint,\\n  title text\\n);\\ncreate table lables (\\n  id bigint,\\n  color_id bigint,\\n  name text\\n  target_id bigint,\\n  target_type bigint -- User, Label\\n);\\ncreate table lable_colors (\\n  id bigint,\\n  color text\\n)\\n```\\n\\n\u56E0\u4E3A \u7528\u6237 \u548C \u6587\u7AE0 \u90FD\u652F\u6301\u6253\u6807\u7B7E\uFF0C\u56E0\u6B64\u5728\u5B9E\u73B0\u65F6\u76F8\u540C\u7684\u903B\u8F91\u9700\u8981\u591A\u6B21\u5B9E\u73B0\u3002\\n\u4F7F\u7528 GraphQL \u7B80\u5316\u5173\u8054\u5BF9\u8C61\u67E5\u8BE2\u3002\\n\\n```graphql\\nobject User {\\n  id: Int\\n  name: String\\n  lables: Label[] # -> select * from lables where target_id = source.id and target_type = \'User\'\\n}\\nobject Article {\\n  id: Int\\n  title: String\\n  lables: Label[] # -> select * from lables where target_id = source.id and target_type = \'Article\'\\n}\\nobject Lable {\\n  name: String\\n  color: LableColor\\n}\\nobject LableColor {\\n  color: String\\n}\\n```\\n\\n\u5728\u67E5\u8BE2\u65F6\u5373\u53EF\u4E00\u6B21\u6027\u67E5\u8BE2\uFF0C\u800C\u4E14\u589E\u52A0\u989D\u5916\u7684\u5173\u8054\u4E5F\u76F8\u5BF9\u7B80\u5355\u3002\\n\\n```graphql\\nuser:User{\\n  name\\n  lables: {\\n    name\\n    color: {\\n      color\\n    }\\n  }\\n}\\narticle:Article {\\n  title\\n  labels: {\\n    name\\n  }\\n}\\n```\\n\\n### \u7F51\u5173\u6574\u5408\u670D\u52A1\\n\\n- \u5047\u8BBE\u6709\u4E00\u4E2A \u5916\u90E8\u7684 \u90AE\u4EF6\u670D\u52A1\uFF0C\u73B0\u5728\u9700\u8981\u5728\u83B7\u53D6\u7528\u6237\u65F6\u540C\u65F6\u8FD4\u56DE\u90AE\u4EF6\u6570\u91CF\\n- \u6B64\u65F6\u53EF\u4EE5\u901A\u8FC7\u7F51\u5173\u5C06\u8BE5\u670D\u52A1\u6574\u5408\u5230\u73B0\u6709\u7684 GraphQL \u670D\u52A1\u4E2D\\n\\n```graphql\\nobject User {\\n  id: Int\\n  name: String # \u8BE5\u5B57\u6BB5\u7531\u5B9E\u9645\u540E\u7AEF\u5904\u7406\\n  emailCount: Int # \u8BE5\u5B57\u6BB5\u7531\u7F51\u5173\u5C42\u8FDB\u884C\u5904\u7406\\n}\\n```\\n\\n## \u603B\u7ED3\\n\\n\u9700\u8981 GraphQL \u7684\u7406\u7531\u5176\u5B9E\u5F88\u7B80\u5355\uFF0C\u5C31\u662F\u5F53\u540E\u7AEF\u7684\u67E5\u8BE2\u4EE3\u7801\u5199\u7684 \u201C\u5F88\u70E6\u201D \u7684\u65F6\u5019\uFF0C\u9700\u8981\u4ECE\u4E2D\u89E3\u8131\u51FA\u6765\uFF0C\u90A3\u4E48\u5C31\u53EF\u4EE5\u9009\u62E9\u4F7F\u7528 GraphQL\uFF0C\u7ED9\u524D\u7AEF\u66F4\u5927\u7684\u9009\u62E9\u548C\u63A7\u5236\u6743\u3002\\n\\n:::tip \u4F7F\u7528\u6CE8\u610F\u4E8B\u9879\\n\\n- GraphQL \u672C\u8EAB\u5C31\u5305\u542B\u4E86\u6587\u6863\\n  - \u4E0D\u50CF REST \u8FD8\u8981\u7EF4\u62A4 Swagger/OpenAPI\\n- \u524D\u540E\u7AEF\u5C3D\u91CF\u9009\u62E9\u652F\u6301\u751F\u6210 GraphQL \u7684 \u65B9\u5F0F/\u6846\u67B6/\u5DE5\u5177\\n- \u751F\u6210\u533A\u5206\u4E3A \u5148 Schema \u6216 \u5148 Entity - \u770B\u60C5\u51B5\u6309\u9700\\n- \u524D\u7AEF\u4F7F\u7528 TypeScript \u80FD\u591F\u5229\u7528 GraphQL Schema \u7C7B\u578B\u4FE1\u606F\\n- \u6700\u597D\u662F\u989D\u5916\u63D0\u4F9B Entity Schema/Metadata/JSONSchema \u7ED9\u524D\u7AEF\\n  - \u91CD\u6570\u636E\u573A\u666F\u524D\u7AEF\u7EC4\u4EF6\u53EF\u76F4\u63A5\u751F\u6210\\n  - \u524D\u7AEF\u53EF\u6309\u7167 Schema \u751F\u6210\u67E5\u8BE2\\n\\n:::"},{"id":"understand-baby-vision","metadata":{"permalink":"/story/understand-baby-vision","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2021/2021-01-07-understand-baby-vision.md","source":"@site/../story/2021/2021-01-07-understand-baby-vision.md","title":"\u7406\u89E3\u5B69\u5B50\u7684\u89C6\u529B","description":"\u65B0\u751F\u513F\u7684\u89C6\u529B\u662F\u975E\u5E38\u5F31\u7684\uFF0C\u53EA\u80FD\u770B\u5230\u975E\u5E38\u8FD1\u8DDD\u79BB\u7684\u7269\u4F53\u3002\u5728\u516D\u4E03\u5468\u540E\u5B69\u5B50\u7684\u773C\u775B\u5E94\u8BE5\u4F1A\u968F\u7740\u7269\u4F53\u8F6C\u52A8\u3002","date":"2021-01-07T00:00:00.000Z","tags":[{"inline":true,"label":"\u5B66\u4E60","permalink":"/story/tags/\u5B66\u4E60"},{"inline":true,"label":"\u6210\u957F","permalink":"/story/tags/\u6210\u957F"}],"readingTime":7.98,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"understand-baby-vision","title":"\u7406\u89E3\u5B69\u5B50\u7684\u89C6\u529B","tags":["\u5B66\u4E60","\u6210\u957F"]},"unlisted":false,"prevItem":{"title":"\u4E3A\u4EC0\u4E48\u9700\u8981 GraphQL","permalink":"/story/why-need-graphql"},"nextItem":{"title":"\u5DE5\u5355\u7CFB\u7EDF\u8BBE\u8BA1\u5B9E\u73B0","permalink":"/story/issues-system-design"}},"content":"\u65B0\u751F\u513F\u7684\u89C6\u529B\u662F\u975E\u5E38\u5F31\u7684\uFF0C\u53EA\u80FD\u770B\u5230\u975E\u5E38\u8FD1\u8DDD\u79BB\u7684\u7269\u4F53\u3002\u5728\u516D\u4E03\u5468\u540E\u5B69\u5B50\u7684\u773C\u775B\u5E94\u8BE5\u4F1A\u968F\u7740\u7269\u4F53\u8F6C\u52A8\u3002\\n\u524D\u4E00\u4E24\u5C81\u7684\u65F6\u5019\uFF0C\u5B69\u5B50\u7684\u89C6\u529B\u53D1\u80B2\u4F1A\u975E\u5E38\u8FC5\u901F\uFF0C\u5230\u4E24\u5C81\u65F6\u89C6\u529B\u57FA\u672C\u7B49\u540C\u4E8E\u6B63\u5E38\u6210\u5E74\u4EBA\u7684\u89C6\u529B\u3002\\n\\n\u7236\u6BCD\u5E94\u8BE5\u5173\u6CE8\u5B69\u5B50\u7684\u773C\u775B\u6709\u6CA1\u6709\u4EE5\u4E0B\u73B0\u8C61\\n\\n- \u53CC\u773C\u4E0D\u5BF9\u79F0\u8F6C\u52A8\u6216\u4EA4\u53C9\\n- \u5C0F\u5B69\u5B50\u4E0D\u5BF9\u8138\u548C\u73A9\u5177\u611F\u5174\u8DA3\\n- \u773C\u7403\u8F6C\u52A8\u6709\u8F7B\u5FAE\u98A4\u6296\\n- \u770B\u4E1C\u897F\u5934\u90E8\u503E\u659C\\n- \u770B\u4E1C\u897F\u6324\u773C\\n\\n\x3c!-- more --\x3e\\n\\n\u4E00\u4E24\u5C81\u7684\u5B69\u5B50\u89C6\u529B\u6B63\u5904\u4E8E\u53D1\u80B2\u9636\u6BB5\uFF0C\u56E0\u6B64\u662F\u5426\u9700\u8981\u4F69\u6234\u773C\u955C\uFF0C\u773C\u775B\u662F\u5426\u6709\u89C6\u529B\u95EE\u9898\u9700\u8981\u5148\u68C0\u6D4B\u5E76\u4E14\u8FDB\u884C\u4E00\u5B9A\u7684\u89C2\u5BDF\u3002\\n\\n## \u5B69\u5B50\u7684\u89C6\u529B\\n\\n\u4EBA\u4EEC\u901A\u5E38\u5BF9\u4F69\u6234\u773C\u955C\u6709\u9519\u8BEF\u7684\u8BA4\u8BC6\uFF1A\\n\\n- \u5C0F\u7684\u65F6\u5019\u4F69\u6234\u4E86\u773C\u955C\uFF0C\u957F\u5927\u540E\u4FBF\u4E0D\u9700\u8981\u4E86\\n- \u5C0F\u7684\u65F6\u5019\u4F69\u6234\u4E86\u773C\u955C\uFF0C\u4F1A\u4EA7\u751F\u4F9D\u8D56\uFF0C\u5BFC\u81F4\u4EE5\u540E\u4E00\u76F4\u4F1A\u4F69\u6234\u773C\u955C\\n\\n\u4E0A\u8FF0\u7684\u8BF4\u6CD5\u5E76\u4E0D\u6B63\u786E\uFF0C\u5C0F\u5B69\u5B50\u4E4B\u6240\u4EE5\u9700\u8981\u4F69\u6234\u773C\u955C\uFF0C\u66F4\u591A\u7684\u539F\u56E0\u662F **\u5148\u5929\u6027** \u7684 \u8FD1\u89C6\u3001\u8FDC\u89C6\u3001\u6563\u5149\u5BFC\u81F4\u7684\u3002\\n\u5982\u679C\u4E0D\u901A\u8FC7\u773C\u955C\u5E72\u9884\uFF0C\u773C\u775B\u7684\u60C5\u51B5\u5E76\u4E0D\u4F1A\u81EA\u5DF1\u5F97\u5230\u6539\u5584\u751A\u81F3\u53EF\u80FD\u52A0\u91CD\u3002\\n\\n\u8FD1\u89C6\u901A\u5E38\u53D1\u751F\u5728 8-15 \u5C81\uFF0C\u4F46\u4E5F\u53EF\u80FD\u66F4\u65E9\u3002\\n\u8FDC\u89C6\u5219\u66F4\u4E3A\u5E38\u89C1\uFF0C\u53EA\u8981\u8FDC\u89C6\u4E0D\u8FC7\u4E8E\u4E25\u91CD\u90FD\u4E0D\u9700\u8981\u8FDB\u884C\u4EBA\u4E3A\u5E72\u9884\u3002\u4F46\u4E25\u91CD\u7684\u8FDC\u89C6\u4F1A\u5BFC\u81F4\u770B\u4E0D\u6E05\u8FD1\u5904\u7684\u7269\u4F53\uFF0C\u751A\u81F3\u770B\u8FD1\u5904\u7269\u4F53\u65F6\u4F1A\u53D8\u6210\u201C\u6597\u9E21\u773C\u201D\u3002\\n\u8FDC\u89C6\u901A\u5E38\u53D1\u751F\u5728\u4E24\u5C81\u5DE6\u53F3\u3002\\n\u51E0\u4E4E **\u6240\u6709\u4EBA** \u90FD\u4F1A\u6709\u4E00\u5B9A\u7A0B\u5EA6\u7684\u6563\u5149\uFF0C\u5982\u679C\u6563\u5149\u8F83\u4E3A\u4E25\u91CD\uFF0C\u5219\u9700\u8981\u4F69\u6234\u773C\u955C\u3002\\n\\n\u4E0E\u6210\u5E74\u4EBA\u4E0D\u540C\u7684\u5730\u65B9\u5728\u4E8E\uFF0C\u5C0F\u5B69\u5B50\u9700\u8981\u4F69\u6234\u773C\u955C\u4EE5\u9884\u9632 **\u5F31\u89C6**\uFF0C\u5F31\u89C6\u7684\u662F\u8BF4\u53CC\u773C\u60C5\u51B5\u4E0D\u540C\uFF0C\u6B63\u5E38\u7684\u773C\u775B\u53D7\u4E0D\u6B63\u5E38\u5F71\u54CD\uFF0C\u5BFC\u81F4\u6700\u7EC8\u53CC\u773C\u65E0\u6CD5\u805A\u7126\u3002\\n\u5F31\u89C6\u8F83\u4E3A\u4E25\u91CD\u7684\u65F6\u5019\uFF0C\u5219\u9700\u8981\u4F69\u6234\u773C\u955C\u6765 **\u4FDD\u62A4** \u6B63\u5E38\u7684\u773C\u775B\u3002\\n\\n## \u5B69\u5B50\u7684\u773C\u955C\\n\\n\u73B0\u4EE3\u533B\u5B66\u80FD\u591F\u5F88\u5BB9\u6613\u6D4B\u91CF\u5B69\u5B50\u7684\u89C6\u529B\u95EE\u9898\uFF0C\u5373\u4FBF\u5C0F\u5B69\u5B50\u4E0D\u914D\u5408\u4E5F\u80FD\u591F\u8FDB\u884C\u51C6\u786E\u6D4B\u91CF\u3002\\n\\n\u73B0\u5728\u7684\u5927\u591A\u955C\u7247\u90FD\u662F\u5851\u6599\u7684\uFF0C\u6BD4\u4F20\u7EDF\u7684\u73BB\u7483\u955C\u7247\u66F4\u786C\u66F4\u8F7B\u3002\u5EFA\u8BAE\u955C\u7247\u8FDB\u884C\u9632\u522E\u6D82\u5C42\u5904\u7406\uFF0C\u56E0\u4E3A\u5C0F\u5B69\u5B50\u5F88\u5BB9\u6613\u5C31\u628A\u773C\u955C\u522E\u82B1\u4E86\u3002\\n\u8981\u6CE8\u610F\u955C\u7247\u4E0D\u8981\u8FC7\u6697\uFF0C\u907F\u514D\u65E0\u6CD5\u770B\u6E05\u5BA4\u5185\u73AF\u5883\u3002\\n\\n\u955C\u6846\u5219\u9009\u62E9\u5B89\u5168\u8212\u9002\u7684\u5373\u53EF\u3002\u73B0\u5728\u6709\u8F83\u591A\u7684\u65B9\u5F0F\u4FDD\u6301\u773C\u955C\u4E0D\u4F1A\u6389\u843D\uFF0C\u6241\u9F3B\u6881\u7684\u5B69\u5B50\u773C\u955C\u53EF\u80FD\u66F4\u5BB9\u6613\u8131\u843D\u3002\\n\u5B66\u6B65\u7684\u513F\u7AE5\u53EF\u9009\u62E9\u4F69\u6234\u8033\u52FE\uFF0C\u5A74\u5E7C\u513F\u53EF\u9009\u62E9\u4F69\u6234\u773C\u94FE\u3002\u9009\u62E9\u5408\u9002\u7684\u773C\u955C\u4F69\u6234\u5C3D\u91CF\u8BA9\u773C\u955C\u548C\u5B69\u5B50\u4E00\u8D77\u201C\u6210\u957F\u201D\uFF0C\u907F\u514D\u4FA7\u81C2\u6298\u65AD\u3002\\n\\n\u5C0F\u5B69\u5B50\u5927\u591A\u4E0D\u4F1A\u914D\u5408\u4F69\u6234\u773C\u955C\uFF0C\u8FD9\u65F6\u5019\u9700\u8981\u5BB6\u957F\u8FDB\u884C\u5206\u6563\u6CE8\u610F\u529B\u3001\u8BF1\u5BFC\u6216\u8005\u201C\u6295\u98DF\u201D\u6765\u5E2E\u52A9\u5B69\u5B50\u517B\u6210\u4F69\u6234\u773C\u955C\u7684\u4E60\u60EF\u3002\\n\u5982\u679C\u5B9E\u5728\u4E0D\u884C\uFF0C\u53EF\u8BA9\u773C\u79D1\u533B\u751F\u5F00\u773C\u836F\u6C34\uFF0C\u5728\u6CA1\u6709\u773C\u955C\u65F6\u5C06\u6B63\u5E38\u773C\u955C\u6A21\u7CCA\u6389\uFF0C\u8FD9\u6837\u901A\u5E38\u53EF\u4EE5\u514B\u670D\u5B69\u5B50\u7684\u521D\u671F\u62B5\u6297\u3002\\n\\n## \u5B69\u5B50\u7684\u9605\u8BFB\u95EE\u9898\\n\\n\u5F53\u5B69\u5B50\u6709\u9605\u8BFB\u56F0\u96BE\u65F6\uFF0C\u5BB6\u957F\u901A\u5E38\u8BA4\u4E3A\u662F\u773C\u775B\u6709\u95EE\u9898\uFF0C\u5982\u679C\u68C0\u67E5\u6392\u9664\u4E86\u6240\u6709\u7684\u89C6\u529B\u95EE\u9898\uFF0C\u90A3\u4E48\u66F4\u53EF\u80FD\u662F\u5B69\u5B50\u6709\u5B66\u4E60\u969C\u788D\u3002\\n\\n\u5B66\u4E60\u969C\u788D\u662F\u4EBA\u5728 \u4E0D\u540C\u9886\u57DF\u7684\u80FD\u529B\u548C\u8868\u73B0\u5DEE\u8DDD\u3002\u4E0E\u667A\u529B\u667A\u5546 **\u65E0\u5173**\u3002\u5B66\u4E60\u969C\u788D\u53EF\u80FD\u4F1A\u5BFC\u81F4\u5B69\u5B50\u5728\u5B66\u6821\u8868\u73B0\u8F83\u5DEE\uFF0C\u5982\u679C\u4E0D\u8FDB\u884C\u5E72\u9884\u5219\u4F1A\u5BFC\u81F4\u5B69\u5B50\u4EA7\u751F\u81EA\u5351\u60C5\u7EEA\uFF0C\u8FDB\u800C\u538C\u5B66\u3002\\n\\n\u5B66\u4E60\u969C\u788D\u548C\u9605\u8BFB\u95EE\u9898\u901A\u5E38\u4E0E\u773C\u775B\u65E0\u5173\uFF0C\u66F4\u591A\u7684\u662F\u9700\u8981\u5C1D\u8BD5\u4E0D\u540C\u7684\u6559\u80B2\u65B9\u5F0F\u3002\u7236\u6BCD\u5728\u8FD9\u4E2A\u8FC7\u7A0B\u6781\u5176\u91CD\u8981\uFF0C\u9700\u8981\u66F4\u591A\u9F13\u52B1\u652F\u6301\u5B69\u5B50\uFF0C\u66F4\u591A\u7684\u966A\u540C\uFF0C\u4E00\u8D77\u9605\u8BFB\u7B49\u3002\\n\u5177\u6709\u5B66\u4E60\u969C\u788D\u7684\u5B69\u5B50\u9700\u8981\u66F4\u591A\u7684\u9F13\u52B1\uFF0C\u5C1D\u8BD5\u5E76\u53D1\u73B0\u5176\u4ED6\u7684\u611F\u5174\u8DA3\u7684\u9886\u57DF\uFF0C\u53D1\u89C9\u4ED6\u4EEC\u72EC\u7279\u7684\u80FD\u529B\u3002\\n\\n## \u5B69\u5B50\u7684\u773C\u775B\u5B89\u5168\\n\\n\u6BCF\u4E2A\u4EBA\u7684\u773C\u775B\u90FD\u53EF\u80FD\u53D7\u4F24\uFF0C\u7279\u522B\u662F\u5C0F\u5B69\u5B50\u5219\u66F4\u4E3A\u5E38\u89C1\uFF0C\u4F46\u5728\u5BB6\u957F\u7684\u76D1\u62A4\u4E0B\u6216\u8005\u4F69\u6234\u9632\u62A4\u773C\u955C 90% \u7684\u95EE\u9898\u90FD\u662F\u53EF\u4EE5\u907F\u514D\u7684\u3002\\n\\n\u5728\u8FDB\u884C\u8FD0\u52A8\u65F6\u4F69\u6234\u62A4\u76EE\u955C\u53EF\u4FDD\u62A4\u773C\u775B\uFF0C\u4F8B\u5982 \u7BEE\u7403\uFF0C\u7FBD\u6BDB\u7403\u7B49\u3002\\n\u9009\u62E9\u6811\u8102\u955C\u7247\uFF0C\u5B89\u5168\u7684\u955C\u6846\u53EF\u907F\u514D\u4F69\u6234\u7684\u773C\u955C\u5E26\u6765\u7684\u989D\u5916\u4F24\u5BB3\uFF0C\u7F8E\u56FD\u6709 ANSI Z87.1 \u6807\u51C6\u5B9A\u4E49\u773C\u955C\u7684\u5B89\u5168\u6807\u51C6\u3002\\n\\n\u9002\u5F53\u7684\u5BB6\u957F\u76D1\u7763\u4E5F\u6781\u4E3A\u91CD\u8981\uFF0C\u4E0D\u8981\u8BA9\u5B69\u5B50\u73A9 \u70DF\u82B1\u3001BB \u62A2\u3001\u5FEB\u901F\u6216\u950B\u5229\u7684\u7269\u4F53\uFF0C\u4F8B\u5982 \u98DE\u9556\u3001\u526A\u5200\u3001\u5C0F\u5200\u3001\u7B14\u7B49\u3002\\n\u5728\u8349\u576A\u4E0A\u4E5F\u9700\u8981\u6CE8\u610F\u77F3\u5934\u7B49\u907F\u514D\u7ECA\u5012\u88AB\u8349\u523A\u4F24\u3002\u5316\u5B66\u7269\u54C1\u5219\u9700\u8981\u6CE8\u610F\u5395\u6240\u6D17\u5242\uFF0C\u8863\u7269\u6D17\u5242\u7B49\u3002\\n\\n## \u9AD8\u5EA6\u8FDC\u89C6\u7684\u5371\u5BB3\u548C\u4E25\u91CD\u6027\\n\\n\u56E0\u4E3A\u8FDC\u89C6\u53D1\u751F\u5728\u4E24\u5C81\u6216\u8005\u66F4\u65E9\u7684\u65F6\u5019\uFF0C\u8FDC\u89C6\u4F1A\u5BFC\u81F4\u8FD1\u5904\u7269\u4F53\u6A21\u7CCA\uFF0C\u81F4\u4F7F\u5B69\u5B50\u53D1\u80B2\u53D7\u5230\u5F71\u54CD\u3002\u5E38\u89C1\u7684\u5F71\u54CD\u5982\u4E0B\\n\\n- \u65E0\u6CD5\u770B\u6E05\u7236\u6BCD\\n- \u65E0\u6CD5\u770B\u6E05\u98DF\u7269\\n- \u65E0\u6CD5\u770B\u6E05\u6A21\u4EFF\u8FD1\u5904\u9762\u5B54 - \u8BED\u8A00\u53D1\u80B2\u53D7\u5230\u5F71\u54CD\\n- \u65E0\u6CD5\u770B\u6E05\u811A\u4E0B - \u8FD0\u52A8\u673A\u80FD\u53D1\u80B2\u8FDF\u7F13\\n- \u65E0\u6CD5\u770B\u6E05\u811A\u4E0B\u7684\u73A9\u5177 - \u53EF\u89C2\u6D4B\u5B69\u5B50\u7684\u884C\u4E3A\u8F68\u8FF9\u786E\u8BA4\u662F\u5426\u6709\u8FDC\u89C6\\n- \u8F83\u5C11\u89C2\u5BDF\u5468\u56F4\u7269\u4F53 - \u8F83\u5C11\u4E0E\u8FD1\u5904\u7269\u4F53\u4EA4\u4E92 - \u5F71\u54CD\u8FD0\u52A8\u673A\u80FD\\n\\n\u6234\u773C\u955C\u4E0D\u53EA\u662F\u4E3A\u4E86\u5B69\u5B50\u770B\u5F97\u6E05\uFF0C\u66F4\u91CD\u8981\u7684\u662F\u786E\u4FDD\u5B69\u5B50\u6B63\u5E38\u53D1\u80B2\u3002\\n\\n## \u7406\u89E3\u6563\u5149\\n\\n\\b \u6563\u5149\u662F\u7531\u4E8E\u5C48\u5149\u4E0D\u6B63\u5BFC\u81F4\uFF0C\u773C\u7403\u89D2\u819C\u6216\u6676\u72B6\u4F53\u5F27\u5EA6\u5F02\u5E38\uFF0C\u4E0D\u662F\u5706\u5F62\u800C\u662F\u504F\u692D\u5706\u5F62\u3002\u5BFC\u81F4\u5149\u8FDB\u5165\u89C6\u7F51\u819C\u540E\u65E0\u6CD5\u6B63\u5E38\u805A\u7126\uFF0C\u6210\u50CF\u6A21\u7CCA\u3002\\n\u5C0F\u5B69\u5B50\u7684\u6563\u5149\u5927\u591A\u6709\u9057\u4F20\u56E0\u7D20\uFF0C\u5176\u4ED6\u7684\u4E5F\u53EF\u80FD\u662F\u7531\u4E8E\u53D7\u4F24\u6216\u624B\u672F\u5BFC\u81F4\u3002\\n\\n\u6563\u5149\u73B0\u8C61\uFF1A\\n\\n- \u89C6\u7EBF\u6A21\u7CCA\u626D\u66F2\\n- \u773C\u775B\u6613\u75B2\u52B3\u6216\u6709\u538B\u529B\\n- \u5934\u75BC\\n- \u659C\u89C6\\n- \u591C\u665A\u89C6\u91CE\u4E0D\u597D\\n\\n\u6563\u5149\u7C7B\u578B\uFF1A\\n\\n- \u6676\u72B6\u4F53\u6563\u5149 - \u7531\u6676\u72B6\u4F53\u5BFC\u81F4\u800C\u975E\u89D2\u819C\u5BFC\u81F4\\n- \u8FD1\u89C6\u6563\u5149\\n- \u8FDC\u89C6\u6563\u5149\\n- \u6DF7\u5408\u6563\u5149 - \u65E2\u6709\u8FD1\u89C6\u53C8\u6709\u8FDC\u89C6\u7684\u60C5\u51B5\\n\\n\u6563\u5149\u4E5F\u5206\u4E3A\u6B63\u5E38\u548C\u975E\u6B63\u5E38\uFF0C\u6B63\u5E38\u6307\u4E24\u4E2A\u66F2\u9762\u4E3A 90 \u5EA6\uFF0C\u4E0D\u6B63\u5E38\u5219\u6307\u975E 90 \u5EA6\u3002\\n\u975E\u6B63\u5E38\u6563\u5149\u901A\u5E38\u7531\u4E8E\u773C\u90E8\u53D7\u4F24\u3001\u773C\u775B\u795E\u7ECF\u521B\u4F24\u3001\u624B\u672F\u6216\u773C\u775B\u7279\u6B8A\u6761\u4EF6\uFF08\u5706\u9525\u89D2\u819C\uFF09\u5BFC\u81F4\uFF0C\u773C\u775B\u89D2\u819C\u53D8\u8584\u7684\u73B0\u8C61\u3002\\n\\n\u6563\u5149\u6CBB\u7597\uFF1A\\n\\n- \u773C\u955C - \u5E38\u89C1\u5E38\u7528\u65B9\u5F0F\\n- \u9690\u5F62\u773C\u955C - \u53EF\u7528\u4E8E\u4F4E\u5EA6\u6563\u5149\\n- \u5C48\u5149\u624B\u672F - \u6FC0\u5149\u77EB\u6B63\u773C\u7403\u5F62\u72B6\\n\\n## \u773C\u775B\u624B\u672F\\n\\n:::warn\\n\\n\u5C48\u5149\u77EB\u6B63\u5E76\u4E0D\u662F\u5FC5\u987B\u7684\uFF0C\u5982\u679C\u5EA6\u6570\u8FC7\u4E8E\u4E25\u91CD\uFF0C\u4F69\u6234\u773C\u955C\u6216\u8005\u9690\u5F62\u773C\u955C\u5DF2\u7ECF\u4E25\u91CD\u5F71\u54CD\u751F\u6D3B\u7684\u65F6\u5019\u53EF\u4EE5\u8003\u8651\u3002\\n\\n:::\\n\\n\u773C\u775B\u7684\u95EE\u9898\u901A\u5E38\u90FD\u662F\u56FA\u5B9A\u5B58\u5728\u7684\uFF0C\u5C31\u597D\u6BD4\u4EBA\u7684\u8EAB\u9AD8\u3002\u4F46\u773C\u7403\u7684\u5F62\u72B6\u662F\u53EF\u4EE5\u5F3A\u5236\u6FC0\u5149\u624B\u672F\u77EB\u6B63\u7684\u3002\\n\u76EE\u524D\u5927\u591A\u4F7F\u7528\u51C6\u5206\u5B50\u6FC0\u5149\u6765\u77EB\u6B63\u89D2\u819C\u3002\u6210\u529F\u7684\u5C48\u5149\u77EB\u6B63\u624B\u672F\u53EF\u4EE5\u51CF\u8F7B\u6216\u6CBB\u6108\u8FD1\u89C6\u3001\u8FDC\u89C6\u3001\u8001\u5316\u548C\u6563\u5149\u3002\\n\\n\u624B\u672F\u7C7B\u578B\u5206\u4E3A\uFF1A\\n\\n- \u89D2\u819C\u74E3\u5904\u7406 - \u4F7F\u7528\u6FC0\u5149\u5207\u9664\u90E8\u5206\u539A\u7684\u89D2\u819C\u74E3\\n  - LASIK / Laser-Assisted in Situ Keratomileusis / \u51C6\u5206\u5B50\u6FC0\u5149\u539F\u4F4D\u89D2\u819C\u78E8\u9576\u672F\\n- \u89D2\u819C\u8868\u9762\u5C42\u5904\u7406 - \u4E0D\u9700\u8981\u5207\u9664\uFF0C\u533A\u522B\u4EC5\u5728\u4E8E\u4E0D\u4E0A\u76AE\u5904\u7406\u4E0D\u540C\\n  - PRK / Photorefractive keratectomy / \u6FC0\u5149\u5C48\u5149\u89D2\u819C\u5207\u524A\u672F\\n    - 2015 \u5E74\u540E\u5B8C\u5168\u7531 TransPRK \u53D6\u4EE3\\n    - \u6FC0\u5149\u7167\u5728\u89D2\u819C\u8868\u9762\u7EC4\u7EC7\u4F7F\u5176\u84B8\u6563\u6325\u53D1\u6389\uFF0C\u4F24\u53E3\u5468\u56F4\u4E0D\u5E73\u6574\uFF0C\u672F\u540E\u75BC\u75DB\u611F\u8F83\u9AD8\uFF0C\u4E14\u6062\u590D\u671F\u8F83\u6162\uFF0C\u4F46\u4E0D\u987B\u5236\u4F5C\u89D2\u819C\u74E3\u53EF\u4EE5\u4FDD\u7559\u8F83\u591A\u7684\u89D2\u819C\u539A\u5EA6\u3002\\n    - 1980 \u5E74\uFF0C\u4F20\u7EDF\u7684\u624B\u672F\u65B9\u5F0F\\n  - LASEK / Laser Assisted Sub-Epithelium Keratomileusis\\n  - TransPRK / Transepithelial Photorefractive Keratectomy / \u7ECF\u4E0A\u76AE\u6FC0\u5149\u5C48\u5149\u89D2\u819C\u524A\u5207\u672F\\n    - **\u964D\u4F4E** LASIK \u624B\u672F\u540E\u53EF\u80FD\u7684 _\u89D2\u819C\u79FB\u4F4D_ \u3001 _\u6E38\u79BB\u89D2\u819C\u74E3_ \u3001_\u592A\u8584\u7684\u89D2\u819C\u74E3_ \u7B49\u98CE\u9669\\n    - \u51CF\u4F4E\u4F20\u7EDF PRK \u75BC\u75DB\u611F\\n    - \u4E0D\u9700\u63A5\u89E6\u89D2\u819C\uFF0C\u907F\u514D\u4EBA\u4E3A\u63A5\u89E6\u98CE\u9669\\n    - \u4E0D\u5FC5\u5236\u4F5C\u89D2\u819C\u74E3\u7684\u5C48\u5149\u77EB\u6B63\u624B\u672F\uFF0C\u80FD\u63D0\u4F9B\u6700\u4F73\u89D2\u819C\u7A33\u5B9A\u6027\u53CA\u957F\u671F\u5B89\u5168\u6027\\n    - 2009 \u5E74\uFF0C\u5BF9\u6BD4 PRK \u4E0D\u9700\u8981\u7528\u6EB6\u5242\u6CE1\u89D2\u819C\u4E0A\u76AE\uFF0C\u5229\u7528\u51C6\u5206\u5B50\u6FC0\u5149\u4EE5\u5355\u4E00\u6B65\u9AA4\u524A\u5207\u89D2\u819C\u4E0A\u76AE\u548C\u8FDB\u884C\u5EA6\u672F\u77EB\u6B63\u3002\\n- \u89D2\u819C\u5207\u53E3\u5904\u7406\\n\\n**\u624B\u672F\u98CE\u9669**\\n\\n\u60A3\u6709\u89C6\u7F51\u819C\u3001\u89D2\u819C\u773C\u75BE\u7684\u4EBA\u4E0D\u5EFA\u8BAE\u624B\u672F\u3002\u60A3\u6709\u9752\u5149\u773C\u3001\u7CD6\u5C3F\u75C5\u3001\u4E0D\u53D7\u63A7\u5236\u7684\u8840\u7BA1\u75BE\u75C5\u3001\u514D\u75AB\u75BE\u75C5\u4E5F\u4E0D\u5EFA\u8BAE\u624B\u672F\u3002\\n\u624B\u672F\u4F1A\u5BFC\u81F4\u89D2\u819C\u53D8\u8584\uFF0C\u672F\u540E\u4E5F\u53EF\u80FD\u4F1A\u6709\u89D2\u819C\u7834\u88C2\u7684\u98CE\u9669\uFF0C\u6700\u7EC8\u53EA\u80FD\u9009\u62E9\u89D2\u819C\u79FB\u690D\uFF0C\u56E0\u6B64\u89D2\u819C\u7684\u539A\u5EA6\u6D4B\u91CF\u662F\u975E\u5E38\u91CD\u8981\u7684\u6B65\u9AA4\u3002\\n\u90E8\u5206\u4EBA\u53EF\u80FD\u7531\u4E8E\u773C\u775B\u5F62\u72B6\u7684\u95EE\u9898\u4E5F\u4E0D\u4FBF\u4E8E\u624B\u672F\u3002\\n\\n\u76EE\u524D\u5C48\u5149\u77EB\u6B63\u624B\u672F\u65E5\u8D8B\u5B8C\u5584\uFF0C\u4F46\u4E0D\u53EF\u907F\u514D\u7684\u8FD8\u662F\u53EF\u80FD\u4F1A\u5BFC\u81F4\u610F\u5916\u540E\u679C\uFF0C\u4F8B\u5982 \u672F\u540E\u4EA7\u751F\u91CD\u5F71\u3001\u5149\u6655\u3001\u6591\u70B9\u3001\u53CC\u89C6\u3001\u773C\u775B\u5E72\u71E5\u7B49\u95EE\u9898\u3002\\n\u5982\u679C\u4F7F\u7528 LASIK \u7B49\u65B9\u5F0F\uFF0C\u65B0\u589E\u7684\u89D2\u819C\u74E3\u53EF\u80FD\u4F1A\u5BFC\u81F4\u672F\u540E\u591A\u5E74\u75BC\u75DB\u7684\u9002\u5E94\u8FC7\u7A0B\u3002\\n\u5982\u679C\u60A3\u6709\u659C\u89C6\uFF0C\u5219\u8FD8\u9700\u8981\u8003\u8651\u672F\u540E\u5904\u7406\u659C\u89C6\u95EE\u9898\uFF0C\u5C48\u5149\u77EB\u6B63\u5E94\u4F18\u5148\u4E8E\u659C\u89C6\u8FDB\u884C\uFF0C\u4F46\u53EF\u80FD\u4F1A\u589E\u52A0\u6216\u51CF\u5C11\u659C\u89C6\u3002\\n\\n**\u513F\u7AE5\u624B\u672F\u98CE\u9669**\\n\\n\u513F\u7AE5\u98CE\u9669\u8FDC\u5927\u4E8E\u6210\u4EBA\uFF0C\u56E0\u4E3A\u513F\u7AE5\u624B\u672F\u9700\u8981\u8FDB\u884C\u9EBB\u9189\uFF0C\u672C\u8EAB\u4F1A\u5E26\u6765\u989D\u5916\u98CE\u9669\u3002\\n\u513F\u7AE5\u5904\u4E8E\u53D1\u80B2\u671F\uFF0C\u773C\u775B\u60C5\u51B5\u5C1A\u672A\u5B8C\u5168\u5B9A\u578B\uFF0C\u5982\u679C\u8FDB\u884C\u77EB\u6B63\u624B\u672F\u8FD8\u8981\u8003\u8651\u5B69\u5B50\u672A\u6765\u7684\u53D1\u5C55\u60C5\u51B5\u3002\\n\\n**\u624B\u672F\u8D39\u7528**\\n\\n\u76EE\u524D\u5927\u591A\u624B\u672F\u7684\u65B9\u5F0F\u57FA\u672C\u5728 10000\xa5 \u5230 40000\xa5 \u4E4B\u95F4\uFF0C LASIK \u548C LASEK \u76F8\u5BF9\u4EF7\u683C\u4F4E\u5EC9\uFF0C\u5927\u7EA6 15000\xa5 \u5DE6\u53F3\u3002\\n\u624B\u672F\u4EF7\u683C\u533A\u5206\u5355\u773C\u548C\u53CC\u773C\uFF0C\u5355\u773C\u53EF\u57FA\u672C\u6309\u7167\u534A\u4EF7\u8BA1\u7B97\u3002\\n\\n> \u624B\u672F\u8D39\u7528\u53C2\u8003\u81EA\u9999\u6E2F\u548C\u7F8E\u56FD\\n\\n## \u6700\u540E\\n\\n\u4F5C\u4E3A\u7236\u6BCD\uFF0C\u90FD\u5E0C\u671B\u81EA\u5DF1\u7684\u5B50\u5973\u5065\u5EB7\u5E73\u5B89\uFF0C\u4F46\u5982\u679C\u771F\u7684\u773C\u775B\u6709\u95EE\u9898\u4E5F\u4E0D\u8981\u60CA\u614C\uFF0C\u5E94\u5C3D\u5FEB\u786E\u8BCA\u786E\u5B9A\u5904\u7406\u65B9\u6848\uFF0C\u5982\u679C\u7ED3\u8BBA\u662F\u8981\u5E26\u773C\u955C\uFF0C\u90A3\u5C31\u5E94\u8BE5\u8D81\u65E9\u7ED9\u5B69\u5B50\u51C6\u5907\u597D\u773C\u955C\uFF0C\u57F9\u517B\u4F69\u6234\u773C\u955C\u7684\u4E60\u60EF\u3002\\n\\n## \u53C2\u8003\\n\\n- [What Parents Should Know About Infants and Babies and Their Vision](http://carabineyecare.com/what-parents-should-know-about-infants-and-babies-and-their-vision)\\n  - \u5927\u591A\u5185\u5BB9\u7FFB\u8BD1\u81EA\u8BE5\u6587\u7AE0\\n- [A MOTHER\u2019S STORY](https://www.bisselleyecare.com/mothers-story/)\\n- Wikipedia"},{"id":"issues-system-design","metadata":{"permalink":"/story/issues-system-design","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2020/2020-12-27-issues-system-design.md","source":"@site/../story/2020/2020-12-27-issues-system-design.md","title":"\u5DE5\u5355\u7CFB\u7EDF\u8BBE\u8BA1\u5B9E\u73B0","description":"\u5DE5\u5355/Issues \u7CFB\u7EDF\u90FD\u4E0D\u4F1A\u964C\u751F\uFF0CGithub\u3001Gitlab\u3001Gitea \u4E2D\u6BCF\u5929\u90FD\u5728\u63A5\u89E6\u7684\u7CFB\u7EDF\u3002\u60F3\u8981\u5B66\u4E60\u5982\u4F55\u8BBE\u8BA1\u5B9E\u73B0\u6700\u7B80\u5355\u7684\u662F\u76F4\u63A5\u4ECE\u522B\u4EBA\u7684\u7CFB\u7EDF\u903B\u8F91\u53C2\u8003\u7406\u89E3\u3002","date":"2020-12-27T00:00:00.000Z","tags":[{"inline":true,"label":"\u67B6\u6784","permalink":"/story/tags/\u67B6\u6784"}],"readingTime":7.87,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"issues-system-design","title":"\u5DE5\u5355\u7CFB\u7EDF\u8BBE\u8BA1\u5B9E\u73B0","hide_title":true,"tags":["\u67B6\u6784"]},"unlisted":false,"prevItem":{"title":"\u7406\u89E3\u5B69\u5B50\u7684\u89C6\u529B","permalink":"/story/understand-baby-vision"},"nextItem":{"title":"CRM \u57FA\u7840 - \u7EBF\u7D22\u3001\u5546\u673A\u3001\u8D26\u6237\u3001\u8054\u7CFB\u4EBA","permalink":"/story/crm-basic-leads-opportunities-accounts-contacts"}},"content":"\u5DE5\u5355/Issues \u7CFB\u7EDF\u90FD\u4E0D\u4F1A\u964C\u751F\uFF0CGithub\u3001Gitlab\u3001Gitea \u4E2D\u6BCF\u5929\u90FD\u5728\u63A5\u89E6\u7684\u7CFB\u7EDF\u3002\u60F3\u8981\u5B66\u4E60\u5982\u4F55\u8BBE\u8BA1\u5B9E\u73B0\u6700\u7B80\u5355\u7684\u662F\u76F4\u63A5\u4ECE\u522B\u4EBA\u7684\u7CFB\u7EDF\u903B\u8F91\u53C2\u8003\u7406\u89E3\u3002\\n\\n\u6211\u7406\u89E3\u7684\u5DE5\u5355\u7CFB\u7EDF\\n\\n- \u5143\u6570\u636E\u4E30\u5BCC\\n- \u5206\u7C7B\u6807\u7B7E\u4F53\u7CFB\\n- \u57FA\u4E8E\u65F6\u95F4\u7EBF\u5448\u73B0\u6D3B\u52A8\\n- \u53EF\u6269\u5C55\u6027\u5F3A\\n- \u80FD\u5C01\u88C5\u51FA\u4E0A\u5C42\u7BA1\u7406\u4F53\u7CFB\\n  - \u770B\u677F\\n  - \u91CC\u7A0B\u7891\\n  - \u65E5\u5386\\n\\n\x3c!-- more --\x3e\\n\\n## Gitea\\n\\n- Issues \u7279\u6027\\n  - \u4E0A\u4E0B\u6587\u5207\u6362 - \u7EC4\u7EC7\u3001\u5F53\u524D\u7528\u6237\\n  - \u6A21\u677F\\n  - \u91CC\u7A0B\u7891\\n  - \u6807\u7B7E\\n  - \u6307\u6D3E\\n  - \u65F6\u95F4\u8DDF\u8E2A\\n  - \u56DE\u5E94 - \u8868\u60C5\\n  - \u8FC7\u6EE4\\n    - Open\\n    - Closed\\n    - \u4F60\u7684\u4ED3\u5E93\\n    - \u88AB\u6307\u6D3E\u5DE5\u5355\\n    - \u4F60\u521B\u5EFA\u7684\u5DE5\u5355\\n    - \u4ED3\u5E93\\n  - \u6392\u5E8F\uFF1A \u6700\u8001\u7684\u3001\u6700\u8FD1\u66F4\u65B0\u3001\u8BC4\u8BBA\u6570\u91CF\\n  - \u641C\u7D22\u3001\u8BC4\u8BBA\u3001\u9644\u4EF6\\n- \u6570\u636E\u6A21\u578B\u4F4D\u4E8E [models](https://github.com/go-gitea/gitea/tree/master/models)\\n  - 13 \u4E2A\u5173\u4E8E\u7528\u6237\u7684\u6A21\u578B\u6587\u4EF6\\n  - 23 \u4E2A\u5173\u4E8E\u4ED3\u5E93\u7684\u6A21\u578B\u6587\u4EF6\\n  - **28** \u4E2A\u5173\u4E8E\u5DE5\u5355\u7684\u6A21\u578B\u6587\u4EF6 - \u662F\u7CFB\u7EDF\u4E2D\u6700\u591A\u7684\u6A21\u5757\\n- \u8BC4\u8BBA\u4F5C\u4E3A\u6D3B\u52A8/\u6307\u4EE4\uFF0CIssues \u57FA\u4E8E\u65F6\u95F4\u5173\u8054\u8BC4\u8BBA\u4FEE\u6539\u64CD\u4F5C\\n\\n\u6838\u5FC3 Issue \u6A21\u578B\\n\\n```go\\n// Issue represents an issue or pull request of repository.\\ntype Issue struct {\\n\\tID               int64       `xorm:\\"pk autoincr\\"`\\n\\tRepoID           int64       `xorm:\\"INDEX UNIQUE(repo_index)\\"`\\n\\tRepo             *Repository `xorm:\\"-\\"`\\n\\tIndex            int64       `xorm:\\"UNIQUE(repo_index)\\"` // Index in one repository.\\n\\tPosterID         int64       `xorm:\\"INDEX\\"`\\n\\tPoster           *User       `xorm:\\"-\\"`\\n\\tOriginalAuthor   string\\n\\tOriginalAuthorID int64      `xorm:\\"index\\"`\\n\\tTitle            string     `xorm:\\"name\\"`\\n\\tContent          string     `xorm:\\"TEXT\\"`\\n\\tRenderedContent  string     `xorm:\\"-\\"`\\n\\tLabels           []*Label   `xorm:\\"-\\"`\\n\\tMilestoneID      int64      `xorm:\\"INDEX\\"`\\n\\tMilestone        *Milestone `xorm:\\"-\\"`\\n\\tProject          *Project   `xorm:\\"-\\"`\\n\\tPriority         int\\n\\tAssigneeID       int64        `xorm:\\"-\\"`\\n\\tAssignee         *User        `xorm:\\"-\\"`\\n\\tIsClosed         bool         `xorm:\\"INDEX\\"`\\n\\tIsRead           bool         `xorm:\\"-\\"`\\n\\tIsPull           bool         `xorm:\\"INDEX\\"` // Indicates whether is a pull request or not.\\n\\tPullRequest      *PullRequest `xorm:\\"-\\"`\\n\\tNumComments      int\\n\\tRef              string\\n\\n\\tDeadlineUnix timeutil.TimeStamp `xorm:\\"INDEX\\"`\\n\\n\\tCreatedUnix timeutil.TimeStamp `xorm:\\"INDEX created\\"`\\n\\tUpdatedUnix timeutil.TimeStamp `xorm:\\"INDEX updated\\"`\\n\\tClosedUnix  timeutil.TimeStamp `xorm:\\"INDEX\\"`\\n\\n\\tAttachments      []*Attachment `xorm:\\"-\\"`\\n\\tComments         []*Comment    `xorm:\\"-\\"`\\n\\tReactions        ReactionList  `xorm:\\"-\\"`\\n\\tTotalTrackedTime int64         `xorm:\\"-\\"`\\n\\tAssignees        []*User       `xorm:\\"-\\"`\\n\\n\\t// IsLocked limits commenting abilities to users on an issue\\n\\t// with write access\\n\\tIsLocked bool `xorm:\\"NOT NULL DEFAULT false\\"`\\n\\n\\t// For view issue page.\\n\\tShowTag CommentTag `xorm:\\"-\\"`\\n}\\n```\\n\\n\u5173\u8054\u5185\u5BB9\\n\\n- \u4E0A\u4E0B\u6587\u5173\u8054: Repo, Project\\n- \u5143\u4FE1\u606F\u5173\u8054: Poster, OriginalAuthor, PullRequest\\n- \u5206\u7C7B\u5173\u8054: Labels, Milestone\\n- \u6307\u6D3E\u5173\u8054: Assignee, Assignees\\n- \u5185\u5BB9\u5173\u8054: Attachments, Comments, Reactions\\n\\n\u8BC4\u8BBA\u6838\u5FC3\u6A21\u578B\\n\\n```go\\n// Comment represents a comment in commit and issue page.\\ntype Comment struct {\\n\\tID               int64       `xorm:\\"pk autoincr\\"`\\n\\tType             CommentType `xorm:\\"INDEX\\"`\\n\\tPosterID         int64       `xorm:\\"INDEX\\"`\\n\\tPoster           *User       `xorm:\\"-\\"`\\n\\tOriginalAuthor   string\\n\\tOriginalAuthorID int64\\n\\tIssueID          int64  `xorm:\\"INDEX\\"`\\n\\tIssue            *Issue `xorm:\\"-\\"`\\n\\tLabelID          int64\\n\\tLabel            *Label   `xorm:\\"-\\"`\\n\\tAddedLabels      []*Label `xorm:\\"-\\"`\\n\\tRemovedLabels    []*Label `xorm:\\"-\\"`\\n\\tOldProjectID     int64\\n\\tProjectID        int64\\n\\tOldProject       *Project `xorm:\\"-\\"`\\n\\tProject          *Project `xorm:\\"-\\"`\\n\\tOldMilestoneID   int64\\n\\tMilestoneID      int64\\n\\tOldMilestone     *Milestone `xorm:\\"-\\"`\\n\\tMilestone        *Milestone `xorm:\\"-\\"`\\n\\tAssigneeID       int64\\n\\tRemovedAssignee  bool\\n\\tAssignee         *User `xorm:\\"-\\"`\\n\\tAssigneeTeamID   int64 `xorm:\\"NOT NULL DEFAULT 0\\"`\\n\\tAssigneeTeam     *Team `xorm:\\"-\\"`\\n\\tResolveDoerID    int64\\n\\tResolveDoer      *User `xorm:\\"-\\"`\\n\\tOldTitle         string\\n\\tNewTitle         string\\n\\tOldRef           string\\n\\tNewRef           string\\n\\tDependentIssueID int64\\n\\tDependentIssue   *Issue `xorm:\\"-\\"`\\n\\n\\tCommitID        int64\\n\\tLine            int64 // - previous line / + proposed line\\n\\tTreePath        string\\n\\tContent         string `xorm:\\"TEXT\\"`\\n\\tRenderedContent string `xorm:\\"-\\"`\\n\\n\\t// Path represents the 4 lines of code cemented by this comment\\n\\tPatch       string `xorm:\\"-\\"`\\n\\tPatchQuoted string `xorm:\\"TEXT patch\\"`\\n\\n\\tCreatedUnix timeutil.TimeStamp `xorm:\\"INDEX created\\"`\\n\\tUpdatedUnix timeutil.TimeStamp `xorm:\\"INDEX updated\\"`\\n\\n\\t// Reference issue in commit message\\n\\tCommitSHA string `xorm:\\"VARCHAR(40)\\"`\\n\\n\\tAttachments []*Attachment `xorm:\\"-\\"`\\n\\tReactions   ReactionList  `xorm:\\"-\\"`\\n\\n\\t// For view issue page.\\n\\tShowTag CommentTag `xorm:\\"-\\"`\\n\\n\\tReview      *Review `xorm:\\"-\\"`\\n\\tReviewID    int64   `xorm:\\"index\\"`\\n\\tInvalidated bool\\n\\n\\t// Reference an issue or pull from another comment, issue or PR\\n\\t// All information is about the origin of the reference\\n\\tRefRepoID    int64                 `xorm:\\"index\\"` // Repo where the referencing\\n\\tRefIssueID   int64                 `xorm:\\"index\\"`\\n\\tRefCommentID int64                 `xorm:\\"index\\"`    // 0 if origin is Issue title or content (or PR\'s)\\n\\tRefAction    references.XRefAction `xorm:\\"SMALLINT\\"` // What hapens if RefIssueID resolves\\n\\tRefIsPull    bool\\n\\n\\tRefRepo    *Repository `xorm:\\"-\\"`\\n\\tRefIssue   *Issue      `xorm:\\"-\\"`\\n\\tRefComment *Comment    `xorm:\\"-\\"`\\n\\n\\tCommits     *list.List `xorm:\\"-\\"`\\n\\tOldCommit   string     `xorm:\\"-\\"`\\n\\tNewCommit   string     `xorm:\\"-\\"`\\n\\tCommitsNum  int64      `xorm:\\"-\\"`\\n\\tIsForcePush bool       `xorm:\\"-\\"`\\n}\\n```\\n\\n\u56E0\u4E3A\u8BC4\u8BBA\u540C\u65F6\u8868\u793A\u4E86 Issue \u7684\u8BC4\u8BBA\u548C Commit \u8BC4\u8BBA\uFF0C\u56E0\u6B64\u5305\u542B\u4E86\u5F88\u591A\u63D0\u4EA4\u76F8\u5173\u7684\u4FE1\u606F\u3002\u8BC4\u8BBA\u6709\u76F8\u5F53\u591A\u7684\u7C7B\u578B\\n\\n```go\\nconst (\\n  // \u666E\u901A\u8BC4\u8BBA - \u53EF\u5173\u8054\u5230\u63D0\u4EA4\u548C\u884C\\n\\tCommentTypeComment CommentType = iota\\n\\tCommentTypeReopen\\n\\tCommentTypeClose\\n\\n\\tCommentTypeIssueRef         // \u5DE5\u5355\u5F15\u7528\\n\\tCommentTypeCommitRef        // \u63D0\u4EA4\u5F15\u7528\\n\\tCommentTypeCommentRef       // \u8BC4\u8BBA\u5F15\u7528\\n\\tCommentTypePullRef          // PR \u5F15\u7528\\n\\tCommentTypeLabel            // \u6807\u7B7E\u4FEE\u6539\\n\\tCommentTypeMilestone        // \u91CC\u7A0B\u7891\u4FEE\u6539\\n\\tCommentTypeAssignees        // \u6307\u6D3E\u4EBA\u4FEE\u6539\\n\\tCommentTypeChangeTitle      // \u6807\u9898\u4FEE\u6539\\n\\tCommentTypeDeleteBranch     // \u5220\u9664\u5206\u652F\\n\\tCommentTypeStartTracking    // \u5F00\u59CB\u65F6\u95F4\u8DDF\u8E2A\\n\\tCommentTypeStopTracking     // \u7ED3\u675F\u65F6\u95F4\u8DDF\u8E2A\\n\\tCommentTypeAddTimeManual    // \u624B\u52A8\u6DFB\u52A0\u65F6\u95F4\u8DDF\u8E2A\u4FE1\u606F\\n\\tCommentTypeCancelTracking   // \u53D6\u6D88\u65F6\u95F4\u8DDF\u8E2A\\n\\tCommentTypeAddedDeadline    // \u6DFB\u52A0\u622A\u6B62\u65E5\u671F\\n\\tCommentTypeModifiedDeadline // \u4FEE\u6539\u622A\u6B62\u65E5\u671F\\n\\tCommentTypeRemovedDeadline  // \u5220\u9664\u622A\u6B62\u65E5\u671F\\n\\tCommentTypeAddDependency    // \u6DFB\u52A0\u4F9D\u8D56\\n\\tCommentTypeRemoveDependency // \u5220\u9664\u4F9D\u8D56\\n\\tCommentTypeCode             // \u8BC4\u8BBA\u4EE3\u7801\u884C\\n\\tCommentTypeReview           // PR \u8BC4\u8BBA\u53CD\u9988\\n\\tCommentTypeLock             // \u9501\u5B9A\u5DE5\u5355\u4E3A\u534F\u4F5C\u8005\\n\\tCommentTypeUnlock           // \u89E3\u9501\u5DE5\u5355\\n\\tCommentTypeChangeTargetBranch // \u4FEE\u6539 PR \u76EE\u6807\u5206\u652F\\n\\tCommentTypeDeleteTimeManual // \u5220\u9664\u65F6\u95F4\u8DDF\u8E2A\\n\\tCommentTypeReviewRequest    // \u6DFB\u52A0\u6216\u5220\u9664\u5BA1\u6838\u8BF7\u6C42\\n\\tCommentTypeMergePull        // \u5408\u5E76 PR\\n\\tCommentTypePullPush         // \u63A8\u9001\u5230 PR head \u5206\u652F\\n\\tCommentTypeProject          // \u4FEE\u6539\u9879\u76EE\\n\\tCommentTypeProjectBoard     // \u4FEE\u6539\u9879\u76EE\u9762\u677F\\n)\\n```\\n\\n\u8BC4\u8BBA\u7C7B\u578B\u975E\u5E38\u8BE6\u7EC6\uFF0C\u56E0\u4E3A Issues \u662F\u57FA\u4E8E\u65F6\u95F4\u7EBF\u7684\u4E8B\u4EF6\uFF0C\u8BC4\u8BBA\u7B49\u540C\u4E8E\u6CE8\u91CA\uFF0C\u6BCF\u4E2A\u6CE8\u91CA\u90FD\u662F\u4E00\u4E2A\u547D\u4EE4\uFF0C\u4F7F\u7528\u547D\u4EE4\u7684\u65B9\u5F0F\u624D\u80FD\u5B9E\u73B0\u65F6\u95F4\u7EBF\u53D8\u5316\u3002\\n\\n## Gitlab\\n\\nGitlab \u76F8\u6BD4 Gitea \u7684 Issues \u529F\u80FD\u66F4\u52A0\u5F3A\u5927\\n\\n**Issues [\u529F\u80FD\u7279\u6027](https://docs.gitlab.com/ee/user/project/issues/)**\\n\\n- \u5185\u5BB9: \u6807\u9898, \u63CF\u8FF0, \u4EFB\u52A1\\n- \u4EBA\u5458: \u4F5C\u8005, \u6307\u6D3E\u4EBA\\n- \u72B6\u6001: \u6253\u5F00/\u5173\u95ED, \u5065\u5EB7\u72B6\u6001, \u53EF\u4FE1\u5EA6, \u4EFB\u52A1\u5B8C\u6210\u5EA6\\n- \u8BA1\u5212\u548C\u8DDF\u8E2A: \u91CC\u7A0B\u7891, \u622A\u6B62\u65E5\u671F\uFF0C\u6743\u91CD\uFF0C\u65F6\u95F4\u8DDF\u8E2A\uFF0C\u6807\u7B7E\uFF0C\u6295\u7968\uFF0C\u8868\u60C5\uFF0C\u5DE5\u5355\u5173\u8054\uFF0CEpic \u5173\u8054\uFF0C\u552F\u4E00\u7684\u7F16\u53F7\u548C\u5730\u5740\\n- \u5176\u4ED6\u76F8\u5173\u529F\u80FD\\n  - \u770B\u677F\\n  - Epic\\n  - \u670D\u52A1\u53F0/Service Deck\\n  - \u5916\u90E8\u96C6\u6210\\n  - \u5E26\u8303\u56F4\u652F\u6301\u5C42\u7EA7\u7684 Label\\n  - \u7528\u6237 Todo List\\n  - \u71C3\u5C3D\u56FE\\n  - \u5206\u7EC4\u7BA1\u7406 - \u7EC4\u7EA7\u522B\u53EF\u7EDF\u8BA1\u548C\u7BA1\u7406\u7EC4\u5185\u9879\u76EE\\n  - \u8FED\u4EE3\\n  - \u8BBE\u8BA1\u7BA1\u7406\\n  - \u4EF7\u503C\u6D41\\n  - \u6D1E\u5BDF\\n\\nIssues \u5BF9\u4E8E Gitlab \u6765\u8BF4\u4E0D\u53EA\u662F\u5DE5\u5355\u7BA1\u7406\uFF0C\u5728\u6700\u57FA\u7840\u7684\u529F\u80FD\u4E0A\u5B9E\u73B0\u4E86\u66F4\u591A\u7BA1\u7406\u548C\u5206\u6790\u76F8\u5173\u7684\u529F\u80FD\uFF0C\u4F5C\u4E3A\u6709\u4E00\u5B9A\u89C4\u6A21\u7684\u56E2\u961F\uFF0C\u8FD9\u4E9B\u9644\u52A0\u7684\u529F\u80FD\u90FD\u662F\u5F88\u6709\u5FC5\u8981\u7684\u3002\\n\\n\u6838\u5FC3 [issues](https://github.com/gitlabhq/gitlabhq/blob/2eaa60e4555bb11ad5c0af905217f0fa61cf7cc9/db/structure.sql#L13105) \\b \u8868\\n\\n- API [Reference](https://docs.gitlab.com/ee/api/api_resources.html)\\n- GraphQL [explorer](https://gitlab.com/-/graphql-explorer)\\n\\n```sql\\nCREATE TABLE issues (\\n    id integer NOT NULL,\\n    title character varying,\\n    author_id integer,\\n    project_id integer,                       -- \u9879\u76EE\u7BA1\u7406\\n    created_at timestamp without time zone,\\n    updated_at timestamp without time zone,\\n    description text,\\n    milestone_id integer,                     -- \u91CC\u7A0B\u7891\\n    iid integer,                              -- \u9879\u76EE\u5185 ID\\n    updated_by_id integer,\\n    weight integer,\\n    confidential boolean DEFAULT false NOT NULL,  -- \u9690\u79D8\\n    due_date date,                            -- \u622A\u6B62\u65E5\u671F\\n    moved_to_id integer,                      -- \u8FC1\u79FB\\n    lock_version integer DEFAULT 0,\\n    title_html text,\\n    description_html text,\\n    time_estimate integer,                    -- \u65F6\u95F4\u9884\u4F30\\n    relative_position integer,\\n    service_desk_reply_to character varying,\\n    cached_markdown_version integer,\\n    last_edited_at timestamp without time zone,\\n    last_edited_by_id integer,\\n    discussion_locked boolean,\\n    closed_at timestamp with time zone,\\n    closed_by_id integer,\\n    state_id smallint DEFAULT 1 NOT NULL,     -- \u72B6\u6001\\n    duplicated_to_id integer,                 -- \u91CD\u590D\u6807\u5FD7\\n    promoted_to_epic_id integer,              -- epic\\n    health_status smallint,                   -- \u5065\u5EB7\u72B6\u6001\\n    external_key character varying(255),      -- \u5916\u90E8\u5173\u8054\\n    sprint_id bigint,                         -- sprint \u5173\u8054\\n    issue_type smallint DEFAULT 0 NOT NULL,   -- \u7C7B\u578B\\n    blocking_issues_count integer DEFAULT 0 NOT NULL,\\n    CONSTRAINT check_fba63f706d CHECK ((lock_version IS NOT NULL))\\n);\\n\\n\\n-- \u63D0\u53CA\u7684\u7528\u6237\\nCREATE TABLE issue_user_mentions (\\n    id bigint NOT NULL,\\n    issue_id integer NOT NULL,\\n    note_id integer,\\n    mentioned_users_ids integer[],\\n    mentioned_projects_ids integer[],\\n    mentioned_groups_ids integer[]\\n);\\n-- \u6307\u6D3E\u5173\u7CFB\\nCREATE TABLE issue_assignees (\\n    user_id integer NOT NULL,\\n    issue_id integer NOT NULL\\n);\\n-- \u90AE\u4EF6 - service desk\\nCREATE TABLE issue_email_participants (\\n    id bigint NOT NULL,\\n    issue_id bigint NOT NULL,\\n    created_at timestamp with time zone NOT NULL,\\n    updated_at timestamp with time zone NOT NULL,\\n    email text NOT NULL\\n);\\n-- slas\\nCREATE TABLE issuable_slas (\\n    id bigint NOT NULL,\\n    issue_id bigint NOT NULL,\\n    due_at timestamp with time zone NOT NULL\\n);\\n-- \u4E25\u91CD\u7A0B\u5EA6\\nCREATE TABLE issuable_severities (\\n    id bigint NOT NULL,\\n    issue_id bigint NOT NULL,\\n    severity smallint DEFAULT 0 NOT NULL\\n);\\n-- epic\\nCREATE TABLE epic_issues (\\n    id integer NOT NULL,\\n    epic_id integer NOT NULL,\\n    issue_id integer NOT NULL,\\n    relative_position integer\\n);\\n```\\n\\nGitlab \u4E0D\u662F\u901A\u8FC7\u6CE8\u91CA\u6765\u5173\u8054\u6D3B\u52A8\uFF0C\u800C\u662F\u901A\u8FC7 events \u8FDB\u884C\u5173\u8054\u3002\u4F8B\u5982\\n\\n```sql\\n-- \u8FED\u4EE3\u4E8B\u4EF6\\nCREATE TABLE resource_iteration_events (\\n    id bigint NOT NULL,\\n    user_id bigint NOT NULL,\\n    issue_id bigint,\\n    merge_request_id bigint,\\n    iteration_id bigint,\\n    created_at timestamp with time zone NOT NULL,\\n    action smallint NOT NULL\\n);\\n-- \u6807\u7B7E\u4E8B\u4EF6\\nCREATE TABLE resource_label_events (\\n    id bigint NOT NULL,\\n    action integer NOT NULL,\\n    issue_id integer,\\n    merge_request_id integer,\\n    epic_id integer,\\n    label_id integer,\\n    user_id integer,\\n    created_at timestamp with time zone NOT NULL,\\n    cached_markdown_version integer,\\n    reference text,\\n    reference_html text\\n);\\n-- \u91CC\u7A0B\u7891\u4E8B\u4EF6\\nCREATE TABLE resource_milestone_events (\\n    id bigint NOT NULL,\\n    user_id bigint,\\n    issue_id bigint,\\n    merge_request_id bigint,\\n    milestone_id bigint,\\n    action smallint NOT NULL,\\n    state smallint NOT NULL,\\n    created_at timestamp with time zone NOT NULL\\n);\\n-- \u72B6\u6001\u4E8B\u4EF6\\nCREATE TABLE resource_state_events (\\n    id bigint NOT NULL,\\n    user_id bigint,\\n    issue_id bigint,\\n    merge_request_id bigint,\\n    created_at timestamp with time zone NOT NULL,\\n    state smallint NOT NULL,\\n    epic_id integer,\\n    source_commit text,\\n    close_after_error_tracking_resolve boolean DEFAULT false NOT NULL,\\n    close_auto_resolve_prometheus_alert boolean DEFAULT false NOT NULL,\\n    source_merge_request_id bigint,\\n    CONSTRAINT check_f0bcfaa3a2 CHECK ((char_length(source_commit) <= 40)),\\n    CONSTRAINT state_events_must_belong_to_issue_or_merge_request_or_epic CHECK ((((issue_id <> NULL::bigint) AND (merge_request_id IS NULL) AND (epic_id IS NULL)) OR ((issue_id IS NULL) AND (merge_request_id <> NULL::bigint) AND (epic_id IS NULL)) OR ((issue_id IS NULL) AND (merge_request_id IS NULL) AND (epic_id <> NULL::integer))))\\n);\\n-- \u6743\u91CD\u4E8B\u4EF6\\nCREATE TABLE resource_weight_events (\\n    id bigint NOT NULL,\\n    user_id bigint,\\n    issue_id bigint NOT NULL,\\n    weight integer,\\n    created_at timestamp with time zone NOT NULL\\n);\\n```\\n\\n\u4F7F\u7528\u4E8B\u4EF6\u7684\u6A21\u5F0F\u5219\u90FD\u662F\u53CD\u5411\u5173\u8054\uFF0C\u6269\u5C55\u6027\u76F8\u5BF9\u901A\u8FC7 Type+\u6761\u4EF6\u5B57\u6BB5 \u66F4\u597D\uFF0C\u6A21\u5757\u4E4B\u95F4\u5F71\u54CD\u4E5F\u4F1A\u66F4\u5C0F\u3002\u4F46\u9700\u8981\u67E5\u8BE2\u6240\u6709\u7684\u4E8B\u4EF6\u5219\u4F1A\u9EBB\u70E6\u4E00\u70B9\u3002\\n\\nGitlab \u7684 Issues \u9875\u9762\u662F\u5728\u670D\u52A1\u7AEF\u751F\u6210\u7684\uFF0C\u4E14\u751F\u6210\u7684\u5185\u5BB9\u4F1A\u7F13\u5B58\uFF0CMarkdown \u751F\u6210\u7684 HTML \u4F1A\u76F4\u63A5\u5199\u5165\u8868\u4E2D\uFF0C\u67D0\u79CD\u7A0B\u5EA6\u4E0A\u51CF\u5C11\u4E86\u9700\u8981\u5BA2\u6237\u7AEF\u62C9\u53D6\u6240\u6709\u4E8B\u4EF6\u7684\u590D\u6742\u5EA6\u3002\\n\\n## \u603B\u7ED3\\n\\n\u867D\u7136\u53EA\u770B\u4E86 Gitea \u548C Gitlab \u7684\u5B9E\u73B0\uFF0C\u4F46\u4E5F\u8DB3\u591F\u6709\u53C2\u8003\u610F\u4E49\uFF0C\u5982\u679C\u8981\u5B9E\u73B0\u7B80\u5355\u7684\u5DE5\u5355\u7CFB\u7EDF\uFF0C\u53EF\u80FD\u4F1A\u9009\u62E9\u7B2C\u4E00\u79CD\uFF0C\u4F46\u8981\u5B9E\u73B0\u590D\u6742\u7684\u903B\u8F91\u5219\u8003\u8651\u9009\u62E9\u7B2C\u4E8C\u79CD\u65B9\u5F0F\u3002"},{"id":"crm-basic-leads-opportunities-accounts-contacts","metadata":{"permalink":"/story/crm-basic-leads-opportunities-accounts-contacts","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2020/2020-12-26-crm-basic.md","source":"@site/../story/2020/2020-12-26-crm-basic.md","title":"CRM \u57FA\u7840 - \u7EBF\u7D22\u3001\u5546\u673A\u3001\u8D26\u6237\u3001\u8054\u7CFB\u4EBA","description":"CRM \u57FA\u7840 - \u7EBF\u7D22\u3001\u5546\u673A\u3001\u8D26\u6237\u3001\u8054\u7CFB\u4EBA","date":"2020-12-26T00:00:00.000Z","tags":[{"inline":true,"label":"CRM","permalink":"/story/tags/crm"},{"inline":true,"label":"\u67B6\u6784","permalink":"/story/tags/\u67B6\u6784"}],"readingTime":4.17,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"crm-basic-leads-opportunities-accounts-contacts","title":"CRM \u57FA\u7840 - \u7EBF\u7D22\u3001\u5546\u673A\u3001\u8D26\u6237\u3001\u8054\u7CFB\u4EBA","hide_title":true,"tags":["CRM","\u67B6\u6784"]},"unlisted":false,"prevItem":{"title":"\u5DE5\u5355\u7CFB\u7EDF\u8BBE\u8BA1\u5B9E\u73B0","permalink":"/story/issues-system-design"},"nextItem":{"title":"Rancher vs. Kubesphere","permalink":"/story/rancher-vs-kubesphere"}},"content":"## CRM \u57FA\u7840 - \u7EBF\u7D22\u3001\u5546\u673A\u3001\u8D26\u6237\u3001\u8054\u7CFB\u4EBA\\n\\n- \u7EBF\u7D22 - leads\\n  - \u662F \u8425\u9500/marketing \u4E0E \u9500\u552E/sales \u7684\u4EA4\u754C\u70B9\\n  - \u8425\u9500\u8D1F\u8D23\u521B\u9020\u3001\u53D1\u73B0\u7EBF\u7D22\uFF0C\u9500\u552E\u4EBA\u5458\u9700\u8981\u4ECE\u7EBF\u7D22\u6316\u6398\u5546\u673A\u8FDB\u884C\u9500\u552E\u8F6C\u5316\\n  - \u6316\u6398\u8FC7\u7A0B\u5C31\u662F\u5224\u65AD\u7EBF\u7D22\u662F\u5426\u5408\u683C\uFF08qualify\uFF09\u6216\u4E0D\u5408\u683C\uFF08disqualify\uFF09\u7684\u8FC7\u7A0B\uFF0C\u5982\u679C\u5408\u683C\u5219\u80FD\u88AB\u8F6C\u5316\u4E3A\u5546\u673A\\n  - \u7EBF\u7D22\u8868\u793A\u7684 **\u6F5C\u5728** \u7684 **\u9500\u552E\u76EE\u6807**\\n  - \u5305\u542B\u57FA\u7840\u7684\u6307\u5411\u4FE1\u606F - \u4F8B\u5982 \u540D\u7247\u3001\u7535\u8BDD\u53F7\u7801+\u540D\u5B57\\n- \u5546\u673A - opportunities\\n  - \u5546\u673A\u53EF\u7531\u7EBF\u7D22\u8F6C\u5316\uFF0C\u4E5F\u53EF\u76F4\u63A5\u5F55\u5165\\n  - \u5546\u673A\u540C\u65F6\u4E5F\u662F\u8054\u7CFB\u4EBA\uFF08contact\uFF09\uFF0C\u5728\u521B\u5EFA\u5546\u673A\u65F6\u81EA\u52A8\u521B\u5EFA\u5173\u8054\u7684\u8054\u7CFB\u4EBA\u548C\u8D26\u6237\\n  - \u5546\u673A=\u6F5C\u5728\u9500\u552E\u76EE\u6807\uFF08lead+contact\uFF09+\u6F5C\u5728\u53EF\u9500\u552E\u670D\u52A1\\n- \u8D26\u6237 - accounts\\n  - B2B \u5173\u7CFB\u5F80\u6765\u76EE\u6807 - \u901A\u5E38\u5BF9\u65B9\u4E3A\u516C\u53F8\\n  - \u5173\u7CFB\u5F80\u6765\u7C7B\u578B\u4E0D\u53EA\u662F\u9500\u552E\u5BA2\u6237\u5173\u7CFB\uFF0C\u8FD8\u53EF\u80FD\u662F \u5408\u4F5C\u4F19\u4F34\uFF08partner\uFF09\u3001\u4F9B\u5E94\u5546\uFF08vendor\uFF09 \u7B49\\n  - \u6709\u5C42\u7EA7\u5173\u7CFB\uFF0C\u652F\u6301\u590D\u6742\u7684\u7EC4\u7EC7\u7ED3\u6784\\n- \u8054\u7CFB\u4EBA - contacts\\n  - B2B \u5173\u7CFB\u4E2D\u5BF9\u65B9\u516C\u53F8\u5B9E\u9645\u64CD\u4F5C\u7684\u4EBA - \u4F8B\u5982 \u4E0B\u5355\u3001\u5BA1\u6838\u3001\u5904\u7406\u53D1\u7968\u6536\u636E \u7684 **\u4EBA**\\n\\n\x3c!-- more --\x3e\\n\\n## \u4ECE Issues \u770B CRM \u57FA\u7840\u6982\u5FF5\\n\\n\u4F5C\u4E3A\u4E00\u4E2A\u5F00\u53D1\u8005\uFF0C\u5BF9 Issues/\u5DE5\u5355/\u8BAE\u9898 \u66F4\u52A0\u719F\u6089\u3002\u7BA1\u7406\u7684\u597D\u7684\u5DE5\u5355\u4F1A\u4F7F\u5F97\u6574\u4E2A\u5F00\u53D1\u6D41\u7A0B\u66F4\u52A0\u987A\u7545\uFF0C\u7BA1\u7406\u7684\u4E0D\u597D\u5219\u4F1A\u5BFC\u81F4\u5DE5\u5355\u66B4\u589E\u5BFC\u81F4\u65E0\u6CD5\u6536\u5C3E\u6700\u7EC8\u53EA\u6709\u5927\u6279\u91CF\u5173\u95ED\u3002\\n\\n\u5DE5\u5355\u7ECF\u5386\u53D1\u73B0\u3001\u521B\u5EFA\u3001\u786E\u8BA4\u3001\u4FEE\u590D\u3001\u5173\u95ED\u3002\u8FD9\u4E2A\u8FC7\u7A0B\u4E0E CRM \u7684 \u7EBF\u7D22\u3001\u5546\u673A\u3001\u6210\u4EA4\u8FC7\u7A0B\u5341\u5206\u76F8\u4F3C\u3002\\n\\n\u5DE5\u5355\u770B\u4F3C\u662F\u7EBF\u6027\u7684\uFF0C\u4F46\u5B9E\u9645\u5904\u7406\u7684\u65F6\u5019\u53C8\u662F\u6D41\u7A0B\u5316\u7684\uFF0C\u8FD9\u4E2A\u6D41\u7A0B\u5E76\u4E0D\u56FA\u5B9A\uFF0C\u800C\u662F\u53D6\u51B3\u4E8E\u5F53\u524D\u95EE\u9898\u7684\u72B6\u6001\u3001\u7C7B\u578B\u3001\u6307\u6D3E\u4EBA\u3002\\n\\n\u4EE5 kubernetes \u7684 [issues](https://github.com/kubernetes/kubernetes/issues) \u4E3A\u4F8B\uFF0C\u5927\u91CF\u7684 issues \u90FD\u4F1A\u6253\u4E0A[\u5404\u79CD\u6807\u7B7E](https://github.com/kubernetes/kubernetes/labels?sort=count-desc)\u3002\\n\\n| Label             | CRM          |\\n| ----------------- | ------------ |\\n| needs-triage      | \u5F85\u8DDF\u8FDB       |\\n| triage/unresolved | \u65E0\u6548\u7684       |\\n| triage/accepted   | \u5DF2\u786E\u8BA4       |\\n| `kind/*`          | \u5212\u5206\u7C7B\u578B     |\\n| `area/*`          | \u5212\u5206\u670D\u52A1\u8303\u56F4 |\\n\\nCRM \u7684\u6838\u5FC3\u662F **\u534F\u4F5C**\uFF0C\u5DE5\u5355\u7684\u6807\u7B7E\u7CFB\u7EDF\u4E5F\u662F\u4E3A\u4E86\u65B9\u4FBF\u534F\u4F5C\uFF0C\u4E0D\u540C\u7684\u9879\u76EE\u4F7F\u7528\u7684\u4F53\u7CFB\u4E0D\u5C3D\u76F8\u540C\uFF0C\u56E0\u4E3A\u573A\u666F\u548C\u5904\u7406\u6D41\u7A0B\u4E0D\u540C\uFF0C\u4F46\u6838\u5FC3\u76EE\u7684\u90FD\u662F\u4E3A\u4E86\u534F\u4F5C\u89E3\u51B3\u95EE\u9898\u3002\\n\\n\u901A\u8FC7\u5DE5\u5355\u7684\u6807\u7B7E\u5B9A\u4E49\u53EF\u89C2\u6D4B\u51FA\u5904\u7406\u6D41\u7A0B\uFF0C\u8FD9\u6837\u7684\u5904\u7406\u6D41\u7A0B\u662F\u4E00\u5957 **\u9879\u76EE\u7BA1\u7406\u6846\u67B6**\uFF0CCRM \u4E2D\u9500\u552E\u4E5F\u9700\u8981\u4E00\u5957\u884C\u4E4B\u6709\u6548\u7684\u6846\u67B6\uFF0C\u53EA\u6709\u5F53\u9500\u552E\u4EBA\u5458\u9075\u5FAA\u4E00\u5957\u6846\u67B6\u4F53\u7CFB\u65F6\u6D41\u7A0B\u624D\u53EF\u80FD\u5F97\u4EE5\u4F18\u5316\u3002\\n\\n\u5927\u5C0F\u9879\u76EE\u7684\u6807\u7B7E\u5206\u53D1\u6D41\u7A0B\u4F53\u7CFB\u4E0D\u540C\uFF0C\u5C31\u597D\u6BD4\u5927\u5C0F\u516C\u53F8\u5BF9 CRM \u8981\u6C42\u4E0D\u540C\uFF0C\u521D\u671F\u7684\u9700\u6C42\u53EA\u8981\u8BB0\u5F55\u4FE1\u606F\uFF0C\u4E2D\u9636\u7684\u8981\u6C42\u9700\u8981\u80FD\u6309\u4EBA\u5458\u6309\u6307\u8D23\u53BB\u6D41\u8F6C\u8DDF\u8FDB\uFF0C\u9AD8\u9636\u7684\u5219\u9700\u8981\u96C6\u6210\u5927\u91CF\u7684\u5916\u90E8\u7CFB\u7EDF\u4F7F\u5F97\u6D41\u7A0B\u81EA\u52A8\u5316\u3002\\n\\n\u5DE5\u5355\u7CFB\u7EDF\u8FD9\u6837\u7684\u81EA\u52A8\u5316\u6BD4\u4F20\u7EDF CRM \u4E00\u6761\u4E00\u6761\u8BB0\u5F55\u66F4\u52A0\u667A\u80FD\uFF0C\u4F8B\u5982 Github \u80FD\u96C6\u6210\u5404\u79CD\u7B2C\u4E09\u65B9\u7684 CI/CD \u4F53\u73B0\u72B6\u6001\uFF0C\u96C6\u6210\u5404\u79CD\u673A\u5668\u4EBA\u5BF9 issue \u8FDB\u884C\u81EA\u52A8\u6253\u6807\uFF0C\u8FD8\u6709\u6700\u5E38\u89C1\u7684\u673A\u5668\u4EBA\u6807\u8BB0 issue \u8FC7\u671F\u5E76\u81EA\u52A8\u5173\u95ED\u3002\\n\\n\u4E0D\u7BA1\u662F\u5DE5\u5355\u8FD8\u662F CRM \u7684\u8DDF\u8FDB\u4F53\u7CFB\u6700\u91CD\u8981\u7684\u662F\u8FBE\u5230\u6700\u7EC8\u5B8C\u6210\u72B6\u6001\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u9700\u8981\u63A8\u8FDB\u5219\u9700\u8981\u7CFB\u7EDF\u8FDB\u884C\u8F85\u52A9\uFF0C\u6700\u5E38\u89C1\u7684\u5C31\u662F\u786E\u5B9A\u4E0B\u4E00\u4EF6\u4E8B\u7684\u65F6\u95F4\u8282\u70B9\uFF0C\u5C06\u4E0D\u540C\u7684\u5DE5\u5355/\u8DDF\u8FDB\u5206\u6D41\u7ED9\u4E0D\u540C\u7684\u4EBA\u53BB\u5904\u7406\u3002\\n\\n\u5DE5\u5355/\u8DDF\u8FDB\u90FD\u662F\u975E\u5E38\u539F\u59CB/\u539F\u5B50\uFF08primitive\uFF09\u7684\u5BF9\u8C61\uFF0C\u5728\u8FD9\u6837\u7684\u4F53\u7CFB\u4E4B\u4E0A\u53EF\u4EE5\u6784\u5EFA\\n\\n- \u770B\u677F\\n- \u91CC\u7A0B\u7891\\n- \u5F85\u529E\u5217\u8868/Todo List\\n- Epic\\n- \u5916\u90E8\u96C6\u6210\\n- \u81EA\u52A8\u5316\\n\\n\u4F5C\u4E3A\u9A71\u52A8 CRM \u9500\u552E\u65E5\u5E38\u4E8B\u52A1\u6765\u8BF4\u662F\u975E\u5E38\u6709\u7528\u7684\u3002\\n\\n\u4F46\uFF0C\u5DE5\u5355\u7CFB\u7EDF\u4E0E\u8DDF\u8FDB\u4E5F\u6709\u5F88\u591A\u4E0D\u540C\u70B9\uFF1A\\n\\n| -        | \u5DE5\u5355              | \u9500\u552E\u8DDF\u8FDB                    |\\n| -------- | ----------------- | --------------------------- |\\n| \u53EF\u89C1\u6027   | \u516C\u5F00\u3001\u5C0F\u7EC4        | \u4E2A\u4EBA\u3001\u5C0F\u7EC4                  |\\n| \u5185\u5BB9     | \u6587\u672C\u3001\u8BC4\u8BBA\u3001\u6D3B\u52A8  | \u8868\u5355\u3001\u6D3B\u52A8\u3001\u9644\u4EF6            |\\n| \u5185\u5BB9\u76EE\u6807 | \u4E8B                | \u4EBA+\u4E8B                       |\\n| \u534F\u4F5C\u4EBA\u5458 | \u5F00\u53D1+\u6D4B\u8BD5+\u8BBE\u8BA1+PM | \u9500\u552E\u4E2A\u4EBA+\u9500\u552E\u5C0F\u7EC4+\u5BA2\u670D+\u7ECF\u7406 |\\n| KPI      | \u5C0F\u7EC4\u76F8\u5173          | \u4E2A\u4EBA\u76F8\u5173\u3001\u5C0F\u7EC4\u76F8\u5173          |\\n| \u9891\u5EA6     | \u9AD8                | \u4F4E                          |\\n| \u5DE5\u4F5C\u5185\u5BB9 | PR, \u63D0\u4EA4          | \u7535\u8BDD\u3001\u6C9F\u901A\u3001\u65E5\u5E38\u4E8B\u52A1        |\\n\\n## \u7EBF\u7D22\u3001\u5546\u673A\u3001\u8D26\u6237\u3001\u8054\u7CFB\u4EBA\\n\\n\u56DE\u5230\u672C\u6765\u7684\u5173\u6CE8\u70B9\uFF0C\u5148\u53C2\u7167\u73B0\u6709\u7684\u7CFB\u7EDF\u8BBE\u8BA1\u3002\\n\\n### Dynamic 365\\n* [Lead Entity](https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/entities/lead)\\n* [Opportunity Entity](https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/entities/opportunity)\\n* [Account Entity](https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/entities/account)\\n* [Contact Entity](https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/entities/contact)\\n* [ActivityPointer](https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/entities/activitypointer)\\n  * \u5DF2\u5B8C\u6210\u6216\u672A\u5B8C\u6210\u7684\u4E8B\u52A1\\n* [ActivityParty](https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/entities/activityparty)\\n  * \u6D3B\u52A8\u53C2\u4E0E\u65B9\\n\\n\u5176\u4E2D\u7684 Activity \u6D3B\u52A8\u6982\u5FF5\u5176\u5B9E\u5C31\u5BF9\u5E94\u4E86\u5DE5\u5355\u4E2D\u7684\u6D3B\u52A8\u8BB0\u5F55\uFF0C\u6240\u6709\u7684\u8DDF\u8FDB\u8FC7\u7A0B\u90FD\u4EE5\u6D3B\u52A8\u5448\u73B0\u3002\u4F3C\u4E4E\u63A5\u4E0B\u6765\u8BE5\u4E86\u89E3\u4E00\u4E0B\u5DE5\u5355\u7CFB\u7EDF\u7684\u5B9E\u73B0\u4E86\\n\\n## \u53C2\u8003\\n\\n- [Understanding leads, opportunities, accounts and contacts in CRM](https://yaweriqbal.com/2016/01/10/understanding-leads-opportunities-accounts-and-contacts-in-crm/)\\n- [How Salesforce Manages Leads, Contacts, Accounts and Opportunities](https://www.salesforcetraining.com/salesforce-manages-leads-contacts-accounts-opportunities/)\\n- Gitlab [Issues](https://docs.gitlab.com/ee/user/project/issues/)"},{"id":"rancher-vs-kubesphere","metadata":{"permalink":"/story/rancher-vs-kubesphere","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2020/2020-10-27-rancher-vs-kubesphere.md","source":"@site/../story/2020/2020-10-27-rancher-vs-kubesphere.md","title":"Rancher vs. Kubesphere","description":"| info.                 | Rancher                                                 | Kubesphere                                                          |","date":"2020-10-27T00:00:00.000Z","tags":[{"inline":true,"label":"Kubernetes","permalink":"/story/tags/kubernetes"},{"inline":true,"label":"\u8FD0\u7EF4","permalink":"/story/tags/\u8FD0\u7EF4"}],"readingTime":9.67,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"rancher-vs-kubesphere","title":"Rancher vs. Kubesphere","hide_title":true,"tags":["Kubernetes","\u8FD0\u7EF4"]},"unlisted":false,"prevItem":{"title":"CRM \u57FA\u7840 - \u7EBF\u7D22\u3001\u5546\u673A\u3001\u8D26\u6237\u3001\u8054\u7CFB\u4EBA","permalink":"/story/crm-basic-leads-opportunities-accounts-contacts"},"nextItem":{"title":"Firecracker \u8FD0\u884C AlpineLinux","permalink":"/story/alpine-in-firecracker"}},"content":"| info.                 | Rancher                                                 | Kubesphere                                                          |\\n| --------------------- | ------------------------------------------------------- | ------------------------------------------------------------------- |\\n| \u5F00\u53D1\u8005                | Rancher/SUSE                                            | \u9752\u4E91\u5F00\u6E90                                                            |\\n| \u6E90\u7801                  | [rancher/rancher](https://github.com/rancher/rancher)   | [kubesphere/kubesphere](https://github.com/kubesphere/kubesphere)   |\\n| Stars                 | 15.5k                                                   | 4.6k                                                                |\\n| \u5F00\u6E90\u534F\u8BAE              | Apache-2.0                                              | \u63A7\u5236\u5668 Apache-2.0 <br/> \u524D\u7AEF **AGPL-3.0** / \u4E0D\u5141\u8BB8\u5546\u4E1A\u95ED\u6E90\u4FEE\u6539\u524D\u7AEF  |\\n| \u5B89\u88C5                  | Helm                                                    | ks-installer(Ansible)+CRD                                           |\\n| \u90E8\u7F72 K8S              | rke/rancher                                             | kubekey                                                             |\\n| \u7248\u672C                  | v2.5                                                    | v3.0                                                                |\\n| \u76D1\u63A7                  | Grafana+Prometheus                                      | Prometheus+\u524D\u7AEF\u96C6\u6210                                                 |\\n| \u544A\u8B66                  | Grafana/Altermanager                                    | \u90AE\u4EF6\u3001\u4F01\u4E1A\u5FAE\u4FE1\u3001Slack                                               |\\n| \u65E5\u5FD7                  | Banzi Operator                                          | Elasticseach, fluentbit + \u524D\u7AEF\u96C6\u6210<br/>\u4E8B\u4EF6\u65E5\u5FD7\uFF0C\u5BA1\u8BA1\u65E5\u5FD7           |\\n| ServiceMesh           | Istio                                                   | Istio                                                               |\\n| DevOps                | 2.5 \u4E4B\u540E Fleet GitOps<br/>~~2.5 \u4E4B\u524D Pipeline/Jenkins~~ | Jenkins                                                             |\\n| \u5E94\u7528\u5546\u5E97              | Helm Repo                                               | [openpitrix/openpitrix](https://github.com/openpitrix/openpitrix)   |\\n| \u89D2\u8272\u6743\u9650\u7BA1\u7406          | \u2705                                                      | \u2705                                                                  |\\n| \u914D\u7F6E\u65B9\u5F0F              | Web UI/CRD                                              | \u7F16\u8F91 CRD/yaml                                                       |\\n| \u5E94\u7528                  | Helm                                                    | Helm/[CRD](https://github.com/kubernetes-sigs/application)          |\\n| \u5B9E\u73B0\u4F9D\u8D56              | -                                                       | etcd+redis+minio+openldap+mysql                                     |\\n| \u5B9E\u73B0\u670D\u52A1              | rancher+fleet                                           | ks-controller-manager<br/>ks-apiserver+ks-console                   |\\n| \u591A\u96C6\u7FA4                | \u2705                                                      | \u2705                                                                  |\\n| UI \u7F8E\u89C2               | \u2B50\uFE0F\u2B50\uFE0F                                                  | \u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F                                                           |\\n| UI \u529F\u80FD               | \u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F                                               | \u2B50\uFE0F\u2B50\uFE0F                                                              |\\n| \u4E91\u5E73\u53F0\u96C6\u6210            | \u2B50\uFE0F\u2B50\uFE0F                                                  | \u274C                                                                  |\\n| \u6587\u6863                  | \u2B50\uFE0F\u2B50\uFE0F                                                  | \u2B50\uFE0F                                                                 |\\n| \u5F00\u53D1\u53CB\u597D              | \u2B50\uFE0F                                                     | \u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F                                                           |\\n| \u8FD0\u7EF4\u53CB\u597D              | \u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F                                               | \u2B50\uFE0F                                                                 |\\n| \u4F7F\u7528\u8005\u5BF9 K8S \u638C\u63E1\u7A0B\u5EA6 | \u9AD8                                                      | \u4F4E                                                                  |\\n| \u6838\u5FC3\u4F53\u9A8C              | \u591A\u96C6\u7FA4\u8FD0\u7EF4\u90E8\u7F72                                          | \u53CB\u597D\u7684\u4E00\u4F53\u5316\u5F00\u53D1<br/>\u53CB\u597D=\u7F8E\u89C2\u7684\u754C\u9762<br/>\u4E00\u4F53\u5316\u5F00\u53D1=Jenkins+Elastic |\\n| \u6838\u5FC3\u7ADE\u4E89\u529B            | \u591A\u96C6\u7FA4<br/>\u8D44\u6E90\u7BA1\u7406\u8FD0\u7EF4<br/>\u6838\u5FC3\u5E94\u7528\u96C6\u6210                | \u96C6\u6210\u591A\u529F\u80FD\u7684**\u7F8E\u89C2\u754C\u9762** / AGPL-3.0                                 |\\n\\n\x3c!-- more --\x3e\\n\\n:::tip\\n\\n- \u9009\u62E9 Kubesphere\\n  - \u5982\u679C\u72B9\u8C6B - \u56E0\u4E3A\u4F7F\u7528\u7B80\u5355\\n  - \u5982\u679C\u8FFD\u6C42\u754C\u9762\u7F8E\u89C2\\n  - \u5982\u679C\u5DE5\u4F5C\u4EE5\u5F00\u53D1\u4E3A\u4E3B\\n  - \u5982\u679C\u5E0C\u671B\u5B9A\u5236\u5316\u4EA7\u51FA\u81EA\u5DF1\u5E73\u53F0\u7BA1\u7406\\n    - \u754C\u9762 AGPL-3.0 ,\u5B9A\u5236\u540E\u7684\u95ED\u6E90\u5546\u4E1A\u4EA7\u54C1\u9700\u4ED8\u8D39\\n- \u9009\u62E9 Rancher\\n  - \u5982\u679C\u5BF9 Kubernetes \u638C\u63E1\u900F\u5F7B\\n  - \u5982\u679C\u9700\u8981\u7BA1\u7406\u591A\u96C6\u7FA4\\n  - \u5982\u679C\u5DE5\u4F5C\u4EE5\u8FD0\u7EF4\u90E8\u7F72\u4E3A\u4E3B\\n  - \u5982\u679C\u9700\u8981\u6574\u5408\u4E91\u5E73\u53F0\u8D44\u6E90\\n\\n:::\\n\\n\u7EFC\u5408\u4F7F\u7528\u4E0B\u6765\u540E\u89C9\u5F97 Kubesphere \u4E0E Rancher \u5E94\u7528\u573A\u666F\u5E76\u4E0D\u7279\u522B\u91CD\u590D\uFF0C\u6309\u81EA\u5DF1\u7684\u9700\u6C42\u9009\u62E9\u5373\u53EF\uFF0C\u5B9E\u9645\u60C5\u51B5\u53EF\u80FD\u662F\u4E24\u4E2A\u90FD\u7528\u3002Ranher \u7528\u4E8E\u7BA1\u7406\u548C\u5F00\u901A\u96C6\u7FA4\uFF0CKubesphere \u7528\u4E8E\u7ED9\u5F00\u53D1\u8005\u64CD\u4F5C\u5355\u4E2A\u96C6\u7FA4\u3002\\n\\n## Rancher\\n\\n### \u4F18\u70B9\\n\\n- \u66F4\u5927\u7684\u5F00\u53D1\u56E2\u961F\\n- \u66F4\u597D\u7684 K3S \u652F\u6301\\n- \u66F4\u597D\u7684\u4E91\u5E73\u53F0\u652F\u6301\\n- \u66F4\u597D\u7684\u591A\u96C6\u7FA4\u7BA1\u7406\\n- \u9ED8\u8BA4 HTTPS\\n- \u4E3A\u4EC0\u4E48\u66F4\u597D\uFF1F\\n  - 2.5 \u7684 Exploere\\n  - WebShell \u4F1A\u663E\u793A Helm \u5B89\u88C5\u8FC7\u7A0B\\n  - \u5185\u7F6E Helm \u4ED3\u5E93\u5305\u542B Rancher \u96C6\u6210\u5E94\u7528\\n  - Helm Values \u80FD\u88AB\u6620\u5C04\u4E3A Form \u8868\u5355\\n  - \u96C6\u7FA4\u5907\u4EFD\u6062\u590D\\n  - Fleet GitOps\\n\\n### \u7F3A\u70B9\\n\\n- \u8981\u6C42\u4F7F\u7528\u4EBA\u5458\u5BF9 Kubernetes \u6709\u4E00\u5B9A\u8BA4\u77E5\u548C\u8FD0\u7EF4\u80FD\u529B\\n- WebUI \u4F7F\u7528\u8D77\u6765\u603B\u6709\u79CD\u5361\u987F\u7684\u611F\u89C9\\n- 2.5 \u7684\u65B0 UI \u76EE\u524D\u52A0\u8F7D\u603B\u4F1A\u95EA\u70C1 - Loadding\\n- \u8D44\u6E90\u5206\u7C7B\u6709\u70B9\u6DF7\u4E71 - \u6CA1\u6709 Lens \u6E05\u6670\\n- ~2.5 \u8FD8\u5728 latest \u9636\u6BB5\uFF0C\u5C1A\u672A\u8FDB\u5165 stable~\\n- ~2.5 \u7684 Exploere \u8FD8\u6CA1\u6709\u4E2D\u6587\uFF0C\u4E0D\u8FC7\u5DF2\u6709\u591A\u8BED\u8A00\u652F\u6301~\\n\\n## Kubesphere\\n\\n### \u4F18\u70B9\\n\\n- **\u754C\u9762\u53CB\u597D\u7F8E\u89C2**\\n- \u96C6\u6210\u76D1\u63A7\\n- \u96C6\u6210\u65E5\u5FD7\\n- \u96C6\u6210 DevOps\\n- \u96C6\u6210\u5E94\u7528\u4E00\u4F53\u5316\u4F53\u9A8C - \u4E0D\u9700\u8981\u53BB Grafana \u770B\u76D1\u63A7\uFF0C\u4E0D\u9700\u8981\u53BB Kibana \u770B\u65E5\u5FD7\\n- \u9762\u5411\u5185\u90E8\u7684\u5E94\u7528\u5546\u5E97\u6BD4 Helm Repo \u5728\u5B9E\u9645\u5F00\u53D1\u65F6\u66F4\u6709\u5B9E\u9645\u610F\u4E49\\n\\n### \u7F3A\u70B9\\n\\n- **\u4E0D\u517C\u5BB9 k8s v1.19** - \u5728 v1.19 \u5DF2\u7ECF\u53D1\u5E03\u4E24\u4E2A\u6708\u540E\\n  - csr v1 [#2928](https://github.com/kubesphere/kubesphere/issues/2928)\\n- \u901A\u8FC7\u7F16\u8F91 CRD \u542F\u52A8\u529F\u80FD\\n  - \u4E0D\u77E5\u9053\u72B6\u6001\u548C\u9519\u8BEF - \u53EA\u80FD\u770B\u65E5\u5FD7\\n- Ansible \u63A7\u5236\u529F\u80FD\\n  - \u5F00\u542F\u5BB9\u6613\uFF0C\u5173\u95ED\u96BE\\n  - Ansible \u672C\u8EAB\u65E0\u72B6\u6001\uFF0C\u6CA1\u6709 Helm \u7684\u5378\u8F7D\u6982\u5FF5\\n- \u5217\u8868\u4E0D\u80FD\u8BBE\u7F6E\u6BCF\u9875\u6570\u91CF - \u9ED8\u8BA4 10 \u6761\u76EE/\u9875 - \u5BF9\u4E8E K8S \u8D44\u6E90\u7BA1\u7406\u6765\u8BF4\u6709\u70B9\u5C11\u4E86\\n- \u7FFB\u9875\u4E0D\u4FBF\u64CD\u4F5C\\n- \u5305\u542B\u9752\u4E91\u96C6\u6210\u529F\u80FD\\n\\n## \u5B89\u88C5\u7EF4\u5EA6\\n\\n### Rancher\\n\\nRancher \u6CE8\u91CD\u7BA1\u7406\uFF0Cv2.5 \u6CA1\u6709 Pipeline \u548C\u5185\u5EFA\u7684\u76D1\u63A7\u96C6\u6210\uFF0C\u81EA\u8EAB\u975E\u5E38\u8F7B\u91CF\uFF0C\u751A\u81F3\u76EE\u524D\u5728\u5C1D\u8BD5\u5355\u4E8C\u8FDB\u5236\u542F\u52A8\uFF0CRancherD\u3002\\nRancher \u7684\u7528\u6237\uFF0C\u9879\u76EE\uFF0C\u96C6\u7FA4\u7B49\u914D\u7F6E\u5747\u4F7F\u7528 CRD\uFF0C\u56E0\u6B64\u4E0D\u9700\u8981\u6570\u636E\u5E93\u5B58\u50A8\uFF0C\u4F7F\u7528 CRD \u76F8\u5F53\u4E8E\u63A5\u53E3\uFF0C\u5229\u4E8E\u81EA\u52A8\u5316\u96C6\u6210\u3002\\n\\n\u4E00\u822C\u901A\u8FC7 Helm \u5B89\u88C5 Rancher\uFF0C\u65B9\u4FBF\u5347\u7EA7\u3001\u7BA1\u7406\u3001\u914D\u7F6E\u3002\\n\\n```bash\\n# stable\\nhelm repo add rancher https://releases.rancher.com/server-charts/stable\\n# \u914D\u7F6E\u9879 https://rancher.com/docs/rancher/v2.x/en/installation/resources/chart-options\\ncat <<YAML > rancher.values.yaml\\nhostname: rancher.my.corp\\n# \u4E0D\u4F7F\u7528 cert-manager \u5219\u9700\u8981\u5F00\u542F - \u5EFA\u8BAE\u4F7F\u7528 cert-manager\\n# privateCA: true\\n# rancher \u7CFB\u7EDF\u955C\u50CF\\nsystemDefaultRegistry: registry.cn-hangzhou.aliyuncs.com\\n# \u9ED8\u8BA4 3 \u526F\u672C\\nreplicas: 1\\nYAML\\n# \u5B89\u88C5\u6216\u5347\u7EA7\\nhelm upgrade -i rancher rancher/rancher -n cattle-system --create-namespace -f rancher.values.yaml\\n```\\n\\n### Kubesphere\\n\\nKubesphere \u9ED8\u8BA4\u6709\u5927\u91CF\u96C6\u6210\uFF0C\u6709\u70B9\u7C7B\u4F3C\u4E8E v2.5 \u4E4B\u524D\u7684 Rancher\u3002\\n\u529F\u80FD\u8F83\u591A\uFF0C\u4E14\u63A7\u5236\u5668\u901A\u8FC7\u6570\u636E\u5E93\u8FDB\u884C\u5B58\u50A8\uFF0C\u90E8\u7F72 Kubesphere \u65F6\u9700\u8981\u90E8\u7F72\u6570\u636E\u5E93\uFF0C\u8FD0\u7EF4\u5C42\u9762\u6765\u8BF4\u4F1A\u53D8\u5F97\u9EBB\u70E6\uFF0C\u56E0\u4E3A K8S \u4E0A\u6570\u636E\u5E93\u6D89\u53CA\u5230\u5B58\u50A8\u95EE\u9898\uFF0C\u9664\u4E86\u6570\u636E\u5E93\uFF0CKubesphere \u8FD8\u9ED8\u8BA4\u4F9D\u8D56\u4E86 etcd+redis+minio+openldap\uFF0C\u53EF\u4EE5\u7B97\u662F\u6BD4\u8F83\u590D\u6742\u7684\u4E00\u4E2A\u7CFB\u7EDF\u4E86\u3002\\n\\n\u5B9E\u9645\u90E8\u7F72\u914D\u7F6E\u4F7F\u7528 Ansible\uFF0C\u89D2\u8272\u5B9A\u4E49\u4F4D\u4E8E [ks-installer/roles](https://github.com/kubesphere/ks-installer/tree/master/roles)\u3002\\n\u8BE5\u90E8\u7F72\u6A21\u5F0F\u4F18\u7F3A\u70B9\u660E\u663E\uFF1A\\n\\n- \u4F18\u70B9\\n  - Ansible \u90E8\u7F72\u64CD\u4F5C\u5E42\u7B49\\n  - Ansible \u64C5\u957F\u96C6\u6210\u90E8\u7F72\u5404\u79CD\u670D\u52A1\\n- \u7F3A\u70B9\\n  - \u5931\u53BB\u4E86 K8S \u7684 \u58F0\u660E\u5F0F Yaml\\n    - Ansible \u6D89\u53CA\u5927\u91CF\u7684\u6A21\u7248\u64CD\u4F5C\uFF0C\u8FD8\u6709\u5927\u91CF\u7684\u76F4\u63A5 kubectl\\n  - \u5373\u61C2 Ansible \u53C8\u61C2 K8S \u7684\u4EBA\u5360\u5C11\u6570 - \u786E\u4FDD\u80FD\u7528\uFF0C\u4F46\u60F3\u8981\u4FEE\u6539\u6216\u6DF1\u5165\u4E86\u89E3\u6709\u95E8\u69DB\\n  - Ansible \u65E0\u72B6\u6001 - \u57FA\u672C\u7B49\u540C\u4E8E **\u65E0\u6CD5\u5220\u9664**\\n\\nKubesphere \u4F53\u7CFB\u590D\u6742\uFF0C\u4E5F\u80FD\u7406\u89E3\u9009\u62E9 Ansible\uFF0C\u4F46\u66FE\u7ECF\u4F7F\u7528\u8FC7 Ansible \u8FD0\u7EF4 K8S\uFF0C\u590D\u6742\u540E\u771F\u7684\u4F1A\u5F88\u96BE\u53D7\u3002\\n\\n```bash\\n# \u90E8\u7F72\u5B89\u88C5\u5668 - Operator\\nkubectl apply -f https://raw.githubusercontent.com/kubesphere/ks-installer/v3.0.0/deploy/kubesphere-installer.yaml\\n# \u6DFB\u52A0 CRD \u8D44\u6E90 - \u5B9A\u4E49 ks \u5B89\u88C5\u914D\u7F6E\\nkubectl apply -f https://raw.githubusercontent.com/kubesphere/ks-installer/v3.0.0/deploy/cluster-configuration.yaml\\n\\n# \u5B89\u88C5\u8FC7\u7A0B\\nkubectl logs -n kubesphere-system $(kubectl get pod -n kubesphere-system -l app=ks-install -o jsonpath=\'{.items[0].metadata.name}\') -f\\n```\\n\\n## \u5F00\u53D1\u7EF4\u5EA6\\n\\n\u5F00\u53D1\u4E3B\u8981\u5206\u4E3A CI \u548C CD \u4E24\u90E8\u5206\uFF0CCI \u504F\u5411\u4EE3\u7801\u5230\u4EA7\u51FA\u7269\u7684\u8FC7\u7A0B\uFF0CCD \u504F\u5411\u4EA7\u51FA\u7269\u5230\u7EBF\u4E0A\u8FD0\u884C\u7684\u8FC7\u7A0B\u3002\\n\\n\u4E24\u8005\u7684\u6838\u5FC3\u90FD\u662F\u6D41\u7A0B\u81EA\u52A8\u5316\u5904\u7406\uFF0C\u4F46\u9762\u5411\u7684\u5BF9\u8C61\u548C\u573A\u666F\u5374\u5DEE\u522B\u5F88\u5927\u3002\\n\\n- CI - \u4EE3\u7801\u5230\u4EA7\u51FA\u7269\u7684\u8FC7\u7A0B\\n  - \u63D0\u4EA4\u4EE3\u7801 - \u89E6\u53D1 Hook - \u9009\u62E9\u6267\u884C\u5668 - \u6267\u884C\u5B9A\u4E49\u7684 Pipeline\\n  - \u4F9D\u8D56: \u4EE3\u7801\u4ED3\u5E93\u3001\u4EA7\u51FA\u7269\u4ED3\u5E93\u3001\u52A8\u6001\u8C03\u5EA6\u7684\u6267\u884C\u8282\u70B9\\n  - \u4EAE\u70B9: **\u5FEB**\u3001\u7075\u6D3B\u7684\u6D41\u7A0B\u5B9A\u4E49\u3001\u53EF\u89C6\u5316\u7684\u6267\u884C\u8FC7\u7A0B\u3001\u4E0E\u4EE3\u7801\u4ED3\u5E93\u7684\u96C6\u6210\u7A0B\u5EA6\\n  - \u4EA7\u54C1\\n    - Jenkins\\n    - DroneCI\\n    - Github Action\\n    - Gitlab CI/CD\\n- CD - \u4EA7\u51FA\u7269\u90E8\u7F72\u5230\u7EBF\u4E0A\u7684\u8FC7\u7A0B - \u73B0\u5728\u7684\u4E3B\u6D41\u505A\u6CD5\u662F GitOps\\n  - \u63D0\u4EA4\u90E8\u7F72\u5B9A\u4E49 - \u89E6\u53D1 Hook/\u5B9A\u65F6\u626B\u63CF\u4FEE\u6539 - \u5E94\u7528 yaml\\n  - \u4EAE\u70B9: \u53EF\u89C6\u5316\u3001\u591A\u96C6\u7FA4\u3001\u81EA\u52A8\u4FEE\u590D\\n  - \u4EA7\u54C1\\n    - ArgoCD - \u53EF\u89C6\u5316\u4F9D\u8D56\u3001\u53EF\u89C6\u5316\u65E5\u5FD7\u3001\u591A\u96C6\u7FA4(\u504F\u5F31)\u3001\u5065\u5EB7\u7BA1\u7406\\n    - rancher/fleet - rancher \u96C6\u6210\u7BA1\u7406\u3001\u591A\u96C6\u7FA4\u3001\u624D\u51FA\u4E0D\u4E45\u5C1A\u4E0D\u5B8C\u5584\\n    - fluxcd - v1 \u5E9F\u5F03\u7EF4\u62A4\u9636\u6BB5\uFF0Cv2 \u53D8\u5316\u8F83\u5927\u53D8\u4E3A\u5DE5\u5177\u96C6 - \u9009\u62E9 fluxcd \u4F1A\u6709\u70B9\u5C34\u5C2C\\n\\nCD \u903B\u8F91\u4F53\u9A8C\u76F8\u5BF9\u7B80\u5355\uFF0C\u4F46 CI \u7684\u4F53\u9A8C\u5374\u53EF\u4EE5\u533A\u522B\u5F88\u5927\u3002\\n\u6211\u8BA4\u4E3A\u79C1\u6709 CI \u6700\u597D\u7684\u4F53\u9A8C\u662F Gitlab \u81EA\u884C\u90E8\u7F72 Runner\uFF0C\u5176\u6B21\u662F DroneCI\uFF0C\u6700\u540E\u624D\u662F Jenkins\u3002\\n\\n- Gitlab CI/CD\\n  - \u9760\u8FD1\u4EE3\u7801\u4ED3\u5E93 - \u5F00\u53D1\u672C\u80FD\\n  - \u652F\u6301\u81EA\u884C\u90E8\u7F72 Runner - Docker/Shell - **\u5FEB**, \u53EF\u4EE5\u5728\u79C1\u6709\u73AF\u5883\\n  - yaml \u5B9A\u4E49 ci \u5904\u7406 - \u529F\u80FD\u5F3A\u5927\\n  - Gitlab \u63D0\u4F9B\u4E86 Docker \u4ED3\u5E93\uFF0C\u5F53\u7136 Push \u7684\u65F6\u5019\u4E5F\u53EF\u4EE5 Push \u5230\u5176\u4ED6\u4ED3\u5E93\\n  - Gitlab \u63D0\u4F9B\u4E86\u5F00\u53D1\u4ED3\u5E93 - \u76F8\u5F53\u4E8E\u8282\u7701\u4E00\u4E2A Nexus\\n- DroneCI\\n  - \u5927\u4F53\u4E0A\u7C7B\u4F3C Gitlab Runner\\n  - \u4F46\u72EC\u7ACB\u4E8E\u4EE3\u7801\u4ED3\u5E93\\n- Jenkins\\n  - \u592A\u91CD\\n  - \u754C\u9762\u4E0D\u592A\u53CB\u597D\\n\\n\u6211\u7406\u89E3 CI \u4E0E CD \u8FD8\u6709\u4E00\u4E2A\u4E2D\u95F4\u4E34\u754C\u70B9\uFF0C\u5E94\u7528\u5546\u5E97\u6216 Helm Repo\uFF0C\u5F00\u53D1\u597D\u7684\u5E94\u7528\u53EF\u4EE5\u5F88\u597D\u5448\u73B0\u7ED9\u9700\u8981\u7684\u4EBA\uFF0C\u9700\u8981\u7684\u4EBA\u53EF\u4EE5\u975E\u5E38\u4FBF\u6377\u7684\u90E8\u7F72\u5E94\u7528\u5230\u96C6\u7FA4\u3002\\n\\n### Rancher\\n\\n2.5 \u4E4B\u524D\u7684 Pipeline \u4FBF\u662F Jenkins \u7684\u5C01\u88C5\uFF0C\u57FA\u672C\u7B49\u540C\u4E8E Kubesphere \u7684 DevOps\u3002\\n2.5 \u4E4B\u540E Rancher \u5E9F\u5F03\u4E86 Pipeline \u8F6C\u800C\u9ED8\u8BA4\u90E8\u7F72 Fleet\u3002\\n\\n[rancher/fleet](https://github.com/rancher/fleet) \u662F\u9762\u5411\u591A\u96C6\u7FA4\u7684 GitOps\uFF0C\u4E0E Pipeline \u5B8C\u5168\u662F\u4E24\u4E2A\u65B9\u5411\u3002rancher \u6CE8\u91CD\u8FD0\u7EF4\uFF0Cfleet \u4F7F\u5F97 rancher \u7684\u8FD0\u7EF4\u80FD\u529B\u6B65\u4E0A\u65B0\u7684\u53F0\u9636\u3002\\n\\nfleet \u591A\u96C6\u7FA4\u6BD4 argocd \u5F3A\\n\\n- \u9ED8\u8BA4\u652F\u6301\u4E00\u4E2A\u5E94\u7528\u90E8\u7F72\u5230\u591A\u4E2A\u96C6\u7FA4 - \u96C6\u7FA4\u9009\u62E9\u5668\\n- \u4E0D\u540C\u96C6\u7FA4\u652F\u6301\u4E0D\u540C overlay \u8FDB\u884C\u5B9A\u5236\u5316\\n- fleet agent \u5B89\u88C5\u7B80\u5355\\n- \u652F\u6301\u96C6\u7FA4\u5C5E\u6027 - \u6253\u6807\u3001\u9009\u62E9\\n\\n\u4F46 fleet \u8FD8\u6709\u5F88\u591A\u5F31\u9879\\n\\n- \u5FC5\u987B\u8981\u8D44\u6E90\u5148\u4E0D\u5B58\u5728 - \u65E0\u6CD5\u8FC1\u79FB\\n- \u53EF\u89C6\u5316\u8F83\u5F31 - \u5BF9\u6BD4 ArgoCD\\n\\n\u5982\u679C\u7684\u786E\u662F\u9700\u8981\u591A\u96C6\u7FA4\u8FD0\u7EF4\uFF0C\u90A3\u4E48 fleet \u7684\u786E\u662F\u4E0D\u4E8C\u4E4B\u9009\uFF0C\u5982\u679C\u53EA\u8981\u573A\u666F\u53EA\u6709\u4E00\u4E2A\u6216\u5C11\u6570\u96C6\u7FA4\uFF0C\u5EFA\u8BAE\u4F7F\u7528 ArgoCD\u3002\\n\\n### Kubesphere\\n\\nKubesphere \u5305\u542B DevOps \u6A21\u5757\u548C Elastic \u65E5\u5FD7\u91C7\u96C6\u96C6\u6210\u3002\\n\u96C6\u6210\u529F\u80FD\u90FD\u63D0\u4F9B\u4E86\u7F8E\u89C2\u7684\u754C\u9762\uFF08**\u754C\u9762\u624D\u662F KS \u7684\u6838\u5FC3\u7ADE\u4E89\u529B**\uFF09\uFF0C\u4F7F\u5F97\u4F53\u9A8C\u7684\u786E\u975E\u5E38\u597D\u3002\\n\\nDevOps \u57FA\u4E8E Jenkins\u3001Harbor\u3001Mino\u3001SonarQube \u7B49\uFF0C\u56E0\u6B64\u6240\u6709\u76F8\u5173\u7EC4\u4EF6\u7684\u95EE\u9898\u4E5F\u4F1A\u53D8\u6210 KS \u7684\u95EE\u9898\uFF0C\u4E5F\u4F1A\u53D1\u73B0\u793E\u533A\u6709\u975E\u5E38\u591A\u5173\u4E8E Jenkins\u3001Harbod \u4E4B\u7C7B\u7684\u95EE\u9898\uFF0C\u6211\u8BA4\u4E3A Rancher \u653E\u5F03\u57FA\u4E8E Jenkins \u7684 Pipeline \u662F\u5341\u5206\u6B63\u786E\u7684\u9009\u62E9\u3002\\n\\n\u81F3\u4E8E Elastic \u65E5\u5FD7\u96C6\u6210\uFF0C\u6211\u8BA4\u4E3A\uFF0C\u5982\u679C\u4F7F\u7528\u5916\u90E8\u8FD0\u7EF4\u7684 Elastic \u7ED3\u5408 KS \u7684\u754C\u9762\u662F\u503C\u5F97\u7684\uFF0C\u56E0\u4E3A\u8981\u5728 K8S \u4E0A\u8FD0\u7EF4\u597D Elastic \u8FD9\u79CD\u4F53\u91CF\u7684\u5E94\u7528\u8FD8\u662F\u4E0D\u5BB9\u6613\u3002\\n\\n## \u8FD0\u7EF4\u7EF4\u5EA6\\n\\n\u6211\u7406\u89E3\u7684\u8FD0\u7EF4\u5305\u542B\u4E86 K8S \u8D44\u6E90\u53EF\u89C6\u5316\u3001\u8D44\u6E90\u7F16\u8F91\u3001\u6307\u6807\u53EF\u89C6\u5316\u3001\u591A\u96C6\u7FA4\u652F\u6301\u3001\u7528\u6237\u6743\u9650\u4F53\u7CFB\u3001\u96C6\u6210\u5E94\u7528\u7BA1\u7406\u80FD\u529B\u7B49\u3002\\n\\n### More Than Kubernetes Dashboard/Lens\\n\\nKubernetes Dashboard \u548C Lens \u90FD\u662F\u975E\u5E38\u7B80\u6D01\u660E\u4E86\u7684\u96C6\u7FA4\u7BA1\u7406\u5DE5\u5177\uFF0CLens \u751A\u81F3\u4E5F\u80FD\u652F\u6301\u591A\u96C6\u7FA4\u3002Kubernetes Dashboard \u5360\u7528\u5F02\u5E38\u5C11\u7684\u8D44\u6E90\u63D0\u4F9B\u96C6\u7FA4\u8D44\u6E90\u7684 CRUD\uFF0C\u8D44\u6E90\u53EF\u89C6\u5316\u3002\\n\\n\u4E4B\u6240\u4EE5\u9009\u62E9\u5176\u4ED6\u7684\u7BA1\u7406\u5E73\u53F0\uFF0C\u662F\u56E0\u4E3A\u96C6\u7FA4\u7BA1\u7406\u4E2D\u5FC5\u987B\u7684\u4E00\u4E9B\u529F\u80FD\u4E0D\u5728 Kubernetes Dashboard \u548C Lens \u7684\u9886\u57DF\u8303\u7574\u3002\\n\\n1. \u89D2\u8272\u6743\u9650\u7BA1\u7406 - \u591A\u7528\u6237\\n1. \u5E94\u7528\u751F\u547D\u5468\u671F\u7BA1\u7406 - Helm \u5E94\u7528\\n1. \u8D44\u6E90\u96C6\u6210\u7BA1\u7406 - \u4F7F\u7528 UI \u800C\u975E Yaml \u7684\u65B9\u5F0F\u7F16\u8F91\u8D44\u6E90\\n1. \u591A\u96C6\u7FA4\\n\\nRancher \u548C Kubesphere \u90FD\u5F88\u597D\u7684\u5B8C\u6210\u4E86\u8FD9\u4E9B\u76EE\u6807\u3002\\n\\n\u4F46\u9057\u61BE\u7684\u662F Kubesphere \u6700\u57FA\u7840\u7684\u8D44\u6E90\u7BA1\u7406\u529F\u80FD\u8FD8\u6CA1\u6709 Lens/Kubernetes Dashboard \u76F4\u89C2\uFF0C\u56E0\u4E3A\u8FFD\u6C42\u4E86\u754C\u9762\u96C6\u6210\u548C\u7F8E\u89C2\uFF0C\u6240\u4EE5\u5BF9\u4E8E\u6709 Kubernetes \u7ECF\u9A8C\u7684\u4F7F\u7528\u8005\u6765\u8BF4\u53CD\u800C\u89C9\u5F97\u7E41\u7410\u3002\\n\\nRancher 2.5 \u7684 \u96C6\u7FA4\u8D44\u6E90\u6D4F\u89C8\u5668 \u7B97\u662F\u8FFD\u8D76\u4E0A\u4E86 Lens/Kubernetes Dashboard \u6240\u63D0\u4F9B\u7684\u529F\u80FD\uFF0C\u4F46\u4F9D\u7136\u6CA1\u6709 Lens \u76F4\u89C2\u3002\\n\\nRancher \u548C Kubesphere \u90FD\u6CA1\u6709\u5F88\u597D\u7684\u96C6\u6210 metric-server\uFF0C\u5BFC\u81F4\u6CA1\u6709\u5B89\u88C5\u7279\u5B9A\u7684\u76D1\u63A7\u5E94\u7528\u65F6\u65E0\u6CD5\u67E5\u770B\u8D44\u6E90\u4F7F\u7528\u60C5\u51B5\u3002\\n\u800C\u76D1\u63A7\u7684\u5B89\u88C5\u53C8\u56E0\u4E3A\u5E73\u53F0\u96C6\u6210\u65B9\u5F0F\u4E0D\u540C\uFF0C\u5B89\u88C5\u65B9\u5F0F\u4E0D\u540C\uFF0C\u5373\u4FBF\u5DF2\u7ECF\u5B58\u5728\u4E5F\u53EF\u80FD\u770B\u4E0D\u5230\u76D1\u63A7\uFF0C\u8FD9\u4E00\u70B9\u8FD8\u6CA1\u6709 Kubernetes Dashboard \u7684\u8D44\u6E90\u4F7F\u7528\u60C5\u51B5\u6765\u7684\u76F4\u89C2\u3002\\n\\nRancher \u548C Kubesphere \u4ECE\u7BA1\u7406\u4E0A\u8D85\u8D8A\u4E86 Kubernetes Dashboard/Lens\uFF0C\u4F46\u5B9E\u9645\u4F53\u9A8C\u548C\u4F7F\u7528\u4E0A\u5374\u4ECD\u6709\u4E0D\u8DB3\u3002\\n\\n### \u591A\u96C6\u7FA4\\n\\n\u8BA8\u8BBA\u591A\u96C6\u7FA4\u65F6\uFF0C\u4F18\u5148\u660E\u786E\u573A\u666F\\n\\n1. \u5927\u91CF\u96C6\u7FA4 - Rancher - \u4EE5\u8FD0\u7EF4\u4E3A\u4E3B\\n\\n- \u5E94\u7528\u90E8\u7F72\\n- \u8D44\u6E90\u7BA1\u7406\\n- Agent \u6613\u4E8E\u5B89\u88C5\uFF0C\u5360\u7528\u8D44\u6E90\u5C11\\n\\n1. \u5C11\u91CF\u96C6\u7FA4 - Kubesphere - \u5F00\u53D1\u4F53\u9A8C\\n\\n- DevOps\\n\\n\u56E0\u4E3A Kubesphere \u672C\u8EAB\u8D44\u6E90\u7BA1\u7406\u80FD\u529B\u5F31\u4E8E Rancher\uFF0C\u56E0\u6B64\u5F53\u591A\u96C6\u7FA4\u8D44\u6E90\u8FC7\u591A\u7684\u65F6\u5019\u53EA\u80FD\u9009\u62E9 Rancher\u3002Rancher \u7684\u8D44\u6E90\u6D4F\u89C8\u5668\u548C Fleet \u90FD\u662F\u9488\u5BF9\u8FD9\u6837\u7684\u573A\u666F\u8BBE\u8BA1\u7684\u3002\\nRancher agent \u548C fleet agent \u8D44\u6E90\u5360\u7528\u90FD\u8F83\u5C11\uFF0C\u56E0\u6B64\u5927\u91CF\u90E8\u7F72\u65F6\u8D1F\u62C5\u4E5F\u4E0D\u4F1A\u5927\u3002\\n\\n\u5982\u679C\u9700\u8981 DevOps \u5219\u53EF\u4EE5\u8003\u8651\u5355\u72EC\u96C6\u7FA4\u5B89\u88C5 Kubesphere \u6216\u8005\u9009\u62E9 Argocd\u3001Gitlab \u7B49\u5BF9\u5E94\u573A\u666F\u7684\u5E94\u7528\u4EA7\u54C1\u3002\\n\\n# \u603B\u7ED3\\n\\n\u9009\u62E9 Rancher \u548C Kubesphere \u5E76\u4E0D\u51B2\u7A81\uFF0C\u4E24\u8005\u53D1\u5C55\u65B9\u5411\u4E5F\u4E0D\u5C3D\u76F8\u540C\u3002\u56E0\u6B64\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u548C\u9879\u76EE\u9700\u8981\u9009\u62E9\u5373\u53EF\u3002\\n\\n# \u53C2\u8003\\n\\n- [rancher/rancher](https://github.com/rancher/rancher)\\n- [kubesphere/kubesphere](https://github.com/kubesphere/kubesphere)\\n- [A Buyer\u2019s Guide to Enterprise Kubernetes Management Platforms](https://info.rancher.com/hubfs/eBooks,%20reports,%20and%20whitepapers/%5BBuyers%20Guide%5D%20Rancher,%20Openshift,%20Tanzu,%20Anthos%2020200911.pdf)\\n  - Rancher \u5BF9\u81EA\u5DF1\u7684\u5B9A\u4F4D\u4E0D\u540C\u4E8E Kubesphere"},{"id":"alpine-in-firecracker","metadata":{"permalink":"/story/alpine-in-firecracker","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2020/2020-10-23-alpine-in-firecracker.md","source":"@site/../story/2020/2020-10-23-alpine-in-firecracker.md","title":"Firecracker \u8FD0\u884C AlpineLinux","description":"Firecracker \u662F\u4E9A\u9A6C\u900A AWS \u4E3A\u4E86\u89E3\u51B3\u865A\u62DF\u5316\u8FD0\u884C serveless \u670D\u52A1\u5B9E\u73B0\u7684 VMM/Virtual Machine Monitor\uFF0C\u4F5C\u4E3A QEMU \u7684\u66FF\u4EE3\u54C1\uFF0C\u4E13\u6CE8\u4E8E\u4E3A\u4E91\u4E0A\u73AF\u5883\u63D0\u4F9B\u865A\u62DF\u5316\u3002","date":"2020-10-23T00:00:00.000Z","tags":[{"inline":true,"label":"AlpineLinux","permalink":"/story/tags/alpine-linux"},{"inline":true,"label":"Firecracker","permalink":"/story/tags/firecracker"}],"readingTime":6.16,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"alpine-in-firecracker","title":"Firecracker \u8FD0\u884C AlpineLinux","tags":["AlpineLinux","Firecracker"]},"unlisted":false,"prevItem":{"title":"Rancher vs. Kubesphere","permalink":"/story/rancher-vs-kubesphere"},"nextItem":{"title":"Kubernetes vs OpenStack","permalink":"/story/kubernetes-vs-openstack"}},"content":"Firecracker \u662F\u4E9A\u9A6C\u900A AWS \u4E3A\u4E86\u89E3\u51B3\u865A\u62DF\u5316\u8FD0\u884C serveless \u670D\u52A1\u5B9E\u73B0\u7684 VMM/Virtual Machine Monitor\uFF0C\u4F5C\u4E3A QEMU \u7684\u66FF\u4EE3\u54C1\uFF0C\u4E13\u6CE8\u4E8E\u4E3A\u4E91\u4E0A\u73AF\u5883\u63D0\u4F9B\u865A\u62DF\u5316\u3002\\n\\n**\u4F18\u70B9**\\n\\n- \u542F\u52A8\u5FEB < 125ms\\n- \u5185\u5B58\u5360\u7528\u5C11 < 5mb\\n- Rust \u5B9E\u73B0\\n- musl \u9759\u6001\u94FE\u63A5\\n- firecracker \u81EA\u8EAB\u7EA6 **1.6 MB** - **\u65E0\u4F9D\u8D56**\\n\\n\x3c!-- more --\x3e\\n\\n**\u8BBE\u8BA1\u76EE\u6807/\u7F3A\u9677**\\n\\n- \u57FA\u4E8E KVM \u5B9E\u73B0\\n  - \u53EA\u6709 Linux \u5E73\u53F0\\n  - \u53EA\u80FD\u8FD0\u884C\u76F8\u540C\u67B6\u6784\\n- \u4E13\u6CE8\u4E8E\u865A\u62DF\u5316\u573A\u666F\\n  - \u652F\u6301\u7684\u865A\u62DF\u8BBE\u5907\u5C11\\n    - virtio-net - \u865A\u62DF\u5316\u7F51\u7EDC\\n    - virtio-block - \u865A\u62DF\u5316\u5757\u8BBE\u5907\\n    - virtio-vsock - unix sock\\n    - \u4E32\u53E3 - ttyS0 \u7EC8\u7AEF\u767B\u9646\\n    - \u6700\u7B80\u952E\u76D8\u63A7\u5236\u5668\\n  - \u6CA1\u6709 bios\\n  - \u901A\u8FC7 vmlinux+initramfs+rootfs \u542F\u52A8\\n- \u8981\u6C42 Kernel 4.14+\\n\\n**\u4E3A\u4EC0\u4E48\u9009\u62E9 Alpine\uFF1F**\\n\\n- \u6700\u5BB9\u6613\u6784\u5EFA\\n- \u6700\u5BB9\u6613\u4F7F\u7528\\n- \u6784\u5EFA Firecracker \u80FD\u4F7F\u7528\u7684 CentOS, Debian, Ubuntu, Fedora \u771F\u592A\u96BE\u4E86 - \u5982\u679C\u6CA1\u638C\u63E1\u5185\u90E8\u542F\u52A8\u673A\u5236\u4E0D\u5EFA\u8BAE\u5C1D\u8BD5\\n\\n## \u6CE8\u610F\\n\\n\u4E00\u4E9B\u6CE8\u610F\u4E8B\u9879\u5199\u5728\u524D\u9762\uFF1A\\n\\n:::info Firecracker \u6CE8\u610F\u70B9\\n\\n- \u6CA1\u6709\u7535\u6E90\u7BA1\u7406\uFF0C\u56E0\u6B64\u4E0D\u652F\u6301\u91CD\u542F\uFF0C\u4F1A\u76F4\u63A5\u9000\u51FA\\n- \u7CFB\u7EDF\u5185 poweroff \u6216 halt \u4E0D\u4F1A\u9000\u51FA - reboot \u4F1A\\n- \u53EF\u4EE5\u53D1\u9001 SendCtrlAltDel \u9000\u51FA\\n- \u4E0D\u652F\u6301 QCOW2 \u683C\u5F0F\uFF0C\u53EF\u4EE5\u8003\u8651\u914D\u5408 NDB \u4F7F\u7528\\n- alpine \u5185\u6838\u9700\u8981 boot-source.initrd_path => initramfs-virt\\n- alpine netboot \u7684 initramfs-virt \u6CA1\u6709 ext4\\n\\n:::\\n\\n## \u5B89\u88C5\\n\\nFirecracker \u7684[\u53D1\u5E03\u9875](https://github.com/firecracker-microvm/firecracker/releases)\u53EF\u76F4\u63A5\u4E0B\u8F7D\u6BCF\u4E2A\u7248\u672C\u3002\u8FD9\u91CC\u4F7F\u7528 curl \u4E0B\u8F7D\u6700\u65B0\u7248\u5E76\u5B89\u88C5\u5230 `/usr/loca/bin`\u3002\\n\\n```bash\\n# \u4E0B\u8F7D\u5B89\u88C5 firecracker \u5230 /usr/local/bin/firecracker\\nlatest=$(basename $(curl -fsSLI -o /dev/null -w  %{url_effective} https://github.com/firecracker-microvm/firecracker/releases/latest))\\nsudo curl -L -o /usr/local/bin/firecracker https://github.com/firecracker-microvm/firecracker/releases/download/${latest}/firecracker-${latest}-$(uname -m)\\nsudo chmod +x /usr/local/bin/firecracker\\n```\\n\\n## rootfs\\n\\n\u542F\u52A8 firecracker \u9700\u8981 kernel \u548C rootfs\uFF0C\u5B9E\u9645\u4F7F\u7528\u7684\u65F6\u5019\u53EF\u80FD\u5927\u90E8\u5206\u65F6\u95F4\u90FD\u662F\u5728\u51C6\u5907 rootfs\u3002\u8FD9\u91CC\u4F7F\u7528 alpinelinux\uFF0C\u529F\u80FD\u5B8C\u5584\u6784\u5EFA\u7B80\u5355\u3002\\n\\n\u56E0\u4E3A alpine \u90FD\u4F1A\u63D0\u4F9B\u57FA\u7840\u7684 rootfs\uFF0C\u8FD9\u91CC\u76F4\u63A5\u4E0B\u8F7D\u89E3\u538B\u5230 ext4 \u7684 loopdev \u4E2D\u3002\\n\\n```bash\\n# \u521B\u5EFA root \u76D8\\nqemu-img create -f raw alpine.rootfs.ext4 1G\\n# \u683C\u5F0F\u5316\u4E3A ext4\\nmkfs.ext4 ./alpine.rootfs.ext4\\n# \u6302\u8F7D\u5230 /tmp/rootfs\\nmkdir /tmp/rootfs\\nsudo mount alpine.rootfs.ext4 /tmp/rootfs\\n\\n# \u4E0B\u8F7D rootfs\\ncurl -OJ https://mirrors.aliyun.com/alpine/v3.12/releases/x86_64/alpine-minirootfs-3.12.0-x86_64.tar.gz\\n# \u5B89\u88C5\u5230 /tmp/rootfs\\nsudo tar zxvf alpine-minirootfs-3.12.0-x86_64.tar.gz -C /tmp/rootfs/\\n```\\n\\n\u57FA\u7840 rootfs \u8FD8\u4E0D\u8DB3\u4EE5\u542F\u52A8\u7CFB\u7EDF\uFF0C\u56E0\u4E3A\u65E0\u6CD5\u8FDB\u884C\u7CFB\u7EDF init\uFF0C\u56E0\u6B64\u8FD8\u9700\u8981\u5728 rootfs \u4E2D\u5B89\u88C5\u5FC5\u8981\u7684\u5305\u542F\u52A8\u5FC5\u8981\u7684\u670D\u52A1\u3002\\n\\n\u8FDB\u5165 rootfs \u4E4B\u524D\u9700\u8981 resolv.conf\uFF0C\u5305\u542B\u4E86 DNS \u4FE1\u606F\u3002\\n\\n```bash\\n# \u62F7\u8D1D dns \u914D\u7F6E - \u6CA1\u6709\u4F1A\u65E0\u6CD5\u8FDB\u884C dns \u89E3\u6790\\nsudo cp /etc/resolv.conf /tmp/rootfs/etc\\n# \u5982\u679C\u4E3B\u673A\u662F alpinelinux \u53EF\u4EE5\u4ECE\u4E3B\u673A\u62F7\u8D1D\u914D\u955C\u50CF\u7F6E\u6587\u4EF6\\n# \u5982\u679C\u4E0D\u662F\u5EFA\u8BAE\u8BBE\u7F6E\u955C\u50CF\\n# sudo cp /etc/apk/repositories /tmp/rootfs/etc/apk/repositories\\n\\n# chroot \u8FDB\u5165 rootfs \u5B89\u88C5\u73AF\u5883\\nsudo chroot /tmp/rootfs/ /bin/sh\\n```\\n\\n\u6B64\u65F6\u8FDB\u5165\u4E86 rootfs\uFF0C\u56E0\u4E3A\u6CA1\u6709\u6302\u8F7D procfs\u3001sysfs \u7B49\u76EE\u5F55\uFF0C\u5E76\u4E0D\u662F\u4E00\u4E2A\u80FD\u5B8C\u6574\u4F7F\u7528\u7684 rootfs\uFF0C\u4F46\u5BF9\u4E8E\u5B89\u88C5\u5305\u6765\u8BF4\u5DF2\u7ECF\u8DB3\u591F\u3002\\n\\n- [alpine-base](https://pkgs.alpinelinux.org/package/v3.12/main/x86_64/alpine-base)\\n  - \u57FA\u7840\u7CFB\u7EDF\\n  - \u4F9D\u8D56\u4E86 openrc\uFF0Clayout\uFF0Cbusybox\uFF0Capk\uFF0Cconf \u7B49\u57FA\u7840\u5305\\n- linux-virt\\n  - virt \u5185\u6838 - \u4E0D\u5305\u542B\u56FA\u4EF6\uFF08200MB \u5DE6\u53F3\uFF09\uFF0C\u9ED8\u8BA4 init \u5305\u542B virtio \u7B49\u5185\u6838\u6A21\u5757\\n  - \u5B89\u88C5\u540E\u80FD\u83B7\u53D6\u5230\u5185\u6838\u548C initramfs\\n  - /boot \u4E0B vmlinuz+initramfs+System.map \u7EA6 15MB - \u542F\u52A8\u662F\u4E0D\u9700\u8981\u7684\uFF0C\u62FF\u5230\u540E\u53EF\u4EE5\u5220\u9664\\n- haveged\\n  - \u968F\u673A\u71B5\u670D\u52A1\\n  - \u865A\u62DF\u5316\u73AF\u5883\u80FD\u66F4\u5FEB\u542F\u52A8\uFF0C\u5426\u5219\u71B5\u521D\u59CB\u5316\u53EF\u80FD\u9700\u8981\u51E0\u5206\u949F\\n\\n```bash\\napk add alpine-base linux-virt haveged\\n# \u5F00\u673A\u542F\u52A8\\nrc-update add haveged\\n# root \u8D26\u53F7\u5BC6\u7801\\necho root:root | chpasswd\\n# \u57FA\u7840\u670D\u52A1\\nfor svc in devfs procfs sysfs; do ln -fs /etc/init.d/$svc /etc/runlevels/boot; done\\nexit\\n\\n# firecracker \u4F7F\u7528 ttyS0\\nln -s agetty /etc/init.d/agetty.ttyS0\\necho ttyS0 > /etc/securetty\\nrc-update add agetty.ttyS0 default\\n\\n# \u4ECE rootfs \u83B7\u53D6\u5230 vmlinuz \u548C initramfs\\nsudo cp /tmp/rootfs/boot/initramfs-virt initramfs-virt\\nsudo cp /tmp/rootfs/boot/vmlinuz-virt vmlinuz-virt\\n\\n# \u53D6\u6D88\u6302\u8F7D\\nsudo umount /tmp/rootfs\\n```\\n\\nrootfs \u51C6\u5907\u5B8C\u6210\u3002\\n\\n## vmlinux+initrd\\n\\n\u8FD9\u91CC\u89E3\u91CA\u4E00\u4E0B rootfs \u62FF\u5230\u7684 Linux \u5185\u6838 vmlinuz-virt \u548C\u521D\u59CB\u5185\u5B58\u955C\u50CF initramfs-virt\\n\\n- vmlinuz-virt\\n  - \u538B\u7F29\u540E\u7684 Linux \u5185\u6838 - \u9700\u8981\u89E3\u538B\u540E firecracker \u624D\u80FD\u8BC6\u522B\\n  - \u89E3\u538B\u540E\u4E3A ELF \u683C\u5F0F\u53EF\u6267\u884C\u6587\u4EF6 - \u4E0E\u4E00\u822C Linux \u4E0B\u53EF\u6267\u884C\u6587\u4EF6\u76F8\u540C\\n- initramfs-virt\\n  - \u538B\u7F29\u540E\u7684 cpio \u683C\u5F0F\\n  - \u5305\u542B\u4E86 Linux \u5185\u6838\u9700\u8981\u7684 virtio \u548C ext4 \u7B49\u6A21\u5757\\n  - \u5305\u542B\u4E86 Alpine \u7684 init \u7CFB\u7EDF\\n    - \u52A0\u8F7D\u5185\u6838\u6A21\u5757\\n    - \u627E\u5230\u5E76\u6302\u8F7D rootfs\\n\\n\u56E0\u4E3A\u5185\u6838\u662F\u538B\u7F29\u540E\u7684\uFF0C\u56E0\u6B64\u8FD8\u9700\u8981\u8FDB\u884C\u89E3\u538B\\n\\n```bash\\n# \u4E0B\u8F7D\u5B89\u88C5 extract-vmlinux\\nsudo curl -L -o /usr/local/bin/extract-vmlinux https://raw.githubusercontent.com/torvalds/linux/master/scripts/extract-vmlinux\\nsudo chmod +x /usr/local/bin/extract-vmlinux\\n# \u89E3\u538B vmlinuz-virt\\nextract-vmlinux vmlinuz-virt > vmlinux-virt\\n```\\n\\n## \u542F\u52A8\\n\\n\u6240\u6709\u51C6\u5907\u5DE5\u4F5C\u5DF2\u5B8C\u6210\uFF0C\u5F97\u5230\\n\\n- alpine.rootfs.ext4 - \u7CFB\u7EDF\u76D8\\n- vmlinux-virt - \u5185\u6838\\n- initramfs-virt - \u521D\u59CB\u5185\u5B58\u955C\u50CF\\n\\nfirecracker \u6709\u4E24\u79CD\u542F\u52A8\u65B9\u5F0F\\n\\n1. \u76D1\u542C\u7AEF\u53E3/socket\\n\\n- \u901A\u8FC7\u8C03\u7528\u63A5\u53E3\u914D\u7F6E rootfs\u3001\u5185\u6838\u7B49\\n- \u914D\u7F6E\u5B8C\u6210\u540E\u8BF7\u6C42 InstanceStart \u8FDB\u884C\u542F\u52A8\\n\\n2. \u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u914D\u7F6E\\n\\n- \u914D\u7F6E\u6587\u4EF6\u7B49\u540C\u4E8E\u63A5\u53E3\u8BF7\u6C42\\n- \u53C2\u6570\u5185\u5BB9\u548C\u8DEF\u5F84\u4E0E\u63A5\u53E3\u4E00\u81F4\\n\\n\u8FD9\u91CC\u4F7F\u7528\u65B9\u6CD5 #2\uFF0C\u56E0\u4E3A\u65B9\u4FBF\u4E66\u5199\u7F16\u8F91\u7B80\u5355\u3002\\n\\n```bash\\n# \u751F\u6210 alpine.json \u914D\u7F6E\\ncat <<CONF > alpine.json\\n{\\n  \\"boot-source\\": {\\n    \\"initrd_path\\": \\"initramfs-virt\\",\\n    \\"kernel_image_path\\": \\"vmlinux-virt\\",\\n    \\"boot_args\\": \\"console=ttyS0 reboot=k panic=1 pci=off modules=virtio_mmio,ext4 rootfstype=ext4\\"\\n  },\\n  \\"drives\\": [\\n    {\\n      \\"drive_id\\": \\"rootfs\\",\\n      \\"path_on_host\\": \\"alpine.rootfs.ext4\\",\\n      \\"is_root_device\\": true,\\n      \\"is_read_only\\": false\\n    }\\n  ],\\n  \\"machine-config\\": {\\n    \\"vcpu_count\\": 1,\\n    \\"mem_size_mib\\": 1024,\\n    \\"ht_enabled\\": false\\n  }\\n}\\nCONF\\n\\n# \u914D\u7F6E\u5B8C\u6210 - \u542F\u52A8\\n# \u8FDB\u5165\u540E\u4F7F\u7528 root:root \u767B\u9646\\nfirecracker --api-sock /tmp/firecracker.socket --config-file alpine.json\\n```\\n\\n## \u505C\u6B62\\n\\n:::caution Firecracker \u4E0D\u80FD\u6B63\u5E38\u5173\u673A\\n\\nfirecracker \u4E0D\u80FD\u4F7F\u7528 poweroff \u5173\u673A\uFF0C\u5982\u679C\u4F7F\u7528\u4E86 poweroff \u5219\u53EA\u80FD kill \u8FDB\u7A0B\u6765\u9000\u51FA\u3002\\n\\n:::\\n\\n\u5728\u7CFB\u7EDF\u4E4B\u5916\u53EF\u4EE5\u8BF7\u6C42 `Ctrl+Alt+Del` \u8FDB\u884C\u5173\u673A\uFF0C\u5B9E\u8D28\u4E0A\u662F\u91CD\u542F\u7684\u6548\u679C\uFF0C\u4F46\u56E0\u4E3A firecracker \u4E0D\u80FD\u91CD\u542F\uFF0C\u56E0\u6B64 init \u9000\u51FA\u540E\u5C31\u5173\u673A\u4E86\u3002\\n\\n```bash\\ncurl --unix-socket /tmp/firecracker.socket -i \\\\\\n    -X PUT \\"http://localhost/actions\\" \\\\\\n    -H  \\"accept: application/json\\" \\\\\\n    -H  \\"Content-Type: application/json\\" \\\\\\n    -d \'{\\"action_type\\": \\"SendCtrlAltDel\\"}\'\\n```\\n\\n\u7CFB\u7EDF\u5185\u53EF\u4EE5\u76F4\u63A5 `reboot` \u8FDB\u884C\u5173\u673A\u3002\\n\\n## \u603B\u7ED3\\n\\nFirecracker \u4F7F\u7528\u8D77\u6765\u86EE\u60CA\u8273\uFF0C\u80FD\u6210\u529F\u7684\u5FEB\u901F\u7684\u542F\u52A8\u7CFB\u7EDF\uFF0C\u542F\u52A8\u901F\u5EA6\u4F1A\u6BD4 QEMU \u5FEB\u4E0D\u5C11\uFF0C\u56E0\u4E3A\u5C11\u4E86 bios\u3001bootloader\u3001\u5185\u6838\u89E3\u538B \u7B49\u8FC7\u7A0B\u3002\\n\\n\u56E0\u4E3A Firecracker \u4F18\u7F3A\u70B9\u975E\u5E38\u660E\u663E\uFF0C\u8FD9\u91CC\u603B\u7ED3\u4E00\u4E0B\u9002\u7528\u573A\u666F\uFF1A\\n\\n- serveless \u573A\u666F - \u9700\u8981\u5FEB\u901F\u8D77\u505C\uFF0C\u5B89\u5168\u9694\u79BB\uFF0C\u73AF\u5883\u72EC\u7ACB\\n- \u5904\u4E8E\u5B89\u5168\u8003\u8651\u8FDB\u884C\u5BB9\u5668\u6267\u884C\u73AF\u5883\u9694\u79BB - \u4F5C\u4E3A\u5BB9\u5668\u8FD0\u884C\u65F6\\n- \u5C06\u5E94\u7528\u6253\u5305\u4E3A\u7CFB\u7EDF\u8FDB\u884C\u5206\u53D1\uFF0C\u4F7F\u7528 firecracker \u5C4F\u853D\u7CFB\u7EDF\u5DEE\u5F02\\n\\n\u4E0D\u9002\u7528\u573A\u666F\u4E5F\u5F88\u660E\u663E\uFF1A\\n\\n- \u5982\u679C\u9700\u8981\u4F7F\u7528 CentOS\u3001Debian\u3001Ubuntu \u4E4B\u7C7B\u7CFB\u7EDF\uFF0C\u975E\u5E38\u4E0D\u5EFA\u8BAE\\n  - \u6784\u9020\u4E00\u4E2A\u53EF\u4F7F\u7528\u7684 rootfs \u548C initramfs \u975E\u5E38\u9EBB\u70E6\\n- \u9700\u8981\u7528\u5230\u7684\u8BBE\u5907 firecracker \u53EF\u80FD\u4E0D\u652F\u6301\\n- \u9700\u8981\u900F\u4F20\u8BBE\u5907\u5230 VM\\n\\nFirecracker \u76F8\u5BF9\u8F83\u65B0\uFF0C\u96C6\u6210\u4F7F\u7528\u65B9\u9762\u8FD8\u6709\u6240\u6B20\u7F3A\uFF0C\u4F46\u5728 Firecracker \u64C5\u957F\u7684\u9886\u57DF\u4F7F\u7528\u8D77\u6765\u662F\u975E\u5E38\u8212\u670D\u7684\u3002\\n\\n## \u53C2\u8003\\n\\n- [boot-alpine-in-firecracker.sh](https://gist.github.com/wenerme/97a2f088496bb3e6492ef7e8fe23da8a) - \u4EE5\u4E0A\u6240\u6709\u4EE3\u7801\\n- [firecracker-microvm/firecracker](https://github.com/firecracker-microvm/firecracker) - \u6838\u5FC3\u4ED3\u5E93\\n- [firecracker-microvm/firectl](https://github.com/firecracker-microvm/firectl) - Golang \u5B9E\u73B0\u7528\u4E8E\u7BA1\u7406 firecracker \u865A\u62DF\u673A\u7684\u8F85\u52A9\u5DE5\u5177\\n- [firecracker-microvm/firecracker-go-sdk](https://github.com/firecracker-microvm/firecracker-go-sdk) - Golang \u76F4\u63A5\u64CD\u4F5C Firecracker"},{"id":"kubernetes-vs-openstack","metadata":{"permalink":"/story/kubernetes-vs-openstack","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2020/2020-09-28-kubernetes-vs-openstack.md","source":"@site/../story/2020/2020-09-28-kubernetes-vs-openstack.md","title":"Kubernetes vs OpenStack","description":"10\u5E74\u8D8B\u52BF","date":"2020-09-28T00:00:00.000Z","tags":[{"inline":true,"label":"Kubernetes","permalink":"/story/tags/kubernetes"},{"inline":true,"label":"\u865A\u62DF\u5316","permalink":"/story/tags/\u865A\u62DF\u5316"}],"readingTime":3.42,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"kubernetes-vs-openstack","title":"Kubernetes vs OpenStack","tags":["Kubernetes","\u865A\u62DF\u5316"]},"unlisted":false,"prevItem":{"title":"Firecracker \u8FD0\u884C AlpineLinux","permalink":"/story/alpine-in-firecracker"},"nextItem":{"title":"\u4EBA\u751F\u7B2C\u56DB\u9636\u6BB5","permalink":"/story/stage-four-of-life"}},"content":"![10\u5E74\u8D8B\u52BF](./2020-09-28-kubernetes-vs-openstack-10y-trend.jpg)\\n\\n# Kubernetes vs OpenStack\\n\\n## \u7B80\u4ECB\\n\\n\x3c!-- https://trends.google.com/trends/explore?date=2010-01-01%202020-09-28&geo=US&q=%2Fg%2F11b7lxp79d,%2Fm%2F0cm87w_ --\x3e\\n\\n| vs           | OpenStack                 | Kubernetes                             |\\n| ------------ | ------------------------- | -------------------------------------- |\\n| \u8D77\u6E90         | 2010 \u5E74 NASA+Rackspace    | 1.0 2015 \u5E74 Google                     |\\n| \u5B9A\u4F4D         | \u79C1\u6709\u4E91                    | \u5BB9\u5668\u7F16\u6392                               |\\n| \u4E3B\u8981\u8C03\u5EA6\u8D44\u6E90 | \u8BA1\u7B97/VM<br/>\u5B58\u50A8<br/>\u7F51\u7EDC | \u5BB9\u5668<br/>\u53CA\u914D\u5957\u5468\u8FB9\u8D44\u6E90<br/>\u81EA\u5B9A\u4E49\u8D44\u6E90 |\\n| \u4E3B\u8981\u7F16\u5199\u8BED\u8A00 | Python                    | Golang                                 |\\n\\n\x3c!-- more --\x3e\\n\\n## \u533A\u522B\\n\\nOpenStack \u4E0E Kubernetes \u7684\u533A\u522B\u5C31\u7B49\u540C\u4E8E\u865A\u62DF\u673A\u4E0E\u5BB9\u5668\u7684\u533A\u522B\uFF0CDocker \u4E0E VirtualBox \u7684\u533A\u522B\u3002\\n\\n### OpenStack\\n\\nOpenStack \u7684\u5B58\u5728\u4E3B\u8981\u89E3\u51B3\u57FA\u7840\u8BBE\u65BD\u7BA1\u7406\uFF0C\u90A3\u5E74\u4EE3\u4E5F\u6B63\u503C\u5927\u6570\u636E\u5FEB\u901F\u53D1\u5C55\uFF0C\u5BB9\u5668\u8FD8\u6CA1\u6709\u51FA\u73B0\u4E8E\u516C\u4F17\u89C6\u91CE\u3002\\nOpenStack \u63D0\u4F9B\u4E86\u4E00\u6574\u5957\u7684\u79C1\u6709\u4E91\u89E3\u51B3\u65B9\u6848\uFF0C\u63D0\u4F9B\u6700\u4E3A\u57FA\u7840\u7684\u8BBE\u65BD\u5C42\u4E91\u5316\u3002\u56E0\u4E3A\u662F\u8BBE\u65BD\u5C42\u4E91\u5316\uFF0COpenStack \u662F\u9700\u8981\u5728\u88F8\u673A\u670D\u52A1\u5668\u4E0A\u8FD0\u884C\u7684\uFF0C\u57FA\u7840\u5E73\u53F0\u5373\u9700\u8981\u76F8\u5F53\u7684\u8D44\u6E90\u3002\\nOpenStack \u51FA\u73B0\u540E\u5174\u8D77\u8FC7\u4E00\u6BB5\u6F6E\u6D41\uFF0C\u4E0D\u5C11\u4F01\u4E1A\u5F00\u59CB\u7EC4\u5EFA\u4E91\uFF0C\u5E76\u63D0\u4F9B\u670D\u52A1\uFF0C\u6211\u5370\u8C61\u6DF1\u523B\u7684\u4FBF\u662F\u4EAC\u4E1C\u4E91\u3002\u4F46\u5728 2015 \u5E74 Kubernetes 1.0 \u53D1\u5E03\u540E\uFF0C\u5927\u91CF\u4F01\u4E1A\u5F00\u59CB\u8FC1\u51FA OpenStack\uFF0C\u8F6C\u5411 Kubernets\u3002\\n\\n\u90A3\u4E48\u4EC0\u4E48\u65F6\u5019\u5E94\u8BE5\u4F7F\u7528 OpenStack \u5462\uFF1F\\n\\n1. **\u6838\u5FC3\u4E1A\u52A1\u662F\u63D0\u4F9B\u516C\u6709\u4E91**\\n\\n- \u865A\u62DF\u673A\\n- \u865A\u62DF\u7F51\u7EDC\\n- \u865A\u62DF\u5B58\u50A8\\n\\n2. \u6709 OpenStack \u4E13\u7528\u673A\u623F\\n3. \u6709 OpenStack \u4E13\u5BB6\u56E2\u961F\\n4. \u6709\u8DB3\u591F\u7684\u8D44\u91D1\u652F\u4ED8 OpenStack \u54A8\u8BE2/\u652F\u6301\u8D39\u7528\\n\\nOpenStack \u53EA\u8D1F\u8D23\u89E3\u51B3\u57FA\u7840\u8BBE\u65BD\u7684\u7BA1\u7406\u9694\u79BB\uFF0C\u4E0D\u8D1F\u8D23\u89E3\u51B3\u670D\u52A1\u90E8\u7F72\u8FD0\u7EF4\uFF0C\u4E0D\u8D1F\u8D23\u652F\u6491 Web \u89C4\u6A21\u7684\u5E94\u7528\u3002\\n\\n### Kubernetes\\n\\nKubernetes \u7684\u51FA\u73B0\u548C\u5174\u8D77\u662F\u5BB9\u5668\u53D1\u5C55\u540E\u7684\u7ED3\u679C\u3002\\n\\n- 2007 \u5E74 cgroups \u7684\u51FA\u73B0\u5B9E\u73B0\u4E86\u8FDB\u7A0B\u8D44\u6E90\u9694\u79BB - \u6765\u6E90\u4E8E Google\\n- 2008 \u5E74 lxc \u57FA\u672C\u5B9E\u73B0\u4E86 Linux \u7684\u7CFB\u7EDF\u7EA7\u865A\u62DF\u5316 - \u57FA\u4E8E cgroups \u548C \u547D\u540D\u7A7A\u95F4\\n- 2013 \u5E74 google \u5F00\u6E90\u53EF\u5185\u90E8\u5BB9\u5668\u6280\u672F\u6808 [lmctfy](https://github.com/google/lmctfy) \u5B9E\u73B0\u4E86 Linux \u4E0B\u5E94\u7528\u9694\u79BB\\n- 2013 \u5E74 Docker \u51FA\u73B0\u5728\u516C\u4F17\u89C6\u91CE - \u57FA\u4E8E LXC\\n- 2014 \u5E74 CoreOS \u7684 RTK \u51FA\u73B0\uFF0C\u63A8\u8FDB\u5BB9\u5668\u7684\u53D1\u5C55\\n  - \u53EA\u63D0\u4F9B\u5BB9\u5668\u7684\u7CFB\u7EDF\uFF0C\u5C31\u597D\u6BD4 xen \u7684 dom0 \u53EA\u63D0\u4F9B\u865A\u62DF\u5316\\n- 2015 \u5E74 Kubernetes 1.0\\n- 2016 \u5E74 Windows \u652F\u6301\u5BB9\u5668\u5316\u6280\u672F\\n\\n\u5230\u4ECA\u5929\uFF0CKubernetes \u4E0D\u53EA\u662F\u7528\u4E8E\u8C03\u5EA6\u5BB9\u5668\uFF0C\u66F4\u50CF\u662F\u4E00\u4E2A\u6CDB\u7528\u7684\u96C6\u7FA4\u8D44\u6E90\u8C03\u5EA6\u5E73\u53F0\u3002\\n\\nKubernetes \u4E5F\u53EF\u4EE5\u88AB\u5B9A\u4E49\u4E3A IaaS\uFF0C\u56E0\u4E3A\u63D0\u4F9B\u4E86\u8BA1\u7B97\u3001\u5B58\u50A8\u3001\u7F51\u7EDC\u7684\u80FD\u529B\uFF0C\u4F46\u53C8\u4E0E\u4F20\u7EDF\u7684\u57FA\u7840\u8BBE\u65BD\u4E0D\u592A\u76F8\u540C\uFF0C\u66F4\u52A0\u8F7B\u91CF\u4FBF\u6377\u3002\u8FD9\u65F6\u5019\u5982\u4F55\u9009\u62E9\uFF0C\u5C31\u770B\u9700\u8981\u57FA\u7840\u8BBE\u65BD\u8FD0\u7EF4\u5C42\u4EA4\u4ED8\u4EC0\u4E48\u6837\u7684\u8D44\u6E90\u5185\u5BB9\u3002\\n\\nKubernetes \u7684\u51FA\u73B0\u4F7F\u5F97\u8FD0\u7EF4\u6982\u5FF5\u66F4\u52A0\u6CDB\u5316\uFF0CDevOps \u7684\u6982\u5FF5\u5174\u8D77\uFF0C\u57FA\u7840\u8BBE\u65BD\u4E0E\u5F00\u53D1\u4EBA\u5458\u8DDD\u79BB\u53D8\u5F97\u66F4\u4E3A\u63A5\u8FD1\u3002\\nKubernetes \u9664\u4E86\u63D0\u4F9B\u57FA\u7840\u7684\u5BB9\u5668\u90E8\u7F72\uFF0C\u8FD8\u63D0\u4F9B\u4E86\u5B9E\u73B0\u89C4\u6A21\u670D\u52A1\u9700\u8981\u7684\u6240\u6709\u8D44\u6E90\u7C7B\u578B\uFF0C\u4F8B\u5982 \u670D\u52A1\u3001Ingress\u3001\u914D\u7F6E\u3001\u5BC6\u94A5 \u7B49\u7B49\uFF0C\u8FD9\u4E00\u5C42\u662F OpenStack \u4E0D\u53EF\u80FD\u6D89\u53CA\u7684\u3002\\n\\n\u4EC0\u4E48\u65F6\u5019\u4F7F\u7528 Kubernetes \uFF1F\\n\\n1. \u5F53\u4E3B\u673A\u4E0D\u6B62\u4E00\u53F0\u3001\u5E94\u7528\u4E0D\u53EA\u4E00\u4E2A\\n2. \u6838\u5FC3\u4EA4\u4ED8\u4EA7\u54C1\u662F\u670D\u52A1\\n\\n## \u4E92\u8865\\n\\n- Kubernetes \u53EF\u4EE5\u9009\u62E9\u8FD0\u884C\u5728 OpenStack \u4E2D\\n- OpenStack \u53EF\u4EE5\u901A\u8FC7 LXD \u5C31\u884C\u8C03\u5EA6\u5BB9\u5668\\n- Kubernetes \u53EF\u4EE5\u63D0\u4F9B\u865A\u62DF\u673A\u7684\u4F53\u9A8C\\n  - \u5BB9\u5668\u5B89\u88C5 SSH\\n  - \u4F7F\u7528 Kubvirt \u8C03\u5EA6\u865A\u62DF\u673A\\n- Kubernetes \u53EF\u4EE5\u63D0\u4F9B\u865A\u62DF\u673A\u7A0B\u5EA6\u7684\u9694\u79BB\\n\\n## \u975E\u5E38\u89C4\u5E73\u53F0\\n\\nOpenStack \u548C Kubernetes \u90FD\u662F\u901A\u7528\u7684\u4E91\u5E73\u53F0 - \u901A\u7528\u8BA1\u7B97\u3001\u901A\u7528\u5B58\u50A8\u3001\u901A\u7528\u7F51\u7EDC\u3002\\n\u6709\u4E9B\u65F6\u5019\u5E73\u53F0\u573A\u666F\u5E76\u4E0D\u662F\u6CDB\u7528\u7684\u573A\u666F\uFF0C\u4F8B\u5982\\n\\n- \u79C1\u6709\u5B58\u50A8\u4E91\\n- \u6D41\u6570\u636E\u5904\u7406\u5E73\u53F0\\n- \u8FB9\u7F18\u8282\u70B9\u8C03\u5EA6\\n- \u5927\u6570\u636E - \u8BA1\u7B97\u3001\u5B58\u50A8\\n- GPU \u8BA1\u7B97\\n\\n\u8FD9\u65F6\u5019\u5219\u9700\u8981\u6309\u9700\u9009\u62E9\u5BF9\u5E94\u7684\u8C03\u5EA6\u5E73\u53F0\u6216\u5DE5\u5177\u3002\u4F8B\u5982 \u5B58\u50A8\u4F7F\u7528 Ceph\uFF0C\u5E76\u4E0D\u662F\u4E00\u5B9A\u9700\u8981\u90E8\u7F72\u5728 Kubernetes \u4E4B\u4E0A\uFF0C\u5927\u6279\u91CF\u7684\u8FB9\u7F18\u8282\u70B9\u8C03\u5EA6\u53EF\u80FD Nomad \u4F1A\u66F4\u52A0\u9002\u5408\uFF0C\u5927\u6570\u636E\u5E73\u53F0\u53EF\u80FD\u6709 Hadoop \u66F4\u52A0\u9002\u5408\u7684\u573A\u666F\u3002\\n\\n\u4F46\u4E0D\u53EF\u5426\u8BA4\u7684\u662F\uFF0C99% \u7684\u4F01\u4E1A\u90FD\u662F\u5C5E\u4E8E\u901A\u7528\u7684\u4E00\u7C7B\uFF0C\u56E0\u6B64 99% \u7684\u573A\u666F\u9009\u62E9 Kubernetes \u5373\u53EF\u3002\\n\\n## \u53C2\u8003\\n\\n- [\u4EAC\u4E1C\u5982\u4F55\u4ECE OpenStack \u8FC1\u79FB\u81F3 Kubernetes](https://yq.aliyun.com/articles/139446)\\n- [The future of OpenStack?](https://www.suse.com/c/the-future-of-openstack/)\\n- [What is the future of Openstack?](https://qr.ae/pNPMWM)"},{"id":"stage-four-of-life","metadata":{"permalink":"/story/stage-four-of-life","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2020/2020-08-16-stage-four-of-life.md","source":"@site/../story/2020/2020-08-16-stage-four-of-life.md","title":"\u4EBA\u751F\u7B2C\u56DB\u9636\u6BB5","description":"\u4EBA\u751F\u9636\u6BB5","date":"2020-08-16T00:00:00.000Z","tags":[{"inline":true,"label":"\u6210\u957F","permalink":"/story/tags/\u6210\u957F"}],"readingTime":1.95,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"stage-four-of-life","title":"\u4EBA\u751F\u7B2C\u56DB\u9636\u6BB5","tags":["\u6210\u957F"]},"unlisted":false,"prevItem":{"title":"Kubernetes vs OpenStack","permalink":"/story/kubernetes-vs-openstack"},"nextItem":{"title":"\u5FAE\u670D\u52A1\u6742\u5FF5","permalink":"/story/microservice-thoughts"}},"content":"## \u4EBA\u751F\u9636\u6BB5\\n\\n\u9C81\u9053\u592B\xb7\u65BD\u6CF0\u7EB3\u7684\u4EBA\u667A\u5B66\u7406\u8BBA\uFF0C\u5B9A\u4E49\u4EBA\u7684\u53D1\u5C55\u6BCF\u4E03\u5E74\u4E00\u4E2A\u9636\u6BB5\u3002\\n\\n> \u9C81\u9053\u592B\xb7\u65BD\u6CF0\u7EB3 - Rudolf Steiner\uFF0C1861 \u5E74 2 \u6708 27 \u65E5\uFF0D1925 \u5E74 3 \u6708 30 \u65E5\uFF0C\u5965\u5730\u5229\u7684\u54F2\u5B66\u5BB6\u3001\u6539\u9769\u5BB6\u3001\u5EFA\u7B51\u5E08\u548C\u6559\u80B2\u5BB6\\n\\n\x3c!-- more --\x3e\\n\\n\u4E0D\u77E5\u66FE\u51E0\u4F55\u65F6\u542C\u8BF4\u8FC7\u8FD9\u6837\u4E00\u4E2A\u7406\u8BBA\uFF0C\u542C\u5230\u7684\u5F53\u5E74\u5F53\u65F6\u4FBF\u6DF1\u523B\u7684\u8BB0\u5FC6\u5728\u4E86\u8111\u6D77\u91CC\u3002\u5982\u679C\u4ED4\u7EC6\u53BB\u60F3\uFF0C\u8FD9\u662F\u4E00\u4E2A\u975E\u5E38\u6709\u610F\u601D\u7684\u7406\u8BBA\uFF0C\u5F80\u5F80\u6211\u4EEC\u4E60\u60EF\u8BF4\u4EBA\u751F\u9636\u68AF\u8FD9\u6837\u7684\u8BCD\u8BED\uFF0C\u4F46\u5C11\u6709\u60F3\u8FC7\u6211\u4EEC\u7684\u9636\u68AF\u662F\u4EC0\u4E48\u6837\u7684\u3002\u4E03\u5E74\u662F\u6211\u8BA4\u4E3A\u5BF9\u4EBA\u751F\u9636\u6BB5\u5B9A\u4E49\u5F88\u597D\u7684\u91CC\u7A0B\u7891\u5F0F\u4E8B\u4EF6\u3002\\n\\n\u4E03\u5E74\uFF0C\u4E0D\u957F\u4E0D\u77ED\u3002\u7B2C\u4E00\u4E2A\u4E03\u5E74\uFF0C\u6709\u4E86\u81EA\u6211\u610F\u8BC6\uFF1B\u7B2C\u4E8C\u4E2A\u4E03\u5E74\uFF0C\u6709\u4E86\u751F\u6D3B\u751F\u5B58\u610F\u8BC6\uFF1B\u7B2C\u4E09\u4E2A\u4E03\u5E74\uFF0C\u6709\u4E86\u60C5\u611F\u60C5\u7EEA\u610F\u8BC6\uFF1B\u7B2C\u56DB\u4E2A\u4E03\u5E74\uFF0C\u6709\u4E86\u8D23\u4EFB\u3002\\n\\n## \u7B2C\u56DB\u9636\u6BB5\\n\\n> 4 \u2A09 7 = 28\\n\\n\u7ED3\u675F\u4E86\u751F\u5982\u864E\u7684\u5C11\u5E74\u65F6\u4EE3\uFF0C\u7ED3\u675F\u4E86\u65E0\u6240\u754F\u60E7\uFF0C\u7ED3\u675F\u4E86\u65E0\u5FE7\u65E0\u8651\u3002\\n\\nThere are a lot of people that not make it go throught the 28, like my favorite DJ Avicii, sorry for them.\\n\\nI know, need a lot courage to live, but only need one step to die. Life never gose easy until the end.\\n\\nI don\'t know what\'s next I have to face, but I think I\'m prepared for whatever it is.\\n\\n\u6BCF\u4E00\u6B21\u7684\u7ED3\u675F\u5F53\u7136\u662F\u65B0\u7684\u5F00\u59CB\u3002\\n\\n\u5728\u8FD9\u4E2A\u9636\u6BB5\uFF0C28-35\uFF0C\u4E3A\u4EBA\uFF0C\u5C06\u8FCE\u6765\u751F\u547D\u529B\u7684\u5DC5\u5CF0\uFF0C\u4F3C\u4E4E\u4E00\u76F4\u90FD\u5728\u4E3A\u6240\u80A9\u8D1F\u8FDB\u884C\u51C6\u5907\u3002\u6709\u6240\u671F\u5F85\uFF0C\u6CBF\u9014\u7684\u98CE\u666F\u6216\u8BB8\u624D\u662F\u6700\u5927\u7684\u52A8\u529B\uFF1B\u6709\u6240\u671F\u671B\uFF0C\u770B\u7740\u201C\u5979\u201D\u7684\u5F00\u59CB\u6216\u8BB8\u662F\u6BCF\u5929\u5FEB\u4E50\u7684\u6E90\u6CC9\uFF1B\u6709\u6240\u966A\u4F34\uFF0C\u4EE5\u81F3\u4E8E\u4E0D\u5728\u5B64\u5355\u3002\\n\\nSo, I can keep going.\\n\\n\u5728\u8FD9\u4E2A\u9636\u6BB5\uFF0C\u6216\u8BB8\u4F1A\u6709\u5F88\u591A\u5BF9\u4E0D\u8D77\u3002\u5BF9\u4E0D\u8D77\u90A3\u4E9B\u7167\u987E\u966A\u4F34\u4F60\u7684\u4EBA\uFF0C\u56E0\u4E3A\u4F60\u5C06\u6CA1\u6709\u90A3\u4E48\u591A\u65F6\u95F4\u7559\u5728\u4ED6\u4EEC\u8EAB\u8FB9\uFF1B\u5BF9\u4E0D\u8D77\u90A3\u4E9B\u671F\u671B\u7740\u4F60\u56DE\u5BB6\u7684\u4EBA\u513F\uFF0C\u56E0\u4E3A\u4F1A\u6709\u5F88\u591A\u4E2A\u65E5\u591C\u90FD\u4F1A\u8F9C\u8D1F\u4ED6\u4EEC\u7684\u7B49\u5F85\uFF1B\u6216\u8BB8\uFF0C\u4E5F\u4F1A\u5BF9\u4E0D\u8D77\u90A3\u4E2A\u671F\u5F85\u7684\u81EA\u5DF1\uFF0C\u4ECA\u5929\u7684\u627F\u8BFA\u4E0D\u77E5\u5728\u67D0\u5929\u624D\u80FD\u8FBE\u6210\u3002\\n\\nBut, I have to keep going.\\n\\n> May the path be with you.\\n\\n## \u53C2\u8003\\n\\n- https://tommonte.com/the-7-year-cycles-of-life/\\n  - The 7-Year Cycles of Life\\n- \u539F\u6587 - https://wener.me/blog/stage-four-of-life\\n  - Markdown - https://github.com/wenerme/wener/blob/master/story/2020/2020-08-16-stage-four-of-life.md"},{"id":"microservice-thoughts","metadata":{"permalink":"/story/microservice-thoughts","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2020/2020-08-15-microservice-thoughts.md","source":"@site/../story/2020/2020-08-15-microservice-thoughts.md","title":"\u5FAE\u670D\u52A1\u6742\u5FF5","description":"\u5FAE\u670D\u52A1\u5DF2\u7ECF\u662F\u4E00\u4E2A\u4E0D\u518D\u65B0\u9C9C\u7684\u6982\u5FF5\uFF0C\u4F46\u6211\u5374\u4F9D\u7136\u6A21\u7CCA\u4E0D\u6E05\u3002","date":"2020-08-15T00:00:00.000Z","tags":[{"inline":true,"label":"\u67B6\u6784","permalink":"/story/tags/\u67B6\u6784"},{"inline":true,"label":"\u5FAE\u670D\u52A1","permalink":"/story/tags/\u5FAE\u670D\u52A1"}],"readingTime":7.91,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"microservice-thoughts","title":"\u5FAE\u670D\u52A1\u6742\u5FF5","tags":["\u67B6\u6784","\u5FAE\u670D\u52A1"]},"unlisted":false,"prevItem":{"title":"\u4EBA\u751F\u7B2C\u56DB\u9636\u6BB5","permalink":"/story/stage-four-of-life"},"nextItem":{"title":"\u5F00\u6E90 BI \u4EA7\u54C1\u6BD4\u8F83","permalink":"/story/compare-os-bi-tool"}},"content":"[![](https://www.plantuml.com/plantuml/svg/TP51I-D068Rlyok6x3NTiikoM3Mb9csyUF9QYinqFjjWceIPqLfABmL12Zs8UDE3NeKgY8Y2-ckI-ZFCcCOqjSqflFDyxpnyKn6ISCbyYPZJuYHeustSHvxFe2xQ9023-iUwa3qNZ7t7TO7fJT_rkI4vyKH0E7YoWPB1EbPZ0WBZZnwV7Z276zhEhjP0w500nuKoRX49NT93QFQZilZeo6d27baMKeHGNvKPWdHW8uCpOf3Krrr2mJKsmybDTFeqlRqhwrWP9xhQBzEircnJQwItfFpqzImyULY0hRNQVwiKmz_tfNXqEGv7rrjbVHwtRQjQ_Jk7qpnkhi3LlhBgZz5mEdp-KMsNh7yfI_EikO9bT4xuuZuQJyANyuLYzlN5S2QTUuqi9ofFL9TaD3UVSaftHYaPX18RBNoR92k9heRX-oCkuBQKWLWl5hlW0V_T0GqDK0Kyndpv2G00)](https://wener.me)\\n\\n# \u5FAE\u670D\u52A1\u6742\u5FF5\\n\\n\u5FAE\u670D\u52A1\u5DF2\u7ECF\u662F\u4E00\u4E2A\u4E0D\u518D\u65B0\u9C9C\u7684\u6982\u5FF5\uFF0C\u4F46\u6211\u5374\u4F9D\u7136\u6A21\u7CCA\u4E0D\u6E05\u3002\\n\\n\x3c!-- more --\x3e\\n\\n\u5FAE\u670D\u52A1\uFF0C\u629B\u5F00 \u5FAE \u4E0D\u770B\uFF0C\u9996\u5148\u662F\u4E00\u4E2A\u9762\u5411\u670D\u52A1\u7684\u67B6\u6784\uFF0C\u5373 SOA\u3002\u7CFB\u7EDF\u6A21\u5757\uFF0C\u4E1A\u52A1\u903B\u8F91\u4E4B\u95F4\u7684\u754C\u9650\u662F\u670D\u52A1\uFF0C\u670D\u52A1\u4E3A \u670D\u52A1\u540D+\u65B9\u6CD5\u540D\uFF0C\u4E0E CRUD/REST \u4E0D\u540C\u3002\u670D\u52A1\u91CD\u5728\u4EA4\u4E92\uFF0CCRUD/REST \u91CD\u5728\u6570\u636E\u3002\\n\\nSOA \u66FE\u7ECF\u6709 SOAP\u3001 Java RMI\uFF0C\u73B0\u5728\u4E3B\u6D41\u7684 gRPC \u548C\u5E38\u89C1\u7684 JsonRPC\u3002\u8FD9\u4E9B\u5B9A\u4E49\u7684\u90FD\u662F\u670D\u52A1\u4EA4\u4E92\u534F\u8BAE\uFF0C\u800C\u5FAE\u670D\u52A1\u66F4\u591A\u7684\u5173\u6CE8\u670D\u52A1\u7684\u7EC4\u5408\u3001\u5206\u5E03\u3001\u7F16\u6392\u3001\u5BB9\u9519\u3001\u53D1\u73B0\u3001\u901A\u4FE1\u3001\u8DDF\u8E2A\u7B49\u3002\u56E0\u6B64\u4F1A\u60F3\u5230\u8FD9\u6837\u7684\u4E00\u4E9B\u4E3B\u9898\uFF1A\\n\\n- \u670D\u52A1\u901A\u4FE1\\n  - \u70B9\u5BF9\u70B9 - \u7B80\u5355\u597D\u7406\u89E3\uFF0C\u60F3\u8981\u7A33\u5B9A\u4F7F\u7528\u5219\u4F1A\u5BFC\u81F4\u5B9E\u73B0\u590D\u6742\\n  - \u5E7F\u64AD\u603B\u7EBF - \u5B9E\u73B0\u7B80\u5355\u4F46\u4F9D\u8D56\u989D\u5916\u670D\u52A1\\n  - \u7F51\u5173 - \u5B9E\u73B0\u7B80\u5355\uFF0C\u6613\u4E8E\u7406\u89E3\uFF0C\u989D\u5916\u7684\u4E00\u6B21\u8DF3\u8F6C\\n- \u670D\u52A1\u5E8F\u5217\u5316\\n  - \u4E00\u4E2A\u53D1\u5C55\u4E86\u5F88\u4E45\uFF0C\u8BA4\u4E3A\u5DF2\u7ECF\u88AB\u89E3\u51B3\u7684\u95EE\u9898\\n  - \u66FE\u7ECF\u5E8F\u5217\u5316\u4E3B\u8981\u4EE5\u6027\u80FD\u4F5C\u4E3A\u8003\u8651\uFF0C\u73B0\u4ECA\u8BA1\u7B97\u5197\u4F59\uFF0C\u524D\u671F\u9009\u62E9\u6700\u7B80\u5355\u7684 JSON \u5DF2\u7ECF\u8DB3\u591F\\n- \u670D\u52A1\u53D1\u73B0\\n- \u670D\u52A1\u5BB9\u9519\\n\\n## \u670D\u52A1\u901A\u4FE1\\n\\n\u670D\u52A1\u4E4B\u95F4\u7684\u901A\u4FE1\u53EF\u7C7B\u6BD4\u4E3A\u7F51\u7EDC\u901A\u4FE1\uFF0C\u4E3B\u8981\u5206\u4E3A\u70B9\u5BF9\u70B9\uFF0C\u5E7F\u64AD\u548C\u7F51\u5173\uFF1A\\n\\n- \u70B9\u5BF9\u70B9\u573A\u666F\\n  - \u524D\u540E\u7AEF\u901A\u4FE1\\n  - \u670D\u52A1\u7AEF\u8C03\u7528\\n- \u5E7F\u64AD\u573A\u666F\\n  - \u670D\u52A1\u53D1\u73B0\\n  - \u670D\u52A1\u603B\u7EBF\\n- \u7F51\u5173\u573A\u666F\\n  - \u524D\u540E\u7AEF\u901A\u4FE1\\n  - \u670D\u52A1\u8DEF\u7531\\n  - \u534F\u8BAE\u9002\u914D\\n  - \u9274\u6743\\n\\n\u4ECE\u670D\u52A1\u63D0\u4F9B\u65B9\u6765\u8BF4\u670D\u52A1\u7684\u901A\u4FE1\u4E5F\u53EF\u4EE5\u533A\u5206\u4E3A\u4E3B\u52A8\u548C\u88AB\u52A8\uFF1A\\n\\n- \u4E3B\u52A8\\n  - \u76D1\u542C\u8FC7\u6EE4\u7279\u5B9A\u670D\u52A1\u8FDB\u884C\u5904\u7406\\n    - \u4F8B\u5982 \u76D1\u542C Topic\uFF0C\u7EF4\u62A4\u94FE\u63A5\u7A33\u5B9A\u6027\uFF0C\u8FC7\u6EE4\u53EA\u5904\u7406\u672C\u5730\u63D0\u4F9B\u7684\u670D\u52A1\\n  - \u957F\u94FE\u63A5\u6CE8\u518C\u670D\u52A1\\n    - \u94FE\u63A5\u65AD\u5F00\u5219\u670D\u52A1\u505C\u6B62\\n- \u88AB\u52A8\\n  - \u76D1\u542C\u56FA\u5B9A\u63A5\u53E3\\n    - \u4F8B\u5982 \u76D1\u542C\u672C\u5730 8080\uFF0C\u63D0\u4F9B JsonRPC\uFF0C\u5904\u7406\u4E3B\u52A8\u8BF7\u6C42\u8FC7\u6765\u7684\u670D\u52A1\u8C03\u7528\\n  - \u542F\u52A8\u65F6\u6CE8\u518C\u670D\u52A1\\n    - \u7531\u6CE8\u518C\u4E2D\u5FC3\u670D\u52A1\u5B9A\u671F\u68C0\u6D4B\u670D\u52A1\u5B58\u6D3B\\n\\n### \u70B9\u5BF9\u70B9\u901A\u4FE1\\n\\n**HTTP**\\n\\n\u76EE\u524D HTTP \u5728\u5FEB\u901F\u53D1\u5C55\uFF0C\u65B0\u7684\u534F\u8BAE\u63D0\u9AD8\u7684\u4E3B\u8981\u662F\u6027\u80FD\u548C\u5BF9\u957F\u94FE\u63A5\u6D41\u7684\u652F\u6301\uFF0C\u5982\u679C\u9009\u62E9\u7B80\u5355\u5B9E\u73B0\u670D\u52A1\u8C03\u7528\uFF0CHTTP \u8BF7\u6C42\u8DB3\u4EE5\u3002\\n\\n\u4F7F\u7528 HTTP POST \u5B9E\u73B0 \u5355\u6B21\u8BF7\u6C42\u54CD\u5E94\uFF0C\u4F7F\u7528 WebSocket \u5B9E\u73B0\u6D41\u5F0F\u8BF7\u6C42\u3002\u4F7F\u7528 HTTP \u7684\u597D\u5904\u662F\u80FD\u5229\u7528\u73B0\u6709\u7684\u57FA\u7840\u8BBE\u65BD\uFF0CHTTP \u662F\u76EE\u524D\u652F\u6301\u6700\u4E3A\u5E7F\u6CDB\u7684\u534F\u8BAE\uFF0C\u4E5F\u662F\u6700\u53D7\u5173\u6CE8\u7684\u534F\u8BAE\u3002\\n\\n\u4F46\u9009\u62E9 HTTP \u65F6\uFF0C\u5982\u679C\u81EA\u884C\u5B9E\u73B0\uFF0C\u5219\u6700\u597D\u9009\u62E9 HTTP 1\uFF0C\u907F\u514D\u4F7F\u7528 HTTP 2 \u7B49\u65B0\u589E\u7279\u6027\uFF0CHTTP 2+ \u80FD\u4F20\u9012 HTTP 1 \u7684\u6240\u6709\u8BED\u4E49\uFF0C\u4E14\u6027\u80FD\u5404\u65B9\u9762\u80FD\u5F97\u5230\u5F88\u597D\u7684\u63D0\u5347\uFF0C\u8FD9\u6837\u8DB3\u4EE5\u3002\u5982\u679C\u8981\u72EC\u7ACB\u4F7F\u7528 HTTP \u534F\u8BAE\u65B0\u7279\u6027\uFF0C\u4F8B\u5982 Trailer\uFF0C\u5219\u5B9E\u73B0\u4F1A\u53D8\u5F97\u8FC7\u4E8E\u590D\u6742\u3002\\n\\n**\u975E HTTP \u8BED\u4E49**\\n\\n\u5F53\u4F7F\u7528\u975E HTTP \u8BED\u4E49\u8BED\u4E49\u65F6\uFF0C\u53EF\u80FD\u662F\u57FA\u4E8E TCP\uFF0C\u4E5F\u53EF\u80FD\u662F\u5BF9 Payload \u8FDB\u884C\u5B9A\u4E49\uFF0C\u62BD\u8C61\u4F20\u8F93\u5C42\uFF0C\u4F46\u5982\u4ECA\u60F3\u8981\u8DE8\u8BED\u8A00\uFF0C\u4F7F\u7528\u975E HTTP \u534F\u8BAE\u963B\u788D\u4F1A\u975E\u5E38\u5927\uFF0C\u56E0\u6B64\u5B81\u613F\u9009\u62E9\u5BF9 Payload \u505A\u81EA\u5B9A\u4E49\u4E5F\u4E0D\u4F1A\u9009\u62E9\u4E0D\u4F7F\u7528 HTTP\u3002\\n\\n#### \u70B9\u5BF9\u70B9\u7F51\u5173\\n\\n\u901A\u5E38\u70B9\u5BF9\u70B9\u662F\u9700\u8981\u76F4\u63A5\u901A\u4FE1\uFF0C\u4F46\u73B0\u4ECA\u6709\u63D0\u4F9B Mesh \u7F51\u7EDC\u7684\u7F51\u5173\u7EC4\u4EF6\uFF0C\u4F7F\u5F97\u539F\u672C\u4E0D\u4E92\u901A\u7684\u7F51\u7EDC\u670D\u52A1\u80FD\u591F\u4E92\u76F8\u8BBF\u95EE\u3002\u540C\u65F6\u4E5F\u80FD\u5B9E\u73B0\u5BF9\u5E94\u7684\u670D\u52A1\u4E4B\u95F4\u7684\u6743\u9650\u7BA1\u7406\u548C\u76D1\u63A7\u3002\\n\\n\u4F7F\u7528 Mesh \u7F51\u5173\u5219\u53EF\u4EE5\u8BA9\u5BA2\u6237\u7AEF\u7684\u7F51\u7EDC\u5C42\u5B9E\u73B0\u66F4\u4E3A\u7B80\u5355\uFF0C\u7531\u7F51\u5173\u53BB\u7EF4\u62A4\u670D\u52A1\u7F51\u7EDC\u7684\u7A33\u5B9A\u6027\uFF0C\u5BF9\u670D\u52A1\u7F51\u7EDC\u7684\u53D8\u5316\u4E5F\u80FD\u66F4\u5FEB\u7684\u53CD\u5E94\u3002\u4F46\u6210\u672C\u662F\u7EF4\u62A4\u989D\u5916\u7684\u57FA\u7840\u8BBE\u65BD\u7EC4\u4EF6\uFF0C\u4E14\u6CE8\u518C\u4E2D\u5FC3\u4E0E\u7F51\u5173\u6709\u5F3A\u5173\u8054\u548C\u4EA4\u4E92\uFF0C\u6BCF\u4E2A\u8282\u70B9\u8FD0\u884C\u4E00\u4E2A\u7F51\u5173\u4E5F\u662F\u989D\u5916\u7684\u8D44\u6E90\u6D88\u8017\u3002\\n\\n### \u5E7F\u64AD\u901A\u4FE1\\n\\n\u670D\u52A1\u603B\u7EBF\u672C\u6765\u662F\u4E00\u79CD\u8BBE\u8BA1\u6A21\u5F0F\uFF0C\u6BD4\u8F83\u5E38\u89C1\u7684\u662F\u57FA\u4E8E\u4E8B\u4EF6\u9A71\u52A8\u7684\u8BBE\u8BA1\uFF0C\u4F46\u5728\u670D\u52A1\u573A\u666F\u4F1A\u6709\u6240\u4E0D\u540C\u3002\u4E8B\u4EF6\u9A71\u52A8\u4E00\u822C\u6709\u56FA\u5B9A\u7684 \u4E3B\u9898/Topic \uFF0C\u5728\u5B9A\u8BA2\u9605\u521D\u5DF2\u7ECF\u786E\u5B9A\u4E86\u90E8\u5206\u8BED\u4E49\u3002\u800C\u670D\u52A1\u603B\u7EBF\u5219\u53EF\u4EE5\u7406\u89E3\u4E3A\u53EA\u6709\u4E00\u4E2A Topic\uFF0C\u901A\u8FC7\u6D88\u606F\u7684\u5185\u5BB9\u6765\u8FDB\u884C\u8FC7\u6EE4\u8C01\u5904\u7406\u8C01\u4E0D\u9700\u8981\u5904\u7406\u3002\\n\\n\u603B\u7EBF\u7684\u901A\u4FE1\u6A21\u5F0F\u89E3\u51B3\u4E86\u670D\u52A1\u4E4B\u95F4\u7F51\u7EDC\u9694\u79BB\u7684\u963B\u788D\uFF0C\u4E0D\u518D\u9700\u8981 A \u670D\u52A1 \u4E0E B \u670D\u52A1 \u7F51\u7EDC\u4E92\u901A\uFF0C\u7F51\u7EDC\u7684\u53D8\u5316\u4E5F\u4E0D\u4F1A\u963B\u788D\u670D\u52A1\u7684\u901A\u4FE1\u3002\u4F46\u5982\u679C\u603B\u7EBF\u672C\u8EAB\u5982\u679C\u4E0D\u652F\u6301\u4E00\u4E9B meta \u4FE1\u606F\u7684\u6A21\u5F0F\u5339\u914D\uFF0C\u5219\u4F1A\u5BFC\u81F4\u6D41\u91CF\u8FC7\u5927\uFF0C\u5904\u7406\u80FD\u529B\u53D7\u9650\u3002\\n\\n\u9009\u62E9\u5E7F\u64AD\u901A\u4FE1\uFF0C\u5219\u5FC5\u7136\u4F1A\u9009\u62E9\u67D0\u79CD\u5F62\u5F0F\u7684 \u6D88\u606F\u961F\u5217/MQ \u5B9E\u73B0\uFF0C\u56E0\u6B64\u4F1A\u7275\u626F\u5230\u5176\u4ED6\u7684\u57FA\u7840\u8BBE\u65BD\u670D\u52A1\uFF0C\u4ECE\u90E8\u7F72\u8DDF\u8E2A\u4E0A\u6765\u8BF4\uFF0C\u8FD9\u662F\u6263\u5206\u7684\u3002\\n\\n### \u7F51\u5173\u901A\u4FE1\\n\\n\u7F51\u5173\u901A\u4FE1\u4E0E Mesh \u7F51\u5173\u4E0D\u540C\uFF0CMesh \u7684\u76EE\u7684\u5728\u4E8E\u6253\u901A\u8282\u70B9\uFF0C\u7F51\u5173\u7684\u76EE\u7684\u5728\u4E8E\u78E8\u5E73/\u9002\u914D\u4E0D\u540C\u7684\u73AF\u5883\u670D\u52A1\uFF0C\u63D0\u4F9B\u76F8\u540C\u7684\u80FD\u529B\u3002\\n\\n\u6240\u6709\u7684\u8BF7\u6C42\u901A\u8FC7\u7F51\u5173\uFF0C\u7531\u7F51\u5173\u8FDB\u884C\u8DEF\u7531\uFF0C\u8FD9\u662F\u5178\u578B\u7684 Nginx \u53CD\u5411\u4EE3\u7406\u573A\u666F\u3002\u56E0\u4E3A\u6240\u6709\u8BF7\u6C42\u90FD\u52A0\u4E86\u4E2D\u95F4\u5C42\uFF0C\u56E0\u6B64\u5F88\u591A\u4E8B\u60C5\u90FD\u53EF\u4EE5\u5728\u4E2D\u95F4\u5C42\u5B8C\u6210\uFF1A\\n\\n- \u8DEF\u7531\\n  - \u670D\u52A1 A -> \u8282\u70B9 B\\n- \u76D1\u63A7\\n  - \u91C7\u96C6\u670D\u52A1\u8BF7\u6C42\u6307\u6807\\n- \u9274\u6743\\n  - \u7528\u6237\u662F\u5426\u5141\u8BB8\u8BBF\u95EE\u670D\u52A1\\n  - \u670D\u52A1\u4E4B\u95F4\u662F\u5426\u5141\u8BB8\u901A\u4FE1\\n- \u9002\u914D\\n  - \u524D\u7AEF JsonRPC -> \u540E\u7AEF\u670D\u52A1 gRPC\\n- \u8DDF\u8E2A\\n  - \u6DFB\u52A0 RequestID\\n  - \u8BB0\u5F55\u8BF7\u6C42\u5230 Elastic\\n- \u96C6\u6210\u670D\u52A1\\n  - \u670D\u52A1 A -> \u5916\u90E8\u670D\u52A1 B\\n- \u670D\u52A1\u9519\u8BEF\u7194\u65AD\\n- \u8D1F\u8F7D\u5747\u8861\\n- TLS\\n\\n\u8BE5\u6A21\u5F0F\u4E0E\u5B9E\u9645\u6700\u5E95\u5C42\u7684\u670D\u52A1\u901A\u4FE1\u6709\u6709\u4E00\u70B9\u533A\u522B\uFF0C\u4E3B\u8981\u4F5C\u4E3A\u9002\u914D\u548C\u8026\u5408\u5B58\u5728\uFF0C\u5982\u679C\u7F51\u5173\u529F\u80FD\u8D8A\u591A\u505A\u7684\u4E8B\u60C5\u8D8A\u591A\u4E5F\u8D8A\u5BB9\u6613\u9020\u6210\u5355\u70B9\u74F6\u9888\u3002\\n\\n### \u901A\u4FE1\u4E0E\u5176\u4ED6\u7EC4\u4EF6\u7684\u5173\u8054\\n\\n\u901A\u4FE1\u662F\u670D\u52A1\u7684\u6839\u672C\uFF0C\u5BF9\u4E8E\u5FAE\u670D\u52A1\u66F4\u662F\u5982\u6B64\u3002\u901A\u4FE1\u7684\u6A21\u5F0F\u95F4\u63A5\u6216\u76F4\u63A5\u7684\u5F71\u54CD\u5176\u4ED6\u7EC4\u4EF6\u7684\u9009\u62E9\u548C\u8BBE\u8BA1\u3002\u4F46\u4E0D\u540C\u7684\u901A\u4FE1\u6A21\u5F0F\u5E76\u4E0D\u662F\u4E92\u65A5\u7684\uFF0C\u5728\u5BF9\u4E8E\u7684\u573A\u666F\u9009\u62E9\u5BF9\u4E8E\u7684\u65B9\u5F0F\u624D\u662F\u6700\u597D\u7684\u9009\u62E9\u3002\\n\\n- \u70B9\u5BF9\u70B9\\n  - \u4F18\u52BF\\n    - \u6613\u4E8E\u8DDF\u8E2A\\n    - \u6613\u4E8E\u7406\u89E3\\n    - \u53EF\u5229\u7528\u73B0\u6709\u57FA\u7840\u8BBE\u65BD\\n  - \u6CE8\u518C\u65F6\u5019\u9700\u8981\u6CE8\u518C\u672C\u5730 IP\u3001\u7AEF\u53E3\\n    - \u5982\u679C\u662F\u88AB\u52A8\uFF0C\u5219\u8FD8\u9700\u8981 IP \u548C \u7AEF\u53E3\u80FD\u591F\u88AB\u6CE8\u518C\u4E2D\u5FC3\u8BBF\u95EE\u4EE5\u786E\u4FDD\u670D\u52A1\u5065\u5EB7\\n    - \u5982\u679C\u662F\u4E3B\u52A8\uFF0C\u5219\u53EF\u80FD\u6CE8\u518C\u4E2D\u5FC3\u4F1A\u6210\u4E3A\u74F6\u9888\\n  - \u53D7\u7F51\u7EDC\u5F71\u54CD\u8F83\u5927\\n    - \u90E8\u7F72\u8282\u70B9\u53D8\u66F4\u53EF\u80FD\u9700\u8981\u4E00\u5B9A\u65F6\u95F4\u624D\u80FD\u66F4\u6B63\u4E3A\u65B0\u7684\u5730\u5740\\n    - \u5F71\u54CD\u56E0\u7D20\u4E3B\u8981\u6709\uFF1A\\n      1. \u68C0\u6D4B\u5230\u670D\u52A1\u4E0B\u7EBF\u7684\u65F6\u95F4\\n      - \u5BF9\u4E8E\u88AB\u52A8\u573A\u666F\u5219\u662F \u5FC3\u8DF3\u95F4\u9694*\u5931\u8D25\u6B21\u6570 - \u4E00\u822C\u4E3A `15s * 3 = 45s` - \u4E0D\u8FDB\u884C\u4E3B\u52A8\u5E72\u9884\u7684\u60C5\u51B5\\n      2. \u5BA2\u6237\u7AEF\u68C0\u6D4B\u5230\u65B0\u670D\u52A1\u4FE1\u606F\u7684\u65F6\u95F4\\n    - \u4E3A\u4E86\u51CF\u5C11\u7F51\u7EDC\u5F71\u54CD\uFF0C\u53EF\u80FD\u62BD\u8C61\u670D\u52A1\u4E3A VIP\\n      - \u4F8B\u5982 K8S \u7684\u670D\u52A1\u5B9A\u4E49\uFF0C\u8282\u70B9\u6CE8\u518C\u7684\u5730\u5740\u4F5C\u4E3A endpoing\uFF0C\u5B9E\u9645\u8BF7\u6C42 service\\n      - \u5F15\u5165\u65B0\u7684\u57FA\u7840\u8BBE\u65BD\u670D\u52A1\\n  - \u91CD\u5BA2\u6237\u7AEF\\n    - \u60F3\u8981\u5B9E\u73B0\u7A33\u5B9A\u7684\u670D\u52A1\u8BF7\u6C42\uFF0C\u5BA2\u6237\u7AEF\u8BBE\u8BA1\u5B9E\u73B0\u4F1A\u53D8\u5F97\u590D\u6742\uFF0C\u4E3B\u8981\u662F\u670D\u52A1\u53D1\u73B0\u548C\u5143\u6570\u636E\u53D8\u66F4\u76F8\u5173\u3002\\n  - \u53EF\u7528\u4E8E Web \u7AEF - \u4F46\u901A\u5E38\u8FD8\u662F\u4F1A\u4F7F\u7528 API \u7F51\u5173\u8FDB\u884C\u66B4\u9732\\n- \u5E7F\u64AD/\u603B\u7EBF\u901A\u4FE1\\n  - \u4F18\u52BF\\n    - \u67B6\u6784\u7B80\u5355\\n    - \u90E8\u7F72\u65F6\u5BF9\u73AF\u5883\u8981\u6C42\u66F4\u5C0F\\n  - \u6CE8\u518C\u65F6\u5019\u53EA\u9700\u8981\u6CE8\u518C\u57FA\u672C\u4FE1\u606F\u5373\u53EF\uFF0C\u6D88\u8D39\u7AEF\u548C\u63D0\u4F9B\u7AEF\u57FA\u672C\u53EF\u4EE5\u5B9E\u73B0 0 \u8026\u5408\\n    - \u70B9\u5BF9\u70B9\u9700\u8981\u77E5\u9053\u63D0\u4F9B\u7AEF\u7684\u5730\u5740\u4FE1\u606F\\n  - \u5F3A\u4F9D\u8D56\u989D\u5916\u7684\u6D88\u606F\u961F\u5217\u670D\u52A1\\n    - \u5B9E\u65F6\u578B\u6D88\u606F\u961F\u5217\\n    - \u4F7F\u7528\u6D88\u606F\u961F\u5217\u5E26\u6765\u989D\u5916\u5EF6\u65F6\\n  - \u63D0\u4F9B\u670D\u52A1\u7684\u4E00\u7AEF\u5FC5\u987B\u662F\u957F\u94FE\u63A5\u76D1\u542C\u6D88\u606F\\n    - \u56E0\u6B64 PHP \u8FD9\u7C7B\u7684 CGI \u811A\u672C\u8BED\u8A00\u6BD4\u8F83\u96BE\u4EE5\u4F7F\u7528\\n- \u7F51\u5173\\n  - \u4F18\u52BF\\n    - \u6574\u5408\\n  - \u4E0D\u4E00\u5B9A\u4E0E\u5B9E\u9645\u670D\u52A1\u8C03\u7528\u76F8\u5173\\n  - \u4E0E\u6CE8\u518C\u4E2D\u5FC3\u8026\u5408 - \u53D7\u6CE8\u518C\u4E2D\u5FC3\u63A7\u5236\\n  - \u4E0D\u7BA1\u9009\u7528\u4F55\u79CD\u901A\u4FE1\uFF0C\u4E00\u822C\u90FD\u4F1A\u5B58\u5728\u4E00\u4E2A\u7F51\u5173\\n\\n## \u670D\u52A1\u53D1\u73B0\\n\\n\u670D\u52A1\u53D1\u73B0\u901A\u5E38\u53EA\u662F\u4E00\u79CD\u884C\u4E3A\uFF0C\u4F46\u5B9E\u9645\u4F7F\u7528\u7684\u5E94\u8BE5\u662F\u670D\u52A1\u6CE8\u518C\u4E2D\u5FC3\uFF0C\u4E3B\u8981\u80FD\u529B\u5305\u62EC\uFF1A\\n\\n- \u8BB0\u5F55\u670D\u52A1\u8282\u70B9\u4FE1\u606F - \u9762\u5411\u670D\u52A1\u63D0\u4F9B\u8005\\n  - \u63D0\u4F9B A \u670D\u52A1\u8282\u70B9\u7684 IP \u662F\u591A\u5C11\uFF0C\u7AEF\u53E3\u662F\u591A\u5C11\\n- \u63D0\u4F9B\u670D\u52A1\u8282\u70B9\u5BF9\u5E94\u5173\u7CFB - \u9762\u5411\u670D\u52A1\u6D88\u8D39\u8005 - \u53D1\u73B0\\n  - \u8C01\u63D0\u4F9B A \u670D\u52A1\\n- \u670D\u52A1\u5143\u6570\u636E\u8BB0\u5F55 - \u670D\u52A1\u7BA1\u7406\\n  - A \u670D\u52A1\u6709\u90A3\u4E9B\u7248\u672C\uFF0C\u6709\u90A3\u4E9B\u65B9\u6CD5\uFF0C\u53C2\u6570\u7C7B\u578B\u662F\u4EC0\u4E48\u6837\u7684\\n  - A \u670D\u52A1\u662F\u7528\u6765\u505A\u4EC0\u4E48\u7684\u670D\u52A1\\n- \u670D\u52A1\u5065\u5EB7\u72B6\u6001 - \u670D\u52A1\u7EF4\u62A4\\n  - \u4E3B\u52A8\u68C0\u67E5\\n  - \u88AB\u52A8\u4E0A\u62A5\\n- \u670D\u52A1\u5B89\u5168 - \u901A\u5E38\u9700\u8981\u914D\u5408\u7F51\u5173\\n  - A \u670D\u52A1\u662F\u5426\u5141\u8BB8\u8C03\u7528 B \u670D\u52A1\\n\\n\u670D\u52A1\u6CE8\u518C\u4E2D\u5FC3\u901A\u5E38\u4E0D\u662F\uFF0C\u800C\u662F\u4E00\u4E2A\u96C6\u7FA4\uFF0C\u5176\u4E2D\u7684\u670D\u52A1\u5143\u4FE1\u606F\u4E5F\u53EF\u88AB\u540C\u6B65\u5230 RDBMS \u4FBF\u4E8E\u5F00\u53D1\u4EBA\u5458\u67E5\u770B\u548C\u4F7F\u7528\uFF0C\u573A\u666F\u4F8B\u5982\uFF1A\\n\\n- \u641C\u7D22\u63A5\u53E3\\n- \u67E5\u627E\u63A5\u53E3\u6587\u6863\\n- \u67E5\u770B\u670D\u52A1\u72B6\u6001\\n- \u751F\u6210\u5BA2\u6237\u7AEF\u4EE3\u7801\\n- \u6D4B\u8BD5\u8C03\u7528\u670D\u52A1\\n\\n## \u670D\u52A1\u5BB9\u9519\\n\\n\u670D\u52A1\u5BB9\u9519\u5305\u542B\u670D\u52A1\u5F02\u5E38\u3001\u8282\u70B9\u5F02\u5E38\u3001\u7F51\u7EDC\u5F02\u5E38\uFF0C\u4E0D\u540C\u7684\u5F02\u5E38\u53EF\u80FD\u91C7\u53D6\u4E0D\u540C\u7684\u5E94\u5BF9\u65B9\u5F0F\uFF0C\u6211\u7406\u89E3\u7684\u5E38\u89C1\u529F\u80FD\u5305\u62EC\\n\\n- \u9650\u6D41\\n- \u91CD\u8BD5\\n- \u8D1F\u8F7D\\n\\n\u5BB9\u9519\u7684\u5B9E\u73B0\u901A\u5E38\u914D\u5408\u76D1\u63A7\uFF0C\u7F51\u5173\uFF0C\u6CE8\u518C\u4E2D\u5FC3\u3002\u7B97\u662F\u4F18\u5316\u670D\u52A1\u4F53\u9A8C\u7684\u4E00\u90E8\u5206\uFF0C\u53EF\u4EE5\u4F5C\u4E3A\u5EF6\u4F38\u652F\u6301\u8003\u8651\u3002\\n\\n## \u5FAE\u670D\u52A1\\n\\n\u5FAE\u670D\u52A1\uFF0C\u5FAE\u7684\u662F\u9664\u4E86\u670D\u52A1\u4E4B\u5916\u7684\u90E8\u5206\uFF0C\u4E5F\u5C31\u662F\u4E0A\u8FF0\u7684\u6240\u6709\u5185\u5BB9\u3002\u5FAE\u670D\u52A1\u7684\u671F\u671B\u662F\u8BA9\u5F00\u53D1\u53EA\u5173\u5FC3\u4E1A\u52A1\u903B\u8F91\u7684\u7F16\u5199\uFF0C\u5F00\u53D1\u597D\u7684\u4E1A\u52A1\u903B\u8F91\u80FD\u591F\u5FEB\u901F\u7A33\u5B9A\u7684\u4E0A\u7EBF\u88AB\u4F7F\u7528\u3002\\n\\n\u5982\u679C\u4E0D\u5728\u4E00\u5957\u5B8C\u5584\u7684\u4F53\u7CFB\u4E0B\u8C08\u8BBA\u5F00\u53D1\u5FAE\u670D\u52A1\u90FD\u662F\u6CA1\u6709\u610F\u4E49\u4E14\u96BE\u4EE5\u5B9E\u73B0\u7684\uFF0C\u800C\u8FD9\u5957\u4F53\u7CFB\u7684\u642D\u5EFA\u4E0D\u80CC\u9760\u73B0\u5728\u7684 K8S \u4E4B\u7C7B\u7684\u4F53\u7CFB\u4E5F\u662F\u96BE\u4EE5\u6210\u5F62\u7684\u3002\\n\\n## \u603B\u7ED3\\n\\n\u5C06\u6700\u8FD1\u6DF7\u4E71\u601D\u7EEA\u8FDB\u884C\u68B3\u7406\uFF0C\u4E0D\u4E00\u5B9A\u90FD\u662F\u6B63\u786E\uFF0C\u4EC5\u4F5C\u4E3A\u53C2\u8003\u4FBF\u4E8E\u7406\u89E3\uFF0C\u5F15\u5BFC\u4E4B\u540E\u7684\u9009\u62E9\u548C\u51B3\u5B9A\u3002\\n\\n## \u53C2\u8003\\n\\n- https://martinfowler.com/articles/microservices.html\\n- http://www.richardrodger.com/monolithic-nodejs\\n- [\u5FAE\u670D\u52A1\u6742\u5FF5](https://wener.me/blog/microservice-thoughts)\\n  - [\u5FAE\u4FE1](https://mp.weixin.qq.com/s/JMTH-mr_jHq5U8qLFmqQjA)\\n  - [Markdown](https://github.com/wenerme/wener/blob/master/story/2020/2020-08-15-microservice-thoughts.md)"},{"id":"compare-os-bi-tool","metadata":{"permalink":"/story/compare-os-bi-tool","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2020/2020-07-14-compare-os-bi-tool.md","source":"@site/../story/2020/2020-07-14-compare-os-bi-tool.md","title":"\u5F00\u6E90 BI \u4EA7\u54C1\u6BD4\u8F83","description":"\u6BD4\u8F83 Metabase\u3001Redash\u3001Superset \u8FD9\u51E0\u6B3E\u5F00\u6E90\u7684 BI \u4EA7\u54C1\u3002","date":"2020-07-14T00:00:00.000Z","tags":[{"inline":true,"label":"BI","permalink":"/story/tags/bi"},{"inline":true,"label":"\u5927\u6570\u636E","permalink":"/story/tags/\u5927\u6570\u636E"}],"readingTime":4.45,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"compare-os-bi-tool","title":"\u5F00\u6E90 BI \u4EA7\u54C1\u6BD4\u8F83","tags":["BI","\u5927\u6570\u636E"]},"unlisted":false,"prevItem":{"title":"\u5FAE\u670D\u52A1\u6742\u5FF5","permalink":"/story/microservice-thoughts"},"nextItem":{"title":"\u4F60\u5C31\u662F\u4F60","permalink":"/story/cyw-without-w"}},"content":"\u6BD4\u8F83 Metabase\u3001Redash\u3001Superset \u8FD9\u51E0\u6B3E\u5F00\u6E90\u7684 BI \u4EA7\u54C1\u3002\\n\\n| Name     | License | Stars               | Languages | Deps          | Github                        |\\n| -------- | ------- | ------------------- | --------- | ------------- | ----------------------------- |\\n| Metabase | AGPL    | ![][metabase-stars] | Clojure   | H2/PostgreSQL | [metabase/metabase][metabase] |\\n| Redash   | BSD     | ![][redash-stars]   | JS        | Redis+DB      | [getredash/redash][redash]    |\\n| Superset | Apache  | ![][superset-stars] | Python    | Cache+DB      | [apache/superset][superset]   |\\n\\n[metabase]: https://github.com/metabase/metabase\\n[redash]: https://github.com/getredash/redash\\n[superset]: https://github.com/apache/superset\\n[metabase-stars]: https://img.shields.io/github/stars/metabase/metabase\\n[redash-stars]: https://img.shields.io/github/stars/getredash/redash\\n[superset-stars]: https://img.shields.io/github/stars/apache/superset\\n\\n\x3c!-- more --\x3e\\n\\n- metabase\\n  - \u754C\u9762\u64CD\u4F5C\u53CB\u597D\\n  - \u504F\u5411\u4E8E\u4EA7\u54C1\\n  - \u56FE\u8868\u7C7B\u578B\u5C11\\n  - AGPL\\n  - \u5D4C\u5165\u53BB Logo \u6536\u8D39 - 300$/\u6708 3000$/\u5E74\\n  - \u5546\u4E1A\u7248 - 10000+ \\\\$/\u5E74\\n    - \u5D4C\u5165\u65E0 Logo\\n    - SSO - SAML\\n    - \u884C\u7EA7\u6743\u9650\\n    - \u5BA1\u8BA1\u5DE5\u5177\\n  - \u53EF\u5355\u4E2A Docker \u76F4\u63A5\u542F\u52A8 - \u4F7F\u7528 H2 \u5D4C\u5165\u5F0F\u6570\u636E\u5E93\\n  - \u754C\u9762\u597D\u770B - \u672C\u5730\u5316\u5F88\u597D\u3001\u5206\u4EAB\u53CB\u597D\\n- redash\\n  - \u7EAF SQL\\n  - \u56FE\u8868\u4F7F\u7528 PlotlyJS\\n    - \u53EF\u4EE5\u7406\u89E3\u4E3A Redash \u53EA\u8D1F\u8D23\u5904\u7406\u6570\u636E\\n  - \u652F\u6301\u6700\u591A\u7684\u6570\u636E\u6E90/JDBC\\n  - \u6CA1\u6709\u672C\u5730\u5316\\n- superset\\n  - \u652F\u6301\u6700\u591A\u7684\u56FE\u8868\\n  - \u65E2\u53EF\u4EE5 SQL \u53C8\u53EF\u4EE5 UI\\n  - \u529F\u80FD\u6700\u5F3A\\n  - \u6269\u5BB9\u6027\u6700\u597D - \u652F\u6301\u5927\u89C4\u6A21\u5206\u6790\u573A\u666F\\n  - \u754C\u9762\u504F\u8FD0\u7EF4 - \u90E8\u5206\u672C\u5730\u5316\\n  - \u80FD\u81EA\u5B9A\u4E49 CSS\\n  - \u9ED8\u8BA4 **\u4E0D\u80FD** \u516C\u5171\u5206\u4EAB\\n\\n## \u6570\u636E\u6E90\u7C7B\u578B\\n\\n- Redash [Supported Data Sources](https://redash.io/help/data-sources/supported-data-sources)\\n- Superset [supported database](https://superset.incubator.apache.org/#databases)\\n  - DB-API\\n  - SQLAlchemy\\n\\n| Data Source                              | Redash | Metabase | Superset |\\n| ---------------------------------------- | ------ | -------- | -------- |\\n| Amazon Athena                            | \u2705     |          | \u2705       |\\n| Amazon DynamoDB                          | \u2705     |\\n| Amazon Redshift                          | \u2705     | \u2705       | \u2705       |\\n| Apache Drill                             |        |          | \u2705       |\\n| Apache Hive                              | \u2705     |          | \u2705       |\\n| Apache Impala                            | \u2705     |          | \u2705       |\\n| Apache Kylin                             | \u2705     |          | \u2705       |\\n| Apache Pinot                             |        |          | \u2705       |\\n| Apache SparkSQL                          |        | \u2705       | \u2705       |\\n| Axibase Time Series Database             | \u2705     |\\n| CSV                                      | \u2705     |\\n| Cassandra                                | \u2705     |\\n| ClickHouse                               | \u2705     |          | \u2705       |\\n| CockroachDB                              | \u2705     |          | \u2705       |\\n| DB2 by IBM                               | \u2705     |          | \u2705       |\\n| Databricks (Apache Spark)                | \u2705     |\\n| Dremio                                   |        |          | \u2705       |\\n| Druid                                    | \u2705     | \u2705       | \u2705       |\\n| Elasticsearch                            | \u2705     |          | \u2705       |\\n| Exasol                                   |        |          | \u2705       |\\n| Google Analytics                         | \u2705     |\\n| Google BigQuery                          | \u2705     | \u2705       | \u2705       |\\n| Google Spreadsheets                      | \u2705     |          | \u2705       |\\n| Graphite                                 | \u2705     |          | \u2705       |\\n| Greenplum                                | \u2705     |          | \u2705       |\\n| H2                                       |        | \u2705       |\\n| Hana                                     |        |          | \u2705       |\\n| InfluxDB                                 | \u2705     |\\n| JIRA                                     | \u2705     |\\n| JSON                                     | \u2705     |\\n| MemSQL                                   | \u2705     |\\n| Microsoft Azure Data Warehouse / Synapse | \u2705     |\\n| Microsoft Azure SQL Database             | \u2705     |\\n| Microsoft SQL Server                     | \u2705     | \u2705       | \u2705       |\\n| MongoDB                                  | \u2705     | \u2705       |\\n| MySQL                                    | \u2705     | \u2705       | \u2705       |\\n| OmniSciDB (Formerly MapD)                | \u2705     |\\n| Oracle                                   | \u2705     | \u2705       | \u2705       |\\n| PostgreSQL                               | \u2705     | \u2705       | \u2705       |\\n| Presto                                   | \u2705     | \u2705       | \u2705       |\\n| Prometheus                               | \u2705     |\\n| Python                                   | \u2705     |\\n| Qubole                                   | \u2705     |\\n| Rockset                                  | \u2705     |\\n| SQLite                                   | \u2705     | \u2705       | \u2705       |\\n| Salesforce                               | \u2705     |\\n| ScyllaDB                                 | \u2705     |\\n| Shell Scripts                            | \u2705     |\\n| Snowflake                                | \u2705     | \u2705       | \u2705       |\\n| TreasureData                             | \u2705     |\\n| Vertica                                  | \u2705     | \u2705       | \u2705       |\\n| Yandex AppMetrrica                       | \u2705     |\\n| Yandex Metrica                           | \u2705     |\\n\\n## metabase\\n\\n- \u8BED\u8A00\\n  - Clojure\\n  - React\\n- \u53C2\u8003\\n  - [\u5B89\u88C5\u6587\u6863](https://www.metabase.com/docs/latest/operations-guide/running-metabase-on-docker.html)\\n\\n```bash\\n# H2\\ndocker run -d -p 3000:3000 \\\\\\n  -v $PWD/metabase-data:/metabase-data \\\\\\n  -e \\"JAVA_TIMEZONE=Asia/Shanghai\\" \\\\\\n  -e \\"MB_DB_FILE=/metabase-data/metabase.db\\" \\\\\\n  --name metabase metabase/metabase\\n\\n# PG\\ndocker run -d -p 3000:3000 \\\\\\n -e \\"MB_DB_TYPE=postgres\\" \\\\\\n -e \\"MB_DB_DBNAME=metabase\\" \\\\\\n -e \\"MB_DB_PORT=5432\\" \\\\\\n -e \\"MB_DB_USER=<username>\\" \\\\\\n -e \\"MB_DB_PASS=<password>\\" \\\\\\n -e \\"MB_DB_HOST=my-database-host\\" \\\\\\n --name metabase metabase/metabase\\n```\\n\\n## redash\\n\\n- \u8BED\u8A00\\n  - NodeJS\\n  - Python + Flask + gunicorn + celery\\n- \u4F9D\u8D56\\n  - PostgreSQL\\n  - Redis\\n- \u53C2\u8003\\n  - [\u5B89\u88C5\u6587\u6863](https://redash.io/help/open-source/setup)\\n  - [docker-compose.yml](https://github.com/getredash/setup/blob/master/data/docker-compose.yml)\\n    - server - redash/redash\\n    - scheduler\\n    - scheduled_worker\\n    - adhoc_worker\\n    - redis\\n    - postgres\\n    - nginx\\n  - [Worker architecture question](https://discuss.redash.io/t/worker-architecture-question/5025)\\n- \u67B6\u6784\\n  - \u70ED\u67E5\u8BE2\uFF08adhoc query - \u7528\u6237\u53D1\u8D77\uFF09\u4F7F\u7528 \u67E5\u8BE2 Celery \u961F\u5217\\n  - \u5468\u671F\u67E5\u8BE2\uFF08scheduled_queries - scheduler \u53D1\u8D77\uFF09\u4F7F\u7528 scheduled \u961F\u5217\\n  - Celery \u652F\u6301\u8BBE\u7F6E\u961F\u5217\u7684 worker \u6570\uFF0C\u9ED8\u8BA4\u542F\u52A8\u4F1A\u5206\u79BB adhoc \u548C scheduled \u961F\u5217\\n  - \u4F1A\u5207\u6362\u5230 RQ - Redis Queue\\n\\n### \u542F\u52A8\u914D\u7F6E\\n\\n- [\u73AF\u5883\u53D8\u91CF\u914D\u7F6E](https://redash.io/help/open-source/admin-guide/env-vars-settings)\\n- \u521D\u59CB\u5316\u4F7F\u7528 python [\u811A\u672C](https://github.com/getredash/redash/blob/master/redash/settings/__init__.py)\\n- [\u5347\u7EA7](https://redash.io/help/open-source/admin-guide/how-to-upgrade)\\n\\n```bash\\n# compose \u4E2D\u4F7F\u7528\u7684\u8BE5\u76EE\u5F55\\nmkdir /opt/redash\\ncd /opt/redash\\n\\ncurl -LO https://raw.githubusercontent.com/getredash/setup/master/data/docker-compose.yml\\ntouch env\\n\\ndocker-compose -f docker-compose.yml up\\n```\\n\\n### ERROR: relation \\"queries\\" does not exist\\n\\n- \u811A\u672C\u4F4D\u4E8E `./setup/docker/create_database.sh`\\n\\n```bash\\ndocker-compose run --rm server manage database create_tables\\ndocker-compose run --rm server manage db upgrad\\n```\\n\\n## superset\\n\\n- \u8BED\u8A00\\n  - Python - Flask + Celery\\n  - Typescript\\n- \u673A\u6784\u4F9D\u8D56\\n  - \u5143\u6570\u636E\u5B58\u50A8 MySQL, Postgres, MariaDB, SQLite\\n  - \u6D88\u606F\u961F\u5217 Redis, RabbitMQ, SQS\\n  - \u7ED3\u679C\u5B58\u50A8 S3, Redis, Memcached\\n  - \u7F13\u5B58 Memcached, Redis\\n  - WebServer \u548C Celery \u662F\u65E0\u72B6\u6001\u7684 - \u6613\u4E8E\u6269\u5BB9\\n- \u6CE8\u610F\\n  - \u9ED8\u8BA4\u4E0D\u5141\u8BB8\u516C\u5171\u8BBF\u95EE\uFF0C\u9700\u8981 [\u914D\u7F6E](https://superset.incubator.apache.org/security.html?highlight=public#public)\\n- \u53C2\u8003\\n  - [\u5B89\u88C5\u6587\u6863](https://superset.incubator.apache.org/installation.html)\\n  - [docker-compose.yml](https://github.com/apache/incubator-superset/blob/master/docker-compose.yml)\\n    - \u9700\u8981\u5148 Build \u5728\u542F\u52A8\\n    - redis\\n    - db - postgres\\n    - superset\\n    - superset-init - \u6784\u5EFA\\n    - superset-node - \u524D\u7AEF\\n    - superset-worker\\n    - superset-tests-worker\\n  - [amancevice/docker-superset](https://github.com/amancevice/docker-superset) - \u5355 docker \u542F\u52A8 superset\\n    - [\u542F\u52A8\u793A\u4F8B](https://github.com/amancevice/docker-superset/tree/main/examples)\\n  - [\u5982\u4F55\u65B0\u589E\u63D2\u4EF6](https://preset.io/blog/2020-07-02-hello-world/)\\n  - K8S Helm \u90E8\u7F72 [stable/superset](https://github.com/helm/charts/blob/master/stable/superset)\\n\\n```bash\\nmkdir /opt/superset\\ncd /opt/superset\\n\\n# SQLite\\n# ==========\\ncurl -LO https://raw.githubusercontent.com/amancevice/docker-superset/main/examples/sqlite/superset_config.py\\ncurl -LO https://raw.githubusercontent.com/amancevice/docker-superset/main/examples/sqlite/docker-compose.yml\\n\\n# \u4F1A\u4F7F\u7528 local volume \u6302\u8F7D\u6570\u636E\\ndocker-compose up -d\\nsleep 30\\n# \u521D\u59CB\u5316 - \u521B\u5EFA\u8D26\u53F7\u5BC6\u7801\u3001\u521D\u59CB\u6570\u636E\u5E93\\ndocker-compose exec superset superset-demo\\n\\n# \u5DF2\u6709 PostgreSQL\\n# ==========\\ncat <<YAML > docker-compose.yml\\nversion: \'3\'\\nservices:\\n  redis:\\n    image: redis\\n    restart: always\\n    volumes:\\n      - redis:/data\\n  superset:\\n    image: amancevice/superset\\n    restart: always\\n    depends_on:\\n      - redis\\n    environment:\\n      MAPBOX_API_KEY: ${MAPBOX_API_KEY}\\n    ports:\\n      - \\"8088:8088\\"\\n    volumes:\\n      - ./superset_config.py:/etc/superset/superset_config.py\\nvolumes:\\n  redis:\\nYAML\\n# \u6570\u636E\u5E93\u94FE\u63A5\\n# postgresql+psycopg2://superset:superset@postgres:5432/superset\\nDATABASE_URL=\\nSECRET_KEY=$(cat /dev/urandom | env LC_CTYPE=C tr -dc \'a-zA-Z0-9\' | head -c 32)\\n\\ncat <<PY > superset_config.py\\nimport os\\n\\nMAPBOX_API_KEY = os.getenv(\'MAPBOX_API_KEY\', \'\')\\nCACHE_CONFIG = {\\n    \'CACHE_TYPE\': \'redis\',\\n    \'CACHE_DEFAULT_TIMEOUT\': 300,\\n    \'CACHE_KEY_PREFIX\': \'superset_\',\\n    \'CACHE_REDIS_HOST\': \'redis\',\\n    \'CACHE_REDIS_PORT\': 6379,\\n    \'CACHE_REDIS_DB\': 1,\\n    \'CACHE_REDIS_URL\': \'redis://redis:6379/1\'}\\nSQLALCHEMY_DATABASE_URI = \'${DATABASE_URL}\'\\nSQLALCHEMY_TRACK_MODIFICATIONS = True\\nSECRET_KEY = \'${SECRET_KEY}\'\\nPY\\n```\\n\\n### UserWarning: Flask-Caching: CACHE_TYPE is set to null, caching is effectively disabled."},{"id":"cyw-without-w","metadata":{"permalink":"/story/cyw-without-w","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2020/2020-06-15-cyw-without-w.md","source":"@site/../story/2020/2020-06-15-cyw-without-w.md","title":"\u4F60\u5C31\u662F\u4F60","description":"YUN","date":"2020-06-15T00:00:00.000Z","tags":[{"inline":true,"label":"\u6210\u957F","permalink":"/story/tags/\u6210\u957F"}],"readingTime":1.07,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"cyw-without-w","title":"\u4F60\u5C31\u662F\u4F60","tags":["\u6210\u957F"]},"unlisted":false,"prevItem":{"title":"\u5F00\u6E90 BI \u4EA7\u54C1\u6BD4\u8F83","permalink":"/story/compare-os-bi-tool"},"nextItem":{"title":"\u4E00\u5468 K3S \u5B66\u4E60\u5FC3\u5F97","permalink":"/story/k3s-one-week"}},"content":"![YUN](./yun-explained.png)\\n\\n> CYW \u6CA1\u6709\u4E86 \u6211(W) \u4FBF\u662F \u4F60(CY)\\n>\\n> -- wener\\n\\n\x3c!-- more --\x3e\\n\\n# \u4F60\u5C31\u662F\u4F60\\n\\n\u5929\u6674\u4E0B\u96E8\u662F\u4E2A\u5F88\u96BE\u8BF4\u5F97\u6E05\u695A\u7684\u4E1C\u897F\uFF0C\u4F46\u8574\u548C\u6E29\u5176\u5B9E\u662F\u4E24\u4E2A\u5B57\u3002\\n\\n\u5BF9\u4E8E\u793E\u4F1A\u4EBA\u7684\u4E0D\u7406\u89E3\uFF0C\u4F60\u53EF\u4EE5\u8BA4\u8BC6\u201C\u8574\u85CF\u201D\uFF0C\u53EF\u4EE5\u8BA4\u8BC6\u201C\u6E29\u6696\u201D\uFF0C\u4F46\u5F53\u5355\u72EC\u770B\u5230\u8574\u7684\u65F6\u5019\uFF0C\u4ED6\u5E94\u8BE5\u8FD8\u662F\u8BFB\u4F5C y\xf9n\u3002\\n\\n\u5988\u5988\u8BF4\uFF1A\u201C\u4F60\u6B20\u6211\u7684\u592A\u591A\uFF01\u201D\uFF08\u4E0D\u53EF\u5426\u8BA4\uFF09\u{1F937}\u200D\u2642\uFE0F\\n\u5988\u5988\u8FD8\u8BF4\uFF1A\u201C\u540D\u2018\u6B20\u8096\u2019\u597D\u4E86\u201D\\n\\n\u4F46\u4F60\u8FD8\u662F\u4F60\uFF0C\u4E0D\u5E94\u8BE5\u643A\u5E26\u6211\u4EEC\u7684\u5F71\u5B50\u3002\\n\\n2020\u4E00\u4E2A\u4E00\u70B9\u70B9\u8D77\u4F0F\u52A8\u8361\u7684\u6570\u5B57\uFF0C\u4F46\u4F60\u80FD\u770B\u52302100\uFF0C\u90A3\u5E94\u8BE5\u662F\u4E00\u756A\u975E\u5E38\u503C\u5F97\u671F\u5F85\u7684\u666F\u8C61\uFF0C\u6709\u61A7\u61AC\u624D\u4F1A\u6709\u524D\u8FDB\u7684\u52A8\u529B\u3002\\n\u800C\u4F60\u662F\u6211\u4EEC\u7684\u61A7\u61AC\uFF0C\u4E0D\u8FC7\u6240\u5E78\u7684\u662F\u4F60\u7684\u7236\u6BCD\u8DB3\u591F\u201C\u5927\u6761\u201D\uFF0C\u4E0D\u9700\u8981\u6709\u5FC3\u91CC\u538B\u529B\uFF08\u751F\u6D3B\u6709\u538B\u529B\u4E86\u8FD8\u8BF7\u81EA\u52A9\uFF09\uFF0C\u4FDD\u6301\u73B0\u5728\u7684\u5F00\u5FC3\u5FEB\u4E50\u5C31\u597D\u3002\\n\u4E0D\u8FC7\u5176\u5B9E\u5F00\u5FC3\u5FEB\u4E50\u7684\u53EF\u80FD\u662F\u6211\u4EEC\uFF1F\u90A3\u8FD9\u4E9B\u5E74\u8FD8\u8BF7\u591A\u591A\u62C5\u5F85\uFF0C\u591A\u591A\u5305\u5BB9\uFF0C\u591A\u591A\u7406\u89E3\u3002\\n\\n\u6211\u4EEC\u5F7C\u6B64\u7684\u4F34\u968F\u662F\u751F\u547D\u7684\u5EF6\u7EED\uFF0C\u8FD9\u4E9B\u5E74\u4E14\u7B97\u662F\u4E3A\u4E86\u66F4\u597D\u7684\u4E86\u89E3\u5F7C\u6B64\uFF0C\u751F\u6D3B\u5728\u4E00\u8D77\u3002\\n\\n\u4F34\u968F\u7684\u662F\u723D\u6717\u7684\u7B11\u58F0\uFF0C\u8C6A\u653E\u7684\u54ED\u58F0\uFF0C\u54BF\u54BF\u5440\u5440\u54E6\u54E6\u7684\u513F\u661F\u8BED\uFF1F\\n\u8FD8\u6709\u73B0\u5728\u4F1A\u8BF4\u7684\u8BDD\uFF0C\u201C\u5988\u5988\u201D\uFF0C\u201C\u7238\u7238\u201D\uFF0C\u201C\u5976\u5976\u201D\uFF0C\u201C\u62FF\u6765\u201D\uFF1F\u597D\u50CF\u6CA1\u4EC0\u4E48\u95EE\u9898\uFF1F\u{1F92D}\\n\\n\u7ED9\u4F60\u7684\u662F\u6240\u6709\uFF0C\u6BD5\u7ADF\u4F60\u662F\u552F\u4E00\u7559\u4E0B\u7684\u3002"},{"id":"k3s-one-week","metadata":{"permalink":"/story/k3s-one-week","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2020/2020-06-13-k3s-one-week.md","source":"@site/../story/2020/2020-06-13-k3s-one-week.md","title":"\u4E00\u5468 K3S \u5B66\u4E60\u5FC3\u5F97","description":"k3s-one-week","date":"2020-06-13T00:00:00.000Z","tags":[{"inline":true,"label":"Kubernetes","permalink":"/story/tags/kubernetes"},{"inline":true,"label":"K3S","permalink":"/story/tags/k-3-s"},{"inline":true,"label":"\u8FD0\u7EF4","permalink":"/story/tags/\u8FD0\u7EF4"}],"readingTime":4.82,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"k3s-one-week","title":"\u4E00\u5468 K3S \u5B66\u4E60\u5FC3\u5F97","tags":["Kubernetes","K3S","\u8FD0\u7EF4"]},"unlisted":false,"prevItem":{"title":"\u4F60\u5C31\u662F\u4F60","permalink":"/story/cyw-without-w"},"nextItem":{"title":"Hello CGO","permalink":"/story/hello-cgo"}},"content":"![k3s-one-week](./k3s-one-week.png)\\n\\n> K3S is five times eaiser than K8S \u{1F60A}\\n\\n\x3c!--more--\x3e\\n\\n# \u4E00\u5468 K3S \u5B66\u4E60\u5FC3\u5F97\\n\\n## \u4E00\u70B9\u70B9\u5386\u53F2\\n\\n\u521A\u5F00\u59CB\u4E86\u89E3 K8S \u662F\u5927\u7EA6 1.4 \u7248\u672C Beta \u65F6\uFF082016\uFF09\uFF0C[kubeadm](http://kubernetes.io/docs/getting-started-guides/kubeadm/) \u521A\u5F00\u59CB\u6709\u4E00\u5B9A\u96CF\u5F62\uFF0CK8S \u624D\u5F00\u59CB\u5728\u4E00\u822C\u5927\u4F17\u9762\u524D\u5C55\u9732\u5934\u89D2\u3002\\n\\n\u5F53\u65F6\u7684 Docker \u7F16\u6392\u5DE5\u5177\u7B97\u662F\u767E\u82B1\u9F50\u653E\uFF0C\u4F46\u5F53\u65F6\u5982\u679C\u60F3\u8981\u73A9\u597D K8S \u662F\u76F8\u5F53\u96BE\u7684\uFF0C\u56E0\u4E3A K8S \u8C37\u6B4C\u7275\u5934\u5F00\u53D1\uFF0C\u6240\u6709\u955C\u50CF\u90FD\u5728 gcr \u4E0A\uFF0C\u95E8\u69DB\u5DF2\u7ECF\u7B97\u6BD4\u8F83\u9AD8\u4E86\u3002\u800C\u4E14\u90E8\u7F72\u7528\u7684\u5DE5\u5177\u4E5F\u8FD8\u76F8\u5F53\u4E0D\u6210\u719F\uFF0C\u6CA1\u6709\u4E13\u4E1A\u7684\u8FD0\u7EF4\u90E8\u7F72\u90FD\u5F88\u96BE\uFF0C\u51B5\u4E14\u8FD8\u9700\u8981\u4E13\u4EBA\u7EF4\u62A4\u3002\\n\\n\u800C\u4ECA\u5929\uFF0C2020\uFF0CK8S \u5DF2\u7ECF\u6709\u5F88\u591A\u53D1\u884C\u7248\u4E86\uFF0C\u5927\u591A\u7F16\u6392\u5E73\u53F0\u5E95\u5C42\u5982\u679C\u4E0D\u662F\u57FA\u4E8E K8S \u90A3\u4E5F\u662F\u652F\u6301 K8S\u3002Rancher 1.0 \u8F6C\u578B\u5230 2.0 \u65F6\u629B\u5F03\u4E86\u4E4B\u524D\u7684\u6A21\u5F0F\uFF0C\u9009\u62E9\u4E86\u57FA\u4E8E K8S\uFF0CRancher \u5B9A\u4F4D\u4E3A\u96C6\u7FA4\u7BA1\u7406\u3002\\n\\n\u56E0\u6B64 Rancher \u4E4B\u4E0B\u8BDE\u751F\u4E86\u5F88\u591A\u8F85\u52A9\u4E8E K8S \u5E73\u53F0\u7684\u5DE5\u5177\u548C\u5468\u8FB9\uFF0CK3S \u4E5F\u7B97\u662F\u6838\u5FC3\u4E4B\u4E00\u3002\\n\\n\u5728\u8FD9\u4E4B\u524D\u5BF9\u4E8E K8S \u4EC5\u9650\u4E8E\u4E86\u89E3\uFF0C\u800C\u73B0\u5728\u5219\u662F\u9700\u8981\u8003\u8651\u4F7F\u7528\u4E86\uFF0C\u56E0\u6B64\u5F00\u59CB\u91CD\u65B0\u5B66\u4E60\u3002\\n\\n## \u5173\u4E8E K3S\\n\\nK3S \u5927\u5927\u964D\u4F4E\u4E86 K8S \u7684\u95E8\u69DB\uFF0C\u4E3B\u8981\u5728\u4E8E\\n\\n- \u5355\u673A\u53EF\u542F\u52A8\\n- Docker \u53EF\u542F\u52A8\\n- \u4E0D\u518D\u4F9D\u8D56 etcd\\n\\n\u5982\u679C\u7528\u4E0D\u5230\u96C6\u7FA4\uFF0CK3S+Dashboard \u7528\u6765\u505A\u5355\u673A\u7684 Docker \u754C\u9762\u90FD\u662F\u975E\u5E38\u5408\u9002\u7684\u3002\\n\\n## \u5B66\u4E60\u8FC7\u7A0B\u603B\u7ED3\\n\\n### \u7406\u89E3 K3S\\n\\nKubernates \u7684\u6838\u5FC3\u662F\u4F9D\u8D56 ETCD \u4F5C\u4E3A\u6838\u5FC3\u72B6\u6001\u5B58\u50A8\uFF0C\u5C31\u597D\u6BD4 Hadoop \u6838\u5FC3\u4F9D\u8D56 Zookeeper \u4E00\u6837\uFF0C\u800C K3S \u4EE5 Adapter [kine](https://github.com/rancher/kine) \u66FF\u4EE3\u4E86\u5BF9 etcd \u7684\u4F9D\u8D56\uFF0C\u66B4\u9732 etcd \u80FD\u529B\uFF0C\u4F46\u540E\u7AEF\u5B58\u50A8\u88AB\u9002\u914D\u5230\\n\\n- SQLite\\n- DQLite\\n- MySQL\\n- Postgres\\n\\n\u5728\u90E8\u7F72\u96C6\u7FA4 K3S \u65F6\u5019\u53EA\u8981\u9009\u62E9\u7684\u5B58\u50A8\u662F\u7F51\u7EDC\u6570\u636E\u5E93\u5B58\u50A8\u6216\u8005\u5185\u5D4C\u7684 DQLite \u5373\u53EF\u3002\\n\\nK3S \u662F\u5355\u72EC\u7684\u53EF\u6267\u884C\u6587\u4EF6\uFF0C\u5C06\u6240\u9700\u7684\u5927\u90E8\u5206\u529F\u80FD\u90FD\u6253\u5305\u5230\u4E86\u5185\u90E8\\n\\n- k3s server - \u4E3B\u8282\u70B9\u5B88\u62A4\u8FDB\u7A0B\\n- k3s agent - \u4ECE\u8282\u70B9\u5B88\u62A4\u8FDB\u7A0B\\n- kubectl - \u4E0E k8s \u7684\u4EA4\u4E92\u5DE5\u5177\\n- crictl - containerd \u8C03\u8BD5\u5DE5\u5177\\n\\n\u5728\u542F\u52A8 k3s \u7684 server \u6216 agent \u65F6\u4F1A\u901A\u8FC7\u5BB9\u5668\uFF08docker \u6216\u8005 containerd\uFF09\u542F\u52A8 K8S \u7684\u6838\u5FC3\u670D\u52A1\uFF08\u4F8B\u5982 apiserver\uFF09\u3002\u4F7F\u5F97\u5728\u90E8\u7F72 K3S \u65F6\u5F02\u5E38\u7B80\u5355\uFF0C\u6240\u6709\u4F9D\u8D56\u90FD\u5728\u4E00\u4E2A\u4E8C\u8FDB\u5236\uFF0C\u4E5F\u56E0\u4E3A\u8FD9\u6837\uFF0C\u652F\u6301 arm \u4E5F\u53EA\u9700\u8981\u518D\u6B21\u8FDB\u884C\u7F16\u8BD1\u5355\u4E2A\u7684\u53EF\u6267\u884C\u6587\u4EF6\u5373\u53EF\uFF08\u5F53\u7136\u4E5F\u8981\u6709\u5BB9\u5668\u955C\u50CF\u662F\u652F\u6301\u5BF9\u5E94\u67B6\u6784\u7684\uFF09\u3002\\n\\n\u4E0D\u4EC5\u662F\u7B80\u5316\u4E86\u90E8\u7F72\u548C\u96C6\u7FA4\u4E00\u81F4\u6027\u7684\u4F9D\u8D56\uFF0CK3S \u9488\u5BF9\u90E8\u5206\u6838\u5FC3\u670D\u52A1\u6709\u9ED8\u8BA4\u914D\u7F6E\uFF0C\u5E76\u4E14\u63D0\u4F9B\u4E86\u90E8\u5206\u6838\u5FC3\u670D\u52A1\u7684\u5B9E\u73B0\\n\\n- servicelb - [rancher/klipper-lb](https://github.com/rancher/klipper-lb)\\n  - \u63D0\u4F9B\u6700\u7B80\u5316\u7684 lb \u5B9E\u73B0 - \u9009\u62E9\u5F00\u653E\u7AEF\u53E3\\n- traefik\\n  - \u63D0\u4F9B Ingress \u548C LB\\n- [metric-server](https://github.com/kubernetes-sigs/metrics-server)\\n- cloud manager - K8S \u80FD\u83B7\u53D6\u5230\u8282\u70B9\u4FE1\u606F\\n- corndns\\n\\nK3S server/agent \u76F8\u5F53\u4E8E\u662F kubeadm + \u90E8\u5206\u63A7\u5236\u5668\u5B9E\u73B0\u3002\\n\\n### \u90E8\u7F72 K3S\\n\\n\u5B98\u65B9\u7ED9\u7684\u90E8\u7F72\u5C31\u4E00\u884C\u547D\u4EE4\\n\\n```bash\\ncurl -sfL https://get.k3s.io | sh -\\n```\\n\\n\u62C9\u53D6\u811A\u672C\u5E76\u6267\u884C\uFF0C\u4F46\u521D\u6B21\u4F7F\u7528\uFF0C\u8FD8\u662F\u5EFA\u8BAE\u81EA\u884C\u624B\u52A8\u90E8\u7F72\uFF0C\u811A\u672C\u7B80\u5355\u660E\u4E86\uFF0C\u9605\u8BFB\u540E\u5C31\u77E5\u9053[\u505A\u4E86\u4EC0\u4E48](https://wener.me/notes/devops/kubernetes/k3s#getk3sio)\u3002\\n\\n\u5982\u679C\u5BF9\u4E8E\u5927\u6279\u91CF\u90E8\u7F72\uFF0C\u5EFA\u8BAE\u63D0\u524D\u4E0B\u8F7D k3s \u7136\u540E\u4E0A\u4F20\u542F\u52A8\u5373\u53EF\u3002\\n\\n### \u90E8\u7F72\u9009\u62E9\\n\\nK8S \u662F\u5206\u5E03\u5F0F\u7684 \u5BB9\u5668 \u7F16\u6392\u5DE5\u5177\uFF0C\u6240\u6709\u7684\u529F\u80FD\u90FD\u662F\u56F4\u7ED5\u8FD9\u4E2A\u6838\u5FC3\u6765\u5C55\u5F00\u7684\uFF0C\u56E0\u4E3A\u5206\u5E03\u5F0F\uFF0C\u90A3\u4E5F\u5FC5\u7136\u9762\u5BF9\u7740\u6240\u6709\u5206\u5E03\u5F0F\u5E73\u53F0\u90FD\u4F1A\u9762\u4E34\u7684\u95EE\u9898\u3002\\n\\n\u901A\u5E38\u7684\u5355\u8282\u70B9\u5E94\u7528\u6211\u4EEC\u8003\u8651\u7684\u662F\\n\\n- CPU+\u5185\u5B58 - \u8BA1\u7B97 - \u57FA\u7840\u8D44\u6E90\\n- \u5E26\u5BBD - \u7F51\u7EDC\\n- \u78C1\u76D8 - \u5B58\u50A8\\n\\n\u5728\u90E8\u7F72 Kubernates \u7684\u65F6\u5019\u6700\u5F00\u59CB\u4E5F\u662F\u8003\u8651\u8FD9\u4E9B\u95EE\u9898\uFF0CK3S \u7684\u5355\u8282\u70B9\u90E8\u7F72\u80FD\u591F\u628A\u8FD9\u4E9B\u95EE\u9898\u7684\u601D\u8003\u65F6\u95F4\u6EDE\u540E\uFF0C\u4F46\u8FD8\u662F\u9700\u8981\u89E3\u51B3\u7684\u3002\\n\u5E76\u4E14\u90E8\u7F72\u7684\u8FC7\u7A0B\u5C31\u662F\u5404\u79CD\u9009\u62E9\u6743\u8861\u7684\u95EE\u9898\uFF0C\u518D\u7ED3\u5408\u81EA\u8EAB\u5B9E\u9645\u4F7F\u7528\u60C5\u51B5\u548C\u8D44\u6E90\u786C\u4EF6\u60C5\u51B5\u8FDB\u884C\u51B3\u7B56\u3002\\n\\n- \u8BA1\u7B97\u8D44\u6E90 - \u963F\u91CC\u4E91\u3001\u7269\u7406\u673A\u3001\u865A\u62DF\u673A\\n- \u7F51\u7EDC - \u5982\u4F55\u7EC4\u7F51\\n  - \u8DE8\u7F51\u7EDC\\n  - \u6DF7\u5408\u7F51\u7EDC\\n- \u5B58\u50A8\\n- \u5BB9\u5668\u8FD0\u884C\u73AF\u5883 - docker\u3001containerd\\n- cni\\n  - flannel \u7EC4\u7F51\u65B9\u5F0F - wireguard\u3001host-gw\u3001vxlan\\n  - calico\\n  - wave\\n  - \u5176\u4ED6\u3002\u3002\u3002\\n- servicelb - \u5185\u5EFA\u3001metallb\\n- ingress - traefik1\uFF08\u9ED8\u8BA4\uFF09\u3001traefik2\u3001nginx\u3001haproxy\u3001envoy\u3001\u4E91\u5E73\u53F0\u63D0\u4F9B\\n- K3S \u5B58\u50A8\u540E\u7AEF - Postgres\u3001MySQL\\n\\n\u76EE\u524D\u6709\u7684\u4EBA\u5458\u3001\u786C\u4EF6\u8D44\u6E90\u3001\u5E73\u53F0\u3001\u5DF2\u6709\u73AF\u5883\\n\\n- \u4EBA\u5458 - 1 \u4E2A\u4EBA - \u6211\\n- \u786C\u4EF6\\n  - 1 \u670D\u52A1\u5668 - 40 \u6838 250G\\n  - \u963F\u91CC\u4E91\u82E5\u5E72\\n  - \u817E\u8BAF\u4E91\u82E5\u5E72\\n  - \u5C0F\u578B\u7269\u7406\u673A\u82E5\u5E72\\n  - \u6811\u8393\u6D3E\u82E5\u5E72\\n- \u5E73\u53F0\\n  - AMD64\u3001ARM64\\n  - \u963F\u91CC\u4E91\u3001\u817E\u8BAF\u4E91\\n- \u5DF2\u6709\\n  - Tinc\\n\\n\u505A\u4E86\u5982\u4E0B\u7684\u89C4\u5212\u90E8\u7F72\\n\\n- \u8BA1\u7B97\u8D44\u6E90\\n  - \u963F\u91CC\u4E91 - Bare Metal\\n  - \u670D\u52A1\u5668\u5F00\u865A\u62DF\u673A - libvirt+qemu+kvm\\n  - \u7269\u7406\u673A\u770B\u60C5\u51B5\u5F00\u59CB\u865A\u62DF\u673A\u6216\u76F4\u63A5\u4F7F\u7528\\n  - \u6811\u8393\u6D3E\u76F4\u63A5\u5B89\u88C5\\n- \u7F51\u7EDC - flannel-host-gw + tinc + metallb\\n  - \u4F8B\u5982 10.10.0.0/16\u3001\u5176\u4E2D 10.10.0.0/18 \u9884\u7559\u4E3A\u5BBF\u4E3B\u673A\u300110.10.64.0/18 \u9884\u7559\u7ED9 metallb \u5206\u914D\\n- \u5B58\u50A8 - zfs+longhorn\\n  - \u9009\u53D6\u90E8\u5206\u8282\u70B9\\n- \u5BB9\u5668\u8FD0\u884C\u73AF\u5883 - docker\\n- servicelb - metallb\\n- ingress - traefik2\\n  - \u963F\u91CC\u4E91\u8282\u70B9\u4F5C\u4E3A\u5BF9\u5916\u5165\u53E3\\n- K3S \u5B58\u50A8\u540E\u7AEF - \u963F\u91CC\u4E91 Postgres\\n\\n\u90E8\u7F72\u5B8C\u6210\u540E\u53EA\u662F\u7B2C\u4E00\u6B65\uFF0C\u5F00\u59CB\u4E86\u89E3[\u5404\u79CD\u6982\u5FF5](https://wener.me/notes/devops/kubernetes/k8s-glossary)\u90E8\u7F72\u5404\u79CD\u670D\u52A1\u9002\u914D\u5404\u79CD\u573A\u666F\u624D\u662F\u66F4\u91CD\u8981\u7684\u3002\\n\\n## \u662F\u5426\u5E94\u8BE5\u9009\u62E9 K3S\\n\\n\u5982\u679C\u4F60\u72B9\u8C6B\u4F7F\u7528 K3S \u8FD8\u662F\u4F7F\u7528 K8S \u8BF7\u601D\u8003\u4EE5\u4E0B\u95EE\u9898\\n\\n- \u516C\u53F8\u5728\u5E73\u53F0\u6295\u5165\u591A\u5C11 \uFF1F\\n- \u6709\u591A\u5C11\u4E13\u4EBA\u7EF4\u62A4 \uFF1F\\n  - K8S \u5EFA\u8BAE\u81F3\u5C11 3-5 \u4EBA\\n- \u8282\u70B9\u8D44\u6E90\u6027\u80FD\u5982\u4F55 \uFF1F\\n  - K8S \u5EFA\u8BAE\u81F3\u5C11 8 \u6838 32G - \u5426\u5219\u57FA\u7840\u670D\u52A1\u5360\u7528\u8D44\u6E90\u4E0D\u80FD\u88AB\u5E73\u644A\\n- \u662F\u5426\u9009\u62E9\u6258\u7BA1\u7684 K8S \uFF1F\\n  - \u4E0D\u5B58\u5728\u4F7F\u7528 K3S\\n- \u6DF7\u5408\u4E91\u3001\u79C1\u6709\u4E91\u3001\u516C\u6709\u4E91 \uFF1F\\n\\n\u6216\u8005\u7528\u6700\u7B80\u5355\u7684\u65B9\u5F0F\u5224\u65AD\\n\\n- \u8282\u70B9\u6570 <=50 \u9009\u62E9 K3S\\n  - \u4E00\u4EBA\u5DE5\u4F5C\u91CF\\n- 50 < \u8282\u70B9\u6570 <= 150 \u9009\u62E9 K3S \u6216 K8S\\n- \u8282\u70B9\u6570\u91CF > 150 \u9009\u62E9 K8S\\n  - \u6709\u8FD9\u6837\u7684\u89C4\u6A21\uFF0C\u8FD0\u7EF4\u5FC5\u7136\u662F\u4E00\u4E2A\u56E2\u961F\uFF0C\u56E0\u6B64\u4E0D\u5B58\u5728 K8S \u590D\u6742\u7684\u95EE\u9898"},{"id":"hello-cgo","metadata":{"permalink":"/story/hello-cgo","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2020/2020-05-28-hello-cgo.md","source":"@site/../story/2020/2020-05-28-hello-cgo.md","title":"Hello CGO","description":"Tips","date":"2020-05-28T00:00:00.000Z","tags":[{"inline":true,"label":"\u5F00\u53D1","permalink":"/story/tags/\u5F00\u53D1"},{"inline":true,"label":"Golang","permalink":"/story/tags/golang"}],"readingTime":1.44,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"hello-cgo","title":"Hello CGO","tags":["\u5F00\u53D1","Golang"]},"unlisted":false,"prevItem":{"title":"\u4E00\u5468 K3S \u5B66\u4E60\u5FC3\u5F97","permalink":"/story/k3s-one-week"},"nextItem":{"title":"Wener\'s APIs","permalink":"/story/wener-apis"}},"content":"## Tips\\n\\n- [\u7C7B\u578B\u8F6C\u6362](https://gist.github.com/zchee/b9c99695463d8902cd33)\\n\\n## \u521D\u8BD5\\n\\n```bash\\n# \u751F\u6210 libdemo.so libdemo.h\\ngo build -buildmode=c-shared -o libdemo.so ./demo.go\\n# \u7F16\u8BD1 main\\ngo build main.go\\n./main\\n\\n# macos - \u67E5\u770B\u5185\u5BB9\\nnm libdemo.so | grep hello -i\\n# linux\\nnm libdemo.so\\n# windows\\ndumpbin /EXPORTS libdemo.dll\\n\\n# windows \u4EA4\u53C9\u7F16\u8BD1 - \u9700\u8981\u5B89\u88C5 mingw\\nbrew install mingw-w64\\n\\n# 32 \u4F4D \u4EA4\u53C9\u7F16\u8BD1\\nGOOS=windows GOARCH=386 CGO_ENABLED=1 CC=i686-w64-mingw32-gcc go build -buildmode=c-shared -o libdemo.dll ./demo.go\\nGOOS=windows GOARCH=386 CGO_ENABLED=1 CC=i686-w64-mingw32-gcc go build main.go\\n\\n# macos wine \u4E0D\u652F\u6301 32 \u4F4D - mingw \u7248\u672C\u4F4E\u4E0D\u652F\u6301 64 \u4F4D\\n# mac \u4F1A\u51FA\u73B0\u5F02\u5E38 cc1: sorry, unimplemented: 64-bit mode not compiled in\\n# \u901A\u8FC7 docker \u7F16\u8BD1\\ndocker run --rm -v $HOME/go:/root/go -v $PWD:/host -w /host wener/go:win sh\\n\\nGOOS=windows GOARCH=amd64 CGO_ENABLED=1 CC=x86_64-w64-mingw32-gcc go build -buildmode=c-shared -o libdemo.dll ./demo.go\\nGOOS=windows GOARCH=amd64 CGO_ENABLED=1 CC=x86_64-w64-mingw32-gcc go build main.go\\n\\n# \u56DE\u5230 mac \u4F7F\u7528 wine \u6267\u884C\\n# wine \u65E0\u6CD5\u5728 macos \u4E0A\u7F16\u8BD1\u5B89\u88C5 - \u7CFB\u7EDF\u7248\u672C\u95EE\u9898 - \u9700\u8981\u4F7F\u7528 cask \u5B89\u88C5\\nbrew cask install wine-stable\\nwine64 main.exe\\n\\n# wine 4.0 \u521D\u59CB\u5316 dll \u5931\u8D25\\n# 0010:fixme:winsock:set_dont_fragment IP_DONTFRAGMENT for IPv4 not supported in this platform\\n# 0009:err:module:attach_dlls \\"libdemo.dll\\" failed to initialize, aborting\\n# 0009:err:module:attach_dlls Initializing dlls for L\\"Z:\\\\\\\\Users\\\\\\\\wener\\\\\\\\demo\\\\\\\\main.exe\\" failed, status c0000005\\n```\\n\\n**demo.go**\\n\\n```go\\npackage main\\n\\nimport \\"C\\"\\n\\n//export Version\\nfunc Version() int32 {\\n\\treturn 123\\n}\\n\\n//export Hello\\nfunc Hello(name *C.char) *C.char {\\n\\treturn C.CString(\\"Hello \\"+C.GoString(name)+\\"!\\")\\n}\\n\\nfunc main() {}\\n```\\n\\n**main.go**\\n\\n```go\\npackage main\\n\\nimport \\"fmt\\"\\n\\n/*\\n#cgo CFLAGS: -I.\\n#cgo LDFLAGS: -L. -ldemo\\n#include \\"libdemo.h\\"\\n*/\\nimport \\"C\\"\\n\\nfunc main() {\\n\\tfmt.Printf(\\"Int %v String %v\\\\n\\",C.Version(), C.GoString(C.Hello(C.CString(\\"Wener\\"))))\\n}\\n```"},{"id":"wener-apis","metadata":{"permalink":"/story/wener-apis","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/project/wener-apis.md","source":"@site/../story/project/wener-apis.md","title":"Wener\'s APIs","description":"","date":"2020-01-28T00:00:00.000Z","tags":[{"inline":true,"label":"\u9879\u76EE","permalink":"/story/tags/\u9879\u76EE"},{"inline":true,"label":"Nodejs","permalink":"/story/tags/nodejs"}],"readingTime":0.04,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Wener\'s APIs","slug":"wener-apis","date":"2020-01-28T00:00:00.000Z","tags":["\u9879\u76EE","Nodejs"],"baseUrl":"https://github.com/wenerme/apis/tree/master/"},"unlisted":false,"prevItem":{"title":"Hello CGO","permalink":"/story/hello-cgo"},"nextItem":{"title":"Jackson \u4F7F\u7528\u603B\u7ED3","permalink":"/story/jackson-summary"}},"content":"\x3c!--import(https://raw.githubusercontent.com/wenerme/apis/master/README.md)--\x3e"},{"id":"jackson-summary","metadata":{"permalink":"/story/jackson-summary","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2019/2019-08-11-jackson-summary.md","source":"@site/../story/2019/2019-08-11-jackson-summary.md","title":"Jackson \u4F7F\u7528\u603B\u7ED3","description":"\u52A8\u6001\u7B56\u7565","date":"2019-08-11T00:00:00.000Z","tags":[{"inline":true,"label":"Java","permalink":"/story/tags/java"},{"inline":true,"label":"Jackson","permalink":"/story/tags/jackson"},{"inline":true,"label":"Json","permalink":"/story/tags/json"},{"inline":true,"label":"\u963F\u91CC","permalink":"/story/tags/\u963F\u91CC"}],"readingTime":8.99,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Jackson \u4F7F\u7528\u603B\u7ED3","slug":"jackson-summary","tags":["Java","Jackson","Json","\u963F\u91CC"]},"unlisted":false,"prevItem":{"title":"Wener\'s APIs","permalink":"/story/wener-apis"},"nextItem":{"title":"\u56E7 -\u300A\u54EA\u5412\u4E4B\u9B54\u7AE5\u964D\u4E16\u300B\u89C2\u540E\u611F","permalink":"/story/tt10627720-review"}},"content":"## \u52A8\u6001\u7B56\u7565\\n\\n\u52A8\u6001\u7B56\u7565\u6982\u5FF5\u76F8\u5BF9\u5BBD\u6CDB\uFF0C\u5728\u8FDB\u5165\u6B63\u5F0F\u7684\u5185\u5BB9\u4E4B\u524D\u5BB9\u6211\u5148\u660E\u786E\u9898\u76EE\u4E2D\u52A8\u6001\u7B56\u7565\u7684\u8303\u7574\u3002\\n\\n\u8FD9\u91CC\u7684\u52A8\u6001\u7B56\u7565\u6307\uFF0C\u73B0\u5728\u4EE5 A \u65B9\u5F0F\u6765\u505A\u67D0\u4EF6\u4E8B\uFF0C\u5728\u8FC7\u7A0B\u4E2D\u53EF\u80FD\u88AB\u5207\u6362\u4E3A B \u65B9\u6848\uFF0C\u4F46\u5BF9\u4E0A\u5C42\u6765\u8BF4\u662F\u65E0\u611F\u7684\u3002\u7B56\u7565\u53EF\u4EE5\u6620\u5C04\u4E3A\u7B56\u7565\u6A21\u5F0F\uFF08Strategy Pattern\uFF09\uFF0C\u4F8B\u5982\\n\\n\x3c!-- more --\x3e\\n\\n_\u56FE\u7247\u7F3A\u5931_\\n\\n\x3c!-- ![undefined](https://intranetproxy.alipay.com/skylark/lark/0/2019/png/140424/1565334699201-7c97dc59-48a8-4327-aa3e-4bd562230017.png) --\x3e\\n\\n\u4E0A\u4E0B\u6587\u4F9D\u8D56\u4E86\u4E00\u4E2A IStrategy \u63A5\u53E3\uFF0C\u800C IStrategy \u6709\u4E24\u79CD\u5B9E\u73B0\uFF0CStrategyA\u3001StrategyB\uFF0C\u5728\u8FD0\u884C\u4E2D\u53EF\u80FD\u662F\u9009\u62E9\u7684 A \u7B56\u7565\u6216 B \u7B56\u7565\u3002\u518D\u4E00\u4E2A\u73B0\u5B9E\u4E00\u70B9\u7684\u4F8B\u5B50\\n\\n_\u56FE\u7247\u7F3A\u5931_\\n\\n\x3c!-- ![undefined](https://intranetproxy.alipay.com/skylark/lark/0/2019/png/140424/1565335036438-50a9b700-1498-4153-96be-f5764341edb5.png) --\x3e\\n\\n\u56FE\u4F8B\u63CF\u8FF0\u4E86\u4E00\u4E2A\u5177\u4F53\u7684\u5B58\u50A8\u7B56\u7565\uFF0CCachedStrategy \u662F\u5E26\u7F13\u5B58\u7684\u5B58\u50A8\u7B56\u7565\uFF0C cache \u548C backend \u5B9E\u73B0\u7F13\u5B58\u903B\u8F91\uFF0CIStorage \u672C\u8EAB\u662F\u62BD\u8C61\u7684\u63A5\u53E3\uFF0C\u56E0\u6B64\u7F13\u5B58\u903B\u8F91\u4E5F\u53EA\u9700\u8981\u4F9D\u8D56\u63A5\u53E3\u800C\u4E0D\u9700\u8981\u5173\u5FC3\u5177\u4F53\u5B9E\u73B0\u3002MemoryStorage \u662F\u4E00\u4E2A\u5185\u5B58\u5B58\u50A8\uFF0C\u6570\u636E\u5B58\u5728\u5185\u5B58\u7684 Map \u4E2D\uFF0CRedisStorage \u662F\u8BBF\u95EE\u8FDC\u7A0B\u7684\u5B58\u50A8\u3002\u6240\u6709\u7684\u8FD9\u4E9B\u7B56\u7565\u7EC6\u8282\u5BF9\u4E0A\u5C42\u800C\u8A00\u90FD\u662F\u65E0\u611F\u7684\uFF0C\u6700\u4E0A\u5C42\u4F7F\u7528\u7684\u4F9D\u7136\u662F\u4E00\u4E2A\u5B58\u50A8\u63A5\u53E3\u3002\\n\\n\u8FD9\u6837\u7684\u7B56\u7565\u662F\u8FD8\u53EF\u4EE5\u53E0\u52A0\u7684\uFF0C\u8FD9\u6837\u505A\u7B56\u7565\u7684\u76EE\u7684\u662F\u7B80\u5316\u4E86\u5355\u4E2A\u7B56\u7565\u5B9E\u73B0\u7684\u590D\u6742\u5EA6\uFF0C\u4E13\u6CE8\u4E8E\u5B9E\u73B0\u4E00\u4E2A\u529F\u80FD\u70B9\uFF0C\u5982\u679C\u4E0D\u4F7F\u7528\u7B56\u7565\uFF0C\u5219\u9700\u8981\u5728\u4E00\u4E2A\u5B9E\u73B0\u7C7B\u91CC\u5B9E\u73B0\u8FC7\u591A\u7684\u903B\u8F91\uFF0C\u5F53\u9762\u4E34\u65B0\u7684\u9700\u6C42\uFF0C\u63A5\u5165\u65B0\u7684\u9002\u914D\u7684\u65F6\u5019\uFF0C\u5BFC\u81F4\u6539\u52A8\u4F1A\u5F02\u5E38\u56F0\u96BE\uFF0C\u4EE5\u4E0B\u7684\u4F2A\u4EE3\u7801\u5C55\u793A\u4E86\u8FD9\u6837\u7684\u533A\u522B\\n\\n**\u5355\u4E2A\u7C7B\u5B9E\u73B0**\\n\\n```js\\nclass StorageImpl {\\n  constructor({ redisUrl, redisPort }) {\\n    this.cache = {};\\n    this.redis = new Redis({ url: redisUrl, port: redisPort });\\n  }\\n  get(key) {\\n    if (this.cache[key]) {\\n      return this.cache[key];\\n    }\\n    let val = this.redis.get(key);\\n    if (val) {\\n      this.cache[key] = val;\\n    }\\n    return val;\\n  }\\n  set(key, value) {\\n    delete this.cache[key];\\n    this.redis.set(key, value);\\n  }\\n}\\n```\\n\\n**\u63A5\u53E3\u7B56\u7565\u5B9E\u73B0**\\n\\n```js\\nclass CachedStorage {\\n  constructor({ cache, backend }) {\\n    this.cache = cache;\\n    this.backend = backend;\\n  }\\n  get(key) {\\n    let val = this.cache.get(key);\\n    if (!val) {\\n      val = this.backend.get(key);\\n      if (val) {\\n        this.cache.set(key, val);\\n      }\\n    }\\n    return val;\\n  }\\n  set(key, val) {\\n    this.cache.set(key, null);\\n    this.backend.set(key, val);\\n  }\\n}\\n\\nclass MemoryStorage {\\n  constructor() {\\n    this.data = {};\\n  }\\n  get(key) {\\n    return this.data[key];\\n  }\\n  set(key, val) {\\n    this.data[key] = val;\\n  }\\n}\\n\\nclass RedisStorage {\\n  constructor({ url, host }) {\\n    this.redis = new Redis({ url, port });\\n  }\\n  get(key) {\\n    return this.redis.get(key);\\n  }\\n  set(key, val) {\\n    this.redis.set(key, val);\\n  }\\n}\\n```\\n\\n\u5F53\u4EE3\u7801\u548C\u7B56\u7565\u8F83\u5C11\u7684\u65F6\u5019\uFF0C\u53EF\u80FD\u76F4\u63A5\u5B9E\u73B0\u662F\u66F4\u7B80\u5355\u7684\uFF0C\u4F46\u5F53\u7B56\u7565\u9010\u6E10\u589E\u591A\uFF0C\u4E1A\u52A1\u903B\u8F91\u8D8A\u52A0\u590D\u6742\u7684\u65F6\u5019\uFF0C\u5199\u5728\u5355\u4E2A\u5B9E\u73B0\u4E2D\u662F\u975E\u5E38\u96BE\u4EE5\u7EF4\u62A4\u7684\uFF0C\u4E00\u4E9B\u7B80\u5355\u7684\u4F8B\u5B50\uFF0C\u4F8B\u5982 \u540E\u7AEF\u8BBF\u95EE\u9700\u8981\u652F\u6301\u6309 key \u8FDB\u884C\u5206\u7247\u8BBF\u95EE\uFF0C\u652F\u6301\u4ECE\u53E6\u5916\u4E00\u79CD\u5B58\u50A8\u52A0\u8F7D\u6570\u636E\u3002\\n\\n\u7B56\u7565\u53EF\u4EE5\u5F88\u7075\u6D3B\uFF0C\u4E14\u4E0D\u53EF\u9884\u77E5\u7684\uFF0C\u56E0\u6B64\u9700\u8981\u5B9E\u73B0\u8FD9\u6837\u7684\u7B56\u7565\u7BA1\u7406\u76F4\u63A5\u786C\u7F16\u7801\u7684\u65B9\u5F0F\u662F\u4E0D\u53EF\u884C\u7684\u3002\\n\\n## \u57FA\u4E8E JSON \u7684\u52A8\u6001\u7B56\u7565\u914D\u7F6E\\n\\n\u6BCF\u4E2A\u7B56\u7565\u90FD\u662F\u4E00\u4E2A\u901A\u7528\u7684\u63A5\u53E3\u5B9E\u73B0\uFF0C\u4E00\u4E2A\u7B56\u7565\u7684\u5B9E\u73B0\u53EF\u80FD\u4F9D\u8D56\u5176\u5B83\u7B56\u7565\uFF0C\u8FD9\u6837\u7684\u7ED3\u6784\u662F\u4E00\u4E2A\u6811\u5F62\u7684\uFF0C\u90A3\u4E48\u914D\u7F6E\u4E5F\u662F\u4E00\u4E2A\u6811\u5F62\u7684\u7ED3\u6784\uFF0C\u4F8B\u5982\\n\\n```json\\n{\\n  \\"type\\": \\"cached\\",\\n  \\"cache\\": {\\n    \\"type\\": \\"memory\\"\\n  },\\n  \\"backend\\": {\\n    \\"type\\": \\"redis\\",\\n    \\"port\\": 6379,\\n    \\"host\\": \\"127.0.0.1\\"\\n  }\\n}\\n```\\n\\n\u6574\u4F53\u7ED3\u6784\u4E0E\u7B56\u7565\u7684\u7EC4\u6210\u4E00\u81F4\uFF0C\u4ECE\u914D\u7F6E\u89D2\u5EA6\u6765\u8BF4\uFF0C\u975E\u5E38\u76F4\u89C2\u4FBF\u4E8E\u7406\u89E3\u3002\u4F46\u5B9E\u9645\u4F7F\u7528\u65F6\u9700\u8981\u8FDB\u884C\u89E3\u6790\u5904\u7406\u5E76\u6620\u5C04\u4E3A\u5177\u4F53\u7684\u7B56\u7565\u5B9E\u73B0\u3002\\n\\n\u5728\u73B0\u6709\u7684 Java JSON \u89E3\u6790\u5E93\u4E2D\uFF0CJackson \u529F\u80FD\u6700\u4E3A\u4E30\u5BCC\uFF0C\u8981\u5B9E\u73B0\u8FD9\u6837\u7684\u7B56\u7565\u914D\u7F6E\u6709\u4E09\u79CD\u65B9\u5F0F\\n\\n1. JSON -> \u914D\u7F6E\u5BF9\u8C61 -> \u5B9E\u73B0\\n   - \u4F55\u65F6\u9009\u7528\uFF1A\u5B9E\u73B0\u590D\u6742\uFF0C\u6709\u8F83\u591A\u8FD0\u884C\u72B6\u6001\\n   - \u9700\u8981\u989D\u5916\u7684\u4E00\u6B21\u5B9E\u73B0\u6620\u5C04\\n   - \u5E8F\u5217\u5316\u53CD\u5E8F\u5217\u5316\u7B80\u5355\\n2. JSON -> \u5B9E\u73B0\\n   - \u4F55\u65F6\u9009\u7528\uFF1A\u5B9E\u73B0\u7B80\u5355\uFF0C\u8FD0\u884C\u72B6\u6001\u53EF\u63A7\\n   - \u9700\u8981\u989D\u5916\u65B9\u6CD5\u8FDB\u884C\u521D\u59CB\u5316\\n   - \u72B6\u6001\u5B57\u6BB5\u9700\u8981\u6CE8\u610F\u4E0D\u8981\u88AB\u5E8F\u5217\u5316 - `@JsonIgnore` \u6216 transient\\n3. JSON->\u62BD\u8C61\u914D\u7F6E\u5BF9\u8C61->\u62BD\u8C61\u5B9E\u73B0->\u5B9E\u9645\u914D\u7F6E\u5BF9\u8C61->\u5B9E\u9645\u5B9E\u73B0\\n   - \u4F55\u65F6\u9009\u7528\uFF1A\u5B9E\u73B0\u590D\u6742\u4E14\u6709\u7EE7\u627F\u5173\u7CFB\uFF0C\u6BCF\u4E00\u5C42\u5B9E\u73B0\u590D\u6742\u5904\u7406\u4E0D\u540C\u7684\u914D\u7F6E\\n   - \u9700\u8981\u57FA\u4E8E\u914D\u7F6E\u5BF9\u8C61\uFF0C\u914D\u7F6E\u5BF9\u8C61\u6709\u7EE7\u627F\u5173\u7CFB\\n   - \u914D\u7F6E\u5BF9\u8C61\u80FD\u6301\u6709\u4EFB\u610F\u914D\u7F6E\u5185\u5BB9\uFF0C\u4E0D\u540C\u914D\u7F6E\u5BF9\u8C61\u53EF\u5728\u4E0D\u4E22\u5931\u6570\u636E\u7684\u524D\u63D0\u4E0B\u4E92\u76F8\u8F6C\u6362\\n\\n### \u914D\u7F6E\u8FC7\u7A0B\\n\\n\u4EE5\u4E0B\u4EE3\u7801\u6F14\u793A\u4E86\u4F7F\u7528\u914D\u7F6E\u5BF9\u8C61\u6765\u5B9E\u73B0\u914D\u7F6E\u7684\u62BD\u8C61\u5E8F\u5217\u5316\u548C\u53CD\u5E8F\u5217\u5316\\n\\n```java\\npublic class ConfigObjectDemo {\\n    @Test\\n    public void test() throws IOException {\\n        ObjectMapper mapper = new ObjectMapper();\\n\\n        String config = \\"{\\\\\\"type\\\\\\":\\\\\\"cached\\\\\\",\\\\\\"cache\\\\\\":{\\\\\\"type\\\\\\":\\\\\\"memory\\\\\\"},\\\\\\"backend\\\\\\":{\\\\\\"type\\\\\\":\\\\\\"redis\\\\\\",\\\\\\"port\\\\\\":6379,\\\\\\"host\\\\\\":\\\\\\"127.0.0.1\\\\\\"}}\\";\\n        StorageConfig storageConfig = mapper.readValue(config, StorageConfig.class);\\n        // \u8F93\u51FA CachedStorageConfig(cache=MemoryConfig(), backend=RedisConfig(host=127.0.0.1, port=6379))\\n        System.out.println(storageConfig);\\n        // \u8F93\u51FA {\\"type\\":\\"cached\\",\\"cache\\":{\\"type\\":\\"memory\\"},\\"backend\\":{\\"type\\":\\"redis\\",\\"host\\":\\"127.0.0.1\\",\\"port\\":6379}}\\n        System.out.println(mapper.writeValueAsString(storageConfig));\\n    }\\n}\\n\\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = \\"type\\")\\n@JsonSubTypes({\\n        @JsonSubTypes.Type(value = CachedStorageConfig.class, name = \\"cached\\"),\\n        @JsonSubTypes.Type(value = MemoryConfig.class, name = \\"memory\\"),\\n        @JsonSubTypes.Type(value = RedisConfig.class, name = \\"redis\\")\\n})\\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY, getterVisibility = JsonAutoDetect.Visibility.NONE)\\ninterface StorageConfig{ String getType();}\\n\\n@Data\\nclass CachedStorageConfig implements StorageConfig{\\n    private StorageConfig cache;private StorageConfig backend;\\n    @Override public String getType() { return \\"cached\\"; }\\n}\\n@Data\\nclass MemoryConfig implements StorageConfig{ @Override public String getType() { return \\"memory\\"; }}\\n@Data\\nclass RedisConfig implements StorageConfig{\\n    private String host; private int port;\\n    @Override public String getType() { return \\"redis\\"; }\\n}\\n```\\n\\n\u5728\u8FD9\u91CC\u770B\u5230\u6BD4\u8F83\u590D\u6742\u7684\u6CE8\u89E3\u662F `@JsonSubTypes`\uFF0C\u8BE5\u6CE8\u89E3\u914D\u7F6E\u4E86\u7C7B\u578B\u4E0E\u5B9E\u9645\u5B9E\u73B0\u7684\u6620\u5C04\u5173\u7CFB\uFF0C\u800C `@JsonTypeInfo` \u914D\u7F6E\u4E86\u90A3\u4E2A\u5B57\u6BB5\u4F5C\u4E3A\u7C7B\u578B\u4FE1\u606F\u5B57\u6BB5\u3002\u901A\u8FC7\u6CE8\u89E3\u7684\u65B9\u5F0F\u914D\u7F6E\u4E0D\u592A\u7075\u6D3B\uFF0C\u53EF\u80FD\u6709\u65F6\u5019\u4F1A\u5FFD\u7565\u914D\u7F6E\u6216\u914D\u7F6E\u9519\u8BEF\uFF0C\u4E14\u4E0D\u80FD\u52A8\u6001\u589E\u52A0\u3002\\n\\n\u89E3\u51B3\u914D\u7F6E\u6BD4\u8F83\u95EE\u9898\u4E5F\u6709\u4E24\u79CD\u529E\u6CD5\uFF0C\u7B2C\u4E00\u79CD\u529E\u6CD5\u662F\u4FDD\u7559 `@JsonTypeInfo` \u6CE8\u89E3\uFF0C\u7136\u540E\u624B\u52A8\u8FDB\u884C\u6620\u5C04\u5173\u7CFB\u7684\u914D\u7F6E\uFF0C\u4F8B\u5982\\n\\n```java\\nObjectMapper mapper = new ObjectMapper();\\nmapper.registerSubtypes(new NamedType(CachedStorageConfig.class,\\"cached\\"));\\nmapper.registerSubtypes(new NamedType(MemoryConfig.class,\\"memory\\"));\\nmapper.registerSubtypes(new NamedType(RedisConfig.class,\\"redis\\"));\\n```\\n\\n\u7ED3\u679C\u4E0E\u901A\u8FC7\u6CE8\u89E3\u7684\u65B9\u5F0F\u914D\u7F6E\u662F\u76F8\u540C\u7684\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u52A8\u6001\u914D\u7F6E\u4E86\u3002\u5982\u679C\u8FDE `@JsonTypeInfo` \u4E5F\u4E0D\u60F3\u8981\uFF0C\u5E0C\u671B\u901A\u8FC7\u4EE3\u7801\u5B8C\u5168\u52A8\u6001\u6DFB\u52A0\uFF0C\u8FD9\u6837\u7684\u8FC7\u7A0B\u4F1A\u6BD4\u8F83\u590D\u6742\u3002\u6700\u7EC8\u7684\u7ED3\u679C\u7C7B\u4F3C\u4E8E\\n\\n```java\\n// \u6CE8\u518C\u4E00\u4E2A\u52A8\u6001\u7C7B\u578B\uFF0C\u4E14\u8BF4\u660E\u5982\u4F55\u83B7\u53D6\u5230\u7C7B\u578B\\nMyJson.registerDynamicType(StorageConfig.class, StorageConfig::getType);\\nMyJson.registerDynamicSubtypes(StorageConfig.class, new NamedType(CachedStorageConfig.class, \\"cached\\"));\\nMyJson.registerDynamicSubtypes(StorageConfig.class, new NamedType(MemoryConfig.class, \\"memory\\"));\\nMyJson.registerDynamicSubtypes(StorageConfig.class, new NamedType(RedisConfig.class, \\"redis\\"));\\n```\\n\\n`registerDynamicType` \u548C `registerDynamicSubtypes` \u7684\u5B9E\u73B0\u53EF\u53C2\u8003[\u8FD9\u91CC](https://github.com/wenerme/wava/blob/a216dfe8e92fe4822c9659949fbe862b9419eef4/wava-common/src/main/java/me/wener/wava/util/JSON.java#L114)\u3002\\n\\n\u81F3\u6B64\u4FBF\u5B8C\u6210\u4E86\u6240\u6709\u7684\u52A8\u6001\u914D\u7F6E\uFF0C\u53CD\u5E8F\u5217\u5316\u4E3A\u914D\u7F6E\u5BF9\u8C61\u548C\u5B9E\u73B0\u6CA1\u6709\u7279\u522B\u5927\u7684\u533A\u522B\uFF0C\u53EA\u9700\u8981\u63A7\u5236\u597D\u5B57\u6BB5\u53EF\u89C1\u6027\u5373\u53EF\u3002\\n\\n\u4F7F\u7528\u62BD\u8C61\u914D\u7F6E\uFF0C\u5219\u9700\u8981\u80FD\u591F\u8BB0\u5F55\u5B8C\u6574\u7684\u4FE1\u606F\uFF0C\u4ECE\u62BD\u8C61\u914D\u7F6E\u8F6C\u6362\u4E3A\u5B9E\u9645\u914D\u7F6E\u65F6\u4E0D\u80FD\u4E22\u914D\u7F6E\u5185\u5BB9\uFF0C\u4F7F\u7528 Jackson\uFF0C\u53EF\u4F7F\u7528 `@JsonAnyGetter` \u548C `@JsonAnySetter` \u5B9E\u73B0\uFF0C\u56E0\u4E3A\u6211\u4F1A\u5B9A\u4E49\u4E00\u4E2A\u7C7B\u4F3C\u5982\u4E0B\u7684\u57FA\u7840\u7C7B\\n\\n```java\\npublic class PropertyObject {\\n    @JsonIgnore @Setter private Map<String, Object> properties;\\n\\n    @JsonAnyGetter public Map<String, Object> getProperties() { return properties; }\\n    @JsonAnySetter\\n    public Object set(String name, Object value) {\\n        if (properties == null) { properties = Maps.newHashMap(); }\\n        return properties.put(name, value);\\n    }\\n}\\n```\\n\\n\u5B8C\u6574\u5B9A\u4E49\u53C2\u8003 [PropertyObject](https://github.com/wenerme/wava/blob/a216dfe8e92fe4822c9659949fbe862b9419eef4/wava-common/src/main/java/me/wener/wava/model/PropertyObject.java)\u3002\\n\\n\u5BF9\u914D\u7F6E\u7684\u5904\u7406\u5219\u53EF\u4EE5\u4F7F\u7528\u7C7B\u4F3C\u8D23\u4EFB\u94FE\u7684\u65B9\u5F0F\uFF0C\u5982\u679C\u5B9E\u73B0\u5BF9\u914D\u7F6E\u611F\u5174\u8DA3\uFF0C\u5219\u5C06\u5176\u8F6C\u6362\u4E3A\u81EA\u5DF1\u611F\u5174\u8DA3\u7684\u914D\u7F6E\u5BF9\u8C61\uFF0C\u8FD9\u6837\u4E5F\u4FBF\u4E8E\u6DFB\u52A0\u6CE8\u89E3\u8FDB\u884C\u6821\u9A8C\u548C\u9A8C\u8BC1\u3002\\n\\n> \u5B9E\u73B0\u8FC7\u7A0B\\n>\\n> \u914D\u7F6E\u7684\u6B63\u786E\u5904\u7406\u548C\u6821\u9A8C\u4F7F\u5F97\u5B9E\u73B0\u8FC7\u7A0B\u76F8\u5BF9\u7B80\u5355\uFF0C\u76F8\u5F53\u4E8E\u786E\u5B9A\u4E86\u7A0B\u5E8F\u7684\u6240\u6709\u5165\u53C2\uFF0C\u5B9E\u73B0\u4FBF\u4E0D\u5728\u6B64\u8D58\u8FF0\u3002\\n\\n## \u7B56\u7565\u6269\u5C55\\n\\n\u6BCF\u4E00\u79CD\u7B56\u7565\u5B9E\u9645\u5BF9\u5E94\u7684\u90FD\u662F\u4E00\u90E8\u5206\u4E1A\u52A1\u903B\u8F91\uFF0C\u90A3\u4E48 `1+1` \u548C `1-1` \u4E5F\u662F\u53EF\u4EE5\u88AB\u8BA4\u4E3A\u662F\u4E24\u79CD\u7B56\u7565\uFF0C\u5728[\u4ECE 0 \u5230 1 \u5B9E\u73B0\u81EA\u5B9A\u4E49\u8BED\u8A00](https://wener.me/story/get-started-with-dsl/)\u4E2D\u6709\u63D0\u5230\uFF0C\u8BED\u8A00\u88AB\u89E3\u6790\u540E\u4F1A\u751F\u6210\u8BED\u6CD5\u6811\uFF0C\u800C\u8BED\u6CD5\u6811\u4E5F\u53EF\u4EE5\u7406\u89E3\u4E3A\u662F\u4E00\u79CD\u6811\u5F62\u7684\u7B56\u7565\u903B\u8F91\u3002\u8868\u8FBE\u5F0F\u4E2D\u7684\u901A\u7528\u8282\u70B9\u4E00\u822C\u53EB\u505A Expression\uFF0C\u800C\u6BCF\u4E2A Expression \u90FD\u53EF\u4EE5\u8BA1\u7B97\u51FA\u6765\u4E00\u4E2A\u503C\uFF0C\u8FD9\u4E2A\u503C\u53EF\u4EE5\u9690\u542B\u5728\u5176\u5B83\u7684\u4E00\u4E2A Expression \u4E2D\uFF0C\u4F8B\u5982 1+1 \u53EF\u4EE5\u8868\u793A\u4E3A\\n\\n```json\\n{\\n  \\"type\\": \\"BinaryOperation\\",\\n  \\"operator\\": \\"ADD\\",\\n  \\"left\\": { \\"type\\": \\"Literal\\", \\"value\\": 1 },\\n  \\"right\\": { \\"type\\": \\"Literal\\", \\"value\\": 1 }\\n}\\n```\\n\\n\u800C 1+1+1 \u5219\u8868\u793A\u4E3A\\n\\n```json\\n{\\n  \\"type\\": \\"BinaryOperation\\",\\n  \\"operator\\": \\"ADD\\",\\n  \\"left\\": { \\"type\\": \\"Literal\\", \\"value\\": 1 },\\n  \\"right\\": {\\n    \\"type\\": \\"BinaryOperation\\",\\n    \\"operator\\": \\"ADD\\",\\n    \\"left\\": { \\"type\\": \\"Literal\\", \\"value\\": 1 },\\n    \\"right\\": { \\"type\\": \\"Literal\\", \\"value\\": 1 }\\n  }\\n}\\n```\\n\\n\u5176\u5E8F\u5217\u5316\u548C\u53CD\u5E8F\u5217\u5316\u4E4B\u524D\u8BA8\u8BBA\u7684\u914D\u7F6E\u662F\u5B8C\u5168\u4E00\u81F4\u7684\u3002\u5F88\u591A\u7684\u4E1A\u52A1\u903B\u8F91\u672C\u8EAB\u4E5F\u662F\u53EF\u4EE5\u901A\u8FC7\u8868\u8FBE\u5F0F\u6765\u8868\u8FF0\u7684\uFF0C\u800C\u4F7F\u7528\u8868\u8FBE\u5F0F\u5219\u80FD\u662F\u7684\u573A\u666F\u914D\u7F6E\u66F4\u4E3A\u7075\u6D3B\u3002\\n\\n## \u5B9E\u9645\u5E94\u7528\\n\\n\u4EE5\u4E0B\u5217\u4E3E\u5728\u5B9E\u4F8B\u5F00\u53D1\u4E2D\u4F7F\u7528\u5230\u7684\u573A\u666F\uFF0C\u4E09\u79CD\u573A\u666F\u5404\u4E0D\u76F8\u540C\u3002\\n\\n### \u5965\u683C\u5B58\u50A8\\n\\n\u5728 \u5965\u683C\u4EBA\u7FA4\u4E8C\u65B9\u5305\u5F00\u53D1\u603B\u7ED3 \u4E2D\u6709\u63D0\u5230\u5E95\u5C42\u5B58\u50A8\u7684\u590D\u6742\u6027\\n\\n_\u56FE\u7247\u7F3A\u5931_\\n\\n\x3c!-- ![\u4EBA\u7FA4\u4E8C\u65B9\u5305\u6587\u7AE0\u7D20\u6750 (2).png](https://intranetproxy.alipay.com/skylark/lark/0/2018/png/140424/1546074626769-bb495d37-803f-4dc6-8dc5-d2f3b373d263.png) --\x3e\\n\\n\u8BE5\u914D\u7F6E\u7684\u5B9E\u73B0\u4FBF\u662F\u57FA\u4E8E\u8FD9\u6837\u7684\u914D\u7F6E\u903B\u8F91\u5B9E\u73B0\u7684\u3002\u5206\u522B\u5BF9\u5E94\u63A5\u53E3\\n\\n- CrowdStorage\\n- CrowdStore\\n\\n\u5982\u679C\u96C6\u6210\u4E86\u5965\u683C\u4E8C\u65B9\u5305 \u662F\u770B\u5F97\u5230\u76F8\u5E94\u5B9E\u73B0\u7684\u3002\\n\\n\u4F7F\u7528\u7684\u662F JSON \u76F4\u63A5\u53CD\u5E8F\u5217\u5316\u4E3A\u5B9E\u73B0\u7684\u65B9\u5F0F\u3002\\n\\n### \u4EFB\u52A1\u8C03\u5EA6\\n\\n\u5965\u683C\u7684\u6E20\u9053\u7BA1\u7406\u5E95\u5C42\u5B9E\u73B0\u662F\u4E00\u5957\u76F8\u5BF9\u901A\u7528\u7684\uFF0C\u5728\u603B\u7ED3\u4E2D\u63D0\u5230\u591A\u5C42\u7EA7\u7684\u652F\u6301\u4FBF\u662F\u901A\u8FC7\u62BD\u8C61\u914D\u7F6E\u5B9E\u73B0\\n\\n- \u4EFB\u52A1\u8C03\u5EA6\u652F\u6301\\n  _ \u6E20\u9053\u6295\u653E\\n  _ \u6E20\u9053\u652F\u6301 - \u77ED\u4FE1\u3001\u5916\u547C\u3001\u90AE\u4EF6/SMTP\\n  _ \u6570\u636E\u6E90\u652F\u6301 - \u63A5\u53E3\u3001\u4EBA\u7FA4\u3001ODPS\\n  _ \u8C03\u5EA6\u652F\u6301 - \u5355\u6B21\u3001\u5468\u671F\u3001\u624B\u52A8\\n\\n\u914D\u7F6E\u5BF9\u8C61\u7C7B\u56FE\u5982\u4E0B\\n\\n_\u56FE\u7247\u7F3A\u5931_\\n\\n\x3c!-- ![undefined](https://intranetproxy.alipay.com/skylark/lark/0/2019/png/140424/1565503501772-e6e9f241-72c2-41d5-94f4-95c4d9effa32.png) --\x3e\\n\\n### \u72B6\u6001\u4EBA\u7FA4\u8868\u8FBE\u5F0F\\n\\n\u5965\u683C\u4E8C\u65B9\u5305\u73B0\u6709\u8868\u8FBE\u5F0F\u5904\u7406\u80FD\u529B\uFF0C\u4F46\u5728\u4E0B\u4E00\u4E2A\u7248\u672C\u4E2D\u8BE5\u529F\u80FD\u4F1A\u88AB\u589E\u5F3A\uFF0C\u5C06\u4E0D\u5728\u5BA2\u6237\u7AEF\u89E3\u6790\u7F16\u8BD1\uFF0C\u800C\u662F\u5728\u670D\u52A1\u7AEF\u5904\u7406\u540E\u4E0B\u53D1\u8BED\u6CD5\u6811\uFF0C\u4E0B\u53D1\u7684\u8BED\u6CD5\u6811\u5176\u5B9E\u5C31\u662F\u4E00\u4E2A\u7B56\u7565\u914D\u7F6E\uFF0C\u8868\u8FBE\u5F0F\u7684\u7C7B\u56FE\u5982\u4E0B\\n\\n_\u56FE\u7247\u7F3A\u5931_\\n\\n\x3c!-- ![undefined](https://intranetproxy.alipay.com/skylark/lark/0/2019/png/140424/1565504216442-e28b054c-0c3e-4b6d-b957-7f29600754f7.png) --\x3e\\n\\n## \u603B\u7ED3\\n\\n\u719F\u7EC3\u7684\u638C\u63E1\u548C\u4F7F\u7528\u5404\u79CD\u573A\u666F\u4E0B\u7684\u914D\u7F6E\u53EF\u4EE5\u51CF\u5C11\u5927\u91CF\u7684\u4E0D\u5FC5\u8981\u7684\u5904\u7406\u903B\u8F91\uFF0C\u4E14\u80FD\u51CF\u5C11\u4E0D\u5C11\u7684 BUG\uFF0C\u4E00\u4E9B Bad Smell \u4F8B\u5982 `JSON.parse(jsonString).get(\\"someThing\\").asLong()` \u662F\u5E94\u8BE5\u88AB\u907F\u514D\u7684\uFF0C\u56E0\u4E3A\u6CA1\u6709\u4EBA\u80FD\u77E5\u9053\u8FD9\u662F\u5728\u505A\u4EC0\u4E48\uFF0C\u4E5F\u4E0D\u77E5\u9053\u91CC\u9762\u90FD\u6709\u4EC0\u4E48\uFF0C\u50CF\u662F\u4E00\u4E2A\u9ED1\u76D2\u3002\u5F00\u53D1\u65F6\u5F80\u5F80\u4E1A\u52A1\u903B\u8F91\u662F\u76F8\u5BF9\u7B80\u5355\u7684\uFF0C\u4F46\u662F\u786E\u4FDD\u62FF\u5230\u6B63\u786E\u7684\u914D\u7F6E\u5F88\u96BE\uFF0C\u9762\u5411\u5931\u8D25\u8BBE\u8BA1\uFF0C\u5F00\u95ED\u539F\u5219\uFF0C\u6709\u95EE\u9898\u7684\u5730\u65B9\u5FC5\u7136\u4F1A\u51FA\u95EE\u9898\uFF0C\u5F80\u5F80\u6211\u4EEC\u7528\u6765\u6821\u9A8C\u662F\u5426\u6B63\u786E\u7684\u4EE3\u7801\u6BD4\u5B9E\u9645\u7684\u4EE3\u7801\u8FD8\u8981\u591A\uFF0C\u5F53\u9047\u5230\u8FD9\u6837\u95EE\u9898\u7684\u65F6\u5019\uFF0C\u601D\u8003\u662F\u5426\u6709\u66F4\u597D\u7684\u65B9\u5F0F\u6765\u505A\u8FD9\u4E9B\u4E8B\u60C5\u3002"},{"id":"tt10627720-review","metadata":{"permalink":"/story/tt10627720-review","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2019/2019-07-28-\u300A\u54EA\u5412\u4E4B\u9B54\u7AE5\u964D\u4E16\u300B\u89C2\u540E\u611F.md","source":"@site/../story/2019/2019-07-28-\u300A\u54EA\u5412\u4E4B\u9B54\u7AE5\u964D\u4E16\u300B\u89C2\u540E\u611F.md","title":"\u56E7 -\u300A\u54EA\u5412\u4E4B\u9B54\u7AE5\u964D\u4E16\u300B\u89C2\u540E\u611F","description":"\u5728\u60F3\u6807\u9898\u7684\u65F6\u5019\uFF0C\u770B\u5230\u4E3B\u6F14\u91CC\u6709 \u56E7\uFF08\u68EE\u745F\u592B\uFF09\uFF0C\u7A81\u7136\u89C9\u5F97\u597D\u8D34\u5207\u611F\u53D7\uFF0C\u5728\u89C2\u5F71\u65F6\u5927\u90E8\u5206\u662F\u8FD9\u4E2A\u8868\u60C5\u3002","date":"2019-07-28T00:00:00.000Z","tags":[{"inline":true,"label":"\u7535\u5F71","permalink":"/story/tags/\u7535\u5F71"}],"readingTime":3.37,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"tt10627720-review","title":"\u56E7 -\u300A\u54EA\u5412\u4E4B\u9B54\u7AE5\u964D\u4E16\u300B\u89C2\u540E\u611F","tags":["\u7535\u5F71"],"imdb":"tt10627720"},"unlisted":false,"prevItem":{"title":"Jackson \u4F7F\u7528\u603B\u7ED3","permalink":"/story/jackson-summary"},"nextItem":{"title":"\u5982\u4F55\u4ECE0\u52301\u5B9E\u73B0\u4E00\u95E8\u8BED\u8A00","permalink":"/story/get-started-with-dsl"}},"content":"\u5728\u60F3\u6807\u9898\u7684\u65F6\u5019\uFF0C\u770B\u5230\u4E3B\u6F14\u91CC\u6709 \u56E7\uFF08\u68EE\u745F\u592B\uFF09\uFF0C\u7A81\u7136\u89C9\u5F97\u597D\u8D34\u5207\u611F\u53D7\uFF0C\u5728\u89C2\u5F71\u65F6\u5927\u90E8\u5206\u662F\u8FD9\u4E2A\u8868\u60C5\u3002\\n\\n\x3c!--more--\x3e\\n\\n\u6700\u8FD1\u503C\u5F97\u53BB\u7535\u5F71\u9662\u770B\u7684\u7535\u5F71\u5E76\u4E0D\u591A\uFF0C\u770B\u5230\u54EA\u5412\u8FC7\u4E86\u4E24\u5468\u5F71\u9662\u8FD8\u90A3\u4E48\u7206\u6EE1\uFF0C\u8BC4\u5206\u4F9D\u7136 8.7\uFF0C\u57FA\u672C\u53EF\u8C13\u4E4B\u795E\u4F5C\u5F85\u9047\u4E86\u3002\u5728\u6CA1\u6709\u4EBA\u4E3B\u52A8\u5B89\u5229\uFF0C\u5A92\u4F53\u4E0A\u5404\u79CD\u5439\u7206\u7684\u524D\u63D0\u4E0B\uFF0C\u6000\u7740\u6EE1\u6EE1\u7684\u671F\u5F85\u9A76\u5411\u4E86\u7535\u5F71\u9662\u3002\u5750\u7740\u597D\u4E0D\u5BB9\u6613\u62A2\u5230\u7684 10:40 \u76846\u63924\u5EA7\u5F00\u59CB\u4E86\u6FC0\u52A8\u7684\u89C2\u5F71\u3002\\n\\n\u5F53\u4EE5\u4E3A\u5F71\u7247\u5F00\u59CB\u65F6\uFF0C\u624D\u53D1\u73B0\u8FD8\u662F\u5F71\u4E1A\u516C\u53F8LOGO\uFF0C\u624D\u53D1\u73B0\u8FD8\u662F\u5F71\u4E1A\u516C\u53F8LOGO\uFF0C\u624D\u53D1\u73B0\u8FD8\u662F\u5F71\u4E1A\u516C\u53F8LOGO\u3002\u3002\u3002\u8FD9\uFF0C\u672A\u514D\u4E1A\u592A\u957F\u4E86\u5427\uFF0C\u800C\u4E14\u9664\u4E86 COLOROOM \u7684\uFF0C\u5176\u4ED6\u7684\u4E5F\u592A\u54EA\u4E2A\u5565\u4E86\u5427\uFF0C\u7535\u5F71\u8FD9\u4E48\u9AD8\u5927\u4E0A\uFF0C\u54B1\u5C31\u4E0D\u80FD\u591A\u6295\u5165\u70B9\u628A\u81EA\u5DF1LOGO\u7ED9\u505A\u597D\u4E48\uFF1F\\n\\n\u597D\u5427\uFF0C\u5F71\u7247\u6B63\u5F0F\u5F00\u59CB\u3002\u627F\u8BA4\u53BB\u770B\u8FD9\u4E2A\u7535\u5F71\u7684\u65F6\u5019\u53EA\u77E5\u9053\u540D\u5B57\u53EB\u54EA\u5412\uFF0C\u5E76\u6CA1\u770B\u5230\u526F\u6807\uFF0C\u6240\u4EE5\u5BF9\u4E00\u5F00\u59CB\u7684\u5C55\u5F00\u4E00\u4E0B\u5B50\u6CA1\u7F13\u8FC7\u6765\u3002\u7B2C\u4E00\u6B21\u770B\u5230\u592A\u4E59\u771F\u4EBA\u4E0A\u573A\uFF0C\u89C9\u5F97\u5F62\u8C61\u8FD8\u662F\u6BD4\u8F83\u8BA8\u559C\u6BD4\u8F83\u641E\u7B11\u7684\uFF0C\u7136\u540E\u5F00\u53E3\u56DB\u5DDD\u8BDD\uFF08\u7B97\u662F\u5427\uFF09\uFF1F\u4F5C\u4E3A\u4E00\u4E2A\u56DB\u5DDD\u4EBA\uFF0C\u89C9\u5F97\u8FD8\u662F\u86EE\u6709\u610F\u601D\u7684\u3002\u4F46\u63A5\u4E0B\u6765\u6C14\u6C1B\u5F00\u59CB\u9010\u6E10\u51DD\u56FA\uFF0C\u573A\u9762\u4E00\u5EA6\u5341\u5206\u5C34\u5C2C\u3002\\n\\n\u592A\u4E59\u771F\u4EBA\u4ECE\u4E00\u5F00\u59CB\u641E\u7B11\uFF0C\u4E00\u76F4\u641E\u7B11\u5230\u6700\u540E\uFF0C\u4F46\u641E\u7B11\u6CA1\u6709\u4EFB\u4F55\u9A71\u52A8\uFF0C\u7EAF\u7CB9\u662F\u5929\u7136\u7684\u5F31\u667A\uFF1F\u7B2C\u4E00\u6B21\uFF0C\u7B2C\u4E8C\u6B21\uFF0C\u7B2C\u4E09\u6B21\uFF0C\u5C31\u5F00\u59CB\u53D7\u4E0D\u4E86\u4E86\u3002\u5F00\u59CB\u4EE5\u4E3A\u8FD9\u4E2A\u89D2\u8272\u540E\u671F\u80AF\u5B9A\u4F1A\u6709\u53CD\u8F6C\uFF0C\u4F46\u770B\u5230\u90A3\u6735\u4E91\u7684\u5FB7\u6027\u540E\uFF0C\u624D\u53D1\u73B0\u662F\u6211\u60F3\u591A\u4E86\uFF0C\u8FD9\u6574\u90E8\u5267\u5C31\u8FD9\u5C3F\u6027\uFF0C\u5236\u4F5C\u7EC4\u5F88\u597D\u7684\u8868\u8FBE\u4E86\u201C\u4F60\u4EEC\u7231\u770B\u4E0D\u770B\u201D\uFF0C\u6211: \u65E0\u8A00\u4EE5\u5BF9\u{1F626}\u3002\\n\\n\u5982\u679C\u5168\u5C40\u6240\u6709\u4EBA\u90FD\u8FD9\u6837\u7EAF\u7CB9\u641E\u7B11\u4E5F\u5C31\u7B97\u4E86\uFF0C\u4F46\u5374\u504F\u504F\u5C31\u8981\u6B63\u513F\u516B\u7ECF\u7ED9\u4F60\u8BB2\u8BB2\u6545\u4E8B\uFF0C\u641E\u5F97\u5341\u5206\u96BE\u53D7\uFF0C\u770B\u7740\u90FD\u662F\u9E21\u76AE\u7599\u7629\u3002\u54EA\u5412\u7684\u201C\u9B54\u201D\u53EA\u662F\u4E3A\u9B54\u800C\u9B54\uFF0C\u56E0\u4E3A\u662F\u9B54\u4E38\uFF0C\u6240\u4EE5\u8981\u5F88\u91CE\uFF0C\u5F88\u72C2\u5984\uFF0C\u5F88\u56A3\u5F20\uFF1F\u7136\u800C\u5BFC\u6F14\u544A\u8BC9\u6211\u5E76\u4E0D\u662F\u7684\uFF0C\u662F\u56E0\u4E3A\u672C\u6765\u6709\u5C0F\u59B9\u59B9\u8981\u548C\u6211\u73A9\uFF0C\u7ED3\u679C\u522B\u4EBA\u5BB6\u957F\u4E0D\u8BA9\uFF0C\u90A3\u6211\u5C31\u8981\u641E\u6B7B\u4ED6\u4EEC\uFF01WTF\uFF1F\u8FD9\u54EA\u662F\u9B54\u4E38\uFF0C\u8FD9\u5B8C\u5168\u5C31\u662F\u718A\u5B69\u5B50\u7684\u5B9A\u4F4D\uFF0C\u800C\u4E14\u8FD8\u662F\u5F88\u8BA9\u4EBA\u538C\u70E6\u90A3\u79CD\u718A\u5B69\u5B50\uFF0C\u4E00\u5EA6\u611F\u5230\u6076\u5FC3\u96BE\u53D7\u{1F922}\u3002\u5979\u5988\u4E0E\u4ED6\u4E5F\u662F\u540C\u6837\u7684\u95EE\u9898\uFF0C\u4E00\u53E3\u4E0D\u77E5\u9053\u4EC0\u4E48\u5473\u7684\u53E3\u97F3\uFF0C\u542C\u7684\u4E00\u5EA6\u51FA\u620F\uFF08\u597D\u50CF\u4E5F\u6CA1\u5165\u620F\u8FC7\u{1F92D}\uFF09\u3002\u89C9\u5F97\u6700\u53D7\u4E0D\u4E86\u7684\u662F\uFF0C\u6211\u5F88\u7231\u4F60\uFF0C\u5F88\u60F3\u966A\u4F34\u4F60\uFF0C\u4F60\u53EA\u80FD\u6D3B\u4E09\u5E74\uFF0C\u53EF\u662F\u6211\u8981\u53BB\u6253\u5996\u602A\uFF0C\u90A3\u4F60\u5C31\u54EA\u8FB9\u51C9\u5FEB\u54EA\u8FB9\u5446\u7740\u53BB\u5427\uFF1F\uFF1F\uFF1F\u65A9\u5996\u9664\u9B54\u4E3A\u4ED6\u79EF\u5FB7\uFF0C\u662F\u5E0C\u671B\u80FD\u591A\u6D3B\u4E00\u5206\u949F\u4E48\uFF1F\uFF1F\uFF1F\u90A3\u4E0D\u7136\uFF0C\u653E\u5F03\u4E0E\u5A03\u513F\u76F8\u5904\uFF0C\u4F60\u5F97\u5230\u4E86\u4EC0\u4E48\uFF1F\uFF1F\uFF1F\u5F71\u7247\u5E76\u6CA1\u6709\u5F3A\u8C03\u5E0C\u671B\u5F97\u5230\u8BA4\u540C\uFF0C\u5982\u679C\u662F\u5E0C\u671B\u88AB\u8BA4\u540C\uFF0C\u90A3\u5E94\u8BE5\u662F\u5E26\u7740\u4E00\u8DEF\u53BB\u6253\u5996\u602A\uFF0C\u770B\u5230\u8E22\u952E\u5B50\u7684\u65F6\u5019\u4E00\u5EA6\u4EE5\u4E3A\u4F1A\u8FD9\u6837\u53D1\u5C55\u3002\\n\\n\u770B\u5230\u9F99\u5BAB\u51FA\u573A\u540E\uFF0C\u53C8\u5F00\u59CBYY\u8FD9\u6761\u6545\u4E8B\u7EBF\uFF0C\u611F\u89C9\u5F88\u6709\u610F\u601D\u5F88\u6709\u641E\u5934\u5440\uFF0C\u573A\u666F\u5E03\u7F6E\u7684\u90A3\u4E48\u597D\uFF0C\u4E5F\u662F\u4E00\u4E2A\u90A3\u4E48\u6709\u6545\u4E8B\u7684\u80CC\u666F\u7EBF\u3002\u63CF\u7ED8\u7684\u8FD9\u5929\u5EAD\uFF0C\u771F\u7684\u5F88\u201C\u5929\u5EAD\u201D\uFF0C\u611F\u89C9\u4E5F\u91CA\u6000\u4E3A\u4EC0\u4E48\u8981\u9009\u62E9\u592A\u4E59\u771F\uFF0C\u4E3A\u4EC0\u4E48\u8981\u5F53\u7533\u516C\u8C79\u7684\u9762\u7ED9\u592A\u4E59\u771F\u4EBA\u5347\u804C\u{1F923}\u3002\\n\\n\u5F71\u7247\u7684\u4EF7\u503C\u89C2\u548C\u4E0D\u60F3\u505A\u8FC7\u591A\u8BC4\u4EF7\uFF0C\u592A\u591A\u4EBA\u8BB2\u4E86\uFF0C\u8FD9\u601D\u60F3\uFF0C\u8FD9\u6001\u5EA6\uFF0C\u8FD9\u8BC4\u8BBA\u53CD\u9988\uFF0C\u7B2C\u4E00\u8054\u60F3\u5230\u7684\u5C31\u662F\u6218\u72FC\u3001\u6D41\u6D6A\u5730\u7403\u3002\u3002\u3002\u4E0D\u53EF\u8BF4\\n\\n\u6700\u540E\u8FD9\u7ED3\u5C3E\uFF0C\u5F3A\u884C\u6253\u4E00\u67B6\uFF0C\u5F3A\u884C\u5E2E\u4F60\u5FD9\uFF0C\u5F3A\u884C\u9ED1\u5316\uFF0C\u518D\u5F3A\u884C\u6D17\u767D\uFF0C\u8FD9\u3002\u3002\u3002\u77ED\u77ED\u7684\u4E00\u4E8C\u5341\u5206\u949F\u53D1\u751F\u7684\u4E8B\u60C5\u592A\u591A\u4E86\uFF0C\u6709\u70B9\u63A5\u53D7\u7684\u4E0D\u80FD\u3002\u592A\u667A\u969C\uFF0C\u8BA9\u4EBA\u60F3\u5230\u7684\u53EF\u80FD\u5C31\u662F\u5927\u9C7C\u6D77\u68E0\u4E86\uFF5E\uFF5E\u{1F602}\\n\\n\u4EE5\u4E0A\u53EA\u662F\u4E2A\u4EBA\u5410\u69FD\uFF0C\u90FD\u71AC\u591C\u770B\u7535\u5F71\u4E86\uFF0C\u518D\u71AC\u591C\u5199\u4E2A\u5410\u69FD\u597D\u50CF\u4E5F\u8BF4\u5F97\u8FC7\u53BB\u3002"},{"id":"get-started-with-dsl","metadata":{"permalink":"/story/get-started-with-dsl","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2019/2019-07-26-\u4ECE0\u52301\u5B9E\u73B0\u4E00\u95E8\u8BED\u8A00.md","source":"@site/../story/2019/2019-07-26-\u4ECE0\u52301\u5B9E\u73B0\u4E00\u95E8\u8BED\u8A00.md","title":"\u5982\u4F55\u4ECE0\u52301\u5B9E\u73B0\u4E00\u95E8\u8BED\u8A00","description":"\u8BED\u8A00\u5C31\u662F\u7A0B\u5E8F\u5458\u7684\u9152\u7CBE/Languages are alcohol to programmer\u3002\u{1F37A}","date":"2019-07-26T00:00:00.000Z","tags":[{"inline":true,"label":"\u5F00\u53D1","permalink":"/story/tags/\u5F00\u53D1"},{"inline":true,"label":"\u8BED\u8A00","permalink":"/story/tags/\u8BED\u8A00"},{"inline":true,"label":"\u963F\u91CC","permalink":"/story/tags/\u963F\u91CC"}],"readingTime":7.29,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"get-started-with-dsl","title":"\u5982\u4F55\u4ECE0\u52301\u5B9E\u73B0\u4E00\u95E8\u8BED\u8A00","tags":["\u5F00\u53D1","\u8BED\u8A00","\u963F\u91CC"]},"unlisted":false,"prevItem":{"title":"\u56E7 -\u300A\u54EA\u5412\u4E4B\u9B54\u7AE5\u964D\u4E16\u300B\u89C2\u540E\u611F","permalink":"/story/tt10627720-review"},"nextItem":{"title":"Live & Life","permalink":"/story/lal/README"}},"content":"> \u8BED\u8A00\u5C31\u662F\u7A0B\u5E8F\u5458\u7684\u9152\u7CBE/Languages are alcohol to programmer\u3002\u{1F37A}\\n> \u23E4 wener\\n\\n\x3c!--more--\x3e\\n\\n## DSL\\n\\nDSL \u5168\u540D\u4E3A Domain-specific Lnaguage/\u9886\u57DF\u7279\u5B9A\u8BED\u8A00\uFF0C\u8BF4\u5230 domain-specific \u4F1A\u4E0D\u4F1A\u7B2C\u4E00\u4E2A\u60F3\u5230\u7684\u662F DDD \u5462\uFF1FDDD \u4E2D\u7684\u8BED\u8A00\u53EB\u505A Ubiquitous Language\uFF0C\u5373\u901A\u7528\u8BED\u8A00\uFF0C\u6307\u7684\u662F\u5728\u5F53\u524D Domain \u4E0B\u4F7F\u7528\u7EDF\u4E00\u7684\u81EA\u7136\u8BED\u8A00\u8FDB\u884C\u6C9F\u901A\u4EA4\u6D41\u4FBF\u4E8E\u4E0A\u4E0B\u6587\u7684\u7406\u89E3\u548C\u6C9F\u901A\u3002DSL \u7684\u76EE\u7684\u662F\u975E\u5E38\u7C7B\u4F3C\u7684\uFF0C\u4E3A\u7279\u5B9A\u9886\u57DF\u5B9E\u73B0\u7684\u8BED\u8A00\uFF0C\u76EE\u7684\u662F\u4E3A\u4E86\u66F4\u52A0\u9AD8\u6548\u4FBF\u6377\u7684\u89E3\u51B3\u7279\u5B9A\u9886\u57DF\u7684\u95EE\u9898\u3002\\n\\nDSL \u662F\u9886\u57DF\u7279\u5B9A\u8BED\u8A00\uFF0C\u4E0E\u4E4B\u76F8\u53CD\u7684\u8BED\u8A00\u53EB\u505A General purpose language/\u901A\u7528\u8BED\u8A00\u3002\u901A\u7528\u8BED\u8A00\u5747\u4E3A\u56FE\u7075\u5B8C\u5907\u8BED\u8A00\uFF0C\u800C DSL \u5219\u4E0D\u5FC5\u8981\u5177\u5907\u8FD9\u6837\u7684\u80FD\u529B\u3002\u4E00\u4E2A\u901A\u7528\u8BED\u8A00\u4E5F\u6709\u5176\u7279\u5B9A\u7684\u5E94\u7528\u9886\u57DF\uFF0C\u4F8B\u5982 \u7CFB\u7EDF\u7F16\u7A0B\u3001Web \u7F16\u7A0B\u3001\u811A\u672C \u7B49\uFF0C\u6765\u533A\u522B\u4E8E\u5176\u5B83\u8BED\u8A00\uFF0C\u56E0\u6B64\u67D0\u79CD\u7A0B\u5EA6\u4E0A\u6765\u8BF4\u901A\u7528\u8BED\u8A00\u4E5F\u662F\u201CDSL\u201D\u3002\\n\\n**\u5E38\u89C1\u7684 DSL**\\n\\n| \u8BED\u8A00 | \u9886\u57DF       |\\n| ---- | ---------- |\\n| JSON | \u6570\u636E\u4EA4\u6362   |\\n| CSS  | \u6837\u5F0F\u7F16\u6392   |\\n| SQL  | \u7ED3\u6784\u67E5\u8BE2   |\\n| JSX  | \u7ED3\u6784\u5316\u7EC4\u4EF6 |\\n\\n\u4F46\u65E0\u8BBA\u9886\u57DF\u4E3A\u4F55\uFF0CDSL \u672C\u8D28\u662F\u8BED\u8A00\uFF0C\u6709\u7279\u5B9A\u7684\u8BCD\u6CD5\u3001\u8BED\u6CD5\u548C\u4E0A\u4E0B\u6587\u903B\u8F91\u3002\u5F53\u9700\u8981\u5B9E\u73B0\u4E00\u79CD DSL \u8BED\u8A00\u65F6\uFF0C\u9700\u8981\u8003\u8651\\n\\n- \u8BED\u8A00\u7684\u76EE\u7684\\n- \u671F\u671B\u7684\u8BED\u6CD5\u8BCD\u6CD5\\n- \u5904\u7406\u903B\u8F91\\n\\n\u9A71\u52A8\u5B9E\u73B0\u4E00\u95E8\u8BED\u8A00\uFF0C\u5F80\u5F80\u56E0\u4E3A\\n\\n- \u8BBE\u8BA1\u7406\u5FF5\u4E0D\u540C\\n- \u66F4\u5B89\u5168\u53EF\u63A7 - \u9650\u5236\u8BED\u8A00\u80FD\u529B\\n- \u4E3A\u5E94\u7528\u63D0\u4F9B\u66F4\u52A0\u7075\u6D3B\u7684\u5904\u7406\u80FD\u529B - \u811A\u672C\\n- \u6269\u5C55\u73B0\u6709\u8BED\u8A00\u589E\u5F3A\u8868\u8FBE\u80FD\u529B - \u8F6C\u8BD1 - JSX\u3001TS\\n- \u5229\u7528\u73B0\u6709\u7684\u8FD0\u884C\u73AF\u5883\u5B9E\u73B0\u66F4\u7B80\u6D01\u9AD8\u6548\u7684\u8BED\u8A00 - Kotlin\u3001Elixir\\n- \u80FD\u591F\u66F4\u5FEB\u66F4\u5BB9\u6613\u7684\u89E3\u51B3/\u63CF\u8FF0\u7279\u5B9A\u9886\u57DF\u95EE\u9898 - DSL\\n\\n\u76EE\u7684\u4E0D\u540C\u9A71\u52A8\u5B9E\u73B0\u7684\u65B9\u5F0F\u4E5F\u5404\u4E0D\u76F8\u540C\uFF0C\u6BCF\u79CD\u7684\u505A\u6CD5\u4E5F\u4E0D\u5C3D\u76F8\u540C\uFF0C\u5728\u8FD9\u91CC\u4EE5\u5B9E\u73B0\u4E00\u4E2A\u7B80\u5355\u7684\u6570\u5B66\u8BA1\u7B97\u8BED\u8A00\u4F5C\u4E3A\u6F14\u793A\u3002\\n\\n## \u5B9E\u73B0\u4E00\u95E8\u8BED\u8A00\\n\\n- \u76EE\u7684: \u5B9E\u73B0\u7B80\u5355\u7684\u6570\u503C\u8BA1\u7B97\uFF0C\u652F\u6301\u57FA\u672C\u7684\u4E09\u89D2\u51FD\u6570\\n- \u8BED\u8A00\\n  _ \u6570\u5B66\u64CD\u4F5C\u652F\u6301 \u52A0\u51CF\u4E58\u9664\\n  _ \u4E09\u89D2\u51FD\u6570\u652F\u6301 sin\u3001cos \\\\* \u8FD0\u884C\u65F6\u6570\u503C\u7C7B\u578B\u5747\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\\n\\n\u5F53\u8BED\u8A00\u7684\u57FA\u7840\u786E\u5B9A\u540E\uFF0C\u9700\u8981\u5C06\u8BED\u8A00\u7684\u8BED\u6CD5\u4EE5\u67D0\u79CD\u5F62\u5F0F\u8868\u73B0\u51FA\u6765\uFF0C\u8868\u73B0\u8BED\u8A00\u8BED\u6CD5\u7684\u65B9\u5F0F\u4E5F\u662F\u4F7F\u7528\u4E00\u95E8\u8BED\u8A00(\u267B\uFE0F\u{1F604})\u3002[EBNF](https://en.wikipedia.org/wiki/Extended_Backus%E2%80%93Naur_form) - \u6269\u5C55\u5DF4\u79D1\u65AF\u8303\u5F0F\uFF0C\u8BED\u6CD5\u8868\u8FF0\u5982\u4E0B\\n\\n```\\n\u8868\u8FBE\u5F0F = \u64CD\u4F5C\u7B26\u8868\u8FBE\u5F0F | \u51FD\u6570\u8868\u8FBE\u5F0F | \u6570\u503C\\n\u64CD\u4F5C\u7B26\u8868\u8FBE\u5F0F = \u8868\u8FBE\u5F0F \u64CD\u4F5C\u7B26 \u8868\u8FBE\u5F0F\\n\u51FD\u6570\u8868\u8FBE\u5F0F = \u51FD\u6570\u540D ( \u8868\u8FBE\u5F0F )\\n\u64CD\u4F5C\u7B26 = + | - | * | /\\n\u6570\u503C = \u4E00\u4E2A\u6216\u591A\u4E2A \u6570\u5B57\\n\u6570\u5B57 = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9\\n```\\n\\n\u8BED\u6CD5\u80FD\u7528\u901A\u7528\u7684 EBNF \u8868\u8FF0\u51FA\u6765\uFF0C\u5728\u5404\u79CD\u8BED\u8A00\u91CC\u9762\u6709\u5B9E\u73B0\u7C7B\u4F3C EBNF \u8868\u8FBE\u8BED\u8A00\u8BED\u6CD5\u7ED3\u6784\u7684\u5E93\uFF0C\u5728\u8FD9\u91CC\u4F7F\u7528 [pegjs](https://pegjs.org) \u6765\u8FDB\u884C\u539F\u578B\u9A8C\u8BC1\u548C\u5B9E\u9A8C\u3002\\n\\n\u5728 pegjs \u7684[\u5728\u7EBF Demo](https://pegjs.org/online)\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\u5DF2\u7ECF\u6709\u4E00\u4E2A\u652F\u6301\u6570\u5B66\u8FD0\u7B97\u7684\u8BED\u8A00\u3002\u73B0\u5C06\u5DE6\u4FA7\u8BED\u6CD5\u66FF\u6362\u4E3A\u5C06\u8981\u5B9E\u73B0\u7684\u8BED\u6CD5\u63CF\u8FF0\\n\\n```\\n\u8868\u8FBE\u5F0F = \u52A0\u51CF\u8868\u8FBE\u5F0F\\n\u52A0\u51CF\u8868\u8FBE\u5F0F  = \u4E58\u9664\u8868\u8FBE\u5F0F ((\'+\' / \'-\') \u4E58\u9664\u8868\u8FBE\u5F0F)*\\n\u4E58\u9664\u8868\u8FBE\u5F0F = \u51FD\u6570\u8868\u8FBE\u5F0F ((\'*\' / \'/\') \u51FD\u6570\u8868\u8FBE\u5F0F)*\\n\u51FD\u6570\u8868\u8FBE\u5F0F = \u51FD\u6570\u540D \'(\' \u8868\u8FBE\u5F0F \')\' / \u6570\u503C\\n\u6570\u503C = [0-9]+\\n\u51FD\u6570\u540D = [a-z]+\\n```\\n\\n:::tip PEG\\n\\n\u7EC6\u5FC3\u7684\u4F60\u53EF\u80FD\u4F1A\u53D1\u73B0\u6211\u4EEC\u8FD9\u91CC\u5B9A\u4E49\u7684\u8BED\u6CD5\u4E0E EBNF \u6709\u4E00\u5B9A\u533A\u522B\uFF0C\u4F8B\u5982\u5355\u72EC\u5B9A\u4E49\u4E86 `\u52A0\u51CF\u8868\u8FBE\u5F0F`,`\u4E58\u9664\u8868\u8FBE\u5F0F`\uFF0C\u5E76\u4E14\u662F\u81EA\u9876\u5411\u4E0B\u5D4C\u5957\u7684\uFF0C\u800C\u4E0D\u662F EBNF \u7684 `\u8868\u8FBE\u5F0F = \u64CD\u4F5C\u7B26\u8868\u8FBE\u5F0F | \u51FD\u6570\u8868\u8FBE\u5F0F | \u6570\u503C` \u4E00\u5C42\u76F4\u63A5\u5C55\u5F00\u3002\\n\\n\u4E4B\u6240\u4EE5\u4E66\u5199\u6210\u8FD9\u6837\uFF0C\u662F\u56E0\u4E3A pegjs \u662F [PEG](https://en.wikipedia.org/wiki/Parsing_expression_grammar) \u7C7B\u7684\u89E3\u6790\u5668\uFF0C\u4E0D\u80FD\u505A\u5DE6\u9012\u5F52\u3002\u8BE5\u7EC6\u8282\u6D89\u53CA\u5230\u5982\u4F55\u5B9E\u73B0\u8BED\u8A00\u89E3\u6790\u548C\u8BED\u6CD5\u7684\u4F18\u5148\u7EA7\u5904\u7406\uFF0C\u5C06\u4F1A\u5728\u989D\u5916\u7684\u6587\u7AE0\u4E2D\u8FDB\u884C\u9610\u8FF0\u89E3\u91CA\uFF0C\u5E76\u8BB2\u89E3\u5982\u4F55\u5B9E\u73B0\u4E00\u4E2A\u89E3\u6790\u8BED\u8A00\u7684\u8BED\u8A00\u3002\\n\\n:::\\n\\n\u7136\u540E\u5728\u53F3\u4E0A\u8F93\u5165\u8868\u8FBE\u5F0F `sin(1)*2+3`, \u89E3\u6790\u5B8C\u6210\u540E\uFF0C\u53F3\u4E0B\u89D2\u51FA\u73B0\u5982\u4E0B JSON \u5185\u5BB9\\n\\n```json\\n[[[[\\"s\\", \\"i\\", \\"n\\"], \\"(\\", [[[\\"1\\"], []], []], \\")\\"], [[\\"*\\", [\\"2\\"]]]], [[\\"+\\", [[\\"3\\"], []]]]]\\n```\\n\\n\u8BE5 JSON \u662F pegjs \u7684\u8F93\u51FA\uFF0C\u5728\u6CA1\u505A\u4EFB\u4F55\u5904\u7406\u7684\u60C5\u51B5\u4E0B\uFF0C\u4E5F\u53EF\u4EE5\u7406\u89E3\u4E3A\u8BED\u6CD5\u6811\u3002\u5176\u4E2D\u6BCF\u4E00\u4E2A\u6570\u7EC4\u5BF9\u5E94\u4E86\u8BED\u6CD5\u63CF\u8FF0\u4E2D\u7684\u4E00\u4E2A\u5B9A\u4E49\u3002\u4F8B\u5982 `[ \\"s\\", \\"i\\", \\"n\\" ], \\"(\\", [ [ [ \\"1\\" ], [] ], [] ], \\")\\"` \u5BF9\u5E94\u8BED\u6CD5\u6811\u4E2D\u7684 `\u51FD\u6570\u540D \'(\' \u8868\u8FBE\u5F0F \')\'`\uFF0C\u8868\u793A\u5BF9`1`\u6267\u884C\u51FD\u6570`sin`\u3002\\n\\n\u4E3A\u4E86\u66F4\u597D\u7684\u5C55\u793A\u8BED\u6CD5\u6811\uFF0C\u6211\u4EEC\u5728\u8BED\u6CD5\u6811\u4E2D\u8C03\u6574\u8FD4\u56DE\u7ED3\u679C\\n\\n```\\n\u8868\u8FBE\u5F0F = \u52A0\u51CF\u8868\u8FBE\u5F0F\\n\u52A0\u51CF\u8868\u8FBE\u5F0F  = a:\u4E58\u9664\u8868\u8FBE\u5F0F b:(op:(\'+\' / \'-\') right:\u4E58\u9664\u8868\u8FBE\u5F0F {return {type:\'Op\',op,right}})* {return b.reduce((left,right)=>(right.left=left,right),a)}\\n\u4E58\u9664\u8868\u8FBE\u5F0F = a:\u51FD\u6570\u8868\u8FBE\u5F0F b:(op:(\'*\' / \'/\') right:\u51FD\u6570\u8868\u8FBE\u5F0F {return {type:\'Op\',op,right}})* {return b.reduce((left,right)=>(right.left=left,right),a)}\\n\u51FD\u6570\u8868\u8FBE\u5F0F = name:\u51FD\u6570\u540D \'(\' arg:\u8868\u8FBE\u5F0F \')\' {return {type:\'Func\',name,arg}} / \u6570\u503C\\n\u6570\u503C = [0-9]+ {return {type:\'Int\',value:parseInt(text())}}\\n\u51FD\u6570\u540D = [a-z]+ {return {type:\'Name\',name:text()}}\\n```\\n\\n\u5BF9\u540C\u6837\u7684\u8868\u8FBE\u5F0F `sin(1)*2+3` \u6211\u4EEC\u5F97\u5230\u7684\u8BED\u6CD5\u6811\u4E3A\\n\\n```json\\n{\\n  \\"type\\": \\"Op\\",\\n  \\"op\\": \\"+\\",\\n  \\"left\\": {\\n    \\"type\\": \\"Op\\",\\n    \\"op\\": \\"*\\",\\n    \\"left\\": { \\"type\\": \\"Func\\", \\"name\\": { \\"type\\": \\"Name\\", \\"name\\": \\"sin\\" }, \\"arg\\": { \\"type\\": \\"Int\\", \\"value\\": 1 } },\\n    \\"right\\": { \\"type\\": \\"Int\\", \\"value\\": 2 }\\n  },\\n  \\"right\\": { \\"type\\": \\"Int\\", \\"value\\": 3 }\\n}\\n```\\n\\n\u8FD9\u65F6\u5019\u770B\u4E0A\u53BB\u66F4\u50CF\u662F\u6811\u7684\u7ED3\u6784\uFF0Ctype \u4E3A\u6BCF\u4E2A\u8282\u70B9\u7684\u7C7B\u578B\u3002\\n\\n- Func \u51FD\u6570\u8C03\u7528\u8282\u70B9 - \u6709 name \u548C arg \u5C5E\u6027\\n- Op \u6570\u5B66\u64CD\u4F5C\u7B26\u8282\u70B9 - \u6709 op\u3001left\u3001right \u5C5E\u6027\\n- Int \u6570\u503C\u8282\u70B9 - \u6709 value \u5C5E\u6027\\n- Name \u540D\u5B57\u8282\u70B9 - \u6709 name \u5C5E\u6027\\n\\n\u8BED\u6CD5\u7ED3\u6784\u8868\u73B0\u7684\u5185\u5BB9\u4E0E\u8868\u8FBE\u5F0F\u672C\u8EAB\u662F\u5B8C\u5168\u7B49\u4EF7\u7684\uFF0C\u53EF\u8BA4\u4E3A\u662F\u7A0B\u5E8F/\u8BA1\u7B97\u673A\u7406\u89E3\u7684\u8868\u8FBE\u5F0F\uFF0C\u662F\u66F4\u52A0\u7ED3\u6784\u5316\u7684\u5185\u5BB9\u3002\\n\u8BED\u6CD5\u6811\u4F1A\u6709\u5F88\u591A\u5E94\u7528\u573A\u666F\uFF0C\u56E0\u4E3A\u8BED\u6CD5\u6811\u4E0E\u8868\u8FBE\u5F0F\u7B49\u4EF7\uFF0C\u4E5F\u5305\u542B\u4E86\u5B8C\u6574\u7684\u8BA1\u7B97\u903B\u8F91\u548C\u4E0A\u4E0B\u6587\u4FE1\u606F\uFF0C\u5E76\u4E14\u4E0D\u9700\u8981\u89E3\u6790\u5668\u8FDB\u884C\u89E3\u6790\u3002\u53EF\u7528\u4E8E\u751F\u6210\u66F4\u52A0\u5E95\u5C42\u7684\u8868\u73B0\u5F62\u5F0F\uFF0C\u4E5F\u53EF\u7528\u4E8E\u76F4\u63A5\u6267\u884C\u3002\u573A\u666F\u7684\u573A\u666F\u5305\u542B\\n\\n- \u751F\u6210 IR - \u4E2D\u95F4\u5F62\u5F0F\uFF0C\u4FBF\u4E8E\u8FDB\u884C\u66F4\u591A\u540E\u7EED\u5904\u7406 - .Net\u3001GnuRTL\u3001LLVM\\n- \u751F\u6210\u6C47\u7F16 - \u751F\u6210\u80FD\u76F4\u63A5\u5728\u76EE\u6807\u5E73\u53F0\u6267\u884C\u7684\u4E8C\u8FDB\u5236 - x86\\n- \u4EE3\u7801\u8F6C\u8BD1 - \u5229\u7528\u4E00\u5B9A\u7684\u89C4\u5219\u751F\u6210\u975E\u539F\u59CB\u7C7B\u578B\u4EE3\u7801 - Gwt(Java to Js)\u3001java2objc\\n- \u4EE3\u7801\u4F18\u5316 - \u8BED\u6CD5\u6811\u7ED3\u6784\u6BD4\u8F83\u901A\u7528\uFF0C\u7A0B\u5E8F\u4FBF\u4E8E\u5904\u7406\uFF0C\u53EF\u5229\u7528\u516C\u5171\u7684\u89C4\u5219\u8FDB\u884C\u5339\u914D\u5224\u65AD\\n- \u4EE3\u7801\u7B80\u5316 - \u5728\u4E0D\u5F71\u54CD\u8BED\u4E49\u7684\u60C5\u51B5\u4E0B\u8C03\u6574\u4EE3\u7801 - UglifyJs\u3001\u4EE3\u7801\u6DF7\u6DC6 - \u751F\u6210\u539F\u59CB\u7C7B\u578B\u4EE3\u7801\\n- \u4EE3\u7801\u5206\u6790 - \u9759\u6001\u7C7B\u578B\u3001\u5B89\u5168\u3001\u201C\u574F\u201D\u4EE3\u7801\u68C0\u6D4B\\n- \u4EE3\u7801\u7D22\u5F15 - \u4E00\u822C\u751F\u6210\u7684\u8BED\u6CD5\u6811\u8282\u70B9\u90FD\u53EF\u4EE5\u5305\u542B\u539F\u59CB\u4EE3\u7801\u4F4D\u7F6E\uFF0C\u53EF\u5B9E\u73B0\u57FA\u4E8E\u65B9\u6CD5\u6216\u5F15\u7528\u7B49\u8FDB\u884C\u5FEB\u901F\u7D22\u5F15 - sourcegraph\\n- \u4EE3\u7801\u9884\u5904\u7406\\n- ...\\n\\n\u8868\u8FBE\u5F0F\u8F6C\u6362\u6210\u8BED\u6CD5\u6811\uFF0C\u5C31\u597D\u6BD4\u4F7F\u7528\u673A\u5668\u5B66\u4E60\u4ECE\u81EA\u7136\u8BED\u8A00\u4E2D\u62BD\u53D6\u51FA\u610F\u56FE\u3001\u5B9E\u4F53\u3001\u4E0A\u4E0B\u6587\u7B49\u4FE1\u606F\uFF0C\u662F\u8BA1\u7B97\u673A\u5BF9\u7406\u89E3\u201C\u4EBA\u201D\u8981\u505A\u4EC0\u4E48\u7684\u7B2C\u4E00\u6B65\u3002\\n\\n\u65E2\u7136\u540C\u6837\u7684\u8BED\u6CD5\u80FD\u8C03\u6574\u4E3A\u751F\u6210\u8BED\u6CD5\u6811\uFF0C\u90A3\u4E48\u4E5F\u5C31\u80FD\u8C03\u6574\u4E3A\u76F4\u63A5\u8BA1\u7B97\u7ED3\u679C\uFF0C\u56E0\u6B64\u5F97\u5230\u5982\u4E0B\u5185\u5BB9\\n\\n```\\n\u8868\u8FBE\u5F0F = \u52A0\u51CF\u8868\u8FBE\u5F0F\\n\u52A0\u51CF\u8868\u8FBE\u5F0F  = a:\u4E58\u9664\u8868\u8FBE\u5F0F b:((\'+\' / \'-\') \u4E58\u9664\u8868\u8FBE\u5F0F)* {return b.reduce((r,[o,v])=>o==\'+\'?r+v:r-v,a)}\\n\u4E58\u9664\u8868\u8FBE\u5F0F = a:\u51FD\u6570\u8868\u8FBE\u5F0F b:((\'*\' / \'/\') \u51FD\u6570\u8868\u8FBE\u5F0F)* {return b.reduce((r,[o,v])=>o==\'*\'?r*v:r/v,a)}\\n\u51FD\u6570\u8868\u8FBE\u5F0F = name:\u51FD\u6570\u540D \'(\' arg:\u8868\u8FBE\u5F0F \')\' {return Math[name](arg)} / \u6570\u503C\\n\u6570\u503C = [0-9]+ {return parseInt(text())}\\n\u51FD\u6570\u540D = [a-z]+ {return text()}\\n```\\n\\n\u8F93\u5165\u8868\u8FBE\u5F0F `sin(1)*2+3`\uFF0C\u5F97\u5230\u7684\u8F93\u51FA\u503C\u4E3A `4.6829419696157935`\u3002\\n\\n\u81F3\u6B64\uFF0C\u4E00\u95E8\u7B80\u5355\u7684\u8BED\u8A00\u4FBF\u9A8C\u8BC1\u5B9E\u73B0\u5B8C\u6210\u4E86\u3002\\n\\n## \u603B\u7ED3\\n\\npegjs \u662F\u975E\u5E38\u65B9\u4FBF\u7684\u5DE5\u5177\uFF0C\u4F46\u5B9E\u9645\u5728\u751F\u4EA7\u4E2D\u4F7F\u7528\u65F6\uFF0C\u8BED\u6CD5\u7684\u89E3\u6790\u5904\u7406\u9700\u8981\u5728\u4E2A\u4E2A\u8BED\u8A00\u91CC\u627E\u7C7B\u4F3C\u7684\u5B9E\u73B0\uFF0C\u5F53\u7136\u4E5F\u53EF\u4EE5\u89E3\u6790\u4E0E\u8BA1\u7B97\u662F\u5F02\u6784\u7684\uFF0C\u4F8B\u5982\u901A\u8FC7\u670D\u52A1\u7AEF\u89E3\u6790\u5B8C\u6210\uFF0C\u4E0B\u53D1\u8BED\u6CD5\u6811\u5230\u5BA2\u6237\u7AEF\u8FDB\u884C\u6267\u884C\u3002\u8FD9\u4E5F\u4E0E\u6700\u8FD1\u4E00\u4E2A js \u6807\u51C6\u8BF7\u6C42\u7684\u76EE\u7684\u7C7B\u4F3C,[tc39/proposal-binary-ast](https://github.com/tc39/proposal-binary-ast) \u5E0C\u671B\u6D4F\u89C8\u5668\u80FD\u6267\u884C\u4E8C\u8FDB\u5236\u7684\u8BED\u6CD5\u6811\uFF0C\u800C\u4E0D\u518D\u662F\u6BCF\u6B21\u90FD\u8FDB\u884C\u89E3\u6790 js\uFF0C\u8FD9\u6837\u7684\u597D\u5904\u662F\u663E\u800C\u6613\u89C1\u7684\u3002\u4E8C\u8FDB\u5236\u7684\u8BED\u6CD5\u6811\u4E0E\u6C47\u7F16/bytecode \u51E0\u4E4E\u53EA\u6709\u4E00\u7EBF\u4E4B\u9694\uFF0C\u7136\u540E\u8FD9\u4E5F\u6B63\u662F[webassembly](https://webassembly.org/)\u7684\u76EE\u7684\uFF0C\u76F4\u63A5\u8BA9\u6D4F\u89C8\u5668\u6267\u884C\u6C47\u7F16\uFF0C\u{1F604}\u3002\u8BED\u8A00\u4E0E\u8FD0\u884C\u73AF\u5883\u662F\u5468\u800C\u590D\u59CB\u8FED\u4EE3\u7684\uFF0C\u591A\u4E48\u7684\u201C\u81EA\u7136\u201D\u3002\\n\\n## \u9644\u5F55\uFF1A\u5E38\u7528\u7684\u8BED\u6CD5\u89E3\u6790\u5668\\n\\n| \u89E3\u6790\u5668    | \u76EE\u6807\u8BED\u8A00                             |\\n| --------- | ------------------------------------ |\\n| flex/yacc | C                                    |\\n| Antlr4    | Java\u3001JS\u3001Python\u3001Switf\u3001C#\u3001C++\u3001Go |\\n| JavaCC    | Java                                 |\\n| pegjs     | JavaScript                           |\\n\\n- [antlr/grammars-v4](https://github.com/antlr/grammars-v4)\\n  - \u5176\u4E2D\u7684 [Dart2](https://github.com/antlr/grammars-v4/blob/master/dart2/Dart2.g4) \u7531\u6211\u63D0\u4EA4\\n  - \u5047\u5982\u80FD\u5B9E\u73B0\u4E00\u4E2A\u9488\u5BF9 Dart2 \u7684 JSX\uFF0C\u90A3\u4E48 Flutter \u7684\u5F00\u53D1\u5C06\u4F1A\u66F4\u52A0\u7F8E\u597D \u{1F929}\\n- [Comparison of parser generators](https://en.wikipedia.org/wiki/Comparison_of_parser_generators)"},{"id":"/lal/README","metadata":{"permalink":"/story/lal/README","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/lal/README.md","source":"@site/../story/lal/README.md","title":"Live & Life","description":"Enjoy the life if you live","date":"2019-07-25T19:27:25.000Z","tags":[],"readingTime":0.03,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"prevItem":{"title":"\u5982\u4F55\u4ECE0\u52301\u5B9E\u73B0\u4E00\u95E8\u8BED\u8A00","permalink":"/story/get-started-with-dsl"},"nextItem":{"title":"\u6587\u7AE0","permalink":"/story/README"}},"content":"> Enjoy the life if you live\\n>\\n> -- :-)"},{"id":"/README","metadata":{"permalink":"/story/README","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/README.md","source":"@site/../story/README.md","title":"\u6587\u7AE0","description":"\u601D\u8003\u8BB0\u5F55\u70B9\u6EF4","date":"2019-07-25T19:06:55.000Z","tags":[],"readingTime":0.02,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"prevItem":{"title":"Live & Life","permalink":"/story/lal/README"},"nextItem":{"title":"Java 11 JavaFX \u7B2C\u4E00\u4E2A\u5E94\u7528","permalink":"/story/java11-javafx-first-app"}},"content":"> \u601D\u8003\u8BB0\u5F55\u70B9\u6EF4"},{"id":"java11-javafx-first-app","metadata":{"permalink":"/story/java11-javafx-first-app","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2018/2018-12-06-java11-javafx-first-app.md","source":"@site/../story/2018/2018-12-06-java11-javafx-first-app.md","title":"Java 11 JavaFX \u7B2C\u4E00\u4E2A\u5E94\u7528","description":"\u6982\u8FF0","date":"2018-12-06T00:00:00.000Z","tags":[{"inline":true,"label":"Java","permalink":"/story/tags/java"},{"inline":true,"label":"JavaFX","permalink":"/story/tags/java-fx"},{"inline":true,"label":"GUI","permalink":"/story/tags/gui"},{"inline":true,"label":"\u963F\u91CC","permalink":"/story/tags/\u963F\u91CC"}],"readingTime":8.6,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"java11-javafx-first-app","title":"Java 11 JavaFX \u7B2C\u4E00\u4E2A\u5E94\u7528","tags":["Java","JavaFX","GUI","\u963F\u91CC"]},"unlisted":false,"prevItem":{"title":"\u6587\u7AE0","permalink":"/story/README"},"nextItem":{"title":"Redis \u6D41\u7B80\u4ECB","permalink":"/story/redis-stream-intro"}},"content":"## \u6982\u8FF0\\n\\nJava 11 \u81EA 2018.9.25 \u53D1\u5E03\u4EE5\u6765\uFF0C\u5DF2\u7ECF\u597D\u51E0\u4E2A\u6708\u4E86\uFF0C\u5728\u8FD8\u6CA1\u6B63\u5F0F GA \u4E4B\u524D\u90FD\u4E60\u60EF\u6027\u7684\u53BB [java-countdown.xyz](http://www.java-countdown.xyz/) check \u53D1\u5E03\u5012\u8BA1\u65F6\u3002Java 11 \u6709\u6BD4\u8F83\u591A\u7684\u65B0\u529F\u80FD\uFF0C\u800C\u5176\u4E2D\u6700\u5438\u5F15\u6211\u7684\\n\\n- Java 11 \u662F LTS \u7248\u672C\\n  - \u8FD9\u610F\u5473\u7740\u4F53\u9A8C Java9 \u5E26\u6765\u7684\u6A21\u5757\u7279\u6027\u53D8\u5F97\u66F4\u6709\u610F\u4E49\\n- JavaFX \u4ECE JDK \u4E2D\u79FB\u9664\uFF0C\u4F5C\u4E3A\u72EC\u7ACB\u6A21\u5757\\n\\n\x3c!-- more --\x3e\\n\\n\u5728 11 \u53D1\u5E03\u65F6\uFF0CJavaFX \u4E5F\u53D1\u5E03\u4E86 11 \u7684 GA \u7248\u672C\u3002JavaFX \u672C\u8EAB\u5E76\u4E0D\u65B0\u5947\uFF0C\u4F46\u81EA Java9 \u6A21\u5757\u5316\u540E\uFF0CJavaFX \u5F97\u76CA\u4E8E jlink \u7684\u80FD\u529B\uFF0C\u80FD\u591F\u5C06 JavaFX \u5C01\u88C5\u4E3A\u72EC\u7ACB\u7684 GUI \u5E94\u7528\uFF0C**\u4E0D\u8981\u6C42\u5B89\u88C5 JDK** \u3002\u8FD9\u4F7F\u5F97\u5728\u684C\u9762\u5E94\u7528\u5F00\u53D1\u7684\u573A\u666F\uFF0C\u9664\u4E86 Electron\u3001Mono\u3001QT \u7B49\u8DE8\u5E73\u53F0\u5F00\u53D1\u6846\u67B6\uFF0CJava \u4E5F\u80FD\u4F5C\u4E3A\u5176\u4E2D\u7684\u4E00\u9879\u9009\u62E9\u4E86\u3002\u5728 Swing \u65F6\u4EE3\uFF0CJava \u7684\u684C\u9762\u5E94\u7528\u5F00\u53D1\u4F53\u9A8C\u4E5F\u4E0D\u5DEE\uFF08\u66FE\u7ECF\u505A\u8FC7\u7684\u5C0F\u6E38\u620F [wenerme/GTetris](https://github.com/wenerme/GTetris)\uFF09\uFF0C\u4F46\u7531\u4E8E\u7D2F\u8D58\u7684 JDK \uFF08\u5927\u7EA6 150m\uFF09\u4F7F\u5F97\u5F00\u53D1\u4E00\u4E2A\u5C0F\u5E94\u7528\u53D8\u5F97\u4E0D\u5207\u5B9E\u9645\u3002\\n\\nJLink \u53EF\u4EE5\u5C06\u9879\u76EE\u4F9D\u8D56\u7684\u6A21\u5757\u52A0\u4E0A\u57FA\u7840 VM \u6765\u751F\u6210\u4E00\u4E2A\u65B0\u7684 JDK\uFF0C\u5E94\u7528\u7684\u4F53\u79EF\u80FD\u591F\u5927\u5927\u51CF\u5C0F\uFF0C\u5982\u679C\u8FD8\u80FD\u518D\u914D\u5408 progard\uFF0C\u90A3\u4F53\u79EF\u8FD8\u80FD\u518D\u7F29\u5C0F\u4E00\u5708\u3002\\n\\n## Motivation\\n\\n\u57FA\u4E8E\u4F53\u9A8C Java11 \u548C JavaFX \u7684\u524D\u63D0\uFF08\u6BCF\u4E2A Java \u7A0B\u5E8F\u5458\u90FD\u4F1A\u5199\u754C\u9762\u662F\u5E38\u8BC6\uFF1F\uFF09\uFF0C\u5C06\u751F\u6210 \u5965\u683C\u4EBA\u7FA4\u670D\u52A1\u5316\u63A5\u53E3\u6587\u6863 \u7684\u751F\u6210\u5668\u505A\u6210\u4E86\u4E00\u4E2A GUI \u5DE5\u5177\uFF0C\u6E90\u7801\u5728 wener.cyw/tools\u3002\\n\\ndoc/screenshot-java.png\\n\\ndoc/screenshot-markdown.png\\n\\n\x3c!-- \u56FE\u7247\u4F4D\u4E8E\u4ED3\u5E93\uFF0C\u7F3A\u5931 --\x3e\\n\\n\u5DE5\u5177\u4E0B\u8F7D\u5730\u5740\u89C1\u9644\u4EF6 - \u53EA\u6253\u5305\u4E86 Mac \u7248\u5E94\u7528\uFF0C\u56E0\u4E3A\u6CA1\u6709 Windows\u3002\\n\\n## \u5B89\u88C5\\n\\n\u4ECE Java 11 \u5F00\u59CB\uFF0COracle \u7684 JDK \u4FBF\u4E0D\u518D\u5EFA\u8BAE\u4F7F\u7528\u4E86\uFF0C\u56E0\u6B64\u9996\u9009 OpenJDK\uFF0C\u800C OpenJDK \u7684\u4E8C\u8FDB\u5236\u63D0\u4F9B\u65B9\u4E5F\u6709\u4E0D\u5C11\uFF0C\u5728\u8FD9\u91CC\u63A8\u8350\u4F7F\u7528 [adoptopenjdk](https://adoptopenjdk.net/)\uFF0C\u4E0E Oracle \u4E0D\u540C\u7684\u662F\uFF0C\u5728\u8FD9\u91CC\u4E0B\u8F7D\u7684 JDK \u90FD\u662F\u538B\u7F29\u5305\uFF0C\u65E0\u987B\u5B89\u88C5\uFF0C\u89E3\u538B\u5C31\u80FD\u4F7F\u7528\uFF0C\u5F53\u7136\u4E5F\u4E0D\u4F1A\u6709\u81EA\u52A8\u66F4\u65B0\u7684\u80FD\u529B\u3002\\n\\n**[\u70B9\u51FB\u524D\u5F80\u4E0B\u8F7D](https://adoptopenjdk.net/archive.html?variant=openjdk11&jvmVariant=hotspot)**\\n\\n\u4E0B\u8F7D\u540E\u6211\u89E3\u538B\u5230\u4E86 `~/jdk` \u76EE\u5F55\uFF0C\u7136\u540E\u5EFA\u7ACB\u8F6F\u8FDE\u63A5 `~/jdk/11` \u6307\u5411\u5230\u4E86\u8BE5\u7248\u672C\u3002\\n\\n## \u5F00\u53D1\\n\\n\u603B\u7ED3\u4E00\u4E0B\u5728\u6574\u4E2A\u8FC7\u7A0B\u4E2D\u9047\u5230\u7684\u95EE\u9898\\n\\n1. \u9879\u76EE\u642D\u5EFA - 10%\\n2. \u5E94\u7528\u5F00\u53D1 - 20%\\n3. \u751F\u6210 JDK - \u975E\u6A21\u5757\u4F9D\u8D56\u8F6C\u6A21\u5757\u4F9D\u8D56 - 50%\\n4. \u5E94\u7528\u6253\u5305 - 20%\\n\\n### \u9879\u76EE\u642D\u5EFA\\n\\n\u642D\u5EFA\u4E00\u4E2A Java 11 \u7684 Maven \u9879\u76EE\u4E0E\u642D\u5EFA\u4E00\u4E2A\u666E\u901A\u7684\u9879\u76EE\u533A\u522B\u5E76\u4E0D\u5927\uFF0C\u53EA\u662F\u4F1A\u591A\u4E00\u4E9B\u914D\u7F6E\uFF0C\u5E76\u4E14\u6240\u6709\u7684\u4F9D\u8D56\u90FD\u9700\u8981\u4F7F\u7528\u6700\u65B0\u7684\u3002\\n\\n\u7236 POM \u7684 build/plugins \u914D\u7F6E\u8BF4\u660E\\n\\n```xml\\n\x3c!-- \u5BF9 Java 11 \u6301\u6709\u57FA\u672C\u7684\u5C0A\u656C --\x3e\\n<plugin>\\n    <groupId>org.apache.maven.plugins</groupId>\\n    <artifactId>maven-compiler-plugin</artifactId>\\n    <version>3.8.0</version>\\n    <configuration>\\n        <release>11</release>\\n        <source>11</source>\\n        <target>11</target>\\n    </configuration>\\n</plugin>\\n\\n\x3c!-- \u6253\u5305\u65F6\u6253\u5305\u5230 modules \u76EE\u5F55 --\x3e\\n<plugin>\\n    <groupId>org.apache.maven.plugins</groupId>\\n    <artifactId>maven-jar-plugin</artifactId>\\n    <version>3.1.0</version>\\n    <configuration>\\n        <outputDirectory>\\n            ${project.build.directory}/modules\\n        </outputDirectory>\\n    </configuration>\\n</plugin>\\n\x3c!-- \u5C06\u4F9D\u8D56\u62F7\u8D1D\u5230 modules \u76EE\u5F55 --\x3e\\n<plugin>\\n    <groupId>org.apache.maven.plugins</groupId>\\n    <artifactId>maven-dependency-plugin</artifactId>\\n    <version>3.1.1</version>\\n    <executions>\\n        <execution>\\n            <phase>package</phase>\\n            <goals>\\n                <goal>copy-dependencies</goal>\\n            </goals>\\n            <configuration>\\n                <outputDirectory>\\n                    ${project.build.directory}/modules\\n                </outputDirectory>\\n                <includeScope>runtime</includeScope>\\n            </configuration>\\n        </execution>\\n    </executions>\\n</plugin>\\n\\n\x3c!-- \u56E0\u4E3A\u5E76\u4E0D\u662F\u6240\u6709\u4F9D\u8D56\u90FD\u662F\u6A21\u5757\u5316\u7684\uFF0C\u6240\u4EE5\u53EF\u80FD\u4F1A\u51FA\u73B0 illegal-access \u7684\u95EE\u9898 --\x3e\\n<plugin>\\n    <groupId>org.apache.maven.plugins</groupId>\\n    <artifactId>maven-surefire-plugin</artifactId>\\n    <version>2.22.0</version>\\n    <configuration>\\n        <argLine>\\n            --illegal-access=permit\\n        </argLine>\\n        <forkCount>0</forkCount>\\n    </configuration>\\n</plugin>\\n<plugin>\\n    <groupId>org.apache.maven.plugins</groupId>\\n    <artifactId>maven-failsafe-plugin</artifactId>\\n    <version>2.22.0</version>\\n    <configuration>\\n        <argLine>\\n            --illegal-access=permit\\n        </argLine>\\n    </configuration>\\n</plugin>\\n```\\n\\n\u5E94\u7528\u9879\u76EE\u7684 build \u914D\u7F6E\\n\\n```xml\\n<build>\\n    \x3c!-- \u56E0\u4E3A\u7528\u5230\u4E86 fxml\uFF0C\u4E14 fxml \u662F\u653E\u5728\u7C7B\u65C1\u8FB9\u7684\uFF0C\u6240\u4EE5\u9700\u8981\u624B\u52A8\u6307\u5B9A\u8BE5\u7C7B\u8D44\u6E90 --\x3e\\n    <resources>\\n        <resource>\\n            <directory>src/main/java</directory>\\n            <includes>\\n                <include>**/*.fxml</include>\\n            </includes>\\n        </resource>\\n        <resource>\\n            <directory>src/main/resources</directory>\\n        </resource>\\n    </resources>\\n    <plugins>\\n        \x3c!-- \u786E\u4FDD jar \u4E2D\u751F\u6210\u6B63\u786E\u7684\u4FE1\u606F --\x3e\\n        <plugin>\\n            <groupId>org.codehaus.mojo</groupId>\\n            <artifactId>exec-maven-plugin</artifactId>\\n            <version>1.6.0</version>\\n            <executions>\\n                <execution>\\n                    <id>module-main-class</id>\\n                    <phase>package</phase>\\n                    <goals>\\n                        <goal>exec</goal>\\n                    </goals>\\n                    <configuration>\\n                        \x3c!-- \u56E0\u4E3A PATH \u4E2D\u7684 jar \u662F Java8\uFF0C\u6240\u4EE5\u8FD9\u91CC\u6307\u5B9A\u7684\u7EDD\u5BF9\u8DEF\u5F84 --\x3e\\n                        <executable>/Users/wener/jdk/11/Contents/Home/bin/jar</executable>\\n                        <arguments>\\n                            <argument>\\n                                --update\\n                            </argument>\\n                            <argument> --file=${project.build.directory}/modules/${project.build.finalName}.jar\\n                            </argument>\\n                            \x3c!-- \u542F\u52A8\u7C7B --\x3e\\n                            <argument> --main-class=me.wener.tools.app.AppMain\\n                            </argument>\\n                            <argument> --module-version=${project.version}\\n                            </argument>\\n                        </arguments>\\n                    </configuration>\\n                </execution>\\n            </executions>\\n        </plugin>\\n    </plugins>\\n</build>\\n```\\n\\n\u6700\u7EC8\u7684\u914D\u7F6E\u5728 `mvn package` \u540E\uFF0C\u4F1A\u5728 `target/modules` \u76EE\u5F55\u4E0B\u770B\u5230\u6240\u6709\u7684 jar \u5305\u3002\u8FD9\u91CC\u7684 jar \u5728\u751F\u6210 JDK \u65F6\u4F1A\u7528\u5230\u3002\\n\\n\u5728\u9879\u76EE\u642D\u5EFA\u597D\u540E\uFF0C\u5EFA\u7ACB\u51FA\u5BF9\u5E94\u7684\u5B50\u6A21\u5757\uFF0C\u4E14\u5728\u5B50\u6A21\u5757\u4E2D `src/main/java` \u8BBE\u7F6E\u597D `module-info.java`\\n\\n### \u5E94\u7528\u5F00\u53D1\\n\\nJavaFX \u7684\u5F00\u53D1\u975E\u5E38\u6709\u610F\u601D\uFF0C\u56E0\u4E3A\u53EF\u4EE5\u4F7F\u7528 FXML\uFF0C\u5F00\u53D1\u7684\u8FC7\u7A0B\u4F53\u9A8C\u4E0E React/Vue/Angular \u8FD9\u6837\u7684\u524D\u7AEF\u5F00\u53D1\u4F53\u9A8C\u975E\u5E38\u76F8\u4F3C\uFF0C\u53EA\u9700\u8981\u5728 FXML \u505A\u597D\u5E03\u5C40\uFF0C\u5728 css \u4E2D\u5B9A\u4E49\u597D\u6837\u5F0F\uFF0C\u7136\u540E\u7ED1\u5B9A\u597D\u4EA4\u4E92\u5904\u7406\u65B9\u6CD5\u5373\u53EF\u3002\\n\\n\u5E94\u7528\u7684\u542F\u52A8\u7C7B\\n\\n```java\\npublic class AppMain extends Application {\\n    public static void main(String[] args) {\\n        launch(args);\\n    }\\n\\n    @Override\\n    public void start(Stage stage) throws Exception {\\n        Parent root = FXMLLoader.load(getClass().getResource(\\"scene/Main.fxml\\"));\\n\\n        Scene scene = new Scene(root, 640, 480);\\n        stage.setTitle(\\"@\u6587\u8FE9 \u7684\u5C0F\u5DE5\u5177\\");\\n        stage.setScene(scene);\\n        stage.show();\\n    }\\n}\\n```\\n\\n\u56E0\u4E3A\u662F\u57FA\u4E8E fxml\uFF0C\u542F\u52A8\u7C7B\u53EA\u9700\u8981\u5C06\u8BE5\u573A\u666F\u521D\u59CB\u5316\u5C55\u793A\u5373\u53EF\u3002\\n\\n\u4E00\u4E2A fxml \u7684\u57FA\u672C\u6846\u67B6\\n\\n```xml\\n<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n\\n<?import javafx.scene.control.*?>\\n<?import javafx.scene.layout.*?>\\n<?import javafx.stage.Screen?>\\n<AnchorPane fx:id=\\"masterPane\\"\\n            xmlns=\\"http://javafx.com/javafx/8.0.121\\"\\n            xmlns:fx=\\"http://javafx.com/fxml/1\\"\\n            fx:controller=\\"me.wener.tools.app.scene.MainScene\\">\\n</AnchorPane>\\n```\\n\\n\u5176\u4E2D\u6BD4\u8F83\u5173\u952E\u7684\u662F `fx:controller` \u7ED1\u5B9A\u4E86\u63A7\u5236\u7C7B `me.wener.tools.app.scene.MainScene`\u3002\\n\\n\u56E0\u6B64\u5728\u540E\u7EED\u7684 `action` \u5B9A\u4E49\u4E2D\u53EF\u76F4\u63A5\u5F15\u7528\u63A7\u5236\u7C7B\u4E0A\u7684\u65B9\u6CD5\uFF0C\u6216\u8005\u5C06\u9875\u9762\u5143\u7D20\u76F4\u63A5\u5173\u8054\u5230\u63A7\u5236\u7C7B\u3002\\n\\n\u7ED1\u5B9A\u5143\u7D20\\n![javafx-binding.png](./javafx-binding.png)\\n\\n\u5143\u7D20\u5173\u8054\\n![javafx-relation.png](./javafx-relation.png)\\n\\nIntellij \u6BD4\u8F83\u667A\u80FD\uFF0C\u53EF\u76F4\u63A5\u5728\u8FD9\u4E24\u4E2A\u5730\u65B9\u4E92\u76F8\u8DF3\u8F6C\u3002\\n\\n```xml\\n\x3c!-- \u6309\u94AE\u70B9\u51FB\u5173\u8054\u63A7\u5236\u7C7B\u4E0A\u7684\u65B9\u6CD5 doConvert --\x3e\\n<Button mnemonicParsing=\\"false\\" onAction=\\"#doConvert\\" text=\\"\u751F\u6210\u6587\u6863\\"/>\\n```\\n\\n### \u751F\u6210 JDK\\n\\n\u5728 APP \u5F00\u53D1\u5B8C\u6210\u540E\uFF0C\u5373\u53EF\u4E3A\u8BE5 APP \u751F\u6210\u4E00\u4E2A\u5B9A\u5236\u7684 JDK\uFF0C\u8BE5 JDK \u53EA\u9700\u8981\u5305\u542B APP \u6240\u9700\u4F9D\u8D56\uFF0C\u751F\u6210\u7684 JDK \u53EF\u91CD\u590D\u4F7F\u7528\uFF0C\u9664\u975E APP \u7684\u4F9D\u8D56\u53D8\u66F4\u3002\\n\\n```bash\\n# \u786E\u4FDD\u4E0B\u9762\u7684 Java \u547D\u4EE4\u662F Java 11 \u7684\\nexport PATH=$JAVA_11_HOME/bin:$PATH\\n\\n# \u67E5\u770B\u6253\u5305\u62F7\u8D1D\u7684\u6A21\u5757\\n# \u5176\u4E2D\u4F1A\u53D1\u73B0\u5F88\u591A automatic \u7684\u6A21\u5757\\njava --list-modules -p target/modules/\\n\\n# \u67E5\u770B\u4E3B\u5E94\u7528 jar \u7684\u4F9D\u8D56\u8BF7\u6C42\\njdeps  --module-path target/modules/ target/modules/tools-app-1.0-SNAPSHOT.jar\\n\\n# \u751F\u6210 JDK \u5230\u8BE5\u76EE\u5F55 jdk/Contents/Home/jre\\n# add-modules \u7684\u5217\u8868\u6765\u81EA\u4E8E module-info \u7684\u5B9A\u4E49\\njlink --strip-debug --compress 2 \\\\\\n    --no-header-files --no-man-pages \\\\\\n    --output jdk/Contents/Home/jre \\\\\\n    -p $PWD/target/modules \\\\\\n    --add-modules javafx.controls,javafx.fxml,com.google.common,com.github.javaparser.core,com.github.javaparser.symbolsolver.logic,com.github.javaparser.symbolsolver.model,me.wener.tools.core\\n```\\n\\n\u4F46\u5728\u751F\u6210 JDK \u65F6\u4F1A\u53D1\u73B0\u5F02\u5E38\\n\\n```\\nError: automatic module cannot be used with jlink: com.github.javaparser.symbolsolver.logic from xxx.jar\\n```\\n\\n\u5F02\u5E38\u7684\u539F\u56E0\u662F jlink \u4E0D\u652F\u6301 automatic \u7684\u6A21\u5757\uFF0C\u6240\u8C13 automatic \u6A21\u5757\uFF0C\u6307\u7684\u662F\u6CA1\u6709 module-info \u7684\u6A21\u5757\uFF0C\u4F46\u5728 jar \u7684 `META-INF/MANIFEST.MF` \u4E2D\u5B9A\u4E49\u4E86 `Automatic-Module-Name` \u4FE1\u606F\u3002\\n\\n\u9488\u5BF9\u8FD9\u7C7B jar\uFF0C\u552F\u4E00\u80FD\u6BD4\u8F83\u597D\u7684\u5904\u7406\u65B9\u5F0F\\n\\n1. \u751F\u6210 module-info.java\\n2. \u89E3\u5305\\n3. \u7F16\u8BD1 module-info.java\\n4. \u66F4\u65B0 jar\\n\\n\u4E00\u4E0B\u4EE5 javax.inject \u4E3A\u6848\u4F8B\\n\\n```bash\\nwget http://central.maven.org/maven2/javax/inject/javax.inject/1/javax.inject-1.jar\\n\\n# \u67E5\u770B\u4F9D\u8D56\u60C5\u51B5\uFF0C\u975E\u6A21\u5757\u5316\u7684 jar \u4F9D\u8D56\u548C\u6A21\u5757\u5316 jar \u7684\u4F9D\u8D56\u73B0\u5B9E\u4E0D\u540C\\n# \u8F93\u51FA: javax.inject-1.jar -> java.base\\n# \u6A21\u5757\u5316\u7684 jar \u8F93\u51FA: javax.inject -> java.base\\njdeps javax.inject-1.jar\\n\\n\\n# \u751F\u6210 module-info.java\\njdeps --generate-open-module info javax.inject-1.jar\\n# \u89E3\u538B jar\\nunzip javax.inject-1.jar -d classes/\\n# \u7F16\u8BD1 module-info.java\\njavac -p javax.inject -d classes/ info/javax.inject/module-info.java\\n# \u66F4\u65B0 jar\\njar uf javax.inject-1.jar -C classes/ module-info.class\\n# \u518D\u6B21\u67E5\u770B\u4F9D\u8D56\\njdeps javax.inject-1.jar\\n```\\n\\n\u5176\u4E2D `info/javax.inject/module-info.java` \u7684\u5185\u5BB9\u4E3A\\n\\n```\\nopen module javax.inject {\\n}\\n```\\n\\n\u63A5\u4E0B\u6765\u7684\u4E00\u6BB5\u65F6\u95F4\u4FBF\u662F\u5C06\u6240\u6709\u7528\u5230\u7684\u4F9D\u8D56\u8FDB\u884C\u8FD9\u6837\u7684\u8F6C\u6362\uFF0C\u5176\u4E2D\u9700\u8981\u6CE8\u610F\u7684\u662F **\u95F4\u63A5\u4F9D\u8D56\u4E5F\u9700\u8981\u6A21\u5757\u5904\u7406**\u3002\u5176\u4E2D\u6700\u96BE\u5904\u7406\u7684\u662F guava\uFF0C\u56E0\u4E3A\u9700\u8981\u5C06 guava \u6A21\u5757\u5316\uFF0C\u4E5F\u9700\u8981\u5B83\u4F9D\u8D56\u7684\u6240\u6709\u6A21\u5757\u90FD\u5B58\u5728\u3002\\n\\n```\\nopen module com.google.common {\\n    requires j2objc.annotations;\\n    requires java.logging;\\n    requires jdk.unsupported;\\n    requires jsr305;\\n\\n    requires transitive error.prone.annotations;\\n\\n}\\n```\\n\\n\u56E0\u6B64\u4E3A\u4E86\u5C06 guava \u6A21\u5757\u5316\uFF0C\u9700\u8981\u4ECE maven \u4E0A\u4E0B\u8F7D\u6240\u6709\u7684\u8FD9\u4E9B jar \u5E76\u8FDB\u884C\u6A21\u5757\u5316\u3002\\n\\n\u5B8C\u6210\u6240\u6709\u7684\u6A21\u5757\u5316\u540E\uFF0C\u518D\u6B21\u901A\u8FC7 jlink \u751F\u6210 jdk \u5230 `jdk/Contents/Home/jre`\uFF0C\u4E4B\u6240\u4EE5\u751F\u6210\u5230\u8FD9\u6837\u7684\u4E00\u4E2A\u76EE\u5F55\uFF0C\u662F\u56E0\u4E3A\u5728\u5E94\u7528\u6253\u5305\u65F6\u80FD\u7B26\u5408\u9ED8\u8BA4\u7684 Java \u76EE\u5F55\u7ED3\u6784\u3002\\n\\n```bash\\n# \u4F7F\u7528\u751F\u6210\u7684 JDK \u6765\u8FD0\u884C\u5E94\u7528\\n./jdk/Contents/Home/jre/bin/java -Xmx64m --upgrade-module-path target/modules -m me.wener.tools.app\\n\\n# \u751F\u6210\u7684 JDK \u5927\u7EA6 50m - \u5BF9\u6B64\u5DF2\u7ECF\u975E\u5E38\u6EE1\u610F\u4E86\uFF0CElectron \u4E00\u822C\u90FD\u662F 100m \u5DE6\u53F3\\ndu -s jdk/\\n```\\n\\n### \u5E94\u7528\u6253\u5305\\n\\n\u5E94\u7528\u6253\u5305\u4E3B\u8981\u662F\u5C06\u73B0\u5728\u5DF2\u7ECF\u80FD\u8FD0\u884C\u7684 jdk \u73AF\u5883\u6253\u5305\u4E3A\u4E00\u4E2A macOs \u7684 app\u3002\u6253\u5305\u5668\u6709\u4E0D\u540C\u7684\u9009\u62E9\uFF0C\u4F46\u7528\u4E0B\u6765\u8FD8\u662F jar2app \u6BD4\u8F83\u597D\u7528\u3002\u5982\u679C\u9700\u8981\u6253\u5305\u5176\u5B83\u5E73\u53F0\u5E94\u7528\uFF0C\u9700\u8981\u9009\u62E9\u5176\u5B83\u5E73\u53F0\u7684\u6253\u5305\u5668\u3002\\n\\n```bash\\ngit clone https://github.com/Jorl17/jar2app\\n# jar2app \u662F Python \u811A\u672C\uFF0C\u56E0\u6B64\u9700\u8981 Python \u73AF\u5883\\n# \u6253\u5305\uFF0C\u4F7F\u7528\u81EA\u5B9A\u4E49 jdk target/jdk\\n./jar2app/jar2app ./target/modules/tools-app-1.0-SNAPSHOT.jar -r target/jdk/ -b me.wener.tools -n WenerTools -j \\"-Xmx64M --upgrade-module-path $APP_ROOT/Contents/PlugIns/jdk/modules\\"\\n\\n# \u6700\u7EC8\u6253\u5305\u540E\u7684\u5E94\u7528\u7EA6 50m\\n# 50M     WenerTools.app\\ndu -s WenerTools.app\\n\\n# \u53CC\u51FB\u542F\u52A8\u6216\u547D\u4EE4\u884C\u542F\u52A8\\nopen WenerTools.app\\n```\\n\\n\u4E00\u5207\u5927\u529F\u544A\u6210\uFF0C\u4E00\u4E2A APP \u5C31\u6B64\u8BDE\u751F\u4E86\uFF01\u5982\u679C\u8FD8\u60F3\u8981\u63D0\u4EA4\u5230 AppStore\uFF0C\u8FD9\u4E2A\u8FC7\u7A0B\u8FD8\u4F1A\u9700\u8981\u5176\u4ED6\u7684\u4E0D\u5C11\u6B65\u9AA4\uFF0C\u5728\u8FD9\u5C31\u4E0D\u8BE6\u7EC6\u8BF4\u660E\u5566\u3002\\n\\n## \u603B\u7ED3\\n\\n\u5E94\u7528\u5F00\u53D1\u8FC7\u7A0B\uFF0C\u6253\u5305\u8FC7\u7A0B\u90FD\u8FD8\u662F\u6BD4\u8F83\u6109\u5FEB\u7684\uFF0C\u6700\u56F0\u96BE\u7684\u662F\u6A21\u5757\u5316 jar \u7684\u5904\u7406\uFF0C\u56E0\u4E3A\u5F88\u591A\u6A21\u5757\u90FD\u8FD8\u6CA1\u6709 module-info.java\uFF0C\u5BFC\u81F4\u5927\u90E8\u5206\u7684 jar \u90FD\u5F97\u5148\u5904\u7406\u4E00\u904D\uFF0C\u4E0D\u8FC7\u8FD9\u4E2A\u8FC7\u7A0B\u662F\u53EF\u4EE5\u7D2F\u8BA1\u7684\uFF0C\u88AB\u5904\u7406\u8FC7\u7684 jar \u53EF\u4EE5\u88AB\u91CD\u590D\u5229\u7528\u3002\u5982\u679C\u4E0D\u9700\u8981\u914D\u5408 jlink\uFF0C\u90A3\u4E48\u662F\u4E0D\u9700\u8981\u5904\u7406\u7684\u3002\\n\\nJava 11 \u610F\u5473\u7740 Java 9\u300110\u300111 \u7684\u6240\u6709\u65B0\u7279\u6027\uFF0CJavaFX \u5F00\u53D1\u4E5F\u5F02\u5E38\u7684\u7B80\u5355\uFF0C\u6574\u4E2A\u8FC7\u7A0B\u8FD8\u662F\u5F88\u723D\u7684\uFF01"},{"id":"redis-stream-intro","metadata":{"permalink":"/story/redis-stream-intro","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2018/2018-10-25-redis-stream-intro.md","source":"@site/../story/2018/2018-10-25-redis-stream-intro.md","title":"Redis \u6D41\u7B80\u4ECB","description":"\u6982\u8FF0","date":"2018-10-25T00:00:00.000Z","tags":[{"inline":true,"label":"Java","permalink":"/story/tags/java"},{"inline":true,"label":"\u963F\u91CC","permalink":"/story/tags/\u963F\u91CC"},{"inline":true,"label":"Redis","permalink":"/story/tags/redis"}],"readingTime":9.23,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Redis \u6D41\u7B80\u4ECB","slug":"redis-stream-intro","tags":["Java","\u963F\u91CC","Redis"]},"unlisted":false,"prevItem":{"title":"Java 11 JavaFX \u7B2C\u4E00\u4E2A\u5E94\u7528","permalink":"/story/java11-javafx-first-app"},"nextItem":{"title":"Java with GraphQL","permalink":"/story/jraphql"}},"content":"## \u6982\u8FF0\\n\\n\u5BF9 Redis \u7684\u5370\u8C61\u53EF\u80FD\u5F88\u591A\u4EBA\u90FD\u8FD8\u53EA\u505C\u7559\u5728 2.8 \u7684\u9636\u6BB5\uFF0C\u4E00\u4E2A\u7ED3\u6784\u5316\u7684\u5185\u5B58\u5B58\u50A8\uFF08\u55EF\uFF0C\u597D\u50CF\u4E5F\u6CA1\u4EC0\u4E48\u95EE\u9898\uFF09\u3002\u867D\u7136\u8DDD\u79BB 4.0 \u53D1\u5E03(2017.7.14)\u5DF2\u7ECF\u4E00\u5E74\u8FC7\u53BB\u4E86\uFF0C\u4F46\u76F8\u4FE1\u5F88\u591A\u4EBA\u5DF2\u7ECF\u4E0D\u518D\u53BB\u5173\u5FC3 Redis \u7684\u65B0\u7279\u6027\u4E86\uFF0C\u56E0\u4E3A\u4ECE 2.8 \u540E\u7684 Redis \u5DF2\u7ECF\u8DB3\u591F\u597D\u7528\u4E86\u3002\u{1F604}\\n\\nRedis 3.0 \u6DFB\u52A0\u4E86\u96C6\u7FA4\u7684\u80FD\u529B\uFF0C4.0 \u6DFB\u52A0\u4E86\u6A21\u5757\u5316\u80FD\u529B\uFF0C5.0 \u6DFB\u52A0\u4E86\u6D41\u7C7B\u578B\u3002\u5982\u679C\u8BF4 3.0 \u548C 4.0 \u6DFB\u52A0\u7684\u65B0\u7279\u6027\u5BF9\u4E8E\u4E00\u822C\u7528\u6237\u6765\u8BF4\u65E0\u8DB3\u8F7B\u91CD\uFF0C\u90A3 5.0 \u65B0\u7684\u6D41\u7C7B\u578B\u5C31\u4E0D\u53EF\u5FFD\u89C6\u5566\uFF01\\n\\n\u5728\u6CA1\u6709 Stream \u7C7B\u578B\u4E4B\u524D\uFF0C\u5176\u5B9E Redis \u4E5F\u652F\u6301\u5404\u79CD\u7C7B\u4F3C\u4E8E\u6D41\u7684\u5904\u7406\u6A21\u5F0F\uFF0C\u4F8B\u5982 Fire and forget \u6A21\u5F0F\u7684 Pub/Sub\uFF0C\u963B\u585E\u961F\u5217 BLPOP\uFF0C\u65F6\u95F4\u5E8F\u5217 zsort \u5B58\u50A8\uFF0C\u7B49\u5404\u79CD\u65B9\u5F0F\u90FD\u80FD\u6A21\u62DF\u7C7B\u4F3C\u7684\u573A\u666F\uFF0C\u4F46\u5374\u90FD\u89C9\u5F97\u6709\u70B9\u6B20\u7F3A\uFF0C\u7EC8\u4E8E\uFF0C\u6D41\u7C7B\u578B\u6210\u529F\u7684\u89E3\u51B3\u4E86\u4EE5\u4E0A\u6240\u6709\u95EE\u9898\uFF0C\u5E76\u80FD\u652F\u6301\u5176\u4ED6\u7684\u5E38\u89C1\u4F7F\u7528\u573A\u666F\u3002\\n\\n\u8BF4\u5230\u6D41\u6D88\u606F\u5C31\u4E0D\u5F97\u4E0D\u8BF4\u5230 Kafka \u5566\uFF0C\u6211\u76F8\u4FE1\u5927\u5BB6\u5E94\u8BE5\u90FD\u542C\u8BF4\u8FC7\u6D88\u606F\u4E2D\u95F4\u4EF6 Kafka\uFF0C\u81F3\u4E8E RocketMQ \u6216\u8005 MetaQ \u5C31\u4E0D\u518D\u8D58\u8FF0\u4ED6\u4EEC\u4E0E Kafka \u7684\u5173\u7CFB\u5566\uFF0CRedis \u4F5C\u8005\u5728\u5B9E\u73B0\u6D41\u7C7B\u578B\u65F6\u5927\u91CF\u53C2\u8003\u4E86 Kafka \u4E2D\u7684\u6982\u5FF5\uFF0C\u4F8B\u5982\u6D88\u8D39\u6A21\u578B\uFF0C\u6D41\u6D88\u606F\u7684\u6982\u5FF5\u3002\u5F53\u7136\u6240\u6709\u7684\u53C2\u8003\u53EA\u5C40\u9650\u4E8E Kafka \u7684\u6587\u6863\uFF0C\u4E0E Kafka \u7684\u4EE3\u7801\u5B9E\u73B0\u6CA1\u6709\u4EFB\u4F55\u5173\u7CFB\u54E6\u3002\\n\\n\u5FC3\u52A8\u4E0D\u5982\u5FC3\u52A8\uFF0C\u90A3\u5148\u4E00\u7779\u4E3A\u5FEB\u5427\u3002\\n\\n\x3c!-- more --\x3e\\n\\n## \u73AF\u5883\u51C6\u5907\\n\\n\u5982\u679C\u4F60\u662F macOs \u7528\u6237\uFF0C\u5E76\u4E14\u5B89\u88C5\u4E86 brew\uFF08\u5982\u679C\u6CA1\u6709\u5B89\u88C5\uFF0C\u90A3\u5EFA\u8BAE\u5148\u5B89\u88C5 `/usr/bin/ruby -e \\"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\\"`\uFF09\uFF0C\u90A3\u4E48\u53EA\u9700\u8981\\n\\n```bash\\nbrew install redis\\n```\\n\\n\u5373\u53EF\uFF0C\u5982\u679C\u4F60\u662F\u975E macOs \u7528\u6237\uFF0C\u90A3\u8981\u561B\u8003\u8651\u6362 mac\uFF0C\u8981\u561B\u4F7F\u7528 docker \u542F\u52A8\\n\\n```bash\\ndocker run --rm -it -p 6379:6379 -v $PWD:/data --name redis redis:alpine\\n# \u9898\u5916\u8BDD: \u4F7F\u7528 alpine \u66F4\u5C0F\u66F4\u7701\u5FC3\uFF0C\u5F3A\u70C8\u63A8\u8350\uFF0C\u6709\u4EFB\u4F55\u4F7F\u7528\u95EE\u9898\u90FD\u53EF\u4EE5\u4EA4\u6D41\u54E6\uFF0C\u81F3\u4E8E\u6709\u591A\u597D\uFF0C\u5728\u8FD9\u91CC\u6015\u662F\u8BF4\u4E0D\u5B8C\u3002\\n\\n# \u9A8C\u8BC1\u5B89\u88C5\u7684\u7248\u672C\\ndocker exec redis redis-cli info server\\n# \u5BA2\u6237\u7AEF\u94FE\u63A5\\ndocker exec -it redis redis-cli\\n```\\n\\n\u4E00\u5207\u51C6\u5907\u5C31\u7EEA\uFF0C\u5C31\u5F00\u59CB\u5B9E\u8DF5\u5427\u3002\u65E2\u7136\u6D41\u662F\u65B0\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u90A3\u6211\u4EEC\u5C31\u5148\u4ECE\u652F\u6301\u7684\u64CD\u4F5C\u5F00\u59CB\u5427\u3002\\n\\n## \u547D\u4EE4\u5217\u8868\\n\\nStream \u7C7B\u578B\u4E00\u5171\u652F\u6301 13 \u4E2A[\u547D\u4EE4](https://redis.io/commands#stream)\uFF0C\u8FD9\u91CC\u7B80\u5355\u5217\u4E3E\u4E00\u4E0B\u652F\u6301\u7684\u547D\u4EE4\u3002\\n\\n| \u547D\u4EE4       | \u529F\u80FD\u6982\u8FF0                                         |\\n| ---------- | ------------------------------------------------ |\\n| xinfo      | \u83B7\u53D6\u6D88\u8D39\u8005\uFF0C\u5206\u7EC4\u548C\u6D41\u4FE1\u606F                         |\\n| xadd       | \u6DFB\u52A0\u6D88\u606F\u5230\u6D41                                     |\\n| xtrim      | \u5C06\u6D41\u91CD\u7F6E\u4E3A\u6307\u5B9A\u5927\u5C0F                               |\\n| xdel       | \u901A\u8FC7 ID \u5220\u9664                                     |\\n| xrange     | \u8FD4\u56DE\u8303\u56F4\u5185\u7684\u6D88\u606F\uFF0C\u7279\u6B8A\u8D77\u59CB + -                   |\\n| xrevrange  | \u4E0E xrange \u76F8\u540C\uFF0C\u4F46\u8FD4\u56DE\u987A\u5E8F\u76F8\u53CD                   |\\n| xlen       | \u83B7\u53D6\u6D41\u957F\u5EA6                                       |\\n| xread      | \u4ECE\u6D41\u4E2D\u6307\u5B9A id \u5F00\u59CB\u8BFB\u53D6\u6307\u5B9A\u91CF\u6D88\u606F\uFF0C\u53EF\u9009\u62E9\u963B\u585E\u8FD4\u56DE |\\n| xgroup     | \u7BA1\u7406\u6D88\u8D39\u7EC4                                       |\\n| xreadgroup | \u4EE5\u8BA2\u9605\u7EC4\u6210\u5458\u7684\u8EAB\u4EFD\u8BFB\u53D6\u6D41\u6D88\u606F - \u5373\u8BA2\u9605/\u6D88\u8D39\u6D88\u606F   |\\n| xack       | \u54CD\u5E94\u6D88\u606F\u88AB\u6B63\u786E\u5904\u7406                               |\\n| xpending   | \u67E5\u8BE2\u6B63\u5728\u5904\u7406\u4E2D\u7684\u6D88\u606F - \u5C1A\u672A ACK \u7684\u6D88\u606F           |\\n| xclaim     | \u83B7\u53D6\u6B63\u5728\u5904\u7406\u4E2D\u7684\u6D88\u606F                             |\\n\\n\u5728\u5F00\u59CB\u4E4B\u524D\uFF0C\u7B80\u5355\u6982\u8FF0\u4E00\u4E0B\u4F7F\u7528\u8FC7\u7A0B\u4E2D\u9700\u8981\u6CE8\u610F\u7684\u70B9\\n\\n1. \u6D41\u6D88\u606F\u5185\u5BB9\u662F\u5B57\u5178 - \u5373 KV \u7ED3\u6784\\n2. \u6BCF\u4E2A\u6D88\u606F\u6709\u4E00\u4E2A ID - 128bit - \u7531\u65F6\u95F4\u6233\u548C\u5E8F\u5217\u53F7\u7EC4\u6210\\n3. \u63D2\u5165\u6D88\u606F\u65F6\u4F7F\u7528 `*` \u4F5C\u4E3A ID \u5219\u662F\u7531\u670D\u52A1\u7AEF\u751F\u6210 ID\\n4. ID \u5FC5\u987B\u9012\u589E\\n5. `-`/`+` \u5206\u522B\u8868\u793A\u6700\u5C0F\u548C\u6700\u5927\u6D88\u606F ID\\n6. `$` \u8868\u793A\u6700\u65B0\u7684\u6D88\u606F\u4F4D\u7F6E\uFF0C\u5728\u521B\u5EFA\u6D88\u8D39\u7EC4\u65F6\u4F7F\u7528\\n7. `>` \u8868\u793A\u6700\u65B0\u6D88\u8D39\u7684\u6D88\u606F\u4F4D\u7F6E\uFF0C\u5728\u6D88\u8D39\u6D88\u606F\u65F6\u4F7F\u7528\\n\\n## \u547D\u4EE4\u4EA4\u4E92\\n\\n```bash\\n# \u5F80\u6D41\u4E2D\u6DFB\u52A0\u6D88\u606F - \u4F1A\u8FD4\u56DE\u6D88\u606F ID\\n# \u624B\u52A8\u6307\u5B9A ID\\nxadd s 1-0 name wener age 18\\nxadd s 1-1 name wen age 17\\n# \u7531\u670D\u52A1\u7AEF\u751F\u6210\u6D88\u606F ID\\nxadd s * name xx age 16\\n# \u8FD4\u56DE\u6240\u6709\u6D88\u606F\\nxrange s - +\\n# \u8FD4\u56DE\u7B2C\u4E00\u6761\\nxrange s - + count 1\\n# \u8FD4\u56DE\u6700\u540E\u4E00\u6761\\nxrevrange s + - count 1\\n# \u8FD4\u56DE\u6D88\u606F\u957F\u5EA6\\nxlen s\\n\\n# \u8BFB\u7B2C\u4E00\u6761\u6D88\u606F\\nxread count 1 streams s1 0-0\\n# \u8BFB\u53D6\u7B2C\u4E8C\u6761 - \u6307\u5B9A\u7684\u6D88\u606F ID \u662F 1-0 \uFF0C\u4F1A\u8FD4\u56DE\u8FD9\u4E2A ID \u4E4B\u540E\u7684\u6D88\u606F\\nxread count 1 streams s1 1-0\\n\\n# \u6A21\u62DF\u6D88\u606F\u7684 Roling \u5904\u7406\\n# ------\\ndel s\\n# \u5728\u63D2\u5165\u6D88\u606F\u65F6\uFF0C\u53EF\u9650\u5236\u6D88\u606F\u7684\u6700\u5927\u957F\u5EA6\uFF0C\u7C7B\u4F3C\u4E8E rolling \u65E5\u5FD7\u6587\u4EF6\u7684\u903B\u8F91\\n# \u903B\u8F91\u7B49\u540C\u4E8E\u5148 add \u518D trim\\n# \u63D2\u5165\u65F6\u9650\u5236\u6700\u5927\u957F\u5EA6 2\\nxadd s MAXLEN 2 * ts 1\\nxadd s MAXLEN 2 * ts 2\\nxadd s MAXLEN 2 * ts 3\\nxadd s MAXLEN 2 * ts 4\\n# \u6D41\u4E2D\u53EA\u4F1A\u6709 3 4 \u8FD9\u4E24\u6761\u6D88\u606F\\nxrange s - +\\n\\n# \u6D88\u8D39\u7EC4\\n# ======\\n# \u91CD\u7F6E\u6D41\u5185\u5BB9\\ndel s\\n# \u521B\u5EFA\u6D88\u8D39\u7EC4 g1 \u5E76\u5C06\u6D88\u8D39\u4F4D\u7F6E\u7F6E\u4E3A\u6700\u65B0\u6D88\u606F\u4F4D\u7F6E $\\n# \u56E0\u4E3A s \u4E0D\u5B58\u5728\uFF0C\u6307\u5B9A MKSTREAM \u4F1A\u81EA\u52A8\u521B\u5EFA\u4E00\u4E2A\u7A7A\u7684\u6D41 s\\nxgroup create s g1 $ MKSTREAM\\n# \u6DFB\u52A0\u65B0\u7684\u6D88\u606F\\nxadd s 1-1 name zz age 16\\n# \u4F1A\u8FD4\u56DE\u6700\u65B0\u63D2\u5165\u7684\u6D88\u606F\uFF0C\u5F53\u524D\u6D88\u8D39\u8005\u4E3A c1\\nxreadgroup group g1 c1 count 1 streams s >\\n# \u5F53\u6D88\u606F\u5904\u7406\u5B8C\u6210\u540E\u5BF9\u670D\u52A1\u7AEF\u8FDB\u884C\u54CD\u5E94\\nxack s g1 1-1\\n\\n# \u6A21\u62DF\u6D88\u606F\u5904\u7406\u5931\u8D25\u573A\u666F\\n# ------\\n# \u6DFB\u52A0\u65B0\u7684\u6D88\u606F\\nxadd s 1-2 name aa age 16\\n# \u7531 c2 \u6D88\u8D39\\nxreadgroup group g1 c2 count 1 streams s >\\n# \u4F46\u5728\u5904\u7406\u8FC7\u7A0B\u4E2D\u5F02\u5E38\uFF0C\u672A ACK\uFF0C\u6B64\u65F6\u901A\u8FC7 pending \u67E5\u770B c2 \u5806\u79EF\u7684\u6D88\u606F\\nxpending s g1 - + 1 c2\\n# c1 \u6709\u80FD\u529B\u5904\u7406\uFF0C\u56E0\u6B64\u53EF\u4EE5\u5C06 c2 \u5904\u7406\u5931\u8D25\u7684\u6D88\u606F\u62FF\u8FC7\u6765\u5904\u7406\\n# retrycount \u7531\u5E94\u7528\u81EA\u5DF1\u7EF4\u62A4\uFF0C\u8BB0\u5F55\u91CD\u8BD5\u6B21\u6570\\n# 500 \u4E3A\u8868\u793A\u8BE5\u6D88\u606F\u7684\u5904\u7406\u65F6\u95F4\u8D85\u8FC7 500ms \u624D\u80FD\u201C\u62FF\u201D\u8FC7\u6765\\nxclaim s g1 c1 500 1-2 retrycount 2\\n# c1 \u6210\u529F\u5904\u7406\u8BE5\u6D88\u606F\\nxack s g1 1-2\\n```\\n\\nStream \u7684\u64CD\u4F5C\u76F8\u5F53\u7B80\u4ECB\uFF0C\u80FD\u5B9E\u73B0\u4EC0\u4E48\u6837\u7684\u529F\u80FD\u4E3B\u8981\u53D6\u51B3\u4E8E\u4E1A\u52A1\u7684\u8BBE\u8BA1\u3002\u4F7F\u7528 cli \u5B8C\u6210\u4E86\u57FA\u672C\u7684\u64CD\u4F5C\u518D\u6765\u770B\u770B Java \u7684\u64CD\u4F5C\u5427\u3002\\n\\n## Java \u4EA4\u4E92\\n\\n[lettuce](https://github.com/lettuce-io/lettuce-core) \u662F\u4E00\u4E2A\u57FA\u4E8E Netty \u7684\u5F02\u6B65 Redis \u5BA2\u6237\u7AEF\uFF0C\u5728\u6700\u65B0\u7248\u4E2D\u652F\u6301\u4E86 Stream \u7684\u64CD\u4F5C\u3002\\n\\n**\u751F\u4EA7\u548C\u6D88\u8D39**\\n\\n```java\\npublic void stream() throws InterruptedException {\\n    RedisClient client = RedisClient.create(\\"redis://localhost\\");\\n    StatefulRedisConnection<String, String> connection = client.connect();\\n    // \u6D41\u7684\u540D\u5B57\\n    String streamName = \\"s\\";\\n    // \u6D88\u8D39\u7EC4\u540D\\n    String groupName = \\"g1\\";\\n\\n    AtomicInteger counter = new AtomicInteger();\\n    // \u603B\u6D88\u606F\u91CF\\n    long total = 1000000;\\n    // \u5E76\u53D1\u751F\u4EA7\\n    int producerCount = 2;\\n    // \u5E76\u53D1\u6D88\u8D39\\n    int consumerCount = 4;\\n    for (int i = 0; i < producerCount; i++) {\\n        int id = i;\\n        CompletableFuture.runAsync(() -> {\\n            String name = \\"producer.\\" + id;\\n            StatefulRedisConnection<String, String> connect = client.connect();\\n            while (true) {\\n                int n = counter.incrementAndGet();\\n                if (n > total) {\\n                    return;\\n                }\\n                // \u540C\u6B65\u751F\u4EA7\\n                Timer.Context context = metrics.timer(name).time();\\n                connect\\n                        .sync()\\n                        .xadd(streamName, \\"ts\\", String.valueOf(System.currentTimeMillis()), \\"i\\", String.valueOf(n))\\n                ;\\n                context.close();\\n            }\\n        });\\n    }\\n\\n    for (int i = 0; i < consumerCount; i++) {\\n        StatefulRedisConnection<String, String> connect = client.connect();\\n\\n        // \u6D88\u8D39\u7684\u4E0A\u4E0B\u6587\\n        ConsumerContext c = new ConsumerContext();\\n        c\\n                .setConnection(connect)\\n                .setConsumer(Consumer.from(groupName, \\"c\\" + i))\\n                .setStreamName(streamName)\\n                .setGroupName(groupName)\\n                .setName(\\"consumer.\\" + i)\\n                .setXReadArgs(XReadArgs.Builder.block(Duration.ofSeconds(5)))\\n                .setXreadLastOffset(XReadArgs.StreamOffset.lastConsumed(streamName))\\n        ;\\n        // \u5F02\u6B65\u6D88\u8D39\\n        consume(c);\\n    }\\n\\n    Thread.sleep(Duration.ofMinutes(10).toMillis());\\n}\\n\\n\\nprivate CompletionStage<?> consume(ConsumerContext c) {\\n    Timer.Context context = metrics.timer(c.name).time();\\n    return c.connection\\n            .async()\\n            .xreadgroup(c.consumer, c.xReadArgs, c.xreadLastOffset)\\n            // \u6D88\u606F\u5904\u7406\\n            .thenCompose(v -> {\\n                context.close();\\n                if (v.isEmpty()) {\\n                    metrics.meter(c.name + \\".empty\\").mark();\\n                    return CompletableFuture.completedFuture(null);\\n                }\\n                StreamMessage<String, String> message = v.get(0);\\n\\n                // \u8F93\u51FA\u4E00\u5B9A\u65E5\u5FD7\u91CF\\n                if (ThreadLocalRandom.current().nextDouble() < 0.01) {\\n                    log.info(\\"[{}] {}\\", c.name, message.getBody());\\n                }\\n\\n                // \u6210\u529F\u5904\u7406\\n                return c.connection.async().xack(c.streamName, c.groupName, message.getId());\\n            })\\n            // \u5F02\u5E38\u5904\u7406\\n            .exceptionally(e -> {\\n                metrics.meter(c.name + \\".error\\").mark();\\n                return null;\\n            })\\n            // \u5FAA\u73AF - \u6CA1\u6709\u63A8\u51FA\u903B\u8F91\\n            .thenCompose((v) -> consume(c));\\n}\\n\\n\\n@Data\\n@Accessors(chain = true)\\npublic static class ConsumerContext {\\n    String name;\\n    String streamName;\\n    String groupName;\\n    Consumer<String> consumer;\\n\\n    StatefulRedisConnection<String, String> connection;\\n\\n    XReadArgs.StreamOffset<String> xreadLastOffset;\\n\\n    XReadArgs xReadArgs;\\n}\\n```\\n\\n**\u5904\u7406\u672A\u6210\u529F\u7684\u6D88\u606F**\\n\\n\u540C\u6B65\u64CD\u4F5C\uFF0C\u903B\u8F91\u76F8\u5BF9\u6E05\u6670\\n\\n```java\\npublic void testClaimPendingSingleThreadSync() {\\n    RedisClient client = RedisClient.create(\\"redis://localhost\\");\\n    StatefulRedisConnection<String, String> connection = client.connect();\\n    String streamName = \\"s\\";\\n    String groupName = \\"g1\\";\\n\\n    RedisCommands<String, String> sync = connection.sync();\\n    Consumer<String> consumer = Consumer.from(groupName, \\"c1\\");\\n    Range<String> fullRange = Range.create(\\"-\\", \\"+\\");\\n\\n    while (true) {\\n        try (Timer.Context ignored = metrics.timer(consumer.getName() + \\".pending\\").time()) {\\n            PendingResult result = PendingResult.of(sync.xpending(streamName, consumer, fullRange, Limit.from(1)));\\n\\n            if (!result.hasPending()) {\\n                break;\\n            }\\n\\n            List<StreamMessage<String, String>> list = sync.xclaim(\\n                    streamName,\\n                    consumer,\\n                    new XClaimArgs().minIdleTime(500).retryCount(result.getDeliverCount() + 1),\\n                    result.getMessageId()\\n            );\\n            if (list.isEmpty()) {\\n                continue;\\n            }\\n            StreamMessage<String, String> message = list.get(0);\\n            if (ThreadLocalRandom.current().nextDouble() < 0.001) {\\n                log.info(\\"[{}] {}\\", consumer.getName(), message.getBody());\\n            }\\n            sync.xack(streamName, groupName, message.getId());\\n        }\\n    }\\n}\\n\\n/**\\n * Pending \u8FD4\u56DE\u7684\u7ED3\u679C\u5904\u7406\\n */\\ninterface PendingResult {\\n    static PendingResult of(List<Object> v) {\\n        return () -> v;\\n    }\\n\\n    List<Object> getResult();\\n\\n    default boolean hasPending() {\\n        List<Object> result = getResult();\\n        if (result != null && !result.isEmpty()) {\\n            List list = (List) result.get(0);\\n            return !list.isEmpty() && list.get(0) != null;\\n        }\\n        return false;\\n    }\\n\\n    default String getMessageId() {\\n        return String.valueOf(((List) getResult().get(0)).get(0));\\n    }\\n\\n    default String getConsumer() {\\n        return String.valueOf(((List) getResult().get(0)).get(1));\\n    }\\n\\n    default long getElapseTime() {\\n        return ((Number) ((List) getResult().get(0)).get(2)).longValue();\\n    }\\n\\n    default long getDeliverCount() {\\n        return ((Number) ((List) getResult().get(0)).get(3)).longValue();\\n    }\\n}\\n\\n```\\n\\n\u67D0\u6B21\u7684\u6027\u80FD\u7EDF\u8BA1\\n\\n```\\nJava CPU 70%\\nc1.pending\\n             count = 769903\\n         mean rate = 3360.66 calls/second\\n     1-minute rate = 3267.08 calls/second\\n     5-minute rate = 2855.18 calls/second\\n    15-minute rate = 2538.15 calls/second\\n               min = 0.22 milliseconds\\n               max = 1.80 milliseconds\\n              mean = 0.30 milliseconds\\n            stddev = 0.13 milliseconds\\n            median = 0.26 milliseconds\\n              75% <= 0.32 milliseconds\\n              95% <= 0.49 milliseconds\\n              98% <= 0.65 milliseconds\\n              99% <= 0.88 milliseconds\\n            99.9% <= 1.66 milliseconds\\n```\\n\\n**\u5904\u7406\u672A\u6210\u529F\u7684\u6D88\u606F**\\n\\n\u5F02\u6B65\u64CD\u4F5C\uFF0C\u903B\u8F91\u76F8\u5BF9\u4E0D\u90A3\u4E48\u6E05\u6670\uFF5E\\n\\n```java\\npublic void testClaimPendingSingleThreadAsync() throws ExecutionException, InterruptedException {\\n    RedisClient client = RedisClient.create(\\"redis://localhost\\");\\n    StatefulRedisConnection<String, String> connection = client.connect();\\n    String streamName = \\"s\\";\\n    String groupName = \\"g1\\";\\n\\n    RedisAsyncCommands<String, String> async = connection.async();\\n    Consumer<String> consumer = Consumer.from(groupName, \\"c2\\");\\n    Range<String> fullRange = Range.create(\\"-\\", \\"+\\");\\n\\n    AtomicReference<Supplier<CompletionStage<?>>> process = new AtomicReference<>();\\n    AtomicReference<Timer.Context> context = new AtomicReference<>();\\n    // \u4E00\u6B21\u5904\u7406\\n    process.set(() -> {\\n        context.set(metrics.timer(consumer.getName() + \\".process\\").time());\\n        return async\\n                .xpending(streamName, consumer, fullRange, Limit.from(1))\\n                .thenCompose(v -> {\\n                    PendingResult result = PendingResult.of(v);\\n                    if (!result.hasPending()) {\\n                        throw new RuntimeException(\\"DONE\\");\\n                    }\\n\\n                    return async.xclaim(\\n                            streamName,\\n                            consumer,\\n                            new XClaimArgs().minIdleTime(500).retryCount(result.getDeliverCount() + 1),\\n                            result.getMessageId()\\n                    );\\n                })\\n                .thenCompose(list -> {\\n                    StreamMessage<String, String> message = list.get(0);\\n                    if (ThreadLocalRandom.current().nextDouble() < 0.001) {\\n                        log.info(\\"[{}] {}\\", consumer.getName(), message.getBody());\\n                    }\\n                    return async.xack(streamName, groupName, message.getId());\\n                })\\n                .thenCompose(v -> {\\n                    context.get().close();\\n                    return process.get().get();\\n                });\\n    });\\n    // \u5FAA\u73AF\\n    process.get()\\n            .get()\\n            .whenComplete((v, e) -> {\\n                if (e != null) {\\n                    e.printStackTrace();\\n                }\\n                log.info(\\"Complete\\");\\n            })\\n            .toCompletableFuture()\\n            .get();\\n}\\n```\\n\\n\u4F46\u6027\u80FD\u4F1A\u6BD4\u540C\u6B65\u64CD\u4F5C\u7684\u6027\u80FD\u8981\u597D\u5462\uFF0CJava \u7684 CPU \u4E5F\u6BD4\u540C\u6B65\u7684\u66F4\u4F4E\\n\\n```\\nJava CPU 50%\\nredis-server CPU 50%\\nc2.process\\n            count = 879207\\n        mean rate = 5145.76 calls/second\\n    1-minute rate = 5128.23 calls/second\\n    5-minute rate = 3779.55 calls/second\\n15-minute rate = 3132.92 calls/second\\n            min = 0.14 milliseconds\\n            max = 0.81 milliseconds\\n            mean = 0.18 milliseconds\\n        stddev = 0.06 milliseconds\\n        median = 0.16 milliseconds\\n            75% <= 0.19 milliseconds\\n            95% <= 0.29 milliseconds\\n            98% <= 0.34 milliseconds\\n            99% <= 0.40 milliseconds\\n        99.9% <= 0.81 milliseconds\\n```\\n\\n## \u603B\u7ED3\\n\\n\u5F53\u4EC0\u4E48\u65F6\u5019\u9009\u62E9 Redis \u7684\u6D41\u5462\uFF1F\\n\\n1. \u5185\u5B58\u5B58\u50A8\u6EE1\u8DB3\u9700\u6C42\\n2. \u901F\u5EA6\u8981\u6C42\u9AD8\\n3. \u80FD\u63A5\u6536 Redis \u7684\u6301\u4E45\u5316\u4FDD\u969C - \uFF08\u4FDD\u969C\u662F\u4E0D\u4E00\u5B9A\u6301\u4E45 \u{1F604}\uFF09\\n\\n\u5408\u7406\u7684\u5E94\u7528\u4E5F\u662F\u9700\u8981\u5408\u7406\u7684\u573A\u666F\u3002\\n\\n\u6D41\u603B\u7684\u6765\u8BF4\u8FD8\u662F\u5F88\u4E0D\u9519\u7684\uFF0C\u8FD8\u6709\u5F88\u591A\u53EF\u80FD\u4F7F\u7528\u7684\u573A\u666F\u5728\u8FD9\u91CC\u4E0D\u505A\u4E00\u4E00\u8D58\u8FF0\uFF0C\u6D41\u7684\u5185\u90E8\u5B9E\u73B0\u4E5F\u662F\u975E\u5E38\u7684\u6709\u610F\u601D\u7684\uFF0C\u7B49\u6709\u65F6\u95F4\u518D\u505A\u53E6\u5916\u7684\u4E00\u4E2A\u5206\u4EAB\u3002\u6B64\u5916 Redis 4 \u7684 Module \u4E5F\u662F\u975E\u5E38\u6709\u9B45\u529B\uFF0C\u4F8B\u5982\u751A\u81F3\u53EF\u4EE5\u7528 [Golang](https://github.com/wenerme/go-rm) \u6765\u5B9E\u73B0\u6A21\u5757\u6DFB\u52A0\u65B0\u7684\u547D\u4EE4\u529F\u80FD\uFF0C\u55EF\u55EF\uFF0C\u673A\u4F1A\u591A\u591A\u3002"},{"id":"jraphql","metadata":{"permalink":"/story/jraphql","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/project/jraphql.md","source":"@site/../story/project/jraphql.md","title":"Java with GraphQL","description":"","date":"2018-05-21T00:00:00.000Z","tags":[{"inline":true,"label":"\u9879\u76EE","permalink":"/story/tags/\u9879\u76EE"},{"inline":true,"label":"Java","permalink":"/story/tags/java"},{"inline":true,"label":"GraphQL","permalink":"/story/tags/graph-ql"}],"readingTime":0.04,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Java with GraphQL","slug":"jraphql","date":"2018-05-21T00:00:00.000Z","tags":["\u9879\u76EE","Java","GraphQL"],"baseUrl":"https://github.com/wenerme/jraphql/tree/master/"},"unlisted":false,"prevItem":{"title":"Redis \u6D41\u7B80\u4ECB","permalink":"/story/redis-stream-intro"},"nextItem":{"title":"Google API Design Guide","permalink":"/story/google-api-design-guide"}},"content":"\x3c!--import(https://raw.githubusercontent.com/wenerme/jraphql/master/README.md)--\x3e"},{"id":"google-api-design-guide","metadata":{"permalink":"/story/google-api-design-guide","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2017/2017-11-24-google-api-design-guide.md","source":"@site/../story/2017/2017-11-24-google-api-design-guide.md","title":"Google API Design Guide","description":"Google API Design Guide","date":"2017-11-24T00:00:00.000Z","tags":[],"readingTime":9.64,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"google-api-design-guide","title":"Google API Design Guide"},"unlisted":false,"prevItem":{"title":"Java with GraphQL","permalink":"/story/jraphql"},"nextItem":{"title":"Ubuntu \u5BB6\u7528","permalink":"/story/ubuntu-home"}},"content":"## Google API Design Guide\\n\\n- [API Design Guide](https://cloud.google.com/apis/design/)\\n\\n### \u9762\u5411\u8D44\u6E90\u8BBE\u8BA1\\n\\n- \u8BBE\u8BA1\u6D41\u7A0B\\n  - \u786E\u5B9A APi \u63D0\u4F9B\u7684\u8D44\u6E90\u7C7B\u578B\\n  - \u786E\u5B9A\u8D44\u6E90\u4E4B\u95F4\u7684\u5173\u7CFB\\n  - \u51B3\u5B9A\u8D44\u6E90\u7684\u540D\u5B57\u683C\u5F0F, \u57FA\u4E8E\u7C7B\u578B\u548C\u5173\u7CFB\\n  - \u51B3\u5B9A\u8D44\u6E90\u7684\u683C\u5F0F\\n  - \u4E3A\u8D44\u6E90\u6DFB\u52A0\u6700\u4F4E\u9650\u5EA6\u7684\u65B9\u6CD5\\n- \u8D44\u6E90\\n  - \u96C6\u5408\\n  - \u8D44\u6E90\\n- \u65B9\u6CD5\\n\\n### \u8D44\u6E90\u540D\u5B57\\n\\n- \u57FA\u672C\u6982\u5FF5\\n  - \u8D44\u6E90\u662F\u88AB\u547D\u540D\u7684\u5B9E\u4F53\\n  - \u8D44\u6E90\u540D\u5373\u4E3A\u5176\u6807\u8BC6\u7B26\\n  - \u6BCF\u4E2A\u8D44\u6E90\u5FC5\u987B\u6709\u5176\u552F\u4E00\u7684\u8D44\u6E90\u540D\\n  - \u8D44\u6E90\u540D\u7531 \u8D44\u6E90 ID, \u7236\u8D44\u6E90 ID \u548C\u670D\u52A1\u540D\\n  - gRPC \u8D44\u6E90\u540D\u5E94\u8BE5\u4F7F\u7528 scheme-less \u7684 URI\\n  - \u96C6\u5408\u4E3A\u7279\u6B8A\u7684\u8D44\u6E90, \u5305\u542B\u4E00\u5217\u76F8\u540C\u7C7B\u578B\u7684\u5B50\u8D44\u6E90\\n  - \u96C6\u5408\u8D44\u6E90\u7684 ID \u4E3A \u96C6\u5408 ID\\n- \u5B8C\u6574\u8D44\u6E90\u540D\\n  - `//library.googleapis.com/shelves/shelf1/books/book2`\\n- \u76F8\u5BF9\u8D44\u6E90\u540D\\n  - \u76F8\u5BF9\u4E8E\u670D\u52A1\\n  - `shelves/shelf1/books/book2`\\n- \u8D44\u6E90 ID\\n  - \u8D44\u6E90\u540D\u4E2D\u7684\u8D44\u6E90 ID \u53EF\u80FD\u4F1A\u6709\u8D85\u8FC7\u4E00\u4E2A\u7684 URI segment\\n  - \u670D\u52A1\u5E94\u8BE5\u4F7F\u7528 URL \u53CB\u597D\u7684\u8D44\u6E90 ID\\n  - \u5FC5\u987B\u8981\u660E\u786E\u8D44\u6E90 ID \u662F\u7531\u5BA2\u6237\u7AEF\u6307\u5B9A,\u670D\u52A1\u6307\u5B9A\u6216\u90FD\u53EF\u4EE5\\n    - \u4F8B\u5982\u6587\u4EF6\u540D\u901A\u5E38\u7531\u5BA2\u6237\u7AEF\u6307\u5B9A\\n    - \u6709\u9650 ID \u901A\u5E38\u7531\u670D\u52A1\u7AEF\u6307\u5B9A\\n  - Collection ID -> `files`\\n  - Resource ID -> `/source/py/parser.py`\\n- \u96C6\u5408 ID\\n  - \u5FC5\u987B\u662F\u6709\u6548\u7684 C/C++ \u6807\u8BC6\u7B26\\n  - \u5FC5\u987B\u662F\u8D1F\u6570\u7684 `lowerCamel` \u5F62\u5F0F\\n    - \u5982\u679C\u6CA1\u6709\u5408\u9002\u7684\u8D1F\u6570\u5F62\u5F0F, \u90A3\u4E48\u5E94\u8BE5\u4F7F\u7528\u5355\u6570\u5F62\u5F0F, \u4F8B\u5982 `evidence`,`weather`\\n  - \u5FC5\u987B\u4F7F\u7528\u660E\u786E\u7B80\u6D01\u7684\u82F1\u8BED\u8BCD\u6C47\\n  - \u901A\u7528\u7684\u8BCD\u6C47\u5E94\u8BE5\u907F\u514D\u4F7F\u7528\u6216\u52A0\u9650\u5B9A\u7B26\\n    - `values` -> `rowValues`\\n    - \u5E94\u8BE5\u907F\u514D\u76F4\u63A5\u4F7F\u7528\u7684\u8BCD\u6C47\\n      - elements\\n      - entries\\n      - instances\\n      - items\\n      - objects\\n      - resources\\n      - types\\n      - values\\n- \u8D44\u6E90\u540D vs URL\\n  - \u5728 REST API \u4F7F\u7528\u65F6, \u5E94\u8BE5\u8F6C\u6362\u4E3A\u76F8\u5E94\u7684 URL \u683C\u5F0F\\n  - \u6DFB\u52A0\u7248\u672C\u53F7\u548C Schema\\n  - \u8D44\u6E90\u540D -> `//calendar.googleapis.com/users/john smith/events/123`\\n  - URL -> `https://calendar.googleapis.com/v3/users/john%20smith/events/12`\\n- \u8D44\u6E90\u540D\u4F5C\u4E3A\u5B57\u7B26\u4E32\\n  - \u8D44\u6E90\u540D\u5FC5\u987B\u80FD\u88AB\u5448\u73B0\u4E3A\u5B57\u7B26\u4E32\\n  - \u8D44\u6E90\u540D\u5E94\u8BE5\u80FD\u50CF\u6587\u4EF6\u540D\u4E00\u6837\u88AB\u5904\u7406, \u4E0D\u652F\u6301\u767E\u5206\u53F7\u7F16\u7801\\n  - \u5BF9\u4E8E\u8D44\u6E90\u5B9A\u4E49, \u7B2C\u4E00\u4E2A\u5B57\u6BB5\u5E94\u8BE5\u4E3A\u8D44\u6E90\u540D, \u5E94\u8BE5\u4E3A `name`\\n  - \u5176\u4ED6\u540D\u5B57\u76F8\u5173\u7684\u5B57\u6BB5\u5E94\u8BE5\u6DFB\u52A0\u9650\u5B9A\u7B26\u907F\u514D\u6DF7\u6DC6, \u4F8B\u5982 `display_name`, `first_name`\\n  - \u8D44\u6E90\u540D\u7981\u6B62\u5305\u542B\u524D `/`\\n- \u4E3A\u4EC0\u4E48\u4E0D\u9002\u7528\u8D44\u6E90 ID \u6765\u6807\u8BC6\u4E00\u4E2A\u8D44\u6E90\\n  - \u4F8B\u5982\u4E3A\u4EC0\u4E48\u4E0D\u4F7F\u7528\u8BF8\u5982 `(bucket, object)` \u6216 `(user, album, photo)` \u7684\u5F62\u5F0F\\n  - \u5F00\u53D1\u8005\u5FC5\u987B\u8981\u7406\u89E3\u5E76\u4E14\u8BB0\u4F4F\u8FD9\u6837\u7684\u533F\u540D\u5143\u7EC4\\n  - \u4F20\u9012\u5143\u7EC4\u6BD4\u5B57\u7B26\u4E32\u4E00\u822C\u66F4\u52A0\u56F0\u96BE\\n  - \u5F88\u591A\u7CFB\u7EDF\u4E0D\u80FD\u7406\u89E3\u8FD9\u6837\u7684\u5F62\u5F0F\\n  - \u7279\u70B9\u7684\u5143\u7EC4\u9650\u5236 API \u8BBE\u8BA1\u7684\u7075\u6D3B\u6027\\n- \u4E3A\u4EC0\u4E48\u4F7F\u7528 `name` \u800C\u4E0D\u4F7F\u7528 `id`\\n  - \u9075\u4ECE\u8D44\u6E90\u540D\u7684\u6982\u5FF5\\n  - \u901A\u5E38 `name` \u7684\u5B9A\u4E49\u4F1A\u975E\u5E38\u6DF7\u6DC6, \u4FDD\u7559 `name` \u4F7F\u5F97\u5F00\u53D1\u8005\u9009\u62E9\u4E00\u4E2A\u66F4\u5408\u9002\u7684\u540D\u5B57, \u4F8B\u5982 `display_name`, `title`\\n\\n| API Service Name         | Collection ID | Resource ID | Collection ID | Resource ID |\\n| ------------------------ | ------------- | ----------- | ------------- | ----------- |\\n| //storage.googleapis.com | /buckets      | /bucket-id  | /objects      | /object-id  |\\n\\n| API Service Name      | Collection ID | Resource ID       | Resource ID | Resource ID |\\n| --------------------- | ------------- | ----------------- | ----------- | ----------- |\\n| //mail.googleapis.com | /users        | /name@example.com | /settings   | /customFrom |\\n\\n### \u6807\u51C6\u65B9\u6CD5\\n\\n| Std.Method | HTTP Mapping                  | HTTP Request Body | HTTP Response Body        |\\n| ---------- | ----------------------------- | ----------------- | ------------------------- |\\n| List       | `GET <collection URL>`        | N/A               | Resource\\\\* list           |\\n| Get        | `GET <resource URL>`          | N/A               | Resource\\\\*                |\\n| Create     | `POST <collection URL>`       | Resource          | Resource\\\\*                |\\n| Update     | `PUT or PATCH <resource URL>` | Resource          | Resource\\\\*                |\\n| Delete     | `DELETE <resource URL>`       | N/A               | google.protobuf.Empty\\\\*\\\\* |\\n\\n### \u81EA\u5B9A\u4E49\u65B9\u6CD5\\n\\n- HTTP \u6620\u5C04\\n  - `https://service.name/v1/some/resource/name:customVerb`\\n  - \u5E94\u8BE5\u4F7F\u7528 `POST` \u65B9\u6CD5\\n  - \u5982\u679C\u662F\u7C7B\u4F3C List \u7684\u65B9\u6CD5\u4E5F\u8BB8\u4F7F\u7528 `GET`\\n  - \u4E0D\u5E94\u8BE5\u4F7F\u7528 `PATCH`, \u4E5F\u8BB8\u4F1A\u4F7F\u7528\u5176\u4ED6\u65B9\u6CD5, \u4F46\u5E94\u8BE5\u9075\u4ECE HTTP \u8BED\u4E49\\n  - \u4F7F\u7528 `GET` \u65B9\u6CD5, \u5FC5\u987B\u8981\u6C42\u8BF7\u6C42\u5E42\u7B49, \u4E0D\u4F1A\u6709\u526F\u4F5C\u7528\\n    - \u4F8B\u5982\u81EA\u5B9A\u4E49\u89C6\u56FE\u5E94\u8BE5\u4F7F\u7528 `GET`\\n  - \u8BF7\u6C42\u6D88\u606F\u4E2D\u7684\u8D44\u6E90\u540D\u5E94\u8BE5\u88AB\u6620\u5C04\u5230\u8DEF\u5F84\u4E0A\\n  - URL \u8DEF\u5F84\u5FC5\u987B\u4EE5 `:customVerb` \u7ED3\u675F\\n  - \u5982\u679C\u5141\u8BB8\u8BF7\u6C42\u4F53, \u5FC5\u987B\u4F7F\u7528 `body: \\"*\\"`, \u5E94\u8BE5\u5C06\u6240\u6709\u5B57\u6BB5\u6620\u5C04\u5230\u8BF7\u6C42\u6D88\u606F\u4E0A\\n  - \u5982\u679C\u4E0D\u63A5\u53D7\u8BF7\u6C42\u4F53, \u7981\u6B62\u4F7F\u7528 `body` \u8BED\u53E5\\n  - \u81EA\u5B9A\u4E49\u7684\u65B9\u6CD5\u52A8\u8BCD\u7981\u6B62\u91CD\u53E0\\n\\n| Method Name             | Custom verb | HTTP verb | \u5907\u6CE8                                       |\\n| ----------------------- | ----------- | --------- | ------------------------------------------ |\\n| Cancel                  | :cancel     | POST      | \u53D6\u6D88\u4E00\u4E2A\u672A\u5B8C\u6210\u7684\u64CD\u4F5C (\u6784\u5EFA,\u8BA1\u7B97 \u7B49)        |\\n| `BatchGet<plural noun>` | :batchGet   | GET       | \u6279\u91CF\u83B7\u53D6\u591A\u4E2A\u8D44\u6E90                           |\\n| Move                    | :move       | POST      | \u5C06\u8D44\u6E90\u4ECE\u7236\u8282\u70B9\u79FB\u52A8\u5230\u53E6\u5916\u4E00\u4E2A\u7236\u8282\u70B9         |\\n| Search                  | :search     | GET       | \u83B7\u53D6\u8D44\u6E90\u5217\u8868, \u4F46\u4E0D\u540C\u4E8E List \u8BED\u4E49           |\\n| Undelete                | :undelete   | POST      | \u6062\u590D\u4E00\u4E2A\u5DF2\u5220\u9664\u7684\u8D44\u6E90. \u5EFA\u8BAE\u505A 30 \u5929\u7684\u4FDD\u7559\u671F |\\n\\n### \u6807\u51C6\u5B57\u6BB5\\n\\n| Name            | Type                  | Description                                                                                                                                        |\\n| --------------- | --------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |\\n| name            | string                | \u5305\u542B\u76F8\u5BF9\u8D44\u6E90\u540D                                                                                                                                     |\\n| parent          | string                | \u5BF9\u8D44\u6E90\u5B9A\u4E49\u548C List/Create \u8BF7\u6C42, \u8BE5\u5B57\u6BB5\u8868\u793A\u76F8\u5BF9\u7684\u7236\u8282\u70B9\u8D44\u6E90\u540D                                                                                        |\\n| create_time     | Timestamp             | \u521B\u5EFA\u65F6\u95F4                                                                                                                                           |\\n| update_time     | Timestamp             | \u6700\u540E\u4E00\u6B21\u66F4\u65B0\u65F6\u95F4, \u5728 create/patch/delete \u65F6\u66F4\u65B0                                                                                                    |\\n| delete_time     | Timestamp             | \u5220\u9664\u65F6\u95F4, \u5982\u679C\u652F\u6301\u8D44\u6E90\u4FDD\u7559                                                                                                                         |\\n| expire_time     | Timestamp             | \u8D85\u65F6\u65F6\u95F4                                                                                                                                           |\\n| start_time      | Timestamp             | \u5F00\u59CB\u65F6\u95F4                                                                                                                                           |\\n| end_time        | Timestamp             | \u7ED3\u675F\u65F6\u95F4 (\u4E0D\u7BA1\u662F\u5426\u6210\u529F)                                                                                                                            |\\n| time_zone       | string                | \u65F6\u533A\u540D. IANA TZ name, \u4F8B\u5982 \\"America/Los_Angeles\\", [\u65F6\u533A\u5217\u8868](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)                         |\\n| region_code     | string                | \u5730\u533A\u7684 Unicode country/region code (CLDR), \u4F8B\u5982 \\"US\\" and \\"419\\",[unicode_region_subtag](http://www.unicode.org/reports/tr35/#unicode_region_subtag) |\\n| language_code   | string                | BCP-47 \u8BED\u8A00\u7801, \u4F8B\u5982 \\"en-US\\". [Unicode locale identifier](http://www.unicode.org/reports/tr35/#Unicode_locale_identifier)                           |\\n| mime_type       | string                | IANA \u53D1\u5E03\u7684 MIME \u7C7B\u578B. [media-types](https://www.iana.org/assignments/media-types/media-types.xhtml)                                               |\\n| display_name    | string                | \u5B9E\u4F53\u7684\u663E\u793A\u540D\u5B57                                                                                                                                     |\\n| title           | string                | \u5B9E\u4F53\u7684\u5B98\u65B9\u540D\u5B57, \u4F8B\u5982\u516C\u53F8\u540D. \u4F5C\u4E3A\u6B63\u5F0F\u7684 display_name.                                                                                               |\\n| description     | string                | \u5B9E\u4F53\u63CF\u8FF0                                                                                                                                           |\\n| filter          | string                | List \u65B9\u6CD5\u7684\u6807\u51C6\u8FC7\u6EE4\u53C2\u6570                                                                                                                            |\\n| query           | string                | \u7B49\u540C\u4E8E List \u65B9\u6CD5\u7684 filter, \u4E0D\u8FC7\u7528\u4E8E Search                                                                                                         |\\n| page_token      | string                | List \u8BF7\u6C42\u7684\u5206\u9875\u7B26                                                                                                                                  |\\n| page_size       | int32                 | List \u8BF7\u6C42\u7684\u5206\u9875\u5927\u5C0F                                                                                                                                |\\n| total_size      | int32                 | \u603B\u6570                                                                                                                                               |\\n| next_page_token | string                | \u4E0B\u4E00\u9875\u7684\u5206\u9875\u7B26, \u5982\u679C\u4E3A\u7A7A\u5219\u8868\u793A\u6CA1\u6709\u66F4\u591A\u7ED3\u679C                                                                                                         |\\n| order_by        | string                | \u6307\u5B9A List \u8BF7\u6C42\u7684\u6392\u5E8F                                                                                                                               |\\n| request_id      | string                | \u7528\u4E8E\u68C0\u6D4B\u91CD\u590D\u8BF7\u6C42\u7684\u552F\u4E00\u6807\u8BC6\u7B26                                                                                                                       |\\n| resume_token    | string                | \u7528\u4E8E\u6062\u590D\u4E00\u4E2A\u6D41\u8BF7\u6C42\u7684\u4E0D\u900F\u660E\u6807\u8BC6\u7B26                                                                                                                   |\\n| labels          | `map<string, string>` | \u8D44\u6E90\u6807\u7B7E                                                                                                                                           |\\n| deleted         | bool                  | \u5982\u679C\u8D44\u6E90\u5141\u8BB8 undelete \u64CD\u4F5C, \u5219\u5E94\u8BE5\u6709\u88AB\u5220\u9664\u6807\u793A                                                                                                     |\\n| show_deleted    | bool                  | \u5982\u679C\u8D44\u6E90\u5141\u8BB8 undelete \u64CD\u4F5C, \u76F8\u5E94\u7684 List \u64CD\u4F5C\u5E94\u8BE5\u53EF\u4EE5\u6B7B\u6307\u5B9A\u663E\u793A\u5DF2\u5220\u9664\u7684\u8D44\u6E90                                                                         |\\n| update_mask     | FieldMask             | \u7528\u4E8E Update \u5BF9\u8D44\u6E90\u8FDB\u884C\u90E8\u5206\u66F4\u65B0\u64CD\u4F5C. \u8BE5\u5C5E\u76F8\u5BF9\u4E8E\u8D44\u6E90\u800C\u975E\u8BF7\u6C42\u6D88\u606F                                                                                     |\\n| validate_only   | bool                  | \u5982\u679C\u4E3A true, \u5219\u5E94\u8BE5\u53EA\u9A8C\u8BC1\u8BE5\u8BF7\u6C42, \u800C\u4E0D\u6267\u884C                                                                                                          |\\n\\n### \u9519\u8BEF\\n\\n- \u9519\u8BEF\u6A21\u578B [google.rpc.Status](https://github.com/googleapis/googleapis/blob/master/google/rpc/status.proto)\\n- \u9519\u8BEF\u7801 [google.rpc.Code](https://github.com/googleapis/googleapis/blob/master/google/rpc/code.proto)\\n  - \u5355\u72EC\u7684\u63A5\u53E3\u5E94\u8BE5\u907F\u514D\u5B9A\u4E49\u989D\u5916\u7684\u9519\u8BEF\u7801, \u5982\u679C\u4E00\u4E2A\u63A5\u53E3\u9700\u8981\u5904\u7406\u4E09\u56DB\u79CD\u9519\u8BEF\u7801, \u90A3\u4E48\u4EE3\u7801\u5C06\u5927\u90E8\u5206\u90FD\u662F\u9519\u8BEF\u5904\u7406\\n- \u9519\u8BEF\u4FE1\u606F\\n  - \u4E0D\u8981\u5047\u8BBE\u7528\u6237\u975E\u5E38\u4E86\u89E3\u4F60\u7684\u63A5\u53E3\\n  - \u4E0D\u8981\u5047\u8BBE\u7528\u6237\u77E5\u9053\u4EFB\u4F55\u670D\u52A1\u7684\u5B9E\u73B0\u76F8\u5173, \u6216\u8005\u4E86\u89E3\u9519\u8BEF\u7684\u4E0A\u4E0B\u6587\u4FE1\u606F\\n  - \u5982\u679C\u53EF\u4EE5, \u9519\u8BEF\u4FE1\u606F\u5E94\u8BE5\u80FD\u88AB\u4E00\u4E2A\u6280\u672F\u4EBA\u5458\u7406\u89E3\u5E76\u4E14\u4FEE\u590D\u9519\u8BEF\\n  - \u4FDD\u6301\u9519\u8BEF\u4FE1\u606F\u7B80\u4ECB, \u5982\u679C\u53EF\u4EE5, \u53EF\u63D0\u4F9B\u4E00\u4E2A\u9519\u8BEF\u94FE\u63A5\u4EE5\u4F9B\u63D0\u95EE\u6216\u53CD\u9988\\n- [google/rpc/error_details.proto](https://github.com/googleapis/googleapis/blob/master/google/rpc/error_details.proto)\\n  - \u5B9A\u4E49\u4E86\u5E38\u7528\u7684\u9519\u8BEF\u8BE6\u60C5\\n\\n```protobuf\\npackage google.rpc;\\n\\nmessage Status {\\n  // \u7B80\u5355\u7684\u9519\u8BEF\u7801, \u5B9E\u9645\u7684\u9519\u8BEF\u7801\u7531 `google.rpc.Code` \u5B9A\u4E49\\n  int32 code = 1;\\n\\n  // \u9762\u5411\u5F00\u53D1\u8005\u7684\u9519\u8BEF\u4FE1\u606F. \u5E94\u8BE5\u89E3\u91CA\u9519\u8BEF\u539F\u56E0\u5E76\u63D0\u53EF\u64CD\u4F5C\u7684\u89E3\u51B3\u529E\u6CD5\\n  string message = 2;\\n\\n  // \u9644\u52A0\u7684\u9519\u8BEF\u4FE1\u606F, \u4F8B\u5982\u91CD\u8BD5\u5EF6\u8FDF\u6216\u5E2E\u52A9\u94FE\u63A5\\n  repeated google.protobuf.Any details = 3;\\n}\\n```\\n\\n### \u540D\u79F0\u8F6C\u6362\\n\\n- \u9075\u5FAA \u7B80\u4ECB, \u76F4\u89C2, \u4E00\u81F4 \u7684\u539F\u5219\\n- \u4EA7\u54C1\u540D\\n  - \u4EA7\u54C1\u7684\u8425\u9500\u540D\u79F0\\n  - \u5E94\u8BE5\u4E0E \u63A5\u53E3, UI, \u6587\u6863, TOS, \u8D26\u5355, \u5408\u540C\u4FDD\u6301\u4E00\u81F4\\n  - \u5FC5\u987B\u4EE5 Google \u5F00\u5934, \u9664\u975E\u7531\u591A\u4E2A\u4EA7\u54C1\u4F7F\u7528, \u4F8B\u5982 Gmail, Youtube\\n  - \u5E94\u8BE5\u7531\u4EA7\u54C1\u6216\u8425\u9500\u56E2\u961F\u51B3\u5B9A\\n- \u670D\u52A1\u540D\\n  - \u5E94\u8BE5\u662F\u4E00\u4E2A\u5408\u6CD5\u7684 DNS \u540D\u5B57, \u53EF\u4EE5\u88AB\u89E3\u6790\u4E3A\u4E00\u4E2A\u6216\u591A\u4E2A\u7F51\u7EDC\u5730\u5740\\n    - \u8C37\u6B4C\u63A5\u53E3\u7684\u670D\u52A1\u540D\u5747\u4E3A `xxx.googleapis.com`\\n    - \u4F8B\u5982 `calendar.googleapis.com`\\n  - \u5982\u679C API \u7531\u591A\u4E2A\u670D\u52A1\u7EC4\u6210, \u540D\u5B57\u5E94\u8BE5\u5E2E\u52A9\u5176\u53D1\u73B0\u76F8\u5E94\u7684\u5176\u4ED6\u670D\u52A1, \u4F8B\u5982\u4F7F\u7528\u4E00\u4E2A\u7EDF\u4E00\u7684\u524D\u7F00\\n    - \u4F8B\u5982 `build.googleapis.com` \u548C `buildresults.googleapis.com` \u540C\u5C5E\u4E8E Google Build API\\n- \u5305\u540D\\n  - \u5728 `.proto` \u4E2D\u5B9A\u4E49\u7684\u5305\u540D, \u5E94\u8BE5\u5C3D\u91CF\u4E0E\u4EA7\u54C1\u548C\u670D\u52A1\u540D\u4FDD\u6301\u4F60\u4E00\u76F4\\n  - \u5982\u679C API \u6709\u7248\u672C, \u90A3\u4E48\u5305\u5FC5\u987B\u4EE5\u7248\u672C\u53F7\u4F5C\u4E3A\u7ED3\u675F\\n  - \u4E0D\u7531\u5177\u4F53\u670D\u52A1\u4F7F\u7528\u7684\u62BD\u8C61 API, \u5E94\u8BE5\u4F7F\u7528\u4E0E\u4EA7\u54C1\u4E00\u81F4\u7684\u5305\u540D\\n    - `google.watcher.v1`\\n  - Java \u5305\u5FC5\u987B\u4E0E\u5305\u540D\u4E00\u76F4, \u53EA\u5728\u5176\u524D\u9762\u52A0\u76F8\u5E94\u524D\u7F00 (`com`.`net` \u7B49)\\n- \u96C6\u5408\u6807\u8BC6\u7B26\\n  - \u5E94\u8BE5\u4F7F\u7528\u590D\u6570\u5F62\u5F0F\u548C\u9A7C\u5CF0\u547D\u540D\\n- \u63A5\u53E3\u540D\\n  - \u5373 `.proto` \u4E2D\u7684 `service`, \u907F\u514D\u4E0E\u670D\u52A1\u540D\u51B2\u7A81\\n  - \u53EF\u8BA4\u4E3A\u670D\u52A1\u540D\u662F\u4E00\u7EC4 API \u5B9E\u73B0\u7684\u5408\u96C6, \u800C\u63A5\u53E3\u662F API \u7684\u62BD\u8C61\u5B9A\u4E49\\n  - \u5E94\u8BE5\u4F7F\u7528\u53EA\u7BA1\u7684\u540D\u5B57, \u4F8B\u5982 `Calendar` `Blob`\\n  - \u4E0D\u5E94\u8BE5\u4F7F\u7528\u4E0E\u5DF2\u6709\u7684\u6982\u5FF5\u4EA7\u751F\u51B2\u7A81, \u4F8B\u5982 `File`\\n  - \u5728\u6781\u7AEF\u60C5\u51B5\u4E0B, \u907F\u514D\u4E0E\u5176\u4ED6 API \u51B2\u7A81, \u5E94\u8BE5\u4F7F\u7528\u4E00\u4E2A\u540E\u7F00(`Api`,`Service`)\u6765\u907F\u514D\u6B67\u4E49\\n- \u65B9\u6CD5\u540D\\n  - \u5E94\u8BE5\u4F7F\u7528 `VerbNoun` `\u52A8\u8BCD\u540D\u5B57` \u7684\u683C\u5F0F, \u5176\u4E2D\u7684\u6BCF\u6B21\u5E94\u8BE5\u4E3A\u8D44\u6E90\u7C7B\u578B\\n  - \u52A8\u8BCD\u5E94\u8BE5\u4F7F\u7528[\u7948\u4F7F\u8BED\u6C14](https://zh.wikipedia.org/wiki/\u7948\u4F7F\u8BED\u6C14), \u800C\u4E0D\u662F\u7591\u95EE\u8BED\u6C14\\n    - \u8868\u8FBE\u76F4\u63A5\u547D\u4EE4\u6216\u8BF7\u6C42\\n- \u6D88\u606F\u540D\\n  - \u5E94\u8BE5\u4E0E\u65B9\u6CD5\u540D\u4E3A\u524D\u7F00, \u6DFB\u52A0 `Request` \u548C `Response` \u4F5C\u4E3A\u540E\u7F00, \u9664\u975E\\n    - \u6D88\u606F\u4E3A\u7A7A, google.protobuf.Empty\\n    - \u8D44\u6E90\u7C7B\u578B\\n    - \u8868\u793A\u4E00\u4E2A\u64CD\u4F5C\u7684\u8D44\u6E90\\n- \u679A\u4E3E\u540D\\n  - \u7C7B\u578B\u540D\u5FC5\u987B\u4E3A `UpperCamelCase`\\n  - \u503C\u540D\u5FC5\u987B\u4E3A `CAPITALIZED_NAMES_WITH_UNDERSCORES`\\n  - \u6BCF\u4E2A\u679A\u4E3E\u503C\u5FC5\u987B\u4EE5 `;` \u7ED3\u675F\\n  - \u7B2C\u4E00\u4E2A\u503C\u5E94\u8BE5\u4E3A `ENUM_TYPE_UNSPECIFIED`, \u8868\u793A\u8BE5\u503C\u672A\u88AB\u6307\u5B9A\\n- \u5B57\u6BB5\u540D\\n  - \u5B57\u6BB5\u540D\u5FC5\u987B\u4E3A `lower_case_underscore_separated_names`\\n  - \u5E94\u8BE5\u907F\u514D\u4F7F\u7528[\u4ECB\u8BCD](https://zh.wikipedia.org/wiki/\u4ECB\u8BCD)\\n    - `reason_for_error` -> `error_reason`\\n    - `cpu_usage_at_time_of_failure` -> `failure_time_cpu_usage`\\n  - \u5E94\u8BE5\u907F\u514D\u4F7F\u7528\u540E\u7F6E\u5F62\u5BB9\u8BCD [Postpositive adjective](https://en.wikipedia.org/wiki/Postpositive_adjective)\\n    - `items_collected` -> `collected_items`\\n    - `objects_imported` -> `imported_objects`\\n  - \u91CD\u590D\u5B57\u6BB5\u5E94\u8BE5\u4F7F\u7528\u590D\u6570\u5F62\u5F0F\\n  - \u65F6\u95F4\u70B9\u548C\u6301\u7EED\u65F6\u95F4\\n    - \u4F7F\u7528 `google.protobuf.Timestamp` \u548C `google.protobuf.Duration`\\n    - \u4EE5 `_time` \u6216 `_duration` \u4F5C\u4E3A\u540E\u7F00\\n    - \u5982\u679C\u9700\u8981\u65F6\u95F4\u76F8\u5173\u7684\u540E\u7F00, \u5FC5\u987B\u9075\u5FAA `xxx_{time|duration|delay|latency}_{seconds|millis|micros|nanos}` \u683C\u5F0F\\n    - \u5982\u679C\u4E0D\u5F97\u4E0D\u4F7F\u7528\u5B57\u7B26\u4E32\u683C\u5F0F, \u90A3\u4E48\u5E94\u8BE5\u4F7F\u7528 RFC 3339 \u683C\u5F0F, \u4F8B\u5982 `2014-07-30T10:43:17Z`\\n  - \u65E5\u671F\u548C\u4E00\u5929\u4E2D\u7684\u65F6\u95F4\\n    - \u5E94\u8BE5\u4F7F\u7528 `google.type.Date` \u548C `google.type.TimeOfDay`\\n    - \u5E94\u8BE5\u4EE5 `_date` \u548C `_time` \u4F5C\u4E3A\u540E\u7F00\\n    - \u5982\u679C\u65E5\u671F\u4E0D\u5F97\u4E0D\u4F7F\u7528\u5B57\u7B26\u4E32\u5F62\u5F0F, \u5E94\u8BE5\u4F7F\u7528 ISO 8601 \u65E5\u671F\u683C\u5F0F `YYYY-MM-DD` \u4F8B\u5982 `2014-07-30`\\n    - \u5982\u679C\u65F6\u95F4\u4E0D\u5F97\u4E0D\u4F7F\u7528\u5B57\u7B26\u4E32\u5F62\u5F0F, \u5E94\u8BE5\u4F7F\u7528 ISO 8601 24 \u5C0F\u65F6\u7684\u4E8B\u4EF6\u683C\u5F0F, `HH:MM:SS[.FFF]` \u4F8B\u5982 `14:55:01.672`\\n  - \u6570\u91CF\\n    - \u6BD4\u5305\u542B\u6D4B\u91CF\u5355\u4F4D\\n      - `xxx_{bytes|width_pixels|meters}`\\n    - \u5982\u679C\u662F\u9879\u76EE\u7684\u6570\u91CF, \u5E94\u8BE5\u4EE5 `_count` \u4F5C\u4E3A\u540E\u7F00\\n  - List \u8FC7\u6EE4\u5B57\u6BB5\u5E94\u8BE5\u4F7F\u7528 `filter`\\n  - List \u54CD\u5E94\\n    - \u8FD4\u56DE\u7684\u8D44\u6E90\u5B57\u6BB5\u5FC5\u987B\u662F\u590D\u6570\u5F62\u5F0F\\n- \u540D\u5B57\u7F29\u5199\\n  - \u5728\u63A5\u53E3\u5B9A\u4E49\u65F6\u5E94\u8BE5\u4F7F\u7528\u5E38\u89C1\u7684\u7F29\u5199, \u5728\u6587\u6863\u4E2D\u5E94\u8BE5\u4F7F\u7528\u6807\u51C6\u683C\u5F0F\\n    - config (configuration)\\n    - id (identifier)\\n    - spec (specification)\\n    - stats (statistics)\\n\\n| API Name | Example                            |\\n| -------- | ---------------------------------- |\\n| \u4EA7\u54C1\u540D   | Google Calendar API                |\\n| \u670D\u52A1\u540D   | calendar.googleapis.com            |\\n| \u5305\u540D     | google.calendar.v3                 |\\n| \u63A5\u53E3\u540D   | google.calendar.v3.CalendarService |\\n| \u6E90\u7801\u76EE\u5F55 | //google/calendar/v3               |\\n| API \u540D   | calendar                           |\\n\\n**\u65B9\u6CD5\u540D**\\n\\n| Verb   | Noun | Method name | Request message   | Response message      |\\n| ------ | ---- | ----------- | ----------------- | --------------------- |\\n| List   | Book | ListBooks   | ListBooksRequest  | ListBooksResponse     |\\n| Get    | Book | GetBook     | GetBookRequest    | Book                  |\\n| Create | Book | CreateBook  | CreateBookRequest | Book                  |\\n| Update | Book | UpdateBook  | UpdateBookRequest | Book                  |\\n| Rename | Book | RenameBook  | RenameBookRequest | RenameBookResponse    |\\n| Delete | Book | DeleteBook  | DeleteBookRequest | google.protobuf.Empty |\\n\\n### \u7248\u672C\\n\\n- `MAJOR.MINOR.PATCH`\\n  - MAJOR \u63A5\u53E3\u4E0D\u517C\u5BB9\\n  - MINOR \u6DFB\u52A0\u65B0\u7684\u529F\u80FD\\n  - PATCH \u95EE\u9898\u4FEE\u6B63\\n\\n| Version   | Proto Package | Description                                     |\\n| --------- | ------------- | ----------------------------------------------- |\\n| v1alpha   | v1alpha1      | The v1 alpha release.                           |\\n| v1beta1   | v1beta1       | The v1 beta 1 release.                          |\\n| v1beta2   | v1beta2       | The second beta release of v1.                  |\\n| v1test    | v1test        | An internal test release with dummy data.       |\\n| v1        | v1            | The v1 major version, general availability.     |\\n| v1.1beta1 | v1p1beta1     | The first beta release for minor changes to v1. |\\n| v1.1      | v1            | The minor update to v1.1 release.               |\\n| v2beta1   | v2beta1       | The v2 beta 1 release.                          |\\n| v2        | v2            | The v2 major version, general availability.     |"},{"id":"ubuntu-home","metadata":{"permalink":"/story/ubuntu-home","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2017/2017-02-09-ubuntu-home.md","source":"@site/../story/2017/2017-02-09-ubuntu-home.md","title":"Ubuntu \u5BB6\u7528","description":"- Ubuntu \u684C\u9762\u7248","date":"2017-02-09T00:00:00.000Z","tags":[],"readingTime":7.12,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"ubuntu-home","title":"Ubuntu \u5BB6\u7528"},"unlisted":false,"prevItem":{"title":"Google API Design Guide","permalink":"/story/google-api-design-guide"},"nextItem":{"title":"\u8FDB\u51FB\u7684\u7A0B\u5E8F\u733F","permalink":"/story/attack-on-programmer"}},"content":"- Ubuntu \u684C\u9762\u7248\\n- \u5B89\u88C5\u81F3\u5C11\u9700\u8981 `1024*768` \u7684\u663E\u793A\u5668\\n\\n\x3c!-- more --\x3e\\n\\n```bash\\napt update\\napt upgrade\\napt dist-upgrade\\n\\n# \u684C\u9762\u7248\u6CA1\u6709 sshd\\napt install -y openssh-server\\n\\n############\\n# brew\\n############\\nbrew install gcc redis tmux mosh\\n\\n############\\n# \u5BB9\u5668\u670D\u52A1\u914D\u7F6E\\n############\\n# \u4F7F\u7528\u963F\u91CC\u63D0\u4F9B\u7684\u4ED3\u5E93\u8FDB\u884C\u5B89\u88C5\u4F1A\u975E\u5E38\u5FEB\\ncurl -sSL http://acs-public-mirror.oss-cn-hangzhou.aliyuncs.com/docker-engine/internet | sh -\\n# \u5B89\u88C5\u5B8C\u6BD5\u540E\u4E3A\u5F53\u524D\u7528\u6237\u6DFB\u52A0\u6743\u9650,\u9700\u8981\u9000\u51FA\u91CD\u65B0\u767B\u5F55\u624D\u80FD\u751F\u6548\\nsudo usermod -aG docker $USER\\n\\n# \u5B89\u88C5\u5B8C\u6210\u5EFA\u8BAE\u9009\u62E9\u4E00\u5BB6\u5BB9\u5668\u955C\u50CF,\u6BD4\u5982 https://cr.console.aliyun.com \u6216\u8005 daocloud\\n\\ndocker pull gogs/gogs\\ndocker network create --subnet=172.18.1.0/24 home-net\\n\\n# \u51C6\u5907\u6570\u636E\u76EE\u5F55\\nsudo mkdir /data\\nsudo chown $USER:$USER /data\\ncd /data\\n\\n# ==========\\n# \u76D1\u63A7\u914D\u7F6E\\n# ==========\\ndocker pull grafana/grafana\\ndocker pull prom/container-exporter\\ndocker pull prom/prometheus\\n\\ndocker run --net home-net --ip 172.18.1.10 -d --restart always -v /etc/localtime:/etc/localtime:ro \\\\\\n    -v $PWD/grafana:/var/lib/grafana \\\\\\n    -v $PWD/grafana.ini:/etc/grafana/grafana.ini \\\\\\n    --name grafana grafana/grafana\\n\\nnohup node_exporter 2>node_exporter.log &\\n\\ndocker run -d --net home-net --ip 172.18.1.21 \\\\\\n    -v /sys/fs/cgroup:/cgroup \\\\\\n    -v /var/run/docker.sock:/var/run/docker.sock \\\\\\n    --name container-exporter prom/container-exporter\\n\\ndocker run --net home-net --ip 172.18.1.20 -d --restart always -v /etc/localtime:/etc/localtime:ro \\\\\\n    -v $PWD/prom:/prometheus \\\\\\n    -v $PWD/prom.yaml:/etc/prometheus/prometheus.yml \\\\\\n    --name prom prom/prometheus\\n\\n# Web \u670D\u52A1\\n# \u9009\u62E9\u9700\u8981\u7684 Caddy \u63D2\u4EF6\u7528\u4E8E\u6784\u5EFA\u5BB9\u5668\\nmkdir -p /tmp/caddy && cd /tmp/caddy\\nwget \'https://caddyserver.com/download/build?os=linux&arch=amd64&features=cors%2Cexpires%2Cfilemanager%2Cgit%2Chugo%2Cipfilter%2Cjsonp%2Cjwt%2Clocale%2Cmailout%2Cminify%2Cmultipass%2Cprometheus%2Cratelimit%2Crealip%2Csearch%2Cupload\' -O caddy.tar.gz\\ntar -zxvf caddy.tar.gz\\n\\ndocker build -t home/caddy -f caddy.Dockerfile .\\ncd -\\n\\ndocker run --net home-net --ip 172.18.1.30  -d --restart always -v /etc/localtime:/etc/localtime:ro \\\\\\n    -v $PWD/Caddyfile:/etc/Caddyfile \\\\\\n    -v $PWD/caddy:/data \\\\\\n    -v $HOME/.caddy:/root/.caddy \\\\\\n    -p 80:80 -p 443:443 \\\\\\n    --name web home/caddy\\n\\n\\n\\n```\\n\\n### caddy.Dockerfile\\n\\n```Dockerfile\\nFROM alpine\\nMAINTAINER wener <wener@wener.me>\\n\\nCOPY caddy /app/caddy\\n\\nVOLUME     [ \\"/data\\" ]\\nWORKDIR    /data\\n\\nEXPOSE 2015\\nEXPOSE 2000\\nENTRYPOINT [\\"/app/caddy\\"]\\nCMD [\\"-conf\\",\\"/etc/Caddyfile\\",\\"-log\\",\\"./internal/log\\"]\\n```\\n\\n### grafana.ini\\n\\n```ini\\n##################### Grafana Configuration Example #####################\\n#\\n# Everything has defaults so you only need to uncomment things you want to\\n# change\\n\\n# possible values : production, development\\n; app_mode = production\\n\\n# instance name, defaults to HOSTNAME environment variable value or hostname if HOSTNAME var is empty\\n; instance_name = ${HOSTNAME}\\n\\n#################################### Paths ####################################\\n[paths]\\n# Path to where grafana can store temp files, sessions, and the sqlite3 db (if that is used)\\n#\\n;data = /var/lib/grafana\\n#\\n# Directory where grafana can store logs\\n#\\n;logs = /var/log/grafana\\n#\\n# Directory where grafana will automatically scan and look for plugins\\n#\\n;plugins = /var/lib/grafana/plugins\\n\\n#\\n#################################### Server ####################################\\n[server]\\n# Protocol (http or https)\\n;protocol = http\\n\\n# The ip address to bind to, empty will bind to all interfaces\\n;http_addr =\\n\\n# The http port  to use\\n;http_port = 3000\\n\\n# The public facing domain name used to access grafana from a browser\\ndomain = d.yikaiye.com\\n\\n# Redirect to correct domain if host header does not match domain\\n# Prevents DNS rebinding attacks\\n;enforce_domain = false\\n\\n# \u4F7F\u7528 /monitor \u4F5C\u4E3A\u8DEF\u5F84,\u4EE5\u4FBF\u4E8E\u53CD\u5411\u4EE3\u7406\\n;root_url = %(protocol)s://%(domain)s:%(http_port)s/\\nroot_url = /monitor\\n\\n# Log web requests\\n;router_logging = false\\n\\n# the path relative working path\\n;static_root_path = public\\n\\n# enable gzip\\nenable_gzip = true\\n\\n# https certs & key file\\n;cert_file =\\n;cert_key =\\n\\n#################################### Database ####################################\\n[database]\\n# Either \\"mysql\\", \\"postgres\\" or \\"sqlite3\\", it\'s your choice\\n;type = sqlite3\\n;host = 127.0.0.1:3306\\n;name = grafana\\n;user = root\\n;password =\\n\\n# For \\"postgres\\" only, either \\"disable\\", \\"require\\" or \\"verify-full\\"\\n;ssl_mode = disable\\n\\n# For \\"sqlite3\\" only, path relative to data_path setting\\n;path = grafana.db\\n\\n#################################### Session ####################################\\n[session]\\n# Either \\"memory\\", \\"file\\", \\"redis\\", \\"mysql\\", \\"postgres\\", default is \\"file\\"\\n;provider = file\\n\\n# Provider config options\\n# memory: not have any config yet\\n# file: session dir path, is relative to grafana data_path\\n# redis: config like redis server e.g. `addr=127.0.0.1:6379,pool_size=100,db=grafana`\\n# mysql: go-sql-driver/mysql dsn config string, e.g. `user:password@tcp(127.0.0.1:3306)/database_name`\\n# postgres: user=a password=b host=localhost port=5432 dbname=c sslmode=disable\\n;provider_config = sessions\\n\\n# Session cookie name\\n;cookie_name = grafana_sess\\n\\n# If you use session in https only, default is false\\n;cookie_secure = false\\n\\n# Session life time, default is 86400\\n;session_life_time = 86400\\n\\n#################################### Analytics ####################################\\n[analytics]\\n# Server reporting, sends usage counters to stats.grafana.org every 24 hours.\\n# No ip addresses are being tracked, only simple counters to track\\n# running instances, dashboard and error counts. It is very helpful to us.\\n# Change this option to false to disable reporting.\\n;reporting_enabled = true\\n\\n# Set to false to disable all checks to https://grafana.net\\n# for new vesions (grafana itself and plugins), check is used\\n# in some UI views to notify that grafana or plugin update exists\\n# This option does not cause any auto updates, nor send any information\\n# only a GET request to http://grafana.net to get latest versions\\ncheck_for_updates = true\\n\\n# Google Analytics universal tracking code, only enabled if you specify an id here\\n;google_analytics_ua_id =\\n\\n#################################### Security ####################################\\n[security]\\n# default admin user, created on startup\\n;admin_user = admin\\n\\n# default admin password, can be changed before first start of grafana,  or in profile settings\\n;admin_password = admin\\n\\n# used for signing\\n;secret_key = SW2YcwTIb9zpOOhoPsMm\\n\\n# Auto-login remember days\\n;login_remember_days = 7\\n;cookie_username = grafana_user\\n;cookie_remember_name = grafana_remember\\n\\n# disable gravatar profile images\\n;disable_gravatar = false\\n\\n# data source proxy whitelist (ip_or_domain:port separated by spaces)\\n;data_source_proxy_whitelist =\\n\\n[snapshots]\\n# snapshot sharing options\\nexternal_enabled = false\\n;external_snapshot_url = https://snapshots-origin.raintank.io\\n;external_snapshot_name = Publish to snapshot.raintank.io\\n\\n#################################### Users ####################################\\n[users]\\n# \u7981\u7528\u6CE8\u518C\u529F\u80FD\\nallow_sign_up = false\\n\\n# \u4E0D\u5141\u8BB8\u975E\u7BA1\u7406\u5458\u521B\u5EFA\u7EC4\u7EC7\\nallow_org_create = false\\n\\n# Set to true to automatically assign new users to the default organization (id 1)\\nauto_assign_org = true\\n\\n# Default role new users will be automatically assigned (if disabled above is set to true)\\nauto_assign_org_role = Viewer\\n\\n# Background text for the user field on the login page\\nlogin_hint = \u7528\u6237\u540D\\n\\n# Default UI theme (\\"dark\\" or \\"light\\")\\ndefault_theme = light\\n\\n#################################### Anonymous Auth ##########################\\n[auth.anonymous]\\n# enable anonymous access\\nenabled = false\\n\\n# specify organization name that should be used for unauthenticated users\\n;org_name = Main Org.\\n\\n# specify role for unauthenticated users\\n;org_role = Viewer\\n\\n#################################### Auth Proxy ##########################\\n[auth.proxy]\\n;enabled = false\\n;header_name = X-WEBAUTH-USER\\n;header_property = username\\n;auto_sign_up = true\\n\\n#################################### Basic Auth ##########################\\n[auth.basic]\\n;enabled = true\\n\\n#################################### SMTP / Emailing ##########################\\n[smtp]\\n;enabled = false\\n;host = localhost:25\\n;user =\\n;password =\\n;cert_file =\\n;key_file =\\n;skip_verify = false\\n;from_address = admin@grafana.localhost\\n\\n[emails]\\n;welcome_email_on_sign_up = false\\n\\n#################################### Logging ##########################\\n[log]\\n# Either \\"console\\", \\"file\\", \\"syslog\\". Default is console and  file\\n# Use space to separate multiple modes, e.g. \\"console file\\"\\n;mode = console, file\\n\\n# Either \\"trace\\", \\"debug\\", \\"info\\", \\"warn\\", \\"error\\", \\"critical\\", default is \\"info\\"\\n;level = info\\n\\n# For \\"console\\" mode only\\n[log.console]\\n;level =\\n\\n# log line format, valid options are text, console and json\\n;format = console\\n\\n# For \\"file\\" mode only\\n[log.file]\\n;level =\\n\\n# log line format, valid options are text, console and json\\n;format = text\\n\\n# This enables automated log rotate(switch of following options), default is true\\n;log_rotate = true\\n\\n# Max line number of single file, default is 1000000\\n;max_lines = 1000000\\n\\n# Max size shift of single file, default is 28 means 1 << 28, 256MB\\n;max_size_shift = 28\\n\\n# Segment log daily, default is true\\n;daily_rotate = true\\n\\n# Expired days of log file(delete after max days), default is 7\\n;max_days = 7\\n\\n[log.syslog]\\n;level =\\n\\n# log line format, valid options are text, console and json\\n;format = text\\n\\n# Syslog network type and address. This can be udp, tcp, or unix. If left blank, the default unix endpoints will be used.\\n;network =\\n;address =\\n\\n# Syslog facility. user, daemon and local0 through local7 are valid.\\n;facility =\\n\\n# Syslog tag. By default, the process\' argv[0] is used.\\n;tag =\\n\\n\\n#################################### AMQP Event Publisher ##########################\\n[event_publisher]\\n;enabled = false\\n;rabbitmq_url = amqp://localhost/\\n;exchange = grafana_events\\n\\n;#################################### Dashboard JSON files ##########################\\n[dashboards.json]\\n;enabled = false\\n;path = /var/lib/grafana/dashboards\\n\\n#################################### Internal Grafana Metrics ##########################\\n# Metrics available at HTTP API Url /api/metrics\\n[metrics]\\n# Disable / Enable internal metrics\\n;enabled           = true\\n\\n# Publish interval\\n;interval_seconds  = 10\\n\\n# Send internal metrics to Graphite\\n; [metrics.graphite]\\n; address = localhost:2003\\n; prefix = prod.grafana.%(instance_name)s.\\n\\n#################################### Internal Grafana Metrics ##########################\\n# Url used to to import dashboards directly from Grafana.net\\n[grafana_net]\\nurl = https://grafana.net\\n```\\n\\n### prom.yaml\\n\\n```yaml\\nglobal:\\n  scrape_interval: 5s\\n  # Attach these labels to any time series or alerts when communicating with\\n  # external systems (federation, remote storage, Alertmanager).\\n  external_labels:\\n    monitor: \'dev-monitor\'\\n\\nrule_files:\\n  - mysql.rules\\n\\n# A scrape configuration containing exactly one endpoint to scrape:\\n# Here it\'s Prometheus itself.\\nscrape_configs:\\n  # The job name is added as a label `job=<job_name>` to any timeseries scraped from this config.\\n  - job_name: \'prometheus\'\\n\\n    # Override the global default and scrape targets from this job every 5 seconds.\\n    scrape_interval: 5s\\n\\n    static_configs:\\n      - targets: [\'localhost:9090\']\\n\\n  - job_name: container_exporter\\n    static_configs:\\n      - targets: [\'172.18.1.21:9104\']\\n\\n  - job_name: node_exporter\\n    static_configs:\\n      - targets: [\'172.18.1.1:9100\']\\n\\n  - job_name: caddy\\n    static_configs:\\n      - targets: [\'172.18.1.30:2000\']\\n```\\n\\n### Caddyfile\\n\\n```\\n:80 {\\n  log internal/access.log {\\n      rotate {\\n          size 50\\n          age  14\\n          keep 10\\n      }\\n  }\\n  prometheus :2000\\n  root .\\n  internal ./internal\\n  filemanager /file {\\n    show file/\\n  }\\n  proxy /monitor 172.18.1.10:3000 {\\n    without /monitor\\n    transparent\\n  }\\n}\\n```\\n\\n```\\n\\n$ sudo vim /etc/udev/rules.d/75-persistent-net-generator.rules\\n\\nSUBSYSTEM==\\"net\\", ACTION==\\"add\\", ATTR{address}==\\"f0:42:1c:85:07:41\\", NAME=\\"eth0\\"\\nsudo vim /etc/network/interfaces\\n\\n```"},{"id":"attack-on-programmer","metadata":{"permalink":"/story/attack-on-programmer","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2017/2017-01-19-\u8FDB\u51FB\u7684\u7A0B\u5E8F\u733F.md","source":"@site/../story/2017/2017-01-19-\u8FDB\u51FB\u7684\u7A0B\u5E8F\u733F.md","title":"\u8FDB\u51FB\u7684\u7A0B\u5E8F\u733F","description":"2016 \u5E74\u4F1A\u8282\u76EE","date":"2017-01-19T00:00:00.000Z","tags":[],"readingTime":0.21,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"attack-on-programmer","title":"\u8FDB\u51FB\u7684\u7A0B\u5E8F\u733F"},"unlisted":false,"prevItem":{"title":"Ubuntu \u5BB6\u7528","permalink":"/story/ubuntu-home"},"nextItem":{"title":"Ubuntu \u65B0\u670D\u52A1\u5668\u914D\u7F6E","permalink":"/story/ubuntu-new-server"}},"content":"2016 \u5E74\u4F1A\u8282\u76EE\\n\\n* [\u811A\u672C](https://github.com/wenerme/wener/tree/master/story/2017/am2016/\u8FDB\u51FB\u7684\u7A0B\u5E8F\u733F.fountain)/[PDF](https://github.com/wenerme/wener/tree/master/story/2017/am2016/\u8FDB\u51FB\u7684\u7A0B\u5E8F\u733F.pdf)\\n* \u821E\u53F0\u524D\u7AEF/\u821E\u53F0\u540E\u7AEF"},{"id":"ubuntu-new-server","metadata":{"permalink":"/story/ubuntu-new-server","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2016/2016-09-28-ubuntu-new-server.md","source":"@site/../story/2016/2016-09-28-ubuntu-new-server.md","title":"Ubuntu \u65B0\u670D\u52A1\u5668\u914D\u7F6E","description":"* How I spend my first 5 minutes on a server","date":"2016-09-28T00:00:00.000Z","tags":[],"readingTime":2.22,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"ubuntu-new-server","title":"Ubuntu \u65B0\u670D\u52A1\u5668\u914D\u7F6E"},"unlisted":false,"prevItem":{"title":"\u8FDB\u51FB\u7684\u7A0B\u5E8F\u733F","permalink":"/story/attack-on-programmer"},"nextItem":{"title":"\u5206\u5E03\u5F0F\u67B6\u6784\u624B\u8BB0","permalink":"/story/learning-dist-arch"}},"content":"```bash\\n# \u4FEE\u6539\u4E3B\u673A\u540D\\nhostnamectl set-hostname myHostName\\n# \u5982\u679C\u60F3\u8981\u76F4\u63A5\u4F7F\u7528\u4E3B\u673A\u540D,\u8FD8\u9700\u8981\u5728 /etc/hosts \u91CC\u6DFB\u52A0\u76F8\u5173\u8BB0\u5F55\\n# nano /etc/hostname\\n# nano /etc/hosts\\n\\n# \u751F\u6210\u4E2D\u6587\\nlocale-gen zh_CN.UTF-8\\n# \u57FA\u672C\u66F4\u65B0\\napt-get update\\napt-get upgrade\\n\\n# \u51FA\u73B0 The following packages have been kept back \u53EF\u8003\u8651 apt dist-upgrade \u6216 install\\n# \u5F53 /etc/apt/sources.list* \u6709\u5176\u4ED6\u4ED3\u5E93\u65F6\u4F7F\u7528 dist-upgrade \u76F8\u5BF9\u6CA1\u90A3\u4E48\u5B89\u5168\\n\\n# \u4FEE\u6539\u5BC6\u7801\\npasswd\\n\\n\\n# \u521B\u5EFA\u7528\u4E8E\u90E8\u7F72\u7684\u7528\u6237\\nuseradd deploy\\nmkdir /home/deploy\\nmkdir /home/deploy/.ssh\\nchmod 700 /home/deploy/.ssh\\n# \u5C06\u9700\u8981\u4F7F\u7528\u8BE5\u7528\u6237\u7684\u516C\u94A5\u6DFB\u52A0\u8FDB\u53BB\\nvim /home/deploy/.ssh/authorized_keys\\n\\nchmod 400 /home/deploy/.ssh/authorized_keys\\nchown deploy:deploy /home/deploy -R\\n\\n# \u7F16\u8F91 sudoers\\nvisudo\\n# \u5C06\u9700\u8981 sudo \u7684\u7528\u6237\u6DFB\u52A0\u8FDB\u53BB\\n# deploy  ALL=(ALL) ALL\\n\\n# \u4FEE\u6539 sshd \u6743\u9650\\nvim /etc/ssh/sshd_config\\n# PermitRootLogin no # \u4E0D\u5141\u8BB8\u76F4\u63A5 root \u767B\u9646\\n# PasswordAuthentication no # \u4E0D\u5141\u8BB8\u5BC6\u7801\u767B\u9646\\n# AllowUsers deploy@(your-ip) deploy@(another-ip-if-any) # \u53EA\u5141\u8BB8\u6307\u5B9A\u5730\u5740\u7684\u4EBA\u767B\u9646\\n# service ssh restart\\n\\n# \u9632\u706B\u5899\u8BBE\u7F6E\\n# DNS 53\\n# mosh allow 60000:61000/udp \u6216 allow mosh\\nufw allow 22\\nufw allow 80\\nufw allow 443\\nufw default deny\\nufw enable\\n```\\n\\n* [How I spend my first 5 minutes on a server ](https://news.ycombinator.com/item?id=5316093)\\n* [10 Essential Steps for Configuring a New Server](https://www.upguard.com/blog/10-essential-steps-for-configuring-a-new-server)\\n\\n\\n## Tips\\n\u5F53\u6709\u591A\u53F0\u4E3B\u673A\u9700\u8981\u90E8\u7F72\u7684\u65F6\u5019,\u5EFA\u8BAE\u4F7F\u7528 sshrc, tmuxrc, \u8FD9\u6837\u80FD\u5FEB\u901F\u7684\u5C06\u6240\u6709\u7684\u914D\u7F6E\u90FD\u5E26\u7ED9\u670D\u52A1\u5668,\u80FD\u591F\u5FEB\u901F\u65B9\u4FBF\u7684\u5BF9\u591A\u53F0\u8FDB\u884C\u5B89\u88C5\u90E8\u7F72.\\n\\n### mosh-dev\\n\u7531\u4E8E mosh \u90E8\u5206\u9F20\u6807\u76F8\u5173\u7684\u529F\u80FD\u9700\u8981\u6700\u65B0\u7248,\u6240\u4EE5\u5EFA\u8BAE\u76F4\u63A5\u5B89\u88C5 dev \u7248\u672C\\n\\n```bash\\napt-get install -y software-properties-common\\nadd-apt-repository ppa:keithw/mosh-dev\\napt-get update\\napt install -y mosh\\n```\\n\\n## fail2ban\\n```bash\\napt-get install fail2ban\\ncp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local\\n# bantime = 3600 # ban 1 \u5C0F\u65F6\\n# destemail = admin@admin # \u53D1\u9001\u8B66\u544A\u7684\u90AE\u7BB1\u5730\u5740\\n# \u5C06 ssh/ssh-ddos \u7B49\u6BB5\u843D\u4E0B\u7684 enable \u8BBE\u7F6E\u4E3A true \u6253\u5F00\u76F8\u5E94\u7684 filter\\n```\\n\\n## env\\n```bash\\napt-get install software-properties-common\\n# \u6DFB\u52A0 Oracle Java \u4ED3\u5E93\\nadd-apt-repository ppa:webupd8team/java#\\napt-get update\\n# \u5B89\u88C5 Oracle Java 8 JDK\\napt-get install oracle-java8-installer\\n# \u5982\u679C\u6709\u591A\u4E2A Java \u73AF\u5883\u53EF\u8C03\u6574\u914D\u7F6E\\nupdate-alternatives --config java\\n```\\n\\n## ipv6\\n```bash\\n# https://jiandanxinli.github.io/2016-08-06.html\\n\\n# /etc/sysctl.conf\\n# net.ipv6.conf.all.disable_ipv6=0\\n# net.ipv6.conf.default.disable_ipv6=0\\n# net.ipv6.conf.lo.disable_ipv6=0\\nsysctl -p\\n\\n# https://www.tunnelbroker.net/\\n# \u9009\u62E9 linux route2, \u7136\u540E\u6267\u884C\u811A\u672C\\n\\n# \u68C0\u6D4B ipv6 \u662F\u5426\u53EF\u7528\\n# http://ready.chair6.net/?url=wener.me\\n\\n# \u5982\u679C\u64CD\u4F5C\u5931\u8D25\u4E86\u5219\u5220\u9664\u901A\u9053\u4ECE\u6765\\nip tun del he-ipv6\\n```"},{"id":"learning-dist-arch","metadata":{"permalink":"/story/learning-dist-arch","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2016/2016-8-25-\u5206\u5E03\u5F0F\u67B6\u6784\u624B\u8BB0.md","source":"@site/../story/2016/2016-8-25-\u5206\u5E03\u5F0F\u67B6\u6784\u624B\u8BB0.md","title":"\u5206\u5E03\u5F0F\u67B6\u6784\u624B\u8BB0","description":"\u8FD9\u51E0\u5929\u5C1D\u8BD5\u4E86\u5F88\u591A\u7684 \\\\*aaS, \u671F\u671B\u80FD\u627E\u5230\u5728\u5F53\u524D\u67B6\u6784\u4E0B\u9002\u5408\u516C\u53F8\u540E\u7EED\u53D1\u5C55\u7684\u4E00\u4E2A\u7CFB\u7EDF\u67B6\u6784, \u7136\u800C\u4E00\u8DEF\u4E0B\u6765\u53D1\u73B0\u5E76\u6CA1\u90A3\u4E48\u7B80\u5355.","date":"2016-08-25T15:33:00.000Z","tags":[{"inline":true,"label":"\u67B6\u6784","permalink":"/story/tags/\u67B6\u6784"}],"readingTime":2.12,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u5206\u5E03\u5F0F\u67B6\u6784\u624B\u8BB0","slug":"learning-dist-arch","date":"2016-8-25 15:33","tags":["\u67B6\u6784"]},"unlisted":false,"prevItem":{"title":"Ubuntu \u65B0\u670D\u52A1\u5668\u914D\u7F6E","permalink":"/story/ubuntu-new-server"},"nextItem":{"title":"Go Redis module","permalink":"/story/go-rm"}},"content":"\u8FD9\u51E0\u5929\u5C1D\u8BD5\u4E86\u5F88\u591A\u7684 \\\\*aaS, \u671F\u671B\u80FD\u627E\u5230\u5728\u5F53\u524D\u67B6\u6784\u4E0B\u9002\u5408\u516C\u53F8\u540E\u7EED\u53D1\u5C55\u7684\u4E00\u4E2A\u7CFB\u7EDF\u67B6\u6784, \u7136\u800C\u4E00\u8DEF\u4E0B\u6765\u53D1\u73B0\u5E76\u6CA1\u90A3\u4E48\u7B80\u5355.\\n\\n\x3c!--more--\x3e\\n\\n\u7531\u4E8E\u4EBA\u5458\u7D27\u7F3A,\u89C4\u6A21\u6269\u5C55,\u8D8A\u6765\u8D8A\u591A\u7684\u57FA\u7840\u8BBE\u65BD\u9700\u8981\u7BA1\u7406\u90E8\u7F72\u548C\u63A7\u5236,\u5E76\u4E14\u516C\u53F8\u6CA1\u6709\u81EA\u5DF1\u7684\u8BBE\u65BD,\u4E3B\u8981\u7684\u57FA\u7840\u8BBE\u65BD\u6765\u6E90\u4E8E \u963F\u91CC\u4E91, \u8FD9\u4E5F\u4E0D\u77E5\u9053\u662F\u798F\u8FD8\u662F\u7978.\\n\\n[Kubernetes](https://en.wikipedia.org/wiki/Kubernetes) \u7528\u4E8E\u5BB9\u5668\u96C6\u7FA4\u8FDB\u884C\u7BA1\u7406,\u8BA9\u7528\u6237\u5FFD\u7565\u5E95\u5C42\u7684 IaaS, \u4F46\u5982\u679C\u6CA1\u6709\u5E95\u5C42\u7684 IaaS \u90A3\u4E48 Kubernetes \u7528\u8D77\u6765\u662F\u4E3E\u6B65\u7EF4\u8270\u7684.\u6211\u4EEC\u60F3\u8981\u5B9E\u73B0\u7684\u662F SaaS, \u9700\u8981\u7684\u5E73\u53F0\u662F PaaS Kubernetes, \u90A3\u4E48\u9700\u8981\u7684\u57FA\u7840\u8BBE\u65BD IaaS \u7528\u4E8E\u8FD0\u884C Kubernetes \u7684\u5E73\u53F0\u5FC5\u987B\u8981\u4E0E Kubernetes \u5341\u5206\\"\u53CB\u597D\\"\u624D\u80FD\u8BA9\u4F60\u611F\u89C9 Kubernetes \u662F\u4E00\u4E2A\u6709\u4EF7\u503C\u7684\u7CFB\u7EDF.\u800C\u963F\u91CC\u4E91\u5E76\u4E0D\u5728\\"\u53CB\u597D\\"\u4E4B\u5217. Kubernetes \u539F\u751F\u652F\u6301 Azure, GCE, AWS, \u5982\u679C\u516C\u53F8\u9009\u62E9\u7684\u662F\u8FD9\u5176\u4E2D\u4E00\u5BB6\u5E73\u53F0\u7684\u670D\u52A1,\u90A3\u4E48\u6211\u76F8\u4FE1 Kubernetes \u8FD8\u662F\u5F88\u597D\u7528\u7684,\u90A3\u7528\u963F\u91CC+ Kubernetes \u7684\u4E0D\u4FBF\u5728\u4F55\u5904?\\n\\n- \u963F\u91CC\u4E91\u5E76\u7B97\u4E0D\u4E0A\u4E00\u4E2A\u5408\u683C\u7684 IaaS, \u53EA\u662F\u670D\u52A1\u5668\u79DF\u8D41\u5546\\n- Kubernetes \u65E0\u6CD5\u5BF9\u963F\u91CC\u4E91\u670D\u52A1\u5668\u505A\u4EFB\u4F55\u63A7\u5236\\n- \u963F\u91CC\u4E91\u73B0\u6709\u670D\u52A1\u65E0\u6CD5\u548C Kubernetes \u6574\u5408\\n\\n\u8FD9\u5C31\u4F7F\u5F97\u672C\u6765\u5F88\u7B80\u5355\u7684\u4E1C\u897F\u53D8\u5F97\u5F88\u9EBB\u70E6\u4E86,\u56E0\u4E3A\u53D1\u73B0\u5F88\u591A\u4E1C\u897F\u90FD\u5F97\u81EA\u5DF1\u505A.\u6211\u7684\u76EE\u6807\u662F\u60F3\u8981\u4F7F\u7528\u57FA\u4E8E Kubernetes \u7684 [Deis](https://deis.com/workflow), Kubernetes \u7F3A\u5C11\u4E0E\u5E95\u5C42 IaaS \u7684\u96C6\u6210\u4F7F\u5F97 Deis \u51E0\u4E4E\u65E0\u6CD5\u4F7F\u7528(\u4F8B\u5982: IP \u7684\u5206\u914D).\u8BDA\u7136 Kubernetes \u5F88\u597D,\u7136\u800C\u4E0E\u6211\u4EEC\u65E0\u7F18.\\n\\n\u56E0\u4E3A\u6240\u6709\u7684\u4E3B\u673A\u90FD\u662F Ubuntu \u7684,\u60F3\u8981\u5C1D\u8BD5 juju, \u9047\u5230\u4E0E\u4E0A\u8FF0\u5B8C\u5168\u76F8\u540C\u7684\u95EE\u9898,\u65E0\u6CD5\u4E0E\u4E91\u5E73\u53F0\u96C6\u6210.\u800C MAAS, \u611F\u89C9\u4E0A\u4E0D\u592A\u6210\u719F,\u4F7F\u7528\u8D77\u6765\u4E0D\u592A\u53CB\u597D\u6240\u4EE5\u9009\u62E9\u4E86\u653E\u5F03.\u5230\u5934\u6765\u4F3C\u4E4E\u7B80\u5355\u8F7B\u91CF\u7684 Docker Swarm \u662F\u552F\u4E00\u7684\u9009\u62E9.\\n\\n\u8FD0\u884C\u5E73\u53F0\u9009\u5B9A\u4E86,\u53EF\u662F\u72B6\u6001\u5B58\u50A8\u4E5F\u662F\u4E00\u5927\u95EE\u9898. Docker Volume \u96C6\u6210\u7684\u7B2C\u4E09\u65B9\u4E91\u5B58\u50A8\u57FA\u672C\u662F\u7528\u4E0D\u4E0A\u7684(\u4F8B\u5982: EFS,Azure File Storage),\u6D89\u53CA\u5230\u5B58\u50A8\u7684\u4F8B\u5982 Docker Registry, \u4EE3\u7801\u4ED3\u5E93,\u4F46\u963F\u91CC\u7684 OSS \u4F3C\u4E4E\u5728\u8FD9\u91CC\u4E5F\u662F\u6307\u671B\u4E0D\u4E0A\u7684,\u5269\u4E0B\u7684\u552F\u4E00\u9009\u62E9\u4E5F\u5C31\u53EA\u80FD\u81EA\u5DF1\u642D\u5EFA\u4E86.Ceph \u4F3C\u4E4E\u662F\u4E0D\u4E8C\u9009\u62E9, \u53EA\u8981\u80FD\u63A5\u53D7\u5728\u963F\u91CC\u4E0A\u8D2D\u4E70\u8DB3\u591F\u591A\u7684\u786C\u76D8\u5373\u53EF.\\n\\n\u4F7F\u7528 Docker Swarm \u7528\u4E8E\u90E8\u7F72\u670D\u52A1\u5C42\u662F\u5F88\u65B9\u4FBF\u7684,\u4F46\u662F\u5BF9\u4E8E\u4EE3\u7801\u4ED3\u5E93\u6216 Docker Registry \u8FD8\u662F\u5EFA\u8BAE\u90E8\u7F72\u4E8E\u5355\u53F0\u670D\u52A1\u5668\u4E2D.\u4F7F\u7528 Overlay \u8FDB\u884C\u7F51\u7EDC\u9694\u79BB\u4EE5\u5B9E\u73B0\u4E0D\u540C\u7684\u73AF\u5883\u90E8\u7F72\u670D\u52A1."},{"id":"go-rm","metadata":{"permalink":"/story/go-rm","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/project/go-rm.md","source":"@site/../story/project/go-rm.md","title":"Go Redis module","description":"Writing Redis Module in Golang.","date":"2016-08-09T00:00:00.000Z","tags":[{"inline":true,"label":"\u9879\u76EE","permalink":"/story/tags/\u9879\u76EE"},{"inline":true,"label":"Golang","permalink":"/story/tags/golang"},{"inline":true,"label":"Redis","permalink":"/story/tags/redis"}],"readingTime":0.07,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Go Redis module","slug":"go-rm","date":"2016-08-09T00:00:00.000Z","tags":["\u9879\u76EE","Golang","Redis"],"baseUrl":"https://github.com/wenerme/go-rm/tree/master/"},"unlisted":false,"prevItem":{"title":"\u5206\u5E03\u5F0F\u67B6\u6784\u624B\u8BB0","permalink":"/story/learning-dist-arch"},"nextItem":{"title":"Play Tap Titans using shell","permalink":"/story/tap-titans"}},"content":"Writing Redis Module in Golang.\\n\\n\x3c!--more--\x3e\\n\\n\x3c!--import(https://raw.githubusercontent.com/wenerme/go-rm/master/README.md)--\x3e"},{"id":"tap-titans","metadata":{"permalink":"/story/tap-titans","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2016/2016-08-06-tap-titans.md","source":"@site/../story/2016/2016-08-06-tap-titans.md","title":"Play Tap Titans using shell","description":"Tap Titans on Play Store","date":"2016-08-06T23:43:00.000Z","tags":[{"inline":true,"label":"Game","permalink":"/story/tags/game"},{"inline":true,"label":"Android","permalink":"/story/tags/android"}],"readingTime":0.98,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Play Tap Titans using shell","slug":"tap-titans","date":"2016-8-6 23:43","tags":["Game","Android"]},"unlisted":false,"prevItem":{"title":"Go Redis module","permalink":"/story/go-rm"},"nextItem":{"title":"BBVM - BeBasic Virtual Machine","permalink":"/story/bbvm"}},"content":"[Tap Titans](https://play.google.com/store/apps/details?id=com.gamehivecorp.taptitans) on Play Store\\n\\n## Features\\n\\n- Auto upgrade\\n- Auto spell skill\\n- Auto start challenge\\n- Auto close ad dialog\\n- Verify fast tap (0.03s/tap)\\n\\n> **NOTE**\\n>\\n> - Only tested on Nexus 5, different devices may use different coordinates and event dev.\\n> - Used to plat tiantis long time ago, may not works in current version.Different version may use different color and coordinates\\n\\n## Requirement\\n\\n- ADB\\n- Image Magic\\n- Bash\\n\\n## Get started\\n\\n- Start game\\n- Get source [tap-titans-play.sh](https://github.com/wenerme/wener/tree/master/story/2016/tap-titans-play.sh)\\n\\n```bash\\nchmod +x play.sh\\n# Connect through lan, so you don\'t have to use the usb\\n./play.sh use-tcp\\n# Push the pre-generated event file\\nadb push events /mnt/sdcard\\n# Start playing\\n./play.sh\\n```\\n\\n## How is works ?\\n\\n### Why fast ?\\n\\n- Because I don\'t use `adb shell input tap`, instead use a generated file that represent a tap event, then `cat tap > /dev/input/event1`.\\n- Use generated shell run in android.\\n\\n### How to detect the screen event ?\\n\\nUse screen capture, then use the image magic to check the color,kind of slowly, but works.\\n\\n## More\\n\\nCheck the [source](https://github.com/wenerme/wener/tree/master/story/2016/tap-titans-play.sh)"},{"id":"bbvm","metadata":{"permalink":"/story/bbvm","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/project/bbvm.md","source":"@site/../story/project/bbvm.md","title":"BBVM - BeBasic Virtual Machine","description":"The first VM in my live.","date":"2015-10-30T00:00:00.000Z","tags":[{"inline":true,"label":"\u9879\u76EE","permalink":"/story/tags/\u9879\u76EE"},{"inline":true,"label":"Golang","permalink":"/story/tags/golang"},{"inline":true,"label":"Java","permalink":"/story/tags/java"},{"inline":true,"label":"\u6E38\u620F","permalink":"/story/tags/\u6E38\u620F"},{"inline":true,"label":"\u865A\u62DF\u673A","permalink":"/story/tags/\u865A\u62DF\u673A"},{"inline":true,"label":"\u6B65\u6B65\u9AD8","permalink":"/story/tags/\u6B65\u6B65\u9AD8"}],"readingTime":0.07,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"BBVM - BeBasic Virtual Machine","slug":"bbvm","date":"2015-10-30T00:00:00.000Z","tags":["\u9879\u76EE","Golang","Java","\u6E38\u620F","\u865A\u62DF\u673A","\u6B65\u6B65\u9AD8"],"baseUrl":"https://raw.githubusercontent.com/wenerme/bbvm/master/"},"unlisted":false,"prevItem":{"title":"Play Tap Titans using shell","permalink":"/story/tap-titans"},"nextItem":{"title":"Guava \u7B80\u4ECB","permalink":"/story/guava-intro"}},"content":"The first VM in my live.\\n\\n\x3c!--more--\x3e\\n\\n\x3c!--import(https://raw.githubusercontent.com/wenerme/bbvm/master/README.md)--\x3e"},{"id":"guava-intro","metadata":{"permalink":"/story/guava-intro","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2015/2015-10-02-guava-intro.md","source":"@site/../story/2015/2015-10-02-guava-intro.md","title":"Guava \u7B80\u4ECB","description":"Overviews - Five Ws","date":"2015-10-02T00:00:00.000Z","tags":[{"inline":true,"label":"Java","permalink":"/story/tags/java"}],"readingTime":1.88,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Guava \u7B80\u4ECB","slug":"guava-intro","date":"2015-10-02T00:00:00.000Z","tags":["Java"]},"unlisted":false,"prevItem":{"title":"BBVM - BeBasic Virtual Machine","permalink":"/story/bbvm"},"nextItem":{"title":"\u8F6C\u6218 Hugo, \u535A\u5BA2\u8FC1\u79FB\u4E4B\u8DEF","permalink":"/story/blog-hugo"}},"content":"## Overviews - Five Ws\\n\\n| \u95EE\u9898           | \u7B54\u6848                                                                                                                                                                                                                                                    |\\n| -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\\n| \u662F\u4EC0\u4E48         | \u4E00\u5957\u5F00\u6E90\u7684 Java \u516C\u5171\u7EC4\u4EF6                                                                                                                                                                                                                                |\\n| \u8C01\u5F00\u53D1\u7684       | \u4E3B\u8981\u7531 Google \u5DE5\u7A0B\u5E08\u5F00\u53D1\u7EF4\u62A4                                                                                                                                                                                                                            |\\n| \u54EA\u91CC\u7528         | \u6240\u6709\u4F7F\u7528 Java \u7684\u5730\u65B9                                                                                                                                                                                                                                    |\\n| \u4EC0\u4E48\u65F6\u5019\u51FA\u73B0\u7684 | 2008 \u5E74\u4E5D\u6708 \u7B2C\u4E00\u4E2A Google Collection \u7248\u672C\u51FA\u73B0\u5728 [maven \u4ED3\u5E93](http://mvnrepository.com/artifact/com.google.collections/google-collections);<br/>2010 \u5E74\u56DB\u6708\u7B2C\u4E00\u4E2A Guava \u7248\u672C\u51FA\u73B0\u5728[maven \u4ED3\u5E93](http://mvnrepository.com/artifact/com.google.guava/guava) |\\n| \u4EC0\u4E48\u4F7F\u7528       | \u4E3A\u4EC0\u4E48\u4E0D\u4F7F\u7528 ?                                                                                                                                                                                                                                          |\\n\\n\x3c!--more--\x3e\\n\\n## Features\\n\\n> **TIPS** \u53EF\u53C2\u8003[GuavaExplained]\u7684\u5DE6\u8FB9\u680F.\\n\\n- \u96C6\u5408\u521D\u59CB\u5316\u5DE5\u5177\u548C\u8F85\u52A9\u5DE5\u5177\\n- \u6709\u9650\u7684\u51FD\u6570\u5F0F\u7F16\u7A0B\u652F\u6301\\n- \u63D0\u4F9B\u5E38\u7528\u7684\u7279\u6B8A\u96C6\u5408\u7C7B\u578B\\n- \u6392\u5E8F\u7EC4\u4EF6\\n- \u4E8B\u4EF6\u603B\u7EBF\\n- \u7F13\u5B58\\n- \u5E76\u53D1\u8F85\u52A9\u7EC4\u4EF6\\n- \u5B57\u7B26\u4E32\u5DE5\u5177\\n- \u539F\u5B50\u7C7B\u578B\u5DE5\u5177\\n- IO \u8F85\u52A9\\n- \u54C8\u5E0C\u7EC4\u4EF6\\n- \u53CD\u5C04\u7EC4\u4EF6\\n- \u6570\u5B66\u7EC4\u4EF6\\n- ....\\n\\n## Who use Guava\\n\\n- \u5728 Maven \u4E2D\u592E\u4ED3\u5E93\u5927\u7EA6\u6709 [4500](http://mvnrepository.com/artifact/com.google.guava/guava) \u4E2A\u9879\u76EE\u4F9D\u8D56 Guava\\n- [FriendsOfGuava](https://code.google.com/p/guava-libraries/wiki/FriendsOfGuava) \u5217\u4E3E\u4E86\u4E00\u4E9B Guava \u53CB\u597D\u7684\u9879\u76EE\\n- \u5E38\u89C1\u7684\u4F7F\u7528 Guava \u7684\u9879\u76EE\\n  _ GSON\\n  _ Guice\\n  _ Hadoop,HBase,Spark \u7B49 Hadoop \u751F\u6001\u5708\u9879\u76EE\\n  _ Cassandra \\\\* ....\\n\\n## vs common-lang\\n\\n- Maven \u4E2D\u592E\u4ED3\u5E93\u5927\u7EA6\u6709 [3500](http://mvnrepository.com/artifact/commons-lang/commons-lang) \u4E2A\u9879\u76EE\u4F9D\u8D56 commons-lang\\n- Maven \u4E2D\u592E\u4ED3\u5E93\u5927\u7EA6\u6709 [2000](http://mvnrepository.com/artifact/org.apache.commons/commons-lang3) \u4E2A\u9879\u76EE\u4F9D\u8D56 [commons-lang3](http://commons.apache.org/proper/commons-lang/)\\n- Maven \u4E2D\u592E\u4ED3\u5E93\u5927\u7EA6\u6709 [4500](http://mvnrepository.com/artifact/com.google.guava/guava) \u4E2A\u9879\u76EE\u4F9D\u8D56 Guava\\n\\n| -             | \u7248\u672C | \u751F\u4EA7\u65E5\u671F | \u5927\u5C0F   |\\n| ------------- | ---- | -------- | ------ |\\n| Guava         | 18.0 | 2014.8   | 2.2 MB |\\n| commons-lang3 | v3.4 | 2015.4   | 425 KB |\\n| commons-lang  | v2.6 | 2015.4   | 278 KB |\\n\\n> **TIPS**\\n> Guava \u5E76\u6CA1\u6709\u5C06\u5404\u4E2A\u6A21\u5757\u5206\u79BB\u5F00\u6765,\u800C\u662F\u4F5C\u4E3A\u4E00\u4E2A\u5927\u7684 jar \u5305,\u5B98\u65B9\u63A8\u8350\u7684\u662F,\u4F7F\u7528 ProGuard \u6765\u5254\u9664\u81EA\u5DF1\u4E0D\u4F7F\u7528\u7684\u5185\u5BB9\\n> commons-lang \u53EA\u662F Apache Commons \u4E0B\u7684\u4E00\u5C0F\u90E8\u5206,\u5176\u4ED6\u7684\u8FD8\u6709 commons-io \u7B49\\n\\nGuava \u4E0E Commons-Lang \u5E76\u4E0D\u662F\u76F8\u4E92\u5BF9\u7ACB\u7684\u5173\u7CFB,\u800C\u662F\u53EF\u4EE5\u76F8\u4E92\u5E76\u5B58\u7684,\u5176\u4EA4\u96C6\u53EF\u80FD\u5728\u96C6\u5408\u5DE5\u5177\u7EC4\u4EF6\u8F83\u591A,\u800C\u5176\u4ED6\u65B9\u9762\u90FD\u662F\u5404\u6709\u6240\u957F,\u56E0\u4E3A\u5E76\u975E\u4E8C\u9009\u4E00\u7684\u95EE\u9898.\\n\\n## Reference\\n\\n- [Guava@Github](https://github.com/google/guava)\\n- [GuavaExplained]\\n- [gs-collections](https://github.com/goldmansachs/gs-collections) A supplement or replacement for the Java Collections Framework.\\n\\n[guavaexplained]: https://code.google.com/p/guava-libraries/wiki/GuavaExplained"},{"id":"blog-hugo","metadata":{"permalink":"/story/blog-hugo","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2015/2015-09-25-blog-hugo.md","source":"@site/../story/2015/2015-09-25-blog-hugo.md","title":"\u8F6C\u6218 Hugo, \u535A\u5BA2\u8FC1\u79FB\u4E4B\u8DEF","description":"\u90FD\u5FEB\u8981\u628A\u81EA\u5DF1\u611F\u52A8, \u4ECE\u6700\u521D(2011\u5E74)\u7684 Wordpress, \u5230\u540E\u6765\u81EA\u5DF1\u5F00\u53D1\u7684 Tellets , \u73B0\u5728\u53C8\u5230\u4E86 Hugo.","date":"2015-09-25T09:32:05.000Z","tags":[],"readingTime":0.89,"hasTruncateMarker":false,"authors":[],"frontMatter":{"date":"2015-09-25T09:32:05.000Z","title":"\u8F6C\u6218 Hugo, \u535A\u5BA2\u8FC1\u79FB\u4E4B\u8DEF","slug":"blog-hugo"},"unlisted":false,"prevItem":{"title":"Guava \u7B80\u4ECB","permalink":"/story/guava-intro"},"nextItem":{"title":"\u4E00\u81F4\u6027Hash\u7B97\u6CD5","permalink":"/story/ketama-consistence-hash"}},"content":"\u90FD\u5FEB\u8981\u628A\u81EA\u5DF1\u611F\u52A8, \u4ECE\u6700\u521D(2011\u5E74)\u7684 Wordpress, \u5230\u540E\u6765\u81EA\u5DF1\u5F00\u53D1\u7684 Tellets , \u73B0\u5728\u53C8\u5230\u4E86 Hugo.\\n\\n\u4E4B\u6240\u4EE5\u629B\u5F03 Wordpress \u662F\u56E0\u4E3A\u5B83\u592A\u7B28\u91CD\u4E86,\u90A3\u4E9B\u5E74\u662F\u79DF\u7684\u865A\u62DF\u4E3B\u673A\u6765\u6302\u535A\u5BA2,\u6BCF\u5E74\u4E5F\u8FD8\u4F1A\u6709\u4E9B\u6295\u5165,\u4F46\u662F\u540E\u6765\u5F88\u5C11\u7EF4\u62A4\u4E86,\u4FBF\u4E0D\u5728\u60F3\u7EED\u8D39\u4E86.\\n\\n\u540E\u9762\u60F3\u627E\u4E00\u4E2A\u8F7B\u4FBF\u7684\u80FD\u6839\u636E\u6587\u4EF6\u65F6\u751F\u6210\u7684\u535A\u5BA2\u7CFB\u7EDF,\u6240\u5E78\u627E\u5230\u4E86 Droplet,\u4F46\u53D1\u73B0\u597D\u591A\u4E1C\u897F\u90FD\u4E0D\u80FD\u6EE1\u8DB3\u8981\u6C42,\u540E\u6765\u628A Droplet \u5B8C\u5168\u91CD\u5199\u6210\u4E86 Tellts,\u81EA\u5DF1\u6DFB\u52A0\u7684\u6700\u559C\u6B22\u7684\u529F\u80FD\u662F\u76F4\u63A5\u914D\u7F6E Github \u7684\u6587\u7AE0\u5F15\u7528. Tellets \u4E5F\u662F PHP \u7684,\u800C\u4E14\u5FC5\u987B\u8981\u652F\u6301\u6587\u4EF6\u64CD\u4F5C,\u4F46\u5F88\u591A PHP \u5E94\u7528\u670D\u52A1\u5668\u90FD\u4E0D\u63D0\u4F9B\u6587\u4EF6\u64CD\u4F5C(\u4F8B\u5982: \u65B0\u6D6A SEA, \u5F53\u521D\u7684\u4EAC\u4E1C\u4E91\u64CE),\u540E\u6765\u4E3B\u673A\u505C\u4E86\u4FBF\u6CA1\u6709\u53BB\u7BA1\u4E86. \u518D\u540E\u6765\u6709\u70B9\u60F3\u7528 Go \u91CD\u5199 Tellts, \u4F46\u5B9E\u5728\u6CA1\u65F6\u95F4,\u7136\u540E\u53C8\u8FC7\u4E86\u5F88\u957F\u4E00\u6BB5\u65F6\u95F4.\\n\\n\u5728\u5DE5\u4F5C\u7684\u60C5\u51B5\u4E0B\u9700\u8981\u4E86\u89E3 Docker, \u987A\u52BF\u4E5F\u5C31\u5229\u7528 Docker \u90E8\u7F72\u4E86 Hugo."},{"id":"ketama-consistence-hash","metadata":{"permalink":"/story/ketama-consistence-hash","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2014/2014-11-12-\u4E00\u81F4\u6027Hash\u7B97\u6CD5.md","source":"@site/../story/2014/2014-11-12-\u4E00\u81F4\u6027Hash\u7B97\u6CD5.md","title":"\u4E00\u81F4\u6027Hash\u7B97\u6CD5","description":"\u8BE5\u7B97\u6CD5\u6700\u5F00\u59CB\u662F\u5F00\u53D1\u6765\u66FF\u4EE3memcached\u952E\u5230\u670D\u52A1\u5668\u7684\u6620\u5C04\u7B97\u6CD5\u7684.","date":"2014-11-12T00:00:00.000Z","tags":[{"inline":true,"label":"\u7B97\u6CD5","permalink":"/story/tags/\u7B97\u6CD5"}],"readingTime":2.69,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"ketama-consistence-hash","title":"\u4E00\u81F4\u6027Hash\u7B97\u6CD5","tags":["\u7B97\u6CD5"]},"unlisted":false,"prevItem":{"title":"\u8F6C\u6218 Hugo, \u535A\u5BA2\u8FC1\u79FB\u4E4B\u8DEF","permalink":"/story/blog-hugo"},"nextItem":{"title":"\u6D88\u606F\u4E2D\u95F4\u4EF6\u7B80\u4ECB mom-intro","permalink":"/story/mom-intro"}},"content":"\u8BE5\u7B97\u6CD5\u6700\u5F00\u59CB\u662F\u5F00\u53D1\u6765\u66FF\u4EE3`memcached`\u952E\u5230\u670D\u52A1\u5668\u7684\u6620\u5C04\u7B97\u6CD5\u7684.\\n\\n\x3c!--more--\x3e\\n\\n\u5728\u8FD9\u4E4B\u524D,\u5BA2\u6237\u7AEF\u6620\u5C04\u952E\u5230\u670D\u52A1\u5668\u7684\u65B9\u6CD5\u7C7B\u4F3C\u4E8E:\\n` server = serverlist[hash(key)%serverlist.length];`\\n\u8FD9\u5C31\u610F\u5473\u7740,\u4E0D\u7BA1\u6211\u4EEC\u4ECE\u6C60\u4E2D\u589E\u52A0\u6216\u5220\u9664\u8282\u70B9,\u90FD\u4F1A\u5BFC\u81F4\u6240\u6709\u5DF2\u7ECF hash \u7684\u503C\u4ECE\u65B0 hash \u5230\u4E0D\u540C\u7684\u8282\u70B9,\u8FD9\u4F1A\u5BFC\u81F4\u6240\u6709`memcached`\u7684\u6240\u6709\u7F13\u5B58\u5931\u6548.\\n\\nKetama \u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u6765\u89E3\u51B3\u4E86\u8BE5\u95EE\u9898:\\n\\n- \u4F7F\u7528\u6307\u5B9A\u7684\u4E00\u7EC4\u670D\u52A1(\u4F8B\u5982: 1.2.3.4:11211, 5.6.7.8:11211, 9.8.7.6:11211)\\n- \u5C06\u6BCF\u4E2A\u670D\u52A1\u7684\u5B57\u7B26\u4E32\u90FD hash \u4E3A\u591A\u4E2A(100-200 \u4E2A)\u65E0\u7B26\u53F7\u6574\u6570\\n- \u6982\u5FF5\u4E0A,\u8FD9\u4E9B\u6570\u5B57\u662F\u653E\u7F6E\u5728\u4E00\u4E2A\u73AF\u4E0A\u7684.(\u60F3\u8C61\u4E00\u4E2A\u65F6\u949F\u90A3\u6837,\u4ECE 0 - 2^32 \u6B21\u65B9\u7684\u4E00\u4E2A\u73AF)\\n- \u6BCF\u4E2A\u6570\u7EC4\u90FD\u5173\u8054\u5B83 hash \u4E4B\u524D\u7684\u90A3\u4E2A\u670D\u52A1\u5668\u5730\u5740,\u56E0\u6B64,\u4E00\u4E2A\u670D\u52A1\u4F1A\u5728\u73AF\u4E0A\u51FA\u73B0\u591A\u6B21.\u51FA\u73B0\u7684\u65B9\u5F0F\u4F1A\u4EE5\u4ED6\u4EEC hash \u540E\u7684\u6570\u5B57\u6765\u8868\u793A\\n- \u4E3A\u4E86\u5C06\u4E00\u4E2A\u952E\u6620\u5C04\u5230\u670D\u52A1\u5668,\u9996\u5148\u5C06\u952E\u503C hash \u4E3A\u4E00\u4E2A\u65E0\u7B26\u53F7\u6574\u6570,\u7136\u540E\u5728\u73AF\u4E0A\u627E\u5230\u4E0B\u4E00\u4E2A\u6700\u5927\u7684\u6570\u5B57.\u8BE5\u670D\u52A1\u4F1A\u88AB\u9009\u62E9\u6765\u5B58\u653E\u8BE5\u952E\u503C\\n- \u5982\u679C hash \u7684\u952E\u503C\u63A5\u8FD1 2^32 \u6B21\u65B9,\u90A3\u4E48\u53EF\u80FD\u5728\u73AF\u4E0A\u6CA1\u6709\u6BD4\u8BE5 hash \u503C\u5927\u7684\u7684 hash,\u6B64\u65F6\u8FD4\u56DE\u73AF\u4E0A\u7684\u7B2C\u4E00\u4E2A\u670D\u52A1.\\n\\n\u8FD9\u6837\u5B9E\u73B0\u4EE5\u540E,\u5728\u8BE5\u670D\u52A1\u5217\u8868\u4E0A\u8FDB\u884C\u6DFB\u52A0\u548C\u5220\u9664\u53EA\u4F1A\u5BF9\u4E00\u5C0F\u90E8\u5206\u7684\u952E\u503C\u6620\u5C04\u4EA7\u751F\u5F71\u54CD,\u56E0\u6B64\u53EA\u9700\u8981\u4ECE\u65B0\u6620\u5C04\u4E00\u5C0F\u90E8\u5206\u503C.\\n\\n\u6B64\u5916,\u5982\u679C\u60F3\u8981\u63A7\u5236\u670D\u52A1\u5668\u7684\u6743\u91CD,\u5219\u53EF\u4EE5\u901A\u8FC7\u589E\u52A0\u8BE5\u670D\u52A1\u7684 hash \u503C\u6570\u91CF\u6765\u5B9E\u73B0.\\n\\n_\u539F\u6587_\\n\\nThis was initially written to replace how our memcached clients mapped keys to servers.\\n\\nPreviously, clients mapped keys->servers like this:\\n` server = serverlist[hash(key)%serverlist.length];`\\n\\nThis meant that whenever we added or removed servers from the pool, everything hashed to different servers, which effectively wiped the entire cache.\\n\\nKetama solves this problem in the following way:\\n\\n- Take your list of servers (eg: 1.2.3.4:11211, 5.6.7.8:11211, 9.8.7.6:11211)\\n- Hash each server string to several (100-200) unsigned ints\\n- Conceptually, these numbers are placed on a circle called the continuum. (imagine a clock face that goes from 0 to 2^32)\\n- Each number links to the server it was hashed from, so servers appear at several points on the continuum, by each of the numbers they hashed to.\\n- To map a key->server, hash your key to a single unsigned int, and find the next biggest number on the continuum. The server linked to that number is the correct server for that key.\\n- If you hash your key to a value near 2^32 and there are no points on the continuum greater than your hash, return the first server in the continuum.\\n\\nIf you then add or remove a server from the list, only a small proportion of keys end up mapping to different servers.\\n\\n## \u53C2\u8003\\n\\n- [\u539F\u6587](http://www.audioscrobbler.net/development/ketama/)\\n- [\u53C2\u8003 Java \u5B9E\u73B0](https://github.com/RJ/ketama/blob/master/java_ketama/SockIOPool.java)\\n- [\u7EF4\u57FA\u767E\u79D1 Consistent hashing](http://en.wikipedia.org/wiki/Consistent_hashing)"},{"id":"mom-intro","metadata":{"permalink":"/story/mom-intro","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2014/2014-09-06-mom-intro.md","source":"@site/../story/2014/2014-09-06-mom-intro.md","title":"\u6D88\u606F\u4E2D\u95F4\u4EF6\u7B80\u4ECB mom-intro","description":"\u540C\u6B65","date":"2014-09-06T00:00:00.000Z","tags":[{"inline":true,"label":"\u4E2D\u95F4\u4EF6","permalink":"/story/tags/\u4E2D\u95F4\u4EF6"}],"readingTime":3.27,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"mom-intro","title":"\u6D88\u606F\u4E2D\u95F4\u4EF6\u7B80\u4ECB mom-intro","tags":["\u4E2D\u95F4\u4EF6"]},"unlisted":false,"prevItem":{"title":"\u4E00\u81F4\u6027Hash\u7B97\u6CD5","permalink":"/story/ketama-consistence-hash"},"nextItem":{"title":"CentOS \u65B0\u624B","permalink":"/story/centos-newbie"}},"content":"## \u540C\u6B65\\n\\n\u5206\u5E03\u5F0F\u5BF9\u8C61\u6280\u672F(Distributed Object Technologies - DOT), \u8FDC\u7A0B\u8FC7\u7A0B\u8C03\u7528 RPC: \u540C\u6B65\u64CD\u4F5C (\u8C03\u7528\u88AB\u963B\u585E,\u76F4\u5230\u88AB\u8C03\u7528\u8005\u8FD4\u56DE).\\n\\n\x3c!--more--\x3e\\n\\n\x3c!--\\nhttps://bramp.github.io/js-sequence-diagrams/\\n--\x3e\\n\\n```\\ntitle: \u7B80\u5355\u7684\u8FDC\u7A0B\u8C03\u7528\\n\u5BA2\u6237\u7AEF->>\u670D\u52A1\u7AEF: 1.\u8FDC\u7A0B\u8C03\u7528\\nNote right of \u670D\u52A1\u7AEF: 2.\u670D\u52A1\u5668\u5904\u7406\u8BF7\u6C42\\nNote left of \u5BA2\u6237\u7AEF: \u5BA2\u6237\u7AEF\u88AB\u963B\u585E\\n\u670D\u52A1\u7AEF--\x3e>\u5BA2\u6237\u7AEF: 3. \u8C03\u7528\u8FD4\u56DE\\n```\\n\\n```\\ntitle: \u5E26\u56DE\u8C03\u7684\u8FDC\u7A0B\u8C03\u7528\\n\u5BA2\u6237\u7AEF->>\u670D\u52A1\u7AEF: 1.\u8FDC\u7A0B\u8C03\u7528\\nNote right of \u670D\u52A1\u7AEF: 2.\u670D\u52A1\u5668\u5904\u7406\u8BF7\u6C42\\nNote left of \u5BA2\u6237\u7AEF: \u5BA2\u6237\u7AEF\u88AB\u963B\u585E\\n\u670D\u52A1\u7AEF->>\u5BA2\u6237\u7AEF: 3. \u56DE\u8C03\\n\u5BA2\u6237\u7AEF--\x3e>\u670D\u52A1\u7AEF: 4. \u56DE\u8C03\u8FD4\u56DE\\n\u670D\u52A1\u7AEF--\x3e>\u5BA2\u6237\u7AEF: 5. \u8FD4\u56DE\u8FDC\u7A0B\u8C03\u7528\\n```\\n\\n\u8BE5\u79CD\u6A21\u5F0F\u5F15\u53D1\u7684\u95EE\u9898:\\n\\n1. \u5BA2\u6237\u7AEF\u4F1A\u4E00\u76F4\u88AB\u963B\u585E,\u76F4\u5230\u670D\u52A1(\u5BF9\u8C61\u64CD\u4F5C)\u8FD4\u56DE(\u7D27\u8026\u5408).\\n2. \u8FC7\u5EA6\u7684\u94FE\u63A5(\u6BCF\u6B21\u8C03\u7528\u90FD\u9700\u8981\u4E00\u4E2A\u94FE\u63A5\u6765\u8FDB\u884C\u5904\u7406\u548C\u7F51\u7EDC\u8BBF\u95EE\u7B49).\\n3. \u5F88\u96BE\u5BF9\u8C03\u7528\u5931\u8D25\u505A\u51FA\u54CD\u5E94(\u8C03\u7528\u7684\u670D\u52A1\u53EF\u80FD\u629B\u51FA\u5F02\u5E38,\u53EF\u80FD\u670D\u52A1\u672A\u542F\u52A8\u7B49...).\\n4. \u4E0D\u9002\u7528\u4E8E\u5D4C\u5957\u8C03\u7528(\u670D\u52A1\u5BF9\u8C61\u8C03\u7528\u5BA2\u6237\u7AEF\u7684\u5BF9\u8C61\u53C8\u9700\u8981\u5F15\u5165\u53E6\u5916\u4E00\u4E2A\u670D\u52A1\u5BF9\u8C61\u7684\u64CD\u4F5C).\\n\\n## \u5F02\u6B65\\n\\n\u6D88\u606F\u4E2D\u95F4\u4EF6 (Message Oriented Middleware - MOM)\\n\\n- \u5F02\u6B65\u64CD\u4F5C(\u8C03\u7528\u8005\u53D1\u9001\u4E00\u4E2A\u6D88\u606F,\u7136\u540E\u7EE7\u7EED\u5DE5\u4F5C,\\"fire and forget\\")\\n- \u5B58\u50A8,\u8F6C\u53D1\u901A\u4FE1\\n- \u53D1\u9001\u548C\u63A5\u6536\u4E4B\u95F4\u662F\u677E\u8026\u5408\u7684\\n  1.  \u4E0D\u9700\u8981\u5728\u540C\u4E00\u65F6\u95F4\u5B58\u6D3B\\n  2.  \u53D1\u9001\u8005\u4E0D\u9700\u8981\u77E5\u9053\u63A5\u6536\u8005\u7684\u5177\u4F53\u4F4D\u7F6E,\u53CD\u4E4B\u4EA6\u7136.\\n\\n```sequence\\n\u53D1\u9001\u5E94\u7528->\u53D1\u9001\u961F\u5217:\u975E\u963B\u585E\u6D88\u606F\u53D1\u9001\u64CD\u4F5C\\n\u53D1\u9001\u961F\u5217->\u7F51\u7EDC\\n\u7F51\u7EDC->\u63A5\u6536\u961F\u5217\\n\u63A5\u6536\u961F\u5217->\u63A5\u6536\u5E94\u7528\\n```\\n\\n\u7C7B\u6BD4:\\n\\n\u540C\u6B65(RPC/DOT) -> \u7535\u8BDD\\n\u5F02\u6B65(MOM) -> \u90AE\u4EF6\\n\\n# 2. \u6D88\u606F\u6A21\u578B\\n\\n1. \u70B9\u5230\u70B9 (P2P - Point to Point) {#ch-2-1}\\n\\n---\\n\\n- \u6BCF\u4E2A\u63A5\u6536\u8005(\u5E94\u7528)\u4E00\u4E2A\u961F\u5217\\n- \u4E00\u5BF9\u4E00(1 \u4E2A\u53D1\u9001\u8005,\u4E00\u4E2A\u63A5\u6536\u8005)\u6216\u8005\u591A\u5BF9\u4E00(\u591A\u4E2A\u53D1\u9001\u8005,\u4E00\u4E2A\u63A5\u6536\u8005)\u7684\u6D88\u606F\u673A\u5236.\\n\\n2. \u53D1\u5E03-\u8BA2\u9605 (PubSub - Publish - Subscribe) {#ch-2-2}\\n\\n# 3. \u961F\u5217\u7C7B\u578B\\n\\n- \u6240\u6709\u7684\u6D88\u606F\u90FD\u6709\u76F8\u540C\u7684\u4F18\u5148\u7EA7\\n- \u6D88\u606F\u4EE5\u4ED6\u4EEC\u53D1\u9001\u7684\u987A\u5E8F\u8FDB\u884C\u5206\u53D1\\n\\n```\\nNote over \u5148\u8FDB\u5148\u51FA\u961F\u5217: \u53D1\u9001\u5E94\u7528\\nNote over \u5148\u8FDB\u5148\u51FA\u961F\u5217: \u6D88\u606F 3\\nNote over \u5148\u8FDB\u5148\u51FA\u961F\u5217: \u6D88\u606F 2\\nNote over \u5148\u8FDB\u5148\u51FA\u961F\u5217: \u6D88\u606F 1\\nNote over \u5148\u8FDB\u5148\u51FA\u961F\u5217: \u6D88\u606F\u961F\u5217\\nNote over \u5148\u8FDB\u5148\u51FA\u961F\u5217: \u6D88\u606F 3\\nNote over \u5148\u8FDB\u5148\u51FA\u961F\u5217: \u6D88\u606F 2\\nNote over \u5148\u8FDB\u5148\u51FA\u961F\u5217: \u6D88\u606F 1\\nNote over \u5148\u8FDB\u5148\u51FA\u961F\u5217: \u63A5\u6536\u5E94\u7528\\n```\\n\\n## \u4F18\u5148\u7EA7\u961F\u5217\\n\\n- \u6D88\u606F\u7F13\u5B58\u5728 FIFO \u961F\u5217\u4E2D,\u5E76\u4EE5\u4F18\u5148\u7EA7\u8FDB\u884C\u6392\u5E8F\\n- \u8BE5\u6392\u5E8F\u4F1A\u5E94\u7528\u5728\u5DF2\u7ECF\u63A5\u6536\u5230\u7684\u6D88\u606F\u4E0A\\n\\n```\\nNote over \u4F18\u5148\u7EA7\u961F\u5217: \u53D1\u9001\u5E94\u7528\\nNote over \u4F18\u5148\u7EA7\u961F\u5217: \u6D88\u606F 3 \u4F18\u5148\u7EA7 1\\nNote over \u4F18\u5148\u7EA7\u961F\u5217: \u6D88\u606F 2 \u4F18\u5148\u7EA7 3\\nNote over \u4F18\u5148\u7EA7\u961F\u5217: \u6D88\u606F 1 \u4F18\u5148\u7EA7 2\\nNote over \u4F18\u5148\u7EA7\u961F\u5217: \u6D88\u606F\u961F\u5217 - \u6839\u636E\u6D88\u606F\u7684\u4F18\u5148\u7EA7\u4ECE\u6392\u5E8F\\nNote over \u4F18\u5148\u7EA7\u961F\u5217: \u6D88\u606F 2 \u4F18\u5148\u7EA7 3\\nNote over \u4F18\u5148\u7EA7\u961F\u5217: \u6D88\u606F 1 \u4F18\u5148\u7EA7 2\\nNote over \u4F18\u5148\u7EA7\u961F\u5217: \u6D88\u606F 3 \u4F18\u5148\u7EA7 1\\nNote over \u4F18\u5148\u7EA7\u961F\u5217: \u63A5\u6536\u5E94\u7528\\n```\\n\\n## \u5171\u6709/\u79C1\u6709\u961F\u5217\\n\\n- \u5B9A\u4E49\u4E0D\u540C\u7684\u8BBF\u95EE\u6743\u9650\\n  1.  \u5171\u6709\u961F\u5217: \u6240\u6709\u53D1\u9001\u8005\u5747\u80FD\u53D1\u9001\u6D88\u606F,\u4E0D\u9700\u8981\u8BBF\u95EE\u63A7\u5236\\n  2.  \u79C1\u6709\u961F\u5217: \u53D1\u9001\u8005\u53D1\u9001\u5230\u79C1\u6709\u961F\u5217\u9700\u8981\u8FDB\u884C\u8BA4\u8BC1\\n\\n## \u5176\u4ED6\u7C7B\u578B\u961F\u5217\\n\\n\u65E5\u5FD7\u961F\u5217\\n: \u6D88\u606F\u7CFB\u7EDF\u4F1A\u4FDD\u5B58\u4E00\u4E2A\u8BE5\u961F\u5217\u7684\u526F\u672C,\u8FBE\u5230\u65E5\u5FD7\u8BB0\u5F55\u6216\u76D1\u63A7\u7684\u76EE\u7684\\n\\nDead-letter \u961F\u5217\\n: \u8BE5\u961F\u5217\u4F1A\u6301\u6709\u6240\u6709\u65E0\u6CD5\u5206\u53D1\u7684\u6D88\u606F(\u56E0\u4E3A TTL \u8FC7\u65F6\u7684\u6D88\u606F\u6216\u961F\u5217\u5730\u5740\u65E0\u6CD5\u89E3\u6790\u7684\u6D88\u606F).\\n\\n\u6865\u63A5\u548C\u8FDE\u63A5\u5668\u961F\u5217(Bridge/connector queue)\\n: \u8FDE\u63A5\u4E0D\u540C\u7684\u961F\u5217\u7CFB\u7EDF,\u4F8B\u5982: MSMQ, JMS\\n\\n# 4. \u6D88\u606F\u4E2D\u8F6C(Message broker) - \u5E94\u7528\u96C6\u6210\u6A21\u5F0F\\n\\nMessage broker \u5C06\u6D88\u606F\u5206\u53D1\u7ED9\u63A5\u6536\u8005\\n\\n# \u53C2\u8003\\n\\n- \u539F\u6587 http://www.slideshare.net/PeterREgli/mom-message-oriented-middleware"},{"id":"centos-newbie","metadata":{"permalink":"/story/centos-newbie","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2014/2014-06-21-centos-newbie.md","source":"@site/../story/2014/2014-06-21-centos-newbie.md","title":"CentOS \u65B0\u624B","description":"\u8BB0\u5F55\u6211\u73A9 centos \u7684\u7ECF\u5386","date":"2014-06-21T00:00:00.000Z","tags":[],"readingTime":13.59,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"centos-newbie","title":"CentOS \u65B0\u624B"},"unlisted":false,"prevItem":{"title":"\u6D88\u606F\u4E2D\u95F4\u4EF6\u7B80\u4ECB mom-intro","permalink":"/story/mom-intro"},"nextItem":{"title":"\u6211\u7684\u7F16\u7A0B\u4E4B\u9053","permalink":"/story/the-why-i-write-code"}},"content":"> \u8BB0\u5F55\u6211\u73A9 centos \u7684\u7ECF\u5386\\n> \u5F88\u591A\u65F6\u5019\u9700\u8981 sudo \u7B49 root \u6743\u9650\u7684\u65F6\u5019\u9700\u8981\u81EA\u884C\u5224\u65AD.\u5C3D\u91CF\u4E0D\u76F4\u63A5\u7528 root \u5E10\u6237.\\n\\n> \u6211\u81EA\u5DF1\u4F7F\u7528\u65F6\u7684\u4E3B\u8981\u5B89\u88C5\u8FC7\u7A0B\\n>\\n> \u521D\u59CB\u914D\u7F6E -> \u8BBE\u7F6E\u597D openssh-server -> \u6DFB\u52A0\u989D\u5916\u7684 repo -> \u5B89\u88C5 git\\n> \u4E0B\u8F7D\u6211\u7684[dotfiles](https://github.com/wenerme/dotfiles)\\n> \u5176\u4ED6\u6B65\u9AA4\u5219\u6309\u9700\u8FDB\u884C\\n\\n\x3c!-- more --\x3e\\n\\n## \u521D\u59CB minimal \u914D\u7F6E\\n\\n```bash\\n# \u9996\u5148\u662F\u6253\u5F00\u7F51\u7EDC\u54AF\\nifconfig eth0 up\\ndhclient\\n# \u6DFB\u52A0\u4E2A\u5E10\u53F7, \u8BBE\u7F6E\u597D\u5BC6\u7801\\nuseradd wener\\npasswd wener\\n# \u628A \u521B\u5EFA\u7684\u5E10\u53F7\u6DFB\u52A0\u5230 sudoers file \u4E2D\\necho \\"wener ALL=(ALL) ALL\\" >> /etc/sudoers\\n# \u66F4\u65B0\u4E00\u4E0B\u5148\\nyum update -y\\n# \u56E0\u4E3A\u662F minimal \u7248\u672C, \u5148\u5B89\u88C5\u4E00\u4E9B\u5FC5\u8981\u7684\u4E1C\u897F\\nyum install man wget curl -y\\n# \u767B\u51FA,\u4E0B\u9762\u7684\u64CD\u4F5C\u4E0D\u5728root\u4E0B\u64CD\u4F5C\u4E86,\u5B89\u5168\u70B9\\nlogout\\n# \u7528\u4E4B\u524D\u521B\u5EFA\u7684\u5E10\u53F7\u767B\u5F55\\n```\\n\\n## \u975E minimal \u7684\u51C6\u5907\\n\\n```bash\\n# Download ISOs\\n# UNETBootin\\n# Install\\n# ===============\\n# Configuration\\n# ===============\\n# basic upgrade\\nsu root\\nyum upgrade\\n```\\n\\n## \u6DFB\u52A0\u5176\u4ED6\u7684 repo\\n\\n```bash\\n# add rpmforge\\n# fllow this http://wiki.centos.org/AdditionalResources/Repositories/RPMForge\\nrpm --import http://apt.sw.be/RPM-GPG-KEY.dag.txt\\n# \u7248\u672C\u53F7\u53EF\u80FD\u6709\u6240\u4E0D\u540C,\u53C2\u89C1\u4E0A\u9762\u7684\u94FE\u63A5\\n# \u6839\u636E\u4E2A\u4EBA\u7684\u7CFB\u7EDF\u6784\u67B6`uname -i`\u9009\u62E9 i686 \u6216 x86_64\\nwget http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm\\nrpm -K rpmforge-release-*.rpm\\nrpm -i rpmforge-release-*.rpm\\nyum upgrade\\n```\\n\\n## \u6742\u9879\\n\\n```bash\\n# lscpi\\nyum install pciutils -y\\n# iwconfig \u7B49\u65E0\u7EBF\u5DE5\u5177\\nyum install wireless-tools -y\\n\\n# \u5217\u51FA\u5DF2\u5B89\u88C5\u7684\u5305\\nyum list installed\\n\\n# \u5207\u6362 TTY \u7684\u5FEB\u6377\u952E <C-A-F1-6>\\n\\n# sudo \u9644\u52A0\u5230\u6587\u4EF6\\necho BOOTPROTO=dhcp | sudo tee -a /etc/sysconfig/network-scripts/ifcfg-wlan0\\n\\n# \u6302\u8F7D vbox \u7684\u5171\u4EAB\u76EE\u5F55\\nmkdir ~/shared\\nsudo mount -t vboxsf shared ~/shared\\n\\n# \u4F7F\u7528sudo\u627E\u4E0D\u5230\u547D\u4EE4\u7684\u65F6\u5019\\n# \u53EF\u4EE5\u8003\u8651\u5C06 /usr/local/bin/:/usr/local/sbin/\\n# \u6DFB\u52A0\u5230 /etc/sudoers \u7684 secure_path \u4E2D\\n\\n# \u5224\u65AD\u8FDC\u7A0B\u67D0\u7AEF\u53E3\u662F\u5426\u5F00\u542F\\ntimeout 1 bash -c \'cat < /dev/null > /dev/tcp/192.168.56.101/8087\'\\necho $?\\n```\\n\\nCentOS \u4E0B \u5B89\u88C5\u7684 wpa_supplicant \u6CA1\u6709 wpa_gui,\u53EF\u4EE5\u53C2\u89C1 [\u8FD9\u91CC](http://www.linuxfromscratch.org/blfs/view/svn/basicnet/wpa_supplicant.html),\u4E3B\u8981\u662F\u56E0\u4E3A centos \u7684 wpa_supplicant \u7248\u672C\u592A\u8001\u4E86,0.7 \u7684,\u73B0\u5728\u6700\u65B0\u7684\u662F 2.1 \u7684,\u67E5\u770B[\u5B98\u65B9\u4E3B\u9875](http://w1.fi/wpa_supplicant/)\u53EF\u4E0B\u8F7D.\u4F46\u662F\u8FD9\u4E2A\u8F6F\u4EF6\u7684\u4F9D\u8D56\u9879\u5BF9 centos \u6765\u8BF4 \u7248\u672C\u592A\u9AD8\u4E86,\u5B89\u88C5\u8D77\u6765\u975E\u5E38\u590D\u6742.\\n\\n## \u542F\u52A8\u4E0D\u5E26\u7A97\u53E3\u7684 vbox\\n\\n\u5F88\u591A\u65F6\u5019\u53EA\u9700\u8981\u8BA9\u7CFB\u7EDF\u8FD0\u884C, \u7136\u540E\u8FDC\u7A0B ssh \u8BBF\u95EE, \u540C\u65F6\u4E5F\u8282\u7EA6\u70B9\u5185\u5B58.\\n\\n```bash\\n# \u65B9\u6CD5\u4E00. \u4F7F\u7528\u547D\u4EE4\u884C\\n# \u77E5\u9053\u542F\u52A8\u7CFB\u7EDF\u7684\u540D\u5B57\u6216UUID\\nVBoxManager list vms\\n# \u542F\u52A8\u6307\u5B9A\u7684\u7CFB\u7EDF\\nVBoxManager -s UUID\\n# \u6216\\nVBoxManager -s \u7CFB\u7EDF\u540D\u5B57\\n# \u65B9\u6CD5\u4E8C. \u5728\u70B9\u542F\u52A8\u6309\u94AE\u7684\u65F6\u5019,\u6309\u4F4F Shift \u5373\u53EF\\n```\\n\\n## \u5B89\u88C5\u524D\u63D0\\n\\n```\\n# \u5728\u8FDB\u884C\u4E0B\u5217\u5B89\u88C5\u7684\u65F6\u5019 \u5047\u8BBE\u5DF2\u7ECF\u8BBE\u7F6E\u597D\u4E86 rpmforg \u5DF2\u7ECF\u5B89\u88C5\u4E86\u5F00\u53D1tao#\u5957\u4EF6 groupinstall \\"Development tools\\" -y\\n```\\n\\n## Install 7z\\n\\n```bash\\n# Install 7zip, centos can not uncompress some zip file.\\nyum install p7zip -y\\n```\\n\\n## \u5B89\u88C5 GUI, \u53EA\u9488\u5BF9\u4E8E minimal \u5B89\u88C5\u7684\\n\\n```bash\\nyum -y groupinstall \\"X Window System\\" \\"Desktop\\" \\"Fonts\\" \\"General Purpose Desktop\\"\\n# \u9ED8\u8BA4\u662F\u6CA1\u6709\u706B\u72D0\u7684,\u81EA\u5DF1\u624B\u52A8\u5B89\u88C5\\nyum -y firefox\\n```\\n\\n## \u5B89\u88C5 virtual-box \u7684\u9644\u52A0\u6269\u5C55\\n\\n\u4E00\u822C\u76F4\u63A5\u5B89\u88C5\u6269\u5C55\u7684\u65F6\u5019\u5B89\u88C5\u4E3B\u6A21\u5757\u6709\u53EF\u80FD\u5931\u8D25.\\n\\n```bash\\n# \u53C2\u8003 http://wiki.centos.org/HowTos/Virtualization/VirtualBox/CentOSguest\\n# \u9700\u8981\u5148\u914D\u7F6E\u597D rpmforge\\nyum -y install dkms\\nyum -y groupinstall \\"Development Tools\\"\\nyum -y install kernel-devel\\n```\\n\\n## \u5B89\u88C5 git\\n\\n```bash\\n# \u56E0\u4E3A git \u7248\u672C\u592A\u4F4E\u4E86,\u6240\u4EE5\u6253\u7B97\u81EA\u5DF1\u5B89\u88C5git\\nyum --enablerepo=updates clean metadata\\nyum install perl-devel -y\\nyum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel -y\\n# \u53EF\u4EE5\u8003\u8651\u4F7F\u7528\u5176\u4ED6\u7248\u672C, \u4F8B\u5982 https://github.com/git/git/archive/v1.9.4.zip\\n# \u4F7F\u7528\u53D1\u5E03\u7248\u7A33\u5B9A\u4E9B\\ncurl -L -o git.zip https://github.com/git/git/archive/master.zip\\n# \u6216\\n# wget -O git.zip https://github.com/git/git/archive/master.zip\\nunzip git*.zip\\ncd git*\\nmake prefix=/usr/local all\\nmake prefix=/usr/local install\\n# \u8FD9\u91CC\u53EF\u80FD\u548C \u5728 Development tools \u91CC\u7684git\u51B2\u7A81\\n# \u53EF\u4EE5\u79FB\u9664\u5B89\u88C5\u7684git \u4ECE\u65B0\u6253\u5F00\u7EC8\u7AEF\u5C31\u597D\u4E86\\nyum remove git\\nexit\\n# reopen an terminal\\n# \u5982\u679C\u4E0D\u60F3\u79FB\u9664 git\\n# \u6E05\u9664\u4E0B git \u7684hash\u5C31\u597D\u4E86\\nhash -d git\\n```\\n\\n## Intsall ntfs-3g\\n\\n```bash\\n# Add ntfs filesystem support, because I install centos with win7\\n# fllow this http://wiki.centos.org/TipsAndTricks/NTFS\\nyum install ntfs-3g -y\\n```\\n\\n## Install iBus\\n\\n```bash\\n# fllow this http://code.google.com/p/ibus/wiki/CentOS\\n# 1.Install necessary packages\\nyum install ibus ibus-gtk ibus-qt\\nyum install ibus-pinyin # or other engine(s) you want\\nyum install im-chooser\\n# 2. Enable input method at System->Perferences->Input Method\\n# 3. Add input methods\\n# 4.Re-login\\n```\\n\\n## Install python2.7 for goagent\\n\\n```bash\\n# Setup Development tools\\nyum groupinstall \\"Development tools\\" -y\\n# basic lib\\nyum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel -y\\n\\n# Manualy install puthon2.7, not change the system\'s 2.6 version\\n# When I install python 2.7.x, the newest is 2.7.5\\n# go check at http://python.org/ftp/python/\\n# BTW, you can install 3.x python by this way\\nPYTHON_VERSION=2.7.5\\nmkdir ~/src && cd $_\\nwget http://python.org/ftp/python/${PYTHON_VERSION}/Python-${PYTHON_VERSION}.tar.bz2\\ntar xf Python-${PYTHON_VERSION}.tar.bz2\\ncd Python-${PYTHON_VERSION}\\n./configure --prefix=/usr/local\\n\\n# -j 8 for more quickly\\n# Notice, make install change to make altinstall\\nmake -j 8 && make altinstall\\n```\\n\\n## Install python-openssl for python2.7\\n\\n```bash\\n# Install python-openssl for goagent\\nmkdir -p ~/src && cd $_\\nyum install openssl openssl-devel -y\\nwget --no-check-certificate https://pypi.python.org/packages/source/p/pyOpenSSL/pyOpenSSL-0.13.tar.gz\\ntar -xzfv pyOpenSSL-0.13.tar.gz\\ncd pyOpenSSL-0.13\\n# Notice, compile for python2.7\\npython2.7 setup.py build_ext -I /usr/local/include/python2.7/ -L /usr/local/lib/python2.7/\\npython2.7 setup.py build\\npython2.7 setup.py install\\n```\\n\\n## Install goagent\\n\\n```bash\\n# Download goagent and run it, because I have to install chrome\\nmkdir -p ~/app && cd $_\\nwget https://goagent.googlecode.com/archive/3.0.zip\\n7za x 3.0.zip\\nmv goagent-* goagent\\n\\n# setup your gea\\nvim goagent/local/proxy.ini\\n\\n# and run\\npython2.7  goagent/local/goagent-gtk.py &\\n```\\n\\n## Install chrome\\n\\n```bash\\n# Setup wget proxy for download chrome\\n# append the proxy setting to \'/etc/wgetrc\'\\n# Reamove it, when you do not need this\\nhttps_proxy = http://127.0.0.1:8087/\\nhttp_proxy = http://127.0.0.1:8087/\\nftp_proxy = http://127.0.0.1:8087/\\nuse_proxy = on\\n\\n# Install google-chrome\\n# fllow this http://chrome.richardlloyd.org.uk/\\nmkdir -p ~/app && cd $_\\nwget http://chrome.richardlloyd.org.uk/install_chrome.sh\\nchmod u+x install_chrome.sh\\n./install_chrome.sh\\n```\\n\\n## Install gvim7.4\\n\\n```bash\\nmkdir -p ~/src && cd $_\\nwget ftp://ftp.vim.org/pub/vim/unix/vim-7.4.tar.bz2\\ntar -jxvf vim-7.4.tar.bz2\\n#\\nyum install lua lua-devel -y\\nyum install libX11 libX11-devel libXt-devel libgtk2 libgtk2-devel -y\\n#\\nVIM_FLAG=\'--enable-luainterp=yes --enable-cscope --enable-multibyte --enable-fontset --enable-gui\'\\n#\\n./configure $VIM_FLAG\\nmake -j 8 && make test -j 8 && make install\\n```\\n\\n## Install vim\\n\\n```bash\\n# \u76F4\u63A5\u4F7F\u7528yum\u641C\u7D22\u5230\u7684 \u4E3A\u4E86\u4F7F\u7528\u7B80\u5355\\nyum install vim-enhanced -y\\n```\\n\\n## Install Nvidia-driver\\n\\n```bash\\n# find out you card info\\nlspic | grep VGA\\n# download form nvidia http://www.nvidia.in/Download/index.aspx\\n\\n# prepare\\nyum update\\nyum clean all\\nyum groupinstall \\"Development Tools\\"\\nyum install kernel-devel kernel-headers gcc make\\n\\nadded the following line to /etc/modprobe.d/blacklist.conf file\\n```\\n\\n## Bully + Aircrack-ng + Reaver\\n\\n> [reaver](https://reaver-wps.googlecode.com/files/reaver-1.4.tar.gz) > [aircrack-ng-1.2-beta1](http://download.aircrack-ng.org/aircrack-ng-1.2-beta1.tar.gz)\\n> reaver \u7684\u66FF\u4EE3 [bully](https://github.com/bdpurcell/bully)\\n\\n```bash\\n# \u51C6\u5907\u5DE5\u4F5C\\nyum install -y libpcap libpcap-devel openssl-devel sqlite sqlite-devel\\n# \u8FD9\u4E2Alibnl \u662F\u7528\u6765\u652F\u6301 netlink (nl80211) \u7684\\nyum install -y libnl libnl-devel\\n\\n# \u5148\u641E\u597D bully\\ncurl -L -o bully.zip https://github.com/bdpurcell/bully/archive/master.zip\\n7za x bully.zip\\ncd bully-master/src\\nmake\\nmake install\\ncd -\\n\\n# \u518D\u641E Aircrack-ng\\n# \u6211\u5B89\u88C5\u65F6 \u6700\u9AD8\u7248\u672C\u4E3A 1.2-beta3\\n# \u8FD9\u91CC\u9700\u8981\u6CE8\u610F\u7684\u662F, aircrack-ng \u88AB\u5899\u4E86,\u81F3\u5C11\u6211\u4E0B\u8F7D\u7684\u65F6\u5019\u662F\u7684\\n# \u6211\u662F\u653E\u5728\u5171\u4EAB\u76EE\u5F55\u91CC\u62F7\u8D1D\u8FC7\u6765\u7684\\n# \u4E5F\u53EF\u4EE5\u4ECE github \u4E0B\u8F7D\\n# https://github.com/aircrack-ng/aircrack-ng\\nwget -O aircrack-ng.tar.gz http://download.aircrack-ng.org/aircrack-ng-1.2-beta3.tar.gz\\ntar -xvf aircrack-ng.tar.gz\\ncd aircrack-ng-*\\n# \u5B89\u88C5\u8FC7\u7A0B\u53EF\u4EE5\u53C2\u8003\u8FD9\u91CC\\n# http://www.aircrack-ng.org/doku.php?id=install_aircrack#installing_aircrack-ng_from_source\\nmake sqlite=true\\nsudo make install\\n# \u66F4\u65B0 OUI\\nsudo airodump-ng-oui-update\\n\\n# \u5B89\u88C5 reaver, \u867D\u7136\u6709bully,\u4F46\u662Freaver\u8FD8\u662F\u86EE\u4E0D\u9519\u7684\\nwget https://reaver-wps.googlecode.com/files/reaver-1.4.tar.gz\\ntar -xzvf reaver-*.tar.gz\\ncd reaver-*/src\\n./configure\\nmake\\nmake install\\n```\\n\\n## pin creack\\n\\n```bash\\nifconfig wlan0 down\\n# \u8FD9\u91CC\u4F1A\u63D0\u793A\u4E00\u4E9B\u6709\u53EF\u80FD\u88AB\u5F71\u54CD\u7684\u8FDB\u7A0B dhclient \u548C wpa_supplicant\\n# \u53EF\u4EE5\u8003\u8651\u5C06\u8FD9\u4E9B\u8FDB\u7A0B\u5173\u95ED\\nairmon-ng start wlan0\\nbully -e \u70ED\u70B9\u540D\u5B57 -v3 mon0\\n\\n# \u4F7F\u7528 reaver \u7684\u65B9\u6CD5\\nwash -i mon0\\nreaver -a -S -vv -i mon0 -b `MAC`\\n```\\n\\n## \u901A\u8FC7\u547D\u4EE4\u884C\u8FDE\u63A5\u65E0\u7EBF\u7F51, \u7B80\u5355\u7248\\n\\n\u6765\u81EA [connect-to-a-wireless-network-via-command-line](http://www.ghacks.net/2009/04/14/connect-to-a-wireless-network-via-command-line/)\\n\\n```bash\\n#! /bin/bash\\nifconfig wlan0\\niwconfig wlan0 essid NETWORK_ID key WIRELESS_KEY\\ndhclient wlan0\\n```\\n\\n`NETWORK_ID` \u4E3A\u65E0\u7EBF\u540D\\n`WIRELESS_KEY` \u641E\u4E0D\u6E05\u695A,\u5E94\u8BE5\u662F\u5BC6\u7801\u5427. \u9ED8\u8BA4\u4E3A 16 \u8FDB\u5236\u7684\u503C,\u53EF\u4EE5\u7528 `s:WIRELESS_KEY` \u6765\u4F7F\u7528 ascii\\n\\n## \u901A\u8FC7\u547D\u4EE4\u884C\u8FDE\u63A5\u65E0\u7EBF\u7F51\\n\\n\u6765\u81EA [how-to-connect-to-wpawpa2-wifi-network](http://linuxcommando.blogspot.com/2013/10/how-to-connect-to-wpawpa2-wifi-network.html)\\n\\n\u9700\u8981\u4F7F\u7528\u7684\u5DE5\u5177\\n`yum install wpa_supplicant wireless-tools -y`\\n\\n```bash\\n# 1. \u67E5\u770B\u4F60\u7684\u65E0\u7EBF\u8BBE\u5907\u540D\\n$iw dev\\nphy#0\\n\\tInterface wlan0\\n\\t\\tifindex 3\\n\\t\\ttype managed\\n# 2. \u68C0\u67E5\u65E0\u7EBF\u8BBE\u5907\u662F\u5426\u542F\u7528 \u91CC\u9762\u9700\u8981\u6709\u4E2AUP\\n$ ip link show wlan0\\n3: wlan0: (BROADCAST,MULTICAST) mtu 1500 qdisc noop state DOWN mode DEFAULT qlen 1000\\n    link/ether 74:e5:43:a1:ce:65 brd ff:ff:ff:ff:ff:ff\\n# \u542F\u7528\u65E0\u7EBF\u8BBE\u5907\\n$ ip link set wlan0 up\\n\\n# \u68C0\u67E5\u65E0\u7EBF\u8BBE\u5907\u662F\u5426\u542F\u7528 \u91CC\u9762\u6709\u4E2AUP\\n$ ip link show wlan0\\n3: wlan0: (NO-CARRIER,BROADCAST,MULTICAST,UP) mtu 1500 qdisc mq state DOWN mode DEFAULT qlen 1000\\n    link/ether 74:e5:43:a1:ce:65 brd ff:ff:ff:ff:ff:ff\\n\\n# 3. \u68C0\u67E5\u8FDE\u63A5\u72B6\u6001\\n$ /sbin/iw wlan0 link\\nNot connected.\\n\\n# 4. \u626B\u63CF\u7F51\u7EDC\\n$ sudo /sbin/iw wlan0 scan\\nBSS 00:14:d1:9c:1f:c8 (on wlan0)\\n        ... \u7565\u8FC7 ...\\n\\tfreq: 2412\\n\\tSSID: Touch-me\\n\\tRSN:\\t * Version: 1\\n\\t\\t * Group cipher: CCMP\\n\\t\\t * Pairwise ciphers: CCMP\\n\\t\\t * Authentication suites: PSK\\n\\t\\t * Capabilities: (0x0000)\\n        ... \u7565\u8FC7 ...\\n\\n# \u8FD9\u91CC\u7684 SSID \u548C \u5B89\u5168\u534F\u8BAE\u7C7B\u578B\u5F88\u91CD\u8981\\n# \u8FD9\u91CC\u662F RSN, \u5373 wpa2\\n\\n# 5. \u8FDE\u63A5\u5230 WPA/WPA2 wifi\\n\\n$ wpa_passphrase \u65E0\u7EBF\u540D\u79F0 >> /etc/wpa_supplicant.conf\\n\u65E0\u7EBF\u5BC6\u7801\\n\\n# \u6B63\u786E\u7684\u5E94\u8BE5\u662F\u8FD9\u6837\u7684\\n$ cat /etc/wpa_supplicant.conf\\n# reading passphrase from stdin\\nnetwork={\\n\\tssid=\\"gorilla\\"\\n\\t#psk=\\"testtest\\"\\n\\tpsk=4dfe1c985520d26a13e932bf0acb1d4580461dd854ed79ad1a88ec221a802061\\n}\\n\\n# \u8FDE\u63A5\\n$ sudo wpa_supplicant -B -D wext -i wlan0 -c /etc/wpa_supplicant.conf\\n# -B \u5728\u540E\u53F0\u8FD0\u884C\\n# -D \u6307\u5B9A\u65E0\u7EBF\u8BBE\u4E3A, wext\u4E3A\u666E\u901A\u65E0\u7EBF\u8BBE\u5907\\n# -c \u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84\\n\\n# \u68C0\u67E5\u662F\u5426\u8FDE\u63A5\\n$ /sbin/iw wlan0 link\\nConnected to 00:14:d1:9c:1f:c8 (on wlan0)\\n\\tSSID: gorilla\\n\\tfreq: 2412\\n\\tRX: 63825 bytes (471 packets)\\n\\tTX: 1344 bytes (12 packets)\\n\\tsignal: -27 dBm\\n\\ttx bitrate: 6.5 MBit/s MCS 0\\n\\n\\tbss flags:\\tshort-slot-time\\n\\tdtim period:\\t0\\n\\tbeacon int:\\t100\\n# 6. \u901A\u8FC7 DHCP \u83B7\u53D6 IP\u5730\u5740\\n$ sudo dhclient wlan0\\n# \u6709\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6 \u53EF\u4EE5\u8003\u8651 dhclient -x \u5173\u95ED\u540E\u4ECE\u65B0\u83B7\u53D6\\n\\n# \u67E5\u770B IP \u5730\u5740\\n$ ip addr show wlan0\\n3: wlan0:  mtu 1500 qdisc mq state UP qlen 1000\\n    link/ether 74:e5:43:a1:ce:65 brd ff:ff:ff:ff:ff:ff\\n    inet 192.168.1.113/24 brd 192.168.1.255 scope global wlan0\\n    inet6 fe80::76e5:43ff:fea1:ce65/64 scope link\\n       valid_lft forever preferred_lft forever\\n\\n# 7. \u6DFB\u52A0\u9ED8\u8BA4\u8DEF\u7531\u89C4\u5219(\u53EF\u7565\u8FC7)\\n$ ip route show\\n192.168.1.0/24 dev wlan0  proto kernel  scope link  src 192.168.1.113\\n\\n#  \u8FD9\u6761\u89C4\u5219\u662F\u8F6C\u53D1 (192.168.1.*) \u5230 wlan0,\u5982\u679C\u4F60\u60F3\u6DFB\u52A0\u5176\u4ED6\u7684 \u53EF\u4EE5\u7528\u4EE5\u4E0B\u65B9\u6CD5\\n$ sudo ip route add default via 192.168.1.254 dev wlan0\\n$ ip route show\\ndefault via 192.168.1.254 dev wlan0\\n192.168.1.0/24 dev wlan0  proto kernel  scope link  src 192.168.1.113\\n\\n# 8. \u6D4B\u8BD5\u662F\u5426\u6B63\u786E\u8FDE\u63A5\\n$ ping 8.8.8.8\\n```\\n\\n## \u81EA\u52A8\u8FDE\u63A5\u65E0\u7EBF\u7684\u914D\u7F6E\\n\\n\u53C2\u8003\u5B98\u65B9\u7684 [wpa_supplicant \u914D\u7F6E](http://wiki.centos.org/HowTos/Laptops/WpaSupplicant)\\n\u8FD9\u91CC\u6CA1\u6709\u63D0\u5230\u7ED9 wlan0 \u914D\u7F6E\u81EA\u52A8\u7684 dhcp\\n\\n\u611F\u89C9\u4E0A\\n`echo BOOTPROTO=dhcp | sudo tee -a /etc/sysconfig/network-scripts/ifcfg-wlan0`\\n\u8FD9\u6837\u5C31\u53EF\u4EE5\u4E86~\u4F46\u662F\u8FD8\u662F\u4E0D\u884C,\u8FD8\u662F\u8981 `dhclient wlan0`\\n\\n\u9700\u8981\u53C2\u8003 [\u8FD9\u4E2A](http://www.centos.org/docs/5/html/Deployment_Guide-en-US/s1-networkscripts-interfaces.html) \u6765\u914D\u7F6E.\u4E5F\u53EF\u4EE5\u53C2\u8003[\u8FD9\u4E2A](http://www.linuxhomenetworking.com/wiki/index.php/Quick_HOWTO_:_Ch13_:_Linux_Wireless_Networking#.U0YCk_mSyR0)\u6765\u914D\u7F6E.\\n\\n```\\n# \u8C03\u8BD5\\nwp _supplicantwpaa_supplicant -iwlan0 -c/etc/wpa_supplicant/wpa_supplicant.conf -d\\n```\\n\\n## \u5FD8\u8BB0\u5BC6\u7801\\n\\n\u5728 `grub` \u542F\u52A8\u7684\u65F6\u5019, \u4E2D\u65AD\u81EA\u52A8\u542F\u52A8, \u770B\u5230\u9009\u62E9\u5217\u8868\u7684\u65F6\u5019, \u6309 `a`, \u5220\u9664 `rhgb quiet` \u7136\u540E\u8F93\u5165 `1` \u56DE\u8F66, \u5373\u53EF\u8FDB\u5165\u5355\u7528\u6237\u6A21\u5F0F. \u968F\u540E\u4F7F\u7528 passwd \u4FEE\u6539\u5B8C\u6210\u5BC6\u7801\u540E\u91CD\u542F\u5C31\u53EF\u4EE5\u56DE\u5230\u591A\u7528\u6237\u6A21\u5F0F\u4E86.\\n\\n\u53C2\u8003 [ResetRootPassword](http://wiki.centos.org/TipsAndTricks/ResetRootPassword)\\n\\n# \u5B89\u88C5\u5F00\u53D1\u73AF\u5883\\n\\n## Install JDK\\n\\n\u8003\u8651\u9700\u8981\u5B89\u88C5\u7684 jdk \u53D1\u5E03\u5546, \u9009\u62E9 openJDK \u8FD8\u662F oracle \u7684 jdk\\n\u53EF\u53C2\u8003\u8FD9\u91CC[webupd8](https://launchpad.net/~webupd8team/+archive/java) \u6765\u5B89\u88C5 oracle \u7684 jdk.\\n\u6216\u8005\u53C2\u8003[\u8FD9\u4E2A](http://d.stavrovski.net/blog/post/how-to-install-and-setup-oracle-java-jdk-in-centos-6)\u5B89\u88C5\u6B65\u9AA4,\u8FD8\u53EF\u4EE5\u53C2\u8003[\u8FD9\u91CC](https://wiki.powerfolder.com/display/PFS/Installing+Oracle+Java+on+Linux)\\n\\n```\\n# \u67E5\u770B repo \u4E2D\u652F\u6301\u7684 jdk \u7248\u672C, \u4E00\u822C centos \u7684repo\u4E2D\u53EA\u6709 openjdk\\nyum search java-1\\n# \u786E\u4FDD\u7CFB\u7EDF\u4E2D\u6CA1\u6709 \u5DF2\u7ECF\u5B89\u88C5\\nrpm -qa | grep java-\\n# \u5982\u679C\u6709\u7684\u8BDD \u5219\u5220\u9664syum remove java-1.6.0-openjdkayn`\\n```\\n\\n\u6211\u9009\u62E9\u7684\u624B[\u52A8\u4E0B](http://www.oracle.com/technetwork/java/javase/downloads/index.html)\u8F7D oracle \u7684 jdk,\u6BD5\u7ADF oracle \u7684 jdk \u66F4\u7A33\u5B9A\u4E9B.\\n\\n\u6211\u5B89\u88C5 JDK8 \u7684\u4E0B\u8F7D\u5730\u5740\\nhttp://download.oracle.com/otn-pub/java/jdk/8u5-b13/jdk-8u5-linux-x64.rpm\\n\\n```bash\\nwget --no-check-certificate --no-cookies \\\\\\n    --header \\"Cookie: oraclelicense=accept-securebackup-cookie\\"\\\\\\n    \\"http://download.oracle.com/otn-pub/java/jdk/8u5-b13/jdk-8u5-linux-x64.rpm\\"\\nrpm -Uvh jdk-*.rpm\\n```\\n\\n## Install nodejs\\n\\n```bash\\nmkdir -p ~/src && cd $_\\nwget -e \\"http_proxy = http://127.0.0.1:8087/\\"  http://nodejs.org/dist/node-latest.tar.gz\\ntar zxvf node-latest.tar.gz\\n./configure\\nmake && make install\\n# Already installed npm with nodejs source\\n```\\n\\n## Install nginx\\n\\n```bash\\n# add nginx repo\\ncat > /etc/yum.repos.d/nginx.repo <<WEN\\n[nginx]\\nname=nginx repo\\nbaseurl=http://nginx.org/packages/centos/$releasever/$basearch/\\ngpgcheck=0\\nenabled=1\\nWEN\\n# check\\nyum repolist\\n# install\\nyum install nginx -y\\n```\\n\\n## Install php\\n\\n```bash\\nyum groupinstall \'PHP Support\'\\n```\\n\\n# \u5B89\u88C5\u670D\u52A1\\n\\n## Install vsftpd\\n\\n```bash\\n# \u786E\u5B9A\u6709\\nyum search vsftpd\\n```\\n\\n## Install openssh-server\\n\\n```bash\\n# \u53C2\u8003 http://www.centos.org/docs/5/html/Deployment_Guide-en-US/s1-openssh-server-config.html\\nyum install openssh-server -y\\n# \u914D\u7F6E\u6587\u4EF6\u4E3A /etc/ssh/sshd_config\\n# \u542F\u52A8\\n/sbin/service sshd start\\n# \u4ECE\u4E3B\u673A\u8FDE\u63A5\\n# ssh \u7528\u6237\u540D@\u8BE5linux\u673A\u5668\u7684IP\\n```\\n\\n## Install tomcat\\n\\n```bash\\ntar -zxvf apache-tomcat*.tar.gz\\nmv apache-tomcat* /opt/tomcat\\n# \u542F\u52A8\\n/opt/tomcat/bin/startup.sh\\n# \u914D\u7F6E iptable, \u4F7F\u5916\u90E8\u53EF\u4EE5\u8BBF\u95EE\\n# \u67E5\u770B\u76EE\u524D\u7684 IPTables \u8BBE\u7F6E\\niptables -nL --linenumber\\n# \u786E\u4FDD\u63D2\u5165\u5728 REJECT any \u524D\u9762, 5 \u4E3A\u884C\u53F7 \u6839\u636E\u4E2A\u4EBA\u7684\u60C5\u51B5\u4FEE\u6539\\niptables -I INPUT 5 -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT -m comment --comment \\"Tomcat Server port\\"\\nservice iptables save\\n```\\n\\n## Install hadoop\\n\\n\u53C2\u8003[\u8FD9\u91CC](http://tecadmin.net/steps-to-install-hadoop-on-centosrhel-6/)\\n\\n## Install apache\\n\\n[apache-inshttpd](https://www.centos.org/docs/5/html/Cluster_Administration/s1-apache-inshttpd-CA.html)\\n\\n```bash\\nyum install httpd\\n# \u5B8C\u6210\u540E \u9700\u8981\u5728 /etc/httpd/conf/httpd.conf \u4E2D\u6DFB\u52A0\u4E00\u53E5\\n# ServerName localhost\\n# \u5982\u679C\u60F3\u8981\u4F7F\u7528 apachectl status \u547D\u4EE4 \u9700\u8981 elinks \u548C mod_status\\n# \u5173\u4E8E\u4F7F\u7528 status \u51FA\u73B0\u9519\u8BEF\u7684\u60C5\u51B5 \u53C2\u8003\\n# http://www.mydigitallife.info/request-url-server-status-or-404-page-not-found-apache-error/\\n```\\n\\n\u60F3\u8981\u4F7F\u7528 apachectl status \u5728 httpd.conf \u4E2D\u6DFB\u52A0\u5982\u4E0B\u914D\u7F6E\\n\\n```bash\\nExtendedStatus on\\n<IfModule mod_status.c>\\n    # Allow server status reports generated by mod_status,\\n    # with the URL of http://servername/server-status\\n    # Change the \\".example.com\\" to match your domain to enable.\\n    #\\n    <Location /server-status>\\n        SetHandler server-status\\n        Order deny,allow\\n        Allow from all\\n    </Location>\\n</IfModule>\\n```\\n\\n### \u914D\u7F6E mod_jk\\n\\n```bash\\n# \u4F7F\u7528\u7684\u65F6\u5019 \u53EA\u6709 1.2.40 \u7248\u672C\\n# \u53EF\u4EE5\u67E5\u770B\u5176\u4ED6\u7248\u672C http://www.apache.org/dist/tomcat/tomcat-connectors/jk/\\nwget http://www.apache.org/dist/tomcat/tomcat-connectors/jk/tomcat-connectors-1.2.40-src.zip\\nunzip tomcat-connectors*.zip\\ncd tomcat-connectors*\\ncd native\\n# \u8FD9\u91CC\u6709\u70B9\u626F\u6DE1\u7684\u662F \u8FD9\u4E9B\u811A\u672C\u90FD\u662Fdos \u683C\u5F0F\u7684 \u6240\u4EE5\u9700\u8981\u5148 dos2unix\\n# \u6240\u4EE5\u6211\u76F4\u63A5\u6362\u4E86\u4E2A\u7248\u672C \u4F7F\u7528\u7684 1.2.39 \u7684, \u4EE3\u7801\u683C\u6CA1\u95EE\u9898\\nyum install -y httpd-devel\\n./configure --with-apxs=/usr/sbin/apxs\\nmake\\nmake install\\n```\\n\\n\u96C6\u7FA4\u914D\u7F6E\u5B8C\u6210\u4E2A\u53EF\u4EE5\u901A\u8FC7\u5237\u65B0 http://cloud01/manager/status \u8FD9\u4E2A\u9875\u9762, \u89C2\u5BDF IP address \u6765\u5224\u65AD\u662F\u5426\u6210\u529F.\\n\\n## Install MySQL\\n\\n```bash\\nyum -y groupinstall \'MySQL Database server\' \'MySQL Database client\'\\nyum -y install php-mysql\\n#/sbin/service mysqld start\\n#/sbin/service mysqld stop\\n#/sbin/service mysqld restart\\n```"},{"id":"the-why-i-write-code","metadata":{"permalink":"/story/the-why-i-write-code","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2014/2014-05-31-\u6211\u7684\u7F16\u7A0B\u4E4B\u9053.md","source":"@site/../story/2014/2014-05-31-\u6211\u7684\u7F16\u7A0B\u4E4B\u9053.md","title":"\u6211\u7684\u7F16\u7A0B\u4E4B\u9053","description":"- \u80FD\u4E0D\u80FD\u505A","date":"2014-05-31T00:00:00.000Z","tags":[{"inline":true,"label":"\u601D\u8003","permalink":"/story/tags/\u601D\u8003"}],"readingTime":4.26,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u6211\u7684\u7F16\u7A0B\u4E4B\u9053","slug":"the-why-i-write-code","lastmod":"2014-05-31T00:00:00.000Z","tags":["\u601D\u8003"]},"unlisted":false,"prevItem":{"title":"CentOS \u65B0\u624B","permalink":"/story/centos-newbie"},"nextItem":{"title":"\u5B66\u4E60\u4E4B\u8C08","permalink":"/story/learning-skill"}},"content":"- \u80FD\u4E0D\u80FD\u505A\\n- \u8BE5\u600E\u4E48\u505A\\n- \u8FD9\u6837\u505A\u4F1A\u9047\u5230\u4EC0\u4E48\u95EE\u9898\\n- \u6211\u6709\u6CA1\u6709\u529E\u6CD5\u80FD\u591F\u534F\u8C03\u8FD9\u4E9B\u95EE\u9898\\n- \u5C06\u6765\u4F1A\u6709\u4EC0\u4E48\u6837\u7684\u6539\u53D8\\n- \u6211\u9700\u8981\u8FD0\u884C\u5728\u4EC0\u4E48\u73AF\u5883\u4E0B\\n- \u7528\u4EC0\u4E48\u8BED\u8A00\u5199\\n- \u8FD0\u884C\u65F6\u9700\u8981\u4F9D\u8D56\u4EC0\u4E48\u6761\u4EF6\\n- \u6D4B\u8BD5\u662F\u5426\u901A\u8FC7\\n\\n\x3c!--more--\x3e\\n\\n# \u6211\u7684\u89C2\u5FF5\\n\\n## \u7F29\u77ED\u53D8\u91CF\u4F5C\u7528\u57DF\\n\\n- \u53EF\u4EE5\u51CF\u5C11\u4EE3\u7801\u9519\u8BEF\\n- \u53EF\u4EE5\u91CD\u7528\u53D8\u91CF\u540D\\n- \u53EF\u4EE5\u65B9\u4FBF\u4EE3\u7801\u7684\u91CD\u6784\\n- \u6A21\u5757\u5316\u66F4\u5F3A\\n- \u907F\u514D\u5168\u5C40\u53D8\u91CF,\u6709\u4E9B\u5168\u5C40\u53D8\u91CF\u53EF\u4EE5\u7528 singleton \u6A21\u5F0F\u6765\u66FF\u4EE3\\n\\n## \u5199\u5B8C\u6574\u7684\u5355\u8BCD,\u51C6\u786E\u7684\u540D\u5B57\\n\\n- \u53EF\u4EE5\u51CF\u5C11\u5BF9\u6CE8\u91CA\u7684\u9700\u6C42\\n- \u4EE3\u7801\u66F4\u6E05\u6670,\u660E\u767D\\n\\n## \u9002\u5F53\u7684\u6CE8\u91CA,\u53EF\u6587\u6863\u5316\u7684\u6CE8\u91CA\\n\\n- \u4FBF\u4E8E\u751F\u6210\u4EE3\u7801\u6587\u6863,\u65B9\u4FBF\u67E5\u9605\\n- \u4FBF\u4E8E\u534F\u4F5C\u8005\u4F7F\u7528\u4F60\u7684\u4EE3\u7801\u548C\u63A5\u53E3\\n- \u4E00\u822C ide \u652F\u6301\u7684\u6CE8\u91CA\u53EF\u4EE5\u76F4\u63A5\u663E\u793A\u51FA\u6765,\u5404\u79CD\u65B9\u4FBF\\n- \u52A8\u6001\u7C7B\u578B\u8BED\u8A00\u7684\u6587\u6863\u53EF\u4EE5\u63D0\u4F9B\u66F4\u591A\u7684\u7C7B\u578B\u4FE1\u606F,\u6BD4\u5982 js\\n- jsdoc,javadoc,doxgen,luadoc .....\\n\\n## \u5C3D\u91CF\u7684\u5077\u61D2\\n\\n- \u5728\u51C6\u5907\u5199\u4E4B\u524D\u591A\u67E5\u67E5\u5DF2\u7ECF\u6709\u7684\u5E93 (github, google code, sf.net, ....)\\n- \u4EE3\u7801\u6A21\u5757\u5316\u8D8A\u5F3A,\u5C31\u8D8A\u80FD\u5077\u61D2\\n- \u5199\u4EE3\u7801\u65F6,\u8003\u8651\u4E0B\u600E\u4E48\u505A\u5C3D\u91CF\u5C0F\u7684\u4FEE\u6539\u5C31\u53EF\u4EE5\u505A\u5176\u4ED6\u7684\u4E1C\u897F\\n- \u4E3A\u91CD\u7528\u800C\u7F16\u7801\\n- \u4F7F\u7528\u4EE3\u7801\u751F\u6210, lombok, less, dart .....\\n\\n# \u6211\u7684\u4EE3\u7801\u98CE\u683C\\n\\n## \u7F29\u8FDB\u98CE\u683C\\n\\n\u6211\u7684\u4EE3\u7801\u98CE\u683C\u4E3B\u8981\u548C [Horstmann](http://en.wikipedia.org/wiki/Indent_style#Horstmann_style) \u76F8\u8FD1,\u4F46\u662F\u4E5F\u6709\u4E9B\u4E0D\u540C\u7684\u5730\u65B9.\\n\\nHorstmann \u98CE\u683C:\\n\\n```c\\nwhile (x == y)\\n{   something();\\n    somethingelse();\\n    //...\\n    if (x < 0)\\n    {   printf(\\"Negative\\");\\n        negative(x);\\n    }\\n    else\\n    {   printf(\\"Non-negative\\");\\n        nonnegative(x);\\n    }\\n}\\nfinalthing();\\n```\\n\\n\u6211\u7684\u98CE\u683C:\\n\\n```c\\nwhile (x == y)\\n{\\n    something();\\n    somethingelse();\\n    //...\\n    if (x < 0)\\n    {\\n        printf(\\"Negative\\");\\n        negative(x);\\n    }else\\n    {\\n        printf(\\"Non-negative\\");\\n        nonnegative(x);\\n    }\\n}\\nfinalthing();\\n```\\n\\n\u4E2A\u4EBA\u89C2\u70B9:\\n\\n- \u56E0\u4E3A\u5E38\u7528 `{}` \u6765\u7F29\u51CF\u4F5C\u7528\u57DF,\u5F00\u62EC\u53F7\u6362\u884C\u8FD9\u6837\u8BA9\u4EE3\u7801\u66F4\u6E05\u6670,\u4E5F\u4FBF\u4E8E\u81EA\u52A8\u7F29\u8FDB\\n- \u56E0\u4E3A `{` \u5355\u72EC\u5360\u4E86\u4E00\u884C,\u8FD9\u6837\u8BA9\u4EE3\u7801\u66F4\u957F,\u4F46\u662F\u4E5F\u66F4\u591A\u7A7A\u767D,\u770B\u8D77\u6765\u66F4\u8F7B\u677E\\n\\n## \u82F1\u6587\u5355\u8BCD\u7684\u9009\u62E9\\n\\n### title vs name\\n\\nSee http://stackoverflow.com/questions/5527632/c-sharp-naming-convention-title-vs-name\\n\\n> Name is used more frequently for an object with an internal name or for business objects that naturally has a Name property (such as a person)\\n>\\n> Title is used more often to refer to a User Interface Control object or a business object that naturally has a title, like an article.\\n\\n### ID vs Id\\n\\nSee http://stackoverflow.com/questions/1151338/id-or-id-on-user-interface\\n\\n### Filename, FileName, filename\\n\\nSee http://english.stackexchange.com/questions/5366/which-is-correct-filename-file-name-or-filename\\n\\n\u4E00\u822C\u6211\u9009\u62E9 Filename.\\n\\n### OK vs Ok : OK\\n\\nOK \u662F\u6B63\u786E\u7684\u5199\u6CD5\\n\\n### DB vs Db\\n\\nSee http://stackoverflow.com/questions/1345103/why-is-db-an-acronym-and-not-abbreviation\\n\\n\u611F\u89C9 DB \u6BD4 Db \u66F4\u597D\\n\\n## \u6807\u8BC6\u7B26\\n\\n- \u5728 c \u7C7B\u51FD\u6570\u5F0F\u8BED\u8A00\u5E38\u7528 `_` \u6765\u5206\u5272\u5355\u8BCD, \u56E0\u4E3A c \u7684\u51FD\u6570\u5927\u591A\u662F\u8FD9\u4E2A\u98CE\u683C\\n  e.g. `void enter_stage();`\\n- \u5728 java \u7C7B oo \u8BED\u8A00\u5E38\u7528\u9A7C\u5CF0\u547D\u540D\\n  e.g. `function enterStage()`\\n- \u9759\u6001\u65B9\u6CD5\u7B2C\u4E00\u4E2A\u5B57\u6BCD\u5927\u5199\\n- \u7528 set/get \u524D\u7F00,\u5E76\u4E14 setter \u662F\u53EF\u94FE\u7684.\\n  e.g `Action setTime(int t){time = t; return this;} `\\n- \u5982\u679C\u4E0D\u7528 set/get \u5219\u7528 \u6D41\u5F0F\u7684 API.\\n\\n```\\nclass Action\\n{\\n    int time;\\n    Action time(int t){time = t; return this;}\\n    int time(){ return time;}\\n}\\n```\\n\\n- \u5982\u679C\u8FD4\u56DE\u7C7B\u578B\u4E3A `boolean` \u5219\u7528 is \u4F5C\u4E3A getter \u524D\u7F00\\n  e.g. `boolean isTimeOut();`\\n- \u5728\u4E0D\u539F\u751F\u652F\u6301 \u4E8B\u4EF6 \u7684\u8BED\u8A00\u91CC,\u7528 `On` \u4F5C\u4E3A\u4E8B\u4EF6\u7684\u524D\u7F00.\\n  e.g. `void OnKeyInput(KeyEvent e);`\\n\\n# \u6211\u7684\u5B9E\u8DF5\\n\\n\u5728\u4E00\u4E9B\u7279\u5B9A\u8BED\u8A00\u91CC,\u6211\u7684\u4E60\u60EF\\n\\n## JS\\n\\n### \u5C0F\u6280\u5DE7\u548C\u4E60\u60EF\\n\\n```js\\n// \u4ECEstring\u8F6C\u6362\u4E3Anumber\\n+numberString;\\n\\n// \u5F3A\u5236\u8F6C\u6362\u4E3A boolean\\n!!object;\\n\\n// \u6BD4\u8F83\u65F6\u4F7F\u7528 ===\\nif(!!objA === !!objB)\\n{}\\n\\n// \u7528\u524D\u7F00 $ \u6765\u6807\u8BC6node\u6216jq\u67E5\u8BE2\\nvar $main = $(\'#main\');\\nvar $wener = document.querySelector(\'#wener\');\\n\\n// \u7528 []/{} \u6765\u521D\u59CB\u5316\u6570\u7EC4\u548C\u7C7B\\nvar list = [];// \u800C\u4E0D\u662F new Array()\\nvar obj = {};// \u800C\u4E0D\u662F new Object()\\n\\n```\\n\\n### \u6587\u4EF6\u6A21\u5F0F\\n\\n```js\\n// \u6587\u4EF6 action.js\\n(function()\\n{\\n    // code for action.js\\n})();\\n```\\n\\n### \u7C7B\u6A21\u5F0F\\n\\n```js\\n// \u7C7B Action\\n(function(window)\\n{\\n    function Action(){}\\n    Action.prototype[\'doSomthing\'] = function(){};\\n    // export\\n    // window[\'Action\'] \u6BD4 window.Action \u5728\u538B\u7F29\u7684\u65F6\u5019\u66F4\u597D\\n    // google closure compiler \u7684\u5BFC\u51FA\u65B9\u6CD5\\n    window[\'Action\'] = Action;\\n})(window);\\n```\\n\\n### \u5305/\u547D\u540D\u7A7A\u95F4/\u7C7B \u6A21\u5F0F\\n\\n```js\\n// \u5305/\u547D\u540D\u7A7A\u95F4 ui\\n// label.js\\n(function(ui)\\n{\\n    function Label(){}\\n    // export\\n    ui[\'Label\'] = Label;\\n})(window.ui || (window.ui = {}));\\n// button.js\\n(function(ui)\\n{\\n    function Button(){}\\n    // export\\n    ui[\'Button\'] = Button;\\n})(window.ui || (window.ui = {}));\\n```\\n\\n### static \u65B9\u6CD5\\n\\n```js\\n// \u7C7B Action\\n(function(window)\\n{\\n    function Action(){}\\n    Action[\'doSomthing\'] = function(){};\\n    // export\\n    window[\'Action\'] = Action;\\n})(window);\\n```\\n\\n### singleton \u6A21\u5F0F\\n\\n```js\\n// \u7C7B Action\\n(function(window)\\n{\\n    var instance = null;\\n    function Action()\\n    {\\n        if(instance != null)\\n            throw new Error(\\"already init Action\\");\\n    }\\n    Action[\'getInstance\'] = function()\\n    {\\n        if(instance == null)\\n            instance = new Action();\\n        return instance;\\n    };\\n    // export\\n    window[\'Action\'] = Action;\\n})(window);\\n```\\n\\n### \u907F\u514D\u4F7F\u7528\u4E00\u6B21\u6027\u7684\u533F\u540D\u51FD\u6570\\n\\n- \u4FBF\u4E8E\u91CD\u6784\\n- \u4FBF\u4E8E\u66F4\u6539\\n- \u4EE3\u7801\u6E05\u6670\\n- \u53EF\u91CD\u7528\\n\\n```js\\nfunction OnLoad(){}\\nwindow.onload = OnLoad; // \u800C\u4E0D\u662F window.onload = function(){};\\n```\\n\\n# \u8D44\u6E90\\n\\n- [lombok](https://projectlombok.org),java \u4EE3\u7801\u751F\u6210\\n- [github-lombok](https://github.com/rzwitserloot/lombok)\\n- [jsdoc](http://usejsdoc.org/), js \u6CE8\u91CA\u89C4\u8303,\u6587\u6863\u751F\u6210\\n- [js-for-compiler](https://developers.google.com/closure/compiler/docs/js-for-compiler)\\n  ,Closure Compiler \u7684\u6CE8\u91CA\u89C4\u8303\\n- [closure](https://developers.google.com/closure/), js \u4F18\u5316,\u538B\u7F29 \u5DE5\u5177\\n- [jshint](https://jshint.com), js lint \u5DE5\u5177,\u53EF\u914D\u7F6E\u7684 jslint \u7248\u672C.\\n- [javascript-patterns](https://github.com/shichuan/javascript-patterns), js \u7F16\u7A0B\u6A21\u5F0F"},{"id":"learning-skill","metadata":{"permalink":"/story/learning-skill","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2014/2014-05-30-\u5B66\u4E60\u4E4B\u8C08.md","source":"@site/../story/2014/2014-05-30-\u5B66\u4E60\u4E4B\u8C08.md","title":"\u5B66\u4E60\u4E4B\u8C08","description":"\u4E00\u4E0B\u5185\u5BB9\u4E4B\u4F5C\u4E3A\u4E2A\u4EBA\u5B66\u4E60\u7684\u4E00\u4E9B\u7ECF\u9A8C","date":"2014-05-30T00:00:00.000Z","tags":[{"inline":true,"label":"\u601D\u8003","permalink":"/story/tags/\u601D\u8003"}],"readingTime":2.12,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u5B66\u4E60\u4E4B\u8C08","slug":"learning-skill","lastmod":"2014-06-07T00:00:00.000Z","tags":["\u601D\u8003"]},"unlisted":false,"prevItem":{"title":"\u6211\u7684\u7F16\u7A0B\u4E4B\u9053","permalink":"/story/the-why-i-write-code"},"nextItem":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u7B2C\u4E00\u7AE0 - \u5DEE\u4E00\u6BEB\u7C73\u7684\u7F18\u5206\uFF0C\u5417\uFF1F","permalink":"/story/here-my-love-ch1"}},"content":"> \u4E00\u4E0B\u5185\u5BB9\u4E4B\u4F5C\u4E3A\u4E2A\u4EBA\u5B66\u4E60\u7684\u4E00\u4E9B\u7ECF\u9A8C\\n> \u5E26\u6709\u5F3A\u70C8\u7684\u4E3B\u89C2\u8272\u5F69, \u4E0D\u80FD\u8BA4\u4E3A\u5B8C\u5168\u6B63\u786E. :smile:\\n\\n\x3c!--more--\x3e\\n\\n## \u5B66\u4E60 Java \u7684\u65B9\u6CD5\\n\\n- \u6709\u5174\u8DA3\\n- \u4F1A\u8C37\u6B4C\\n- \u6709\u95EE\u9898\u5C31\u8C37\u6B4C\\n- \u4F1A\u70B9\u8BA1\u7B97\u673A\u82F1\u8BED\\n- \u6709\u95EE\u9898\u5C31\u8C37\u6B4C,\u5C3D\u91CF\u7528\u82F1\u8BED\\n- \u4F1A\u7FFB\u5899\\n- \u6709\u95EE\u9898\u5C31\u8C37\u6B4C,\u5C3D\u91CF\u7528\u82F1\u8BED,\u4F1A\u7FFB\u5899\u624D\u80FD\u770B\u5230\u8C37\u6B4C\\n\\n## Java \u7684\u5B66\u4E60\u987A\u5E8F\u5E94\u8BE5\u5982\u4F55\u5462\\n\\n- \u505A\u4E00\u4E2A\u4E1C\u897F\\n- \u5C0F\u6E38\u620F\u4EC0\u4E48\u7684 \u8FD9\u4E2A\u8FC7\u7A0B\u4F1A\u5B66\u5230\u5F88\u591A\\n- \u5C3D\u91CF\u5077\u61D2\\n\\n## \u9664\u4E86\u8FD9\u4E2A\u63A5\u4E0B\u6765\u770B\u54EA\u90E8\u5206\u5462 I/O \u6D41\u4E4B\u7C7B\u7684\uFF1F\\n\\n- \u6CA1\u6709\u4E2A\u987A\u5E8F \u7528\u5230\u518D\u5B66\\n- \u4E0D\u7136\u4E3A\u4E86\u5B66\u800C\u5B66\u6CA1\u610F\u4E49\\n\\n## \u60F3\u5B66\u4F1A\u4E86\u77E5\u8BC6 \u518D\u7528 \u7136\u540E\u627E\u5DE5\u4F5C\\n\\n- \u77E5\u8BC6\u5B66\u4E0D\u5B8C\\n- \u505A\u70B9\u4F5C\u54C1\u5E94\u8BE5\u624D\u662F\u91CD\u8981\u7684 \u6211\u89C9\u5F97\\n\\n## \u5B66\u5230\u591F\u5DE5\u4F5C\u5C31\u591F\u4E86 \u7136\u540E\u66F4\u591A\u7684\u90FD\u662F\u5728\u5DE5\u4F5C\u4E2D\u5B66\\n\\n- \u6C38\u8FDC\u591F\u4E0D\u4E86\\n- \u6CA1\u6709\u94F6\u5F39\\n\\nQ: \u5B66\u5230\u591F\u4E00\u4E9B\u57FA\u672C\u5DE5\u4F5C\u7684 \u7136\u540E\u5728\u5DE5\u4F5C\u4E2D\u4F1A\u4E0D\u65AD\u7528\u5230\u77E5\u8BC6\u4EC0\u4E48\u7684 \u4E5F\u53EF\u4EE5\u518D\u7EE7\u7EED\u5B66 \u53C8\u953B\u70BC\u53C8\u5B66,\\n\u81EA\u5DF1\u5B66\u7684\u8BDD\u7EC8\u5F52\u5F88\u591A\u662F\u4E0D\u5168\u9762\u7684 \u5DE5\u4F5C\u4E86\u77E5\u9053\u9700\u8981\u4EC0\u4E48\u4E86 \u65B9\u5411\u8DDF\u66F4\u660E\u786E\u5427\\n\\n- \u6240\u4EE5\u7B49\u5230\u7528\u7684\u65F6\u5019\u518D\u5B66\\n- \u80FD\u505A\u51FA\u6765\u4E1C\u897F\u8BF4\u660E\u4F60\u6709\u5E95\u5B50\u4E86\\n- \u4E5F\u6709\u4E86\u4E00\u5B9A\u89E3\u51B3\u95EE\u9898\u7684\u80FD\u529B\\n\\nQ: \u4F46\u662F\u73B0\u5728\u6211\u8FD8\u662F\u611F\u89C9\u5B66\u7684\u592A\u5C11\u4E86 \u8FD8\u662F\u4EC0\u4E48\u90FD\u4E0D\u4F1A\u4E00\u6837 \u6240\u4EE5\u60F3\u95EE\u95EE\u57FA\u672C\u638C\u63E1\u54EA\u4E9B\u77E5\u8BC6\u53EF\u4EE5\u6295\u5165\u5DE5\u4F5C \u6216\u8005\u5C31\u662F\u8BF4\u5B66\u4E60\u7684\u57FA\u672C\u987A\u5E8F\\n\\n- \u77E5\u9053\u6BCF\u4E2A\u5173\u952E\u5B57\u7684\u4F5C\u7528\\n- \u4EC0\u4E48\u65F6\u5019\u7528 \u600E\u4E48\u7528\\n- \u77E5\u9053\u57FA\u672C\u7684\u8BED\u6CD5\\n- \u7136\u540E\u5C31\u53EF\u4EE5\u5C1D\u8BD5\u521B\u9020\u81EA\u5DF1\u7684\u4E16\u754C\u4E86\\n- \u8FC7\u7A0B\u4E2D\u4E0D\u65AD\u67E5\u627E\u6587\u6863\\n\\n## \u6211\u600E\u4E48\u5077\u61D2\u7684\\n\\n- \u4E00\u822C\u60F3\u8981\u505A\u4E00\u4E2A\u4E1C\u897F\u7684\u65F6\u5019, \u90FD\u4F1A\u5927\u6982\u7684\u89C4\u5212\u4E0B, \u9700\u8981\u4E9B\u4EC0\u4E48\u6837\u7684\u5DE5\u5177\\n- \u7136\u540E\u4F1A\u82B1\u8D39\u5927\u91CF\u7684\u65F6\u95F4\u8C37\u6B4C\\n- \u627E\u81EA\u5DF1\u80FD\u5229\u7528\u7684,\u53EF\u7528\u7684,\u9AD8\u6548\u7684\u4E00\u4E9B\u5DE5\u5177\\n- \u54EA\u6015\u662F\u4E3A\u4E86\u81EA\u5DF1\u5C11\u5199\u51E0\u5341\u884C\u4EE3\u7801\u4E5F\u4F1A\u5F15\u5165\u4E00\u4E2A jar \u5305\\n- \u4E00\u5B9A\u8981\u4F1A maven \u6216 ivy, gradle \u7B49\\n- \u6709\u4E86\u4F9D\u8D56\u7BA1\u7406\u5DE5\u5177, \u5BFC\u5165 jar \u5305\u7B49, \u5C31\u6613\u5982\u53CD\u638C\u4E86\\n- \u5728\u8FD9\u6837\u7684\u4E00\u4E2A\u8FC7\u7A0B\u4E2D, \u4F60\u4E00\u5B9A\u4F1A\u7ED3\u8BC6\u4E00\u4E9B\u5F88\u597D\u7528\u7684\u5DE5\u5177, \u8FD9\u4E9B\u90FD\u6709\u52A9\u4E8E\u4EE5\u540E\u7684\u5F00\u53D1\\n- \u5E38\u7528\u7684\u597D\u5DE5\u5177: guava, guice, jodd \u7CFB\u5217, commons \u7CFB\u5217, joda-time ...\\n- \u9664\u975E\u5FC5\u8981, \u5C3D\u91CF\u4E0D\u8981\u91CD\u590D\u9020\u8F6E\u5B50.\\n- \u628A\u81EA\u5DF1\u5199\u8FC7\u7684\u5C0F\u4E1C\u897F\u7559\u4E0B\u6765, \u4E0B\u6B21\u5199\u4E1C\u897F\u7684\u65F6\u5019, \u5E94\u8BE5\u91CC\u9762\u5F88\u591A\u7684\u4E1C\u897F\u90FD\u8FD8\u4F1A\u7528\u5230.\\n- \u5982\u679C\u53EF\u4EE5, \u5C3D\u91CF\u4F7F\u7528\u9AD8\u7248\u672C\u7684 java"},{"id":"here-my-love-ch1","metadata":{"permalink":"/story/here-my-love-ch1","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/here-my-love/2014-05-03-\u7B2C\u4E00\u7AE0-\u5DEE\u4E00\u6BEB\u7C73\u7684\u7F18\u5206\uFF0C\u5417\uFF1F.md","source":"@site/../story/here-my-love/2014-05-03-\u7B2C\u4E00\u7AE0-\u5DEE\u4E00\u6BEB\u7C73\u7684\u7F18\u5206\uFF0C\u5417\uFF1F.md","title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u7B2C\u4E00\u7AE0 - \u5DEE\u4E00\u6BEB\u7C73\u7684\u7F18\u5206\uFF0C\u5417\uFF1F","description":"\u6709\u4E9B\u4EBA\uFF0C\u53EA\u662F\u6C38\u8FDC\u4E0D\u53EF\u80FD\u5728\u4E00\u8D77","date":"2014-05-03T00:00:00.000Z","tags":[{"inline":true,"label":"\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979","permalink":"/story/tags/\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979"},{"inline":true,"label":"\u6545\u4E8B","permalink":"/story/tags/\u6545\u4E8B"}],"readingTime":2.08,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u7B2C\u4E00\u7AE0 - \u5DEE\u4E00\u6BEB\u7C73\u7684\u7F18\u5206\uFF0C\u5417\uFF1F","slug":"here-my-love-ch1","tags":["\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979","\u6545\u4E8B"],"date":"2014-05-03T00:00:00.000Z","type":"novel"},"unlisted":false,"prevItem":{"title":"\u5B66\u4E60\u4E4B\u8C08","permalink":"/story/learning-skill"},"nextItem":{"title":"\u5C0F\u4E1C\u897F","permalink":"/story/\u90A3\u4E9B\u5C0F\u4E1C\u897F/README"}},"content":"\u6709\u4E9B\u4EBA\uFF0C\u53EA\u662F\u6C38\u8FDC\u4E0D\u53EF\u80FD\u5728\u4E00\u8D77\\n\u81F4 \u90A3\u4E9B\u4EBA\\n\\n\x3c!--more--\x3e\\n\\n\u6545\u4E8B\u7684\u5F00\u59CB\uFF0C\u514D\u4E0D\u4E86\u6709\u4E00\u4E2A\u5973\u5B69\u4E00\u4E2A\u7537\u5B69\uFF0C\u611F\u60C5\u4E0D\u90FD\u8FD9\u6837\u5F00\u59CB\u7684\u4E48\uFF1F\\n\\n\u90A3\u662F\u4E00\u6B21\u7EA6\u4F1A\uFF0C\u81F3\u5C11\u4ED6\u662F\u90A3\u6837\u770B\u5F85\u7684\u3002\\n\u4E00\u751F\u4E2D\u7684\u7B2C\u4E00\u6B21\u7EA6\u4F1A\uFF0C\u96BE\u514D\u89C9\u5F97\u6709\u4E9B\u7D27\u5F20\uFF0C\u8FC7\u4E8E\u9686\u91CD\u3002\\n\u53CD\u590D\u5730\u68C0\u67E5\u4E86\u51E0\u904D\u81EA\u5DF1\u7684\u7740\u88C5\u548C\u6253\u626E\u540E\uFF0C\u59CB\u7EC8\u8FD8\u662F\u89C9\u5F97\u7F3A\u4E86\u70B9\u4EC0\u4E48\u3002\\n\\n\u5176\u5B9E\u4ED6\u4E5F\u5C31\u4E00\u4E2A\u7EA6\u6478\u5341\u4E03\u516B\u5C81\u7684\u666E\u901A\u5C0F\u7537\u5B69\uFF0C\\n\u4E00\u4EF6\u4F53\u6064\uFF0C\u4E00\u6761\u4E03\u5206\u88E4\uFF0C\u4E00\u5934\u5BF8\u628A\u957F\u7684\u9ED1\u53D1\uFF0C\\n\u8EAB\u4E0A\u4E5F\u6CA1\u6709\u4EC0\u4E48\u5176\u5B83\u884C\u5934\uFF0C\u7B97\u5F97\u4E0A\u662F\u8F7B\u88C5\u4E0A\u9635\u4E86\u3002\\n\u4ED6\u4E5F\u5B9E\u5C5E\u65E0\u5948\uFF0C\u6CA1\u6709\u597D\u7684\u5BB6\u5EAD\u6761\u4EF6\uFF0C\u81EA\u5DF1\u8EAB\u8FB9\u4E5F\u6CA1\u4EBA\u8F85\u5BFC\u6253\u626E\uFF0C\\n\u53EA\u8981\u81EA\u5DF1\u770B\u8D77\u6765\u8FC7\u5F97\u53BB\u5C31\u7B97\u6EE1\u5206\u4E86\u3002\\n\\n\u53EA\u662F\u8FD9\u6B21\u4E0D\u540C\uFF0C\u7B2C\u4E00\u6B21\u96BE\u514D\u2014\u2014\u4E0D\uFF0C\u662F\u5FC5\u987B\u5F97\u5E84\u91CD\u70B9\uFF0C\\n\u81EA\u5DF1\u7684\u6EE1\u5206\u90FD\u4E0D\u597D\u610F\u601D\u62FF\u51FA\u53BB\u89C1\u4EBA\u3002\\n\\n\u5176\u5B9E\u4ED6\u4E5F\u4E0D\u662F\u7B2C\u4E00\u6B21\u89C1\u5230\u5979\u4E86\uFF0C\\n\u4F5C\u4E3A\u540C\u73ED\u540C\u5B66\uFF0C\u751A\u81F3\u5DEE\u4E00\u6BEB\u7C73\u7684\u540C\u684C\u3002\\n\u4ED6\u603B\u89C9\u5F97\u90A3\u6B21\u6216\u8BB8\u4F1A\u662F\u4ED6\u7EC8\u751F\u7684\u9057\u61BE\uFF0C\\n\u5728\u5B89\u6392\u5EA7\u4F4D\u7684\u65F6\u5019\uFF0C\u672C\u6765\u4ED6\u4EEC\u4FE9\u662F\u6CA1\u6709\u9760\u5728\u4E00\u8D77\u7684\uFF0C\\n\u540E\u6765\u56E0\u8001\u5E08\u89C9\u5F97\u73ED\u4E0A\u7537\u5973\u540C\u5B66\u7684\u5EA7\u4F4D\u5750\u6807\u4E0D\u7B26\u5408\u67D0\u79CD\u6570\u5B66\u4E0A\u7684\u5750\u6807\u5206\u5E03\uFF0C\\n\u5C31\u7A0D\u5FAE\u8C03\u6574\u4E86\u4E00\u4E0B\u5EA7\u4F4D\u3002\\n\u770B\u7740\u770B\u7740\uFF0C\u53D1\u73B0\u4E00\u4E0D\u5C0F\u5FC3\u8001\u5E08\u4E3A\u4E86\u4ED6\u628A\u5979\u8C03\u6210\u81EA\u5DF1\u7684\u540C\u684C\uFF0C\\n\u4E0D\u8FC7\u662F\u9694\u7740\u4E00\u6761\u8D70\u9053\u90A3\u79CD\u3002\\n\\n\u4ED6\u624D\u4E0D\u7BA1\u8D70\u9053\u4E0D\u8D70\u9053\u4EC0\u4E48\u7684\uFF0C\u8DDD\u79BB\u4ECE\u6765\u4E0D\u662F\u95EE\u9898\uFF0C\\n\u6362\u4E00\u4E2A\u89D2\u5EA6\u60F3\u60F3\uFF0C\u8FD9\u4E5F\u7B97\u5F97\u4E0A\u662F\u5F7C\u6B64\u7684\u540C\u684C\u4E86\u3002\\n\\n\u4F46\u662F\u5728\u8FD9\u4F4D\u540C\u684C\u8FD8\u6CA1\u7F13\u8FC7\u795E\u6765\u7684\u65F6\u5019\uFF0C\\n\u540C\u684C\u524D\u9762\u7684\u5DE6\u8FB9\u7684\u4E0A\u8FB9\u7684\u53F3\u8FB9\u548C\u4ED6\u7684\u540C\u684C\u5BF9\u8C03\u4E86\u4E00\u4E0B\uFF0C\\n\u987A\u4FBF\u4E5F\u628A\u4ED6\u7ED9\u8C03\u4E86\u4E0A\u53BB\u3002\\n\u5509\uFF0C\u5DEE\u4E00\u6BEB\u7C73\u7684\u540C\u684C\u3002\\n\\n\u4ED6\u4E60\u60EF\u6027\u5730\u628A\u9057\u61BE\u7684\u4E8B\u60C5\u8BF4\u6210\u662F\u5DEE\u4E00\u6BEB\u7C73\u7684\uFF0C\\n\u56E0\u4E3A\u90A3\u6837\u8BA9\u4ED6\u611F\u89C9\u5176\u5B9E\u5F53\u521D\u8FD8\u662F\u8DDD\u79BB\u5F88\u8FD1\u5F88\u8FD1\u53EF\u4EE5\u6293\u4F4F\u7684\uFF0C\\n\u53EA\u662F\u5DEE\u4E00\u6BEB\u7C73\u8BA9\u5B83\u6E9C\u8D70\u4E86\u3002\\n\\n\u4E00\u6BEB\u7C73\u7684\u540C\u684C\u4ED6\u8FD8\u662F\u5929\u5929\u53EF\u4EE5\u89C1\u5230\u7684\uFF0C\u56E0\u4E3A\u4E0D\u53EA\u662F\u4E00\u4E2A\u73ED\u7684\u3002\\n\u90A3\u6B21\u8C03\u6574\u5EA7\u4F4D\u867D\u7136\u9057\u61BE\uFF0C\u4E07\u5E78\u7684\u662F\u548C\u4ED6\u4E00\u7EC4\uFF0C\u5E76\u4E14\u5979\u8FD8\u5F53\u4E0A\u4E86\u7EC4\u957F\u3002\\n\u8FD9\u6837\u63A5\u89E6\u5C31\u66F4\u591A\u4E86\u3002\\n\\n\u56E0\u4E3A\u5979\u5F53\u4E0A\u4E86\u7EC4\u957F\uFF0C\u4ED6\u4E5F\u53D8\u5F97\u6D3B\u6CFC\u4E86\u4E0D\u5C11\uFF0C\\n\u56E0\u4E3A\u603B\u662F\u7785\u7740\u770B\u6709\u6CA1\u6709\u54EA\u7BC7\u8BFE\u6587\u662F\u9700\u8981\u80CC\u8BF5\u7684\uFF0C\\n\u8FD9\u6837\u53C8\u591A\u4E86\u4E00\u6B21\u673A\u4F1A\uFF0C\u4E00\u4E2A\u7406\u7531\u4E86\uFF01"},{"id":"/\u90A3\u4E9B\u5C0F\u4E1C\u897F/README","metadata":{"permalink":"/story/\u90A3\u4E9B\u5C0F\u4E1C\u897F/README","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/\u90A3\u4E9B\u5C0F\u4E1C\u897F/README.md","source":"@site/../story/\u90A3\u4E9B\u5C0F\u4E1C\u897F/README.md","title":"\u5C0F\u4E1C\u897F","description":"Little things make life better.","date":"2013-12-28T16:47:31.000Z","tags":[],"readingTime":0.17,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"prevItem":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u7B2C\u4E00\u7AE0 - \u5DEE\u4E00\u6BEB\u7C73\u7684\u7F18\u5206\uFF0C\u5417\uFF1F","permalink":"/story/here-my-love-ch1"},"nextItem":{"title":"\u5B66\u751F\u8003\u52E4\u7CFB\u7EDF","permalink":"/story/student-checking-sys"}},"content":"Little things make life better.\\n\\n\u8FD9\u91CC\u6536\u5F55\u4E86\u6211\u5E73\u65F6\u81EA\u5DF1\u6216\u8005\u522B\u4EBA\u627E\u6211\u505A\u7684\u4E00\u4E9B\u4E1C\u897F,\u5C31\u8BB0\u5F55\u5728\u8FD9\u91CC\u4E86.\\n\u4E0D\u5728\u4E4E\u5929\u957F\u5730\u4E45,\u53EA\u5728\u4E4E\u66FE\u7ECF\u62E5\u6709.\u563F\u563F"},{"id":"student-checking-sys","metadata":{"permalink":"/story/student-checking-sys","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/\u90A3\u4E9B\u5C0F\u4E1C\u897F/2013-12-27-student-checking-sys.md","source":"@site/../story/\u90A3\u4E9B\u5C0F\u4E1C\u897F/2013-12-27-student-checking-sys.md","title":"\u5B66\u751F\u8003\u52E4\u7CFB\u7EDF","description":"\u522B\u4EBA\u4F5C\u4E1A\u5565\u7684~~,\u4E0D\u8FC7\u8FD8\u662F\u5B66\u5230\u4E86\u4E00\u4E9B\u6280\u5DE7","date":"2013-12-27T04:24:19.000Z","tags":[{"inline":true,"label":".NET","permalink":"/story/tags/net"},{"inline":true,"label":"C#","permalink":"/story/tags/c"},{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"}],"readingTime":1.75,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"student-checking-sys","title":"\u5B66\u751F\u8003\u52E4\u7CFB\u7EDF","date":"2013-12-27T04:24:19.000Z","tags":[".NET","C#","\u7F16\u7A0B"]},"unlisted":false,"prevItem":{"title":"\u5C0F\u4E1C\u897F","permalink":"/story/\u90A3\u4E9B\u5C0F\u4E1C\u897F/README"},"nextItem":{"title":"\u7EAA\u5FF5\u90A3\u4E9B\u5728 BBK \u7684\u65F6\u5149","permalink":"/story/bbk-memory"}},"content":"\u522B\u4EBA\u4F5C\u4E1A\u5565\u7684~~,\u4E0D\u8FC7\u8FD8\u662F\u5B66\u5230\u4E86[\u4E00\u4E9B\u6280\u5DE7](#\u4E00\u4E9B\u6280\u5DE7)\\n\\n\u5C1A\u4E14\u8FD8\u6709\u4E00\u4E9B\u95EE\u9898\u6CA1\u89E3\u51B3\u7684\\n\\n* \u4F5C\u4E3A\u9634\u5F71\u7684\u7A97\u53E3,\u4E0D\u80FD\u8BBE\u7F6E `ShowInTaskBar = false`,\\n\u8BBE\u7F6E\u540E\u4F1A\u6D88\u5931,\u8FD9\u4E2A\u76F8\u5BF9\u6BD4\u8F83\u9EBB\u70E6,\u6CA1\u5904\u7406\\n* \u753B\u9634\u5F71\u7684\u51FD\u6570\u8FD8\u4E0D\u662F\u5F88\u5B8C\u5584,\u53EA\u80FD\u662F\u7C7B\u4F3C\u7684\u9634\u5F71\\n\\n\u622A\u56FE\\n----\\n\\n![\u767B\u5F55\u9875\u9762](https://raw.github.com/wenerme/attic/main/things/%E8%80%83%E5%8B%A4%E7%B3%BB%E7%BB%9F/screenshot.png \\"\u767B\u5F55\u9875\u9762\\")\\n\\n![\u67E5\u8BE2,\u64CD\u4F5C\u9875\u9762](https://raw.github.com/wenerme/attic/main/things/%E8%80%83%E5%8B%A4%E7%B3%BB%E7%BB%9F/screenshot-main.png \\"\u67E5\u8BE2,\u64CD\u4F5C\u9875\u9762\\")\\n\\n\u4E00\u4E9B\u6280\u5DE7\\n============\\n\\n\u8BA9\u7A97\u53E3\u53EF\u62D6\u52A8\\n----------\\n\\n\u662F\u91CD\u5199\u7684WndProc,\u800C\u4E0D\u662F\u4F20\u7EDF\u7684\u9F20\u6807\u4E8B\u4EF6\\n\\n```C#\\n\\n// Let Windows drag this form for us\\nprotected override void WndProc(ref Message m)\\n{\\n\\tif (m.Msg == 0x0084 /*WM_NCHITTEST*/)\\n\\t{\\n\\t\\tm.Result = (IntPtr)2;\\t// HTCLIENT\\n\\t\\treturn;\\n\\t}\\n\\tbase.WndProc(ref m);\\n}\\n\\n```\\n\\n\u4F20\u7EDF\u7248\u672C\\n\\n```C#\\n// In form load\\n\\nvar lastPoint = new Point();\\nvar _isDraging = false;\\nMouseDown += (sender, e) =>\\n{\\n\\t_isDraging = true;\\n\\tlastPoint = e.Location;\\n};\\nMouseMove += (sender, e) =>\\n{\\n\\tif (! _isDraging)\\n\\t\\treturn;\\n\\n\\tint ox = e.X - lastPoint.X;\\n\\tint oy = e.Y - lastPoint.Y;\\n\\tLocation = new Point(Location.X + ox, Location.Y + oy);\\n};\\nMouseUp += (sender, e) => { _isDraging = false; };\\n\\n```\\n\\n\u5B9E\u73B0\u7C7B\u4F3C\u7684\u7A97\u4F53\u9634\u5F71\\n----------------\\n\\n\u662F\u4F7F\u7528\u7684\u4E00\u4E2A\u7C7B `Dropshadow`.\\n\\n\u6700\u5F00\u59CB\u4ECE[\u8FD9\u91CC](http://stackoverflow.com/questions/8793445/windows-7-style-dropshadow-in-borderless-form)\\n\u770B\u5230\u80FD\u5B9E\u73B0\u9634\u5F71\u7684\u65B9\u6CD5,\u540E\u6765\u6709\u67E5\u627E\u4E86\u5F88\u591A\u4E1C\u897F,\u4FEE\u6539\u6210\u4E86\\n\u6211\u81EA\u5DF1\u7684 `Dropshadow` \u7248\u672C.\u8C03\u7528\u65B9\u6CD5\\n\\n```C#\\nvar f = new Dropshadow(this)\\n{\\n\\tBorderRadius = 40,\\n\\tShadowColor = Color.Blue\\n};\\n\\nf.RefreshShadow();\\n```\\n\\n\u5728 DataGridView \u4E2D\u4F7F\u7528 DateTimePicker\\n-------------------------------------\\n\\n\u8FD9\u4E2A\u5FD8\u8BB0\u4E86\u5177\u4F53\u662F\u5728\u54EA\u91CC\u627E\u7684\u4E86,\u4F7F\u7528 `CalendarColumn`\\n\u548C `CalendarCell` \u5373\u53EF.\u5728\u8BBE\u8BA1\u65F6\u53EF\u4EE5\u76F4\u63A5\u9009\u62E9.\\n\\n\u5706\u89D2\u8FB9\u6846\\n----------\\n\\n```C#\\n[DllImport(\\"Gdi32.dll\\", EntryPoint = \\"CreateRoundRectRgn\\")]\\npublic static extern IntPtr CreateRoundRectRgn\\n\\t(\\n\\tint nLeftRect, // x-coordinate of upper-left corner\\n\\tint nTopRect, // y-coordinate of upper-left corner\\n\\tint nRightRect, // x-coordinate of lower-right corner\\n\\tint nBottomRect, // y-coordinate of lower-right corner\\n\\tint nWidthEllipse, // height of ellipse\\n\\tint nHeightEllipse // width of ellipse\\n\\t);\\n\\n// in form load\\nRegion = Region.FromHrgn(Win32.CreateRoundRectRgn(0, 0, Width, Height, 20, 20));\\n\\n```"},{"id":"bbk-memory","metadata":{"permalink":"/story/bbk-memory","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2013-12-15-bbk-memory.md","source":"@site/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2013-12-15-bbk-memory.md","title":"\u7EAA\u5FF5\u90A3\u4E9B\u5728 BBK \u7684\u65F6\u5149","description":"- 2010-09-02 \u6211\u7684\u7B2C\u4E00\u6761\u4E3B\u9898\u5E16","date":"2013-12-15T02:48:00.000Z","tags":[{"inline":true,"label":"\u6545\u4E8B","permalink":"/story/tags/\u6545\u4E8B"},{"inline":true,"label":"\u6B65\u6B65\u9AD8","permalink":"/story/tags/\u6B65\u6B65\u9AD8"}],"readingTime":3.07,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u7EAA\u5FF5\u90A3\u4E9B\u5728 BBK \u7684\u65F6\u5149","slug":"bbk-memory","tags":["\u6545\u4E8B","\u6B65\u6B65\u9AD8"],"date":"2013-12-15T02:48:00.000Z"},"unlisted":false,"prevItem":{"title":"\u5B66\u751F\u8003\u52E4\u7CFB\u7EDF","permalink":"/story/student-checking-sys"},"nextItem":{"title":"\u8F6F\u4EF6\u8BBE\u8BA1\u5E08\u8003\u8BD5\u7B14\u8BB0","permalink":"/story/rk-software-designer"}},"content":"- 2010-09-02 \u6211\u7684\u7B2C\u4E00\u6761\u4E3B\u9898\u5E16\\n- 2007-09-07 \u6211\u7684\u7B2C\u4E00\u6761\u56DE\u590D\u5E16\\n- 2007-08-26 \u6CE8\u518C\u5230 http://club.eebbk.com/\\n\\n\x3c!-- more --\x3e\\n\\n\u521A\u5F00\u59CB\u7684\u65F6\u5019\u6211\u7684 ID \u8FD8\u662F `a3160586`,\\n\u540E\u6765 \u66F2\u66F2 \u5949\u732E\u4E86\u4ED6\u7684 G \u5E01\u7ED9\u6211\u6539\u4E86\u4E2A\u540D\u53EB`\u5C0F\u6587\u513F`\u4E86,\u672C\u6765\u662F\u60F3\u53EB`\u6587\u513F`\u7684\\n,\u53EF\u60DC\u5DF2\u7ECF\u88AB\u6CE8\u518C\u4E86,\u53EF\u60DC\u5440.\\n\\n\u90A3\u4E9B\u65F6\u5019,\u76DB\u884C\u7684\u8FD8\u662F 9688, \u5199\u7684\u8FD8\u662F BBasic \u548C basm, \u7528\u7684\u8FD8\u662F npp.\\n\\n\u90A3\u4E9B\u65F6\u5019,\u8FD8\u66FE\u5F53\u8FC7\u7248\u4E3B,\u6000\u63E3\u7740\u4E00\u4E2A\u68A6\u60F3,\u8BF4\u8FC7\u4E00\u4E9B\u8C6A\u8BED.\\n\\n\u90A3\u4E9B\u65F6\u5019,\u6B63\u503C\u9AD8\u4E09\u4E0B\u671F,\u5929\u5929\u71AC\u591C\u5199\u4E1C\u897F,\u5373\u4FBF\u9003\u8BFE,\u8001\u5E08\u4E5F\u4E0D\u4F1A\u7BA1.\\n\\n\u90A3\u4E9B\u65F6\u5019,\u8FD8\u80FD\u6709\u793C\u7269,\u8FD8\u5728\u8FFD\u6C42\u7CBE\u534E,\u8FD8\u60F3\u632F\u5174\u7F16\u7A0B\u533A(\u73B0\u5728\u5408\u5E76\u5230\u6821\u5916\u533A\u4E86).\\n\\n\u90A3\u4E9B\u65F6\u5019,\u6709\u66F2\u66F2,\u5F1F\u5F1F,red,\u7070\u673A,\u4ED9\u5251 \u7B49\u7B49..........\\n\\n\u90A3\u4E9B\u65F6\u5019,\u771F\u7684\u5F88\u5FEB\u4E50,\u867D\u7136\u6211\u61C2\u5F97\u771F\u7684\u4E0D\u591A,\u4F46\u6211\u53EA\u9700\u8981\u638C\u63E1\u597D\u4E00\u6837\u5C31\u597D.\\n\\n\u90A3\u4E9B\u65F6\u5019,\u8FC7\u53BB\u4E86,\u4E0D\u4F1A\u518D\u56DE\u6765,\u4E5F\u4E0D\u9700\u8981\u518D\u56DE\u6765.\\n\\n\\n\u73B0\u5728\u9762\u5BF9\u7684\u662F\u66F4\u591A\u7684\u77E5\u8BC6\u548C\u6280\u672F,\u6709\u65F6\u5019\u603B\u662F\u8FD8\u60F3\u91CD\u62FE\u4EE5\u524D\u7684\u4E1C\u897F,\\n\u53D1\u73B0\u771F\u7684\u5F88\u96BE\u4E86.\u90A3\u4E9B\u4E1C\u897F\u6216\u591A\u6216\u5C11\u5DF2\u7ECF\u8FC7\u65F6\u4E86,\u4F46\u662F\u5728\u6210\u957F\u7684\u8FC7\u7A0B\u4E2D\u66FE\\n\u626E\u6F14\u8FC7\u5341\u5206\u91CD\u8981\u7684\u89D2\u8272.\\n\\n\u90A3\u4E48\u591A\u5E74\u8FC7\u53BB\u4E86,BBK \u4E5F\u6CA1\u5F00\u653E\u8FC7\u4EC0\u4E48(\u6216\u8BB8\u6211\u4E0D\u77E5\u9053),\\n\u793E\u533A\u611F\u89C9\u4E0A\u4E5F\u8D8A\u6765\u8D8A\u5C0F\u4E86\u5427,\u771F\u7684\u4E0D\u559C\u6B22\u8FD9\u6837,\u867D\u7136\u73B0\u5728\u8BBA\u575B\u66F4\u6F02\u4EAE\u4E86,\\n\u754C\u9762\u66F4\u597D\u4E86,\u4EA7\u54C1\u66F4\u65B0\u4E86,\u4F46\u662F\u5438\u5F15\u529B\u5374\u8D8A\u6765\u8D8A\u5C0F\u4E86.\u6CA1\u6709\u81EA\u5DF1\u80FD\u7528\u529B\u7684\u5730\u65B9,\\n\u5373\u4FBF\u662F\u518D\u5FE0\u8BDA\u7684\u7528\u6237,\u4E5F\u65E0\u80FD\u4E3A\u529B,\u6C38\u8FDC\u5F62\u6210\u4E0D\u4E86\u50CF\u5F00\u6E90\u7684\u90A3\u79CD\u793E\u533A\u6548\u5E94.\\n\\n\u4E00\u4E2A\u4EA7\u54C1\u7684\u8FDB\u5316\u66F4\u591A\u7684\u662F\u53D7\u5230\u793E\u533A\u548C\u7528\u6237\u7684\u5F71\u54CD,\u53EA\u7ACB\u8DB3\u4E8E\u5546\u4E1A\u548C\u81EA\u5DF1\u7684\u5229\u76CA,\\n\u8FD9\u6837\u505A\u7684\u4EA7\u54C1\u6C38\u8FDC\u90FD\u662F\u81EA\u5DF1\u7684,\u7528\u6237\u53C8\u6709\u4EC0\u4E48\u53D1\u8A00\u6743\u5462?\u6700\u540E\u4E5F\u53EA\u80FD\u662F\u4EBA\u8D70\u8336\u51C9\u4E86.\\n\u4E00\u6279\u4EBA\u8D70\u4E86,\u53E6\u4E00\u6279\u4E0D\u660E\u6240\u4EE5\u7684\u4EBA\u53C8\u8FDB\u6765,\u7136\u540E\u53C8\u79BB\u5F00.\\n\\n\u6240\u4EE5\u79BB\u5F00\u4E86,\u5269\u4E0B\u7684\u6216\u8BB8\u90FD\u662F\u4F60\u4EEC\u7684\u4E16\u754C.\\n\\n\u8FD9\u91CC\u5305\u542B\u4E86\u6211\u5F53\u521D\u5728 bbk \u8BBA\u575B\u53D1\u8868\u7684\u90E8\u5206\u5185\u5BB9,\\n\\n- [js \u89E3\u6790 lib \u56FE\u7247\u6587\u4EF6\u5217\u8868](https://wener.me/story/bbk-bbimg-js)\\n- [\u56DB\u4E2A\u51FD\u6570\u548C bb \u7F16\u8F91\u5668](https://wener.me/story/bbk-libs)\\n- [BB \u6025\u901F\u622A\u56FE](https://wener.me/story/bbk-quick-screenshot)\\n- [\u8FD8\u539F\u7684 Bda \u8BA1\u7B97\u5668](https://wener.me/story/bbk-bda-calc)\\n- [\u56DA\u5F92\u56F0\u5883](https://wener.me/story/bbk-game-prisoner-dilemma)\\n- [\u5E73\u751F\u7B2C\u4E00\u4E2A\u6E38\u620F - \u8DA3\u5473\u62FC\u56FE](https://wener.me/story/bbk-first-game)\\n\\n\u6CA1\u6709\u8F6C\u5B58\u7684\u5185\u5BB9,\u4E0B\u9762\u4F1A\u5217\u4E3E\u4E00\u4E9B.\\n\\n> \u4EE5\u4E0B\u94FE\u63A5\u5747 404\\n\\n- [DLX&LIB&RLB&BMP \u6587\u4EF6\u6570\u636E\u7ED3\u6784\u548C\u7B97\u6CD5\uFF0C\u6DF1\u5165\u7814\u7A76 \uFF0C\u9644\u5E26\u6587\u4EF6\u8BFB\u53D6\u6A21\u677F\uFF0C\u6E90\u7801\uFF0C\u5927\u5BCC\u7FC1\u7D20\u6750\u548C\u4E00\u4E9B dlx \u5BFC\u51FA\u7684\u7ED3\u679C](http://club.eebbk.com/bbkbbs/showtopic/250018/1)\\n- [\u7528\u6237\u8BCD\u5178\u6570\u636E\u7ED3\u6784\uFF0C\u6A21\u677F\u548C lcc \u6587\u4EF6\u6A21\u677F\uFF0C\u53EF\u76F4\u63A5\u8BFB\u5199\u6570\u636E](http://club.eebbk.com/bbkbbs/showtopic/250082/1)\\n- [\u540D\u7247\u6587\u4EF6\uFF08LCC\uFF09\u7ED3\u6784\uFF0C\u751F\u6210\u81EA\u5DF1\u7684\u540D\u7247](http://club.eebbk.com/bbkbbs/showtopic/249402/1)\\n- [\u5F3A\u5927\u51FD\u6570 \u5236\u4F5C bb \u7684\u52A8\u6001\u94FE\u63A5\u5E93(dll)\uFF0C\u5B9E\u73B0\u6570\u636E\u5E93,\u7528\u6C47\u7F16\u7684](http://club.eebbk.com/bbkbbs/showtopic/246851/1)\\n- [\u8FD9\u6837\u505A ARPG(\u52A8\u4F5C\u7C7B\u89D2\u8272\u626E\u6F14\u6E38\u620F)](http://club.eebbk.com/bbkbbs/showtopic/245477/1)\\n- [p \u7C7B\u51FD\u6570\u5E93\u7684\u5B9E\u9645\u8FD0\u7528\uFF0C\u7531\u6D45\u5165\u6DF1\uFF0C\u6DF1\u5165\u6D45\u51FA\u7684\u5B9E\u4F8B\u8BB2\u89E3](http://club.eebbk.com/bbkbbs/showtopic/244376/1)\\n- [BB \u5B66\u4E60\u5FC5\u5907\u624B\u518C](http://club.eebbk.com/bbkbbs/showtopic/245464/1)\\n- [\u7269\u7406\u7684\u7B80\u5355\u8FD0\u7528\u300APLAYBALL\u300B\uFF08\u73A9\u86CB\uFF09](http://club.eebbk.com/bbkbbs/showtopic/243308/1)\\n- [\u8D1D\u585E\u5C14\u66F2\u7EBF\u8FD0\u7528\uFF0C8 \u4E2A\u5B9E\u4F8B\u3002](http://club.eebbk.com/bbkbbs/showtopic/243000/1)\\n- [\u4E8C\u6B21\u8D1D\u585E\u5C14\u66F2\u7EBF\u8F85\u52A9\u7684\u5DE5\u5177\uFF0C\u8BA9\u4F60\u8BA1\u7B97\u70B9\u7684\u4F4D\u7F6E\uFF0C\u53EF\u89C6\u5316\u3002exe \u683C\u5F0F](http://club.eebbk.com/bbkbbs/showtopic/243168/1)"},{"id":"rk-software-designer","metadata":{"permalink":"/story/rk-software-designer","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2013/2013-11-08-\u8F6F\u4EF6\u8BBE\u8BA1\u5E08\u8003\u8BD5\u7B14\u8BB0.md","source":"@site/../story/2013/2013-11-08-\u8F6F\u4EF6\u8BBE\u8BA1\u5E08\u8003\u8BD5\u7B14\u8BB0.md","title":"\u8F6F\u4EF6\u8BBE\u8BA1\u5E08\u8003\u8BD5\u7B14\u8BB0","description":"\u8003\u8BD5\u8F6F\u8003\u7684\u65F6\u5019,\u6574\u7406\u7684\u4E00\u4E9B\u7B14\u8BB0","date":"2013-11-08T00:00:00.000Z","tags":[{"inline":true,"label":"\u8F6F\u4EF6\u8BBE\u8BA1","permalink":"/story/tags/\u8F6F\u4EF6\u8BBE\u8BA1"},{"inline":true,"label":"\u7B14\u8BB0","permalink":"/story/tags/\u7B14\u8BB0"}],"readingTime":19.23,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"rk-software-designer","title":"\u8F6F\u4EF6\u8BBE\u8BA1\u5E08\u8003\u8BD5\u7B14\u8BB0","tags":["\u8F6F\u4EF6\u8BBE\u8BA1","\u7B14\u8BB0"],"date":"2013-11-08T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\u7EAA\u5FF5\u90A3\u4E9B\u5728 BBK \u7684\u65F6\u5149","permalink":"/story/bbk-memory"},"nextItem":{"title":"Regex \u901F\u8BB0","permalink":"/story/regex-note"}},"content":"> \u8003\u8BD5\u8F6F\u8003\u7684\u65F6\u5019,\u6574\u7406\u7684\u4E00\u4E9B\u7B14\u8BB0\\n\\n\x3c!-- more --\x3e\\n\\n\u5185\u5BB9\\n====\\n\\n\u7CFB\u7EDF\u5F00\u53D1\u548C\u8FD0\u884C\\n--------------\\n\\n### \u8F6F\u4EF6\u751F\u5B58\u5468\u671F\\n\u53EF\u884C\u6027\u5206\u6790, \u9879\u76EE\u5F00\u53D1\u8BA1\u5212, \u9700\u6C42\u5206\u6790, \u8BBE\u8BA1(\u6982\u8981\u8BBE\u8BA1\u548C\u8BE6\u7EC6\u8BBE\u8BA1), \u7F16\u7801, \u6D4B\u8BD5, \u7EF4\u62A4\\n\\n### \u8F6F\u4EF6\u5F00\u53D1\u6A21\u578B\\n\\n\u7011\u5E03\u6A21\u578B\\n: \u63D0\u4F9B\u4E86\u6709\u6548\u7684\u7BA1\u7406\u6A21\u5F0F, \u6587\u6863\u9A71\u52A8\\n: \u4E3B\u8981\u7528\u4E8E\u7ED3\u6784\u5316\u7684\u8F6F\u4EF6\u5F00\u53D1\\n: \u7F3A\u4E4F\u7075\u6D3B\u6027, \u65E0\u6CD5\u901A\u8FC7\u5F00\u53D1\u6D3B\u52A8\u6765\u660E\u786E\u9700\u6C42\\n\\n\\n\u6F14\u5316\u6A21\u578B\\n: \u6784\u5EFA\u539F\u578B\\n: \u5BF9\u8F6F\u4EF6\u9700\u6C42\u7F3A\u4E4F\u51C6\u786E\u8BA4\u8BC6\\n\\n\u87BA\u65CB\u6A21\u578B\\n: \u7EFC\u5408\u4E86\u7011\u5E03\u6A21\u578B\u548C\u6F14\u5316\u6A21\u578B\u7684\u4F18\u70B9\\n: \u589E\u52A0\u4E86\u98CE\u9669\u5206\u6790\\n: \u9002\u5408\u5927\u578B\u590D\u6742\u7CFB\u7EDF\\n\\n\u55B7\u6CC9\u6A21\u578B\\n: *\u9762\u5411\u5BF9\u8C61\u5F00\u53D1\u8FC7\u7A0B*\\n: \u5177\u6709\u8FED\u4EE3\u548C\u65E0\u95F4\u9699\u7279\u6027\\n\\nV\u6A21\u578B\\n: \u5F3A\u8C03\u8F6F\u4EF6\u5F00\u53D1\u7684\u534F\u4F5C\u548C\u901F\u5EA6\\n: \u5B9E\u73B0\u548C\u9A8C\u8BC1\u7ED3\u5408\\n: \u4FDD\u8BC1\u8D28\u91CF\u7F29\u77ED\u5468\u671F\\n\\n### \u8F6F\u4EF6\u5F00\u53D1\u65B9\u6CD5\\n\\n#### \u7ED3\u6784\u5316\u65B9\u6CD5\\n\u7531\u7ED3\u6784\u5316\u5206\u6790,\u7ED3\u6784\u5316\u8BBE\u8BA1,\u7ED3\u6784\u5316\u7A0B\u5E8F\u8BBE\u8BA1\u6784\u6210\\n\u662F\u4E00\u79CD\u9762\u5411__\u6570\u636E\u6D41__\u7684\u5F00\u53D1\u65B9\u6CD5.\\n\u4F7F\u7528DFD\u56FE\u6765\u5EFA\u7ACB\u7CFB\u7EDF\u7684\u529F\u80FD\u6A21\u578B.\\n\u6307\u5BFC\u601D\u60F3\u662F \u81EA\u9876\u5411\u4E0B,\u9010\u5C42\u5206\u89E3.\u57FA\u672C\u539F\u5219\u662F\u529F\u80FD\u7684\u5206\u89E3\u4E0E\u62BD\u8C61.\\n\u9002\u7528\u4E8E\u6570\u636E\u5904\u7406\u9886\u57DF,\u4E0D\u9002\u5408\u89E3\u51B3\u5927\u89C4\u6A21\u7684,\u7279\u522B\u590D\u6742\u7684\u9879\u76EE,\u4E14\u96BE\u4EE5\u9002\u5E94\u9700\u6C42\u7684\u53D8\u5316\\n\\n#### Jackson \u65B9\u6CD5\\n\\n\u662F\u4E00\u79CD\u9762\u5411__\u6570\u636E\u6D41__\u7684\u5F00\u53D1\u65B9\u6CD5.\\nJSP(Jaskon Structure Programming) \u65B9\u6CD5 \u4EE5\u6570\u636E\u7ED3\u6784\u4E3A\u9A71\u52A8,\u9002\u5408\u4E8E\u5C0F\u89C4\u6A21\u9879\u76EE.\\nJSD \u662F JSP \u7684\u6269\u5145.\\n\\n#### \u539F\u578B\u5316\u65B9\u6CD5\\n\\n\u5F00\u53D1\u539F\u578B,\u5F81\u6C42\u610F\u89C1,\u4FEE\u6539\u539F\u578B.\\n\u9002\u7528\u4E8E\u7528\u6237\u9700\u6C42\u4E0D\u6E05,\u4E1A\u52A1\u4E0D\u786E\u5B9A,\u9700\u6C42\u7ECF\u5E38\u53D8\u5316\u7684\u60C5\u51B5.\u4E5F\u53EF\u7528\u4E8E\u4E0D\u590D\u6742\u7684\u5C0F\u89C4\u6A21\u9879\u76EE.\\n\\n#### \u9762\u5411\u5BF9\u8C61\u5F00\u53D1\u65B9\u6CD5\\n\\n\u5305\u62EC\u9762\u5411\u5BF9\u8C61\u5206\u6790,\u9762\u5411\u5BF9\u8C61\u8BBE\u8BA1\u548C\u9762\u5411\u5BF9\u8C61\u5B9E\u73B0.\\n\\n\u9762\u5411\u5BF9\u8C61\u5F00\u53D1\u65B9\u6CD5: Booch,Coad,OMT.\\nUML \u662F\u9762\u5411\u5BF9\u8C61\u6807\u51C6\u5EFA\u6A21\u8BED\u8A00.\\n\\n### \u98CE\u9669\u5206\u6790\\n\\n\u5305\u62EC \u98CE\u9669\u8BC6\u522B, \u98CE\u9669\u9884\u6D4B, \u98CE\u9669\u8BC4\u4F30, \u98CE\u9669\u63A7\u5236\\n\\n\u98CE\u9669\u8BC6\u522B\\n: \u5EFA\u7ACB\u98CE\u9669\u6761\u76EE\u68C0\u67E5\u8868\\n\\n\u98CE\u9669\u9884\u6D4B\\n: \u98CE\u9669\u53D1\u751F\u7684\u53EF\u80FD\u6027\u6216\u6982\u7387,\u98CE\u9669\u53D1\u751F\u6240\u4EA7\u751F\u7684\u540E\u679C\\n\\n\u98CE\u9669\u8BC4\u4F30\\n: $(r_i,l_i,x_i)$,r\u4E3A\u98CE\u9669,l\u4E3A\u6982\u7387,x\u4E3A\u5F71\u54CD\\n: \u5EFA\u7ACB\u53C2\u7167\\n\\n\u98CE\u9669\u63A7\u5236\\n: \u98CE\u9669\u907F\u514D,\u98CE\u9669\u76D1\u63A7, \u98CE\u9669\u7BA1\u7406\u53CA\u610F\u5916\u4E8B\u4EF6\u8BA1\u5212\\n\\n### \u8FDB\u5EA6\u7BA1\u7406\\n\\n#### Gantt \u56FE\\n\\n\u53EF\u4EE5\u53CD\u6620\u5E76\u884C\u5173\u7CFB\\n\u4E0D\u80FD\u53CD\u6620\u4F9D\u8D56\u5173\u7CFB,\u96BE\u4EE5\u786E\u5B9A\u9879\u76EE\u7684\u5173\u952E\u6240\u5728,\u4E0D\u80FD\u53CD\u6620\u8BA1\u5212\u4E2D\u6709\u6F5C\u529B\u90E8\u5206\\n\\n#### PERT \u56FE\\n\\n\u53EF\u4EE5\u53CD\u6620\u4F9D\u8D56\u5173\u7CFB,\u786E\u5B9A\u5173\u952E,\u53CD\u6620\u6F5C\u529B\\n\u4E0D\u80FD\u53CD\u6620\u5E76\u884C\\n\\n\u5173\u952E\u8DEF\u5F84\u662F\u677E\u5F1B\u65F6\u95F4\u4E3A 0 \u7684\u4EFB\u52A1\u5B8C\u6210\u8FC7\u7A0B\u6240\u7ECF\u5386\u7684\u8DEF\u5F84.\u6CA1\u6709\u677E\u5F1B\u65F6\u95F4\u5219\u662F\u8017\u65F6\u6700\u957F\u8DEF\u5F84.\\n\\n### \u8F6F\u4EF6\u914D\u7F6E\u7BA1\u7406\\n\\n\u6807\u8BC6\u53D8\u66F4,\u63A7\u5236\u53D8\u66F4,\u786E\u4FDD\u53D8\u66F4,\u7248\u672C\u63A7\u5236\\n\\n### \u8F6F\u4EF6\u8FC7\u7A0B\u7BA1\u7406\\n\\n\u8F6F\u4EF6\u8FC7\u7A0B\u80FD\u529B\u8BC4\u4F30\u7684\u610F\u4E49\\n: \u662F\u6539\u8FDB\u8F6F\u4EF6\u8FC7\u7A0B\u548C\u964D\u4F4E\u8F6F\u4EF6\u98CE\u9669\u7684\u9700\u8981\\n\\n### \u8F6F\u4EF6\u80FD\u529B\u6210\u719F\u5EA6\u6A21\u578B / CMM\\n\\n\u521D\u59CB\u7EA7\\n: \u65E0\u5E8F\u7684,\u6DF7\u4E71\u7684,\u5BF9\u8FC7\u7A0B\u6CA1\u6709\u5B9A\u4E49,\u6210\u529F\u53D6\u51B3\u4E8E\u4E2A\u4EBA\\n\\n\u53EF\u91CD\u590D\u7EA7\\n: \u6709\u57FA\u672C\u7684\u9879\u76EE\u7BA1\u7406\u8FC7\u7A0B\u6765\u8DDF\u8E2A\u8D39\u7528,\u8FDB\u5EA6,\u529F\u80FD\u7279\u6027.\u6709\u8FC7\u7A0B\u7EAA\u5F8B,\u80FD\u91CD\u590D\u65E9\u5148\u7C7B\u4F3C\u7684\u6210\u529F\\n\\n\u5DF2\u5B9A\u4E49\u7EA7\\n: \u5C06\u8F6F\u4EF6\u7BA1\u7406\u548C\u5DE5\u7A0B\u7684\u8FC7\u7A0B\u6587\u6863\u5316,\u6807\u51C6\u5316,\u7EFC\u5408\u6210\u8BE5\u7EC4\u7EC7\u7684\u6807\u51C6\u8F6F\u4EF6\u8FC7\u7A0B.\u9879\u76EE\u4F7F\u7528\u7ECF\u6279\u51C6,\u88C1\u526A\u7684\u6807\u51C6\u8F6F\u4EF6\u8FC7\u7A0B\u6765\u5F00\u53D1\u548C\u7EF4\u62A4\u8F6F\u4EF6.\\n\\n\u5DF2\u7BA1\u7406\u7EA7\\n: \u6536\u96C6\u5BF9\u8F6F\u4EF6\u8FC7\u7A0B\u548C\u4EA7\u54C1\u8D28\u91CF\u7684\u8BE6\u7EC6\u5EA6\u91CF,\u5BF9\u8F6F\u4EF6\u8FC7\u7A0B\u548C\u4EA7\u54C1\u90FD\u6709\u5B9A\u91CF\u7684\u7406\u89E3\u548C\u63A7\u5236\\n\\n\u4F18\u5316\u7EA7\\n: \u8FC7\u7A0B\u7684\u91CF\u5316\u53CD\u9988\u548C\u5148\u8FDB\u7684\u65B0\u601D\u60F3,\u65B0\u6280\u672F\u4FC3\u4F7F\u8FC7\u7A0B\u4E0D\u65AD\u6539\u8FDB.\\n\\n### \u7EDF\u4E00\u8FC7\u7A0B\\n\\n\u7EDF\u4E00\u8FC7\u7A0B(UP)\u6A21\u578B\u662F\u4E00\u79CD \\"\u7528\u4F8B\u548C\u98CE\u9669\u9A71\u52A8,\u4EE5\u6784\u67B6\u4E3A\u4E2D\u5FC3,\u8FED\u4EE3\u5E76\u4E14\u589E\u91CF\\"\u7684\u5F00\u53D1\u8FC7\u7A0B.\\n\\n\u5206\u4E3A\u4E94\u4E2A\u9636\u6BB5:\\n\\n-|-\\n-|-\\n\u521D\u59CB\u9636\u6BB5|\u751F\u547D\u5468\u671F\u76EE\u6807\\n\u7CBE\u5316\u9636\u6BB5|\u751F\u547D\u5468\u671F\u6784\u67B6\\n\u6784\u5EFA\u9636\u6BB5|\u521D\u59CB\u8FD0\u4F5C\u529F\u80FD(Beta \u7248\u4EA7\u54C1)\\n\u79FB\u4EA4\u9636\u6BB5|\u4EA7\u54C1\u53D1\u5E03\\n\\n#### RUP\\nRUP(Rational Unified Process) \u662F UP \u7684\u5546\u4E1A\u6269\u5C55.\\n\\n\u89D2\u8272\\n: \u63CF\u8FF0\u4E2A\u4EBA\u6216\u5C0F\u7EC4\u7684\u884C\u4E3A\u804C\u8D23\\n\\n\u6D3B\u52A8\\n: \u6709\u660E\u786E\u76EE\u7684\u7684\u5DE5\u4F5C\u5355\u5143\\n\\n\u5DE5\u4EF6\\n: \u662F\u6D3B\u52A8\u751F\u6210,\u521B\u5EFA\u6216\u4FEE\u6539\u7684\u4E00\u6BB5\u4FE1\u606F.\\n\\n### \u654F\u6377\u65B9\u6CD5\\n\\n\u662F \\"\u5C3D\u53EF\u80FD\u65E9\u7684,\u6301\u7EED\u7684\u5BF9\u6709\u4EF7\u503C\u7684\u8F6F\u4EF6\u7684\u4EA4\u4ED8\\"\u4F7F\u5BA2\u6237\u6EE1\u610F\\n\\n\u5178\u578B\u65B9\u6CD5: \u6781\u9650\u7F16\u7A0B,\u6C34\u6676\u6CD5,\u5E76\u5217\u5F81\u6C42\u6CD5,\u81EA\u9002\u5E94\u8F6F\u4EF6\u5F00\u53D1\\n\\n#### \u6781\u9650\u7F16\u7A0B\\n4\u4E2A\u4EF7\u503C\u89C2\\n: \u6C9F\u901A,\u7B80\u5355\u6027,\u53CD\u9988\u548C\u52C7\u6C14\\n\\n5\u4E2A\u539F\u5219\\n: \u5FEB\u901F\u53CD\u9988, \u7B80\u5355\u6027\u5047\u8BBE, \u9010\u6B65\u4FEE\u6539, \u63D0\u5021\u66F4\u6539\u548C\u4F18\u8D28\u5DE5\u4F5C\\n\\n12\u4E2A\u6700\u4F73\u5B9E\u8DF5\\n: \u8BA1\u5212\u6E38\u620F,\u5C0F\u578B\u53D1\u5E03,\u9690\u55BB, \u7B80\u5355\u8BBE\u8BA1, \u6D4B\u8BD5\u5148\u884C, \u91CD\u6784, \u7ED3\u5BF9\u7F16\u7A0B, \u96C6\u4F53\u4EE3\u7801\u6240\u6709\u5236,\\n    \u6301\u7EED\u96C6\u6210, \u6BCF\u5468\u5DE5\u4F5C40\u4E2A\u5C0F\u65F6,\u73B0\u573A\u5BA2\u6237\u548C\u7F16\u7801\u6807\u51C6.\\n\\n### \u8F6F\u4EF6\u8D28\u91CF\u7279\u6027\\n\\nISO/IEC 9126 \u8F6F\u4EF6\u8D28\u91CF\u6A21\u578B\u7531\u4E09\u4E2A\u5C42\u6B21\u6784\u6210: \u8D28\u91CF\u7279\u6027,\u8D28\u91CF\u5B50\u7279\u6027, \u5EA6\u91CF\u6307\u6807\\n\\n* \u529F\u80FD\u6027\\n    * \u9002\u5408\u6027\\n    * \u51C6\u786E\u6027\\n    * \u4E92\u7528\u6027\\n    * \u4F9D\u4ECE\u6027\\n    * \u5B89\u5168\u6027\\n* \u53EF\u9760\u6027\\n    * \u6210\u719F\u6027\\n    * \u5BB9\u9519\u6027\\n    * \u6613\u6062\u590D\u6027\\n* \u6613\u7528\u6027\\n    * \u6613\u7406\u89E3\u6027\\n    * \u6613\u5B66\u6027\\n    * \u6613\u64CD\u4F5C\u6027\\n* \u6548\u7387\\n    * \u65F6\u95F4\u7279\u6027\\n    * \u8D44\u6E90\u7279\u6027\\n* \u53EF\u7EF4\u62A4\u6027\\n    * \u6613\u5206\u6790\u6027\\n    * \u6613\u4FEE\u6539\u6027\\n    * \u7A33\u5B9A\u6027\\n    * \u6613\u6D4B\u8BD5\u6027\\n* \u53EF\u79FB\u690D\u6027\\n    * \u9002\u5E94\u6027\\n    * \u6613\u5B89\u88C5\u6027\\n    * \u4E00\u81F4\u6027\\n    * \u6613\u66FF\u6362\u6027\\n\\n#### \u8F6F\u4EF6\u8D28\u91CF\u4FDD\u8BC1\\n\\n\u5305\u62EC7\u4E2A\u4E3B\u8981\u6D3B\u52A8\u76F8\u5173\u7684\u5404\u79CD\u4EFB\u52A1:\\n\\n* \u5E94\u7528\u6280\u672F\u65B9\u6CD5\\n* \u8FDB\u884C\u6B63\u5F0F\u7684\u6280\u672F\u8BC4\u5BA1\\n* \u6D4B\u8BD5\u8F6F\u4EF6\\n* \u6807\u51C6\u7684\u5B9E\u65BD\\n* \u63A7\u5236\u53D8\u66F4\\n* \u5EA6\u91CF\\n* \u8BB0\u5F55\u4FDD\u5B58\u548C\u62A5\u544A\\n\\n### \u4EE3\u7801\u590D\u6742\u6027\\n\\n* \u4EE3\u7801\u884C\u5EA6\u91CF\u6CD5\\n* McCabe \u5EA6\u91CF\u6CD5\\n    \u53C8\u79F0\u4E3A\u73AF\u5EA6\u91CF\u6CD5,\u8BA4\u4E3A\u590D\u6742\u6027\u4E3B\u8981\u53D6\u51B3\u4E8E\u63A7\u5236\u590D\u6742\u6027.\\n\\n### \u7CFB\u7EDF\u8BBE\u8BA1\u7684\u57FA\u672C\u539F\u7406\\n\u62BD\u8C61, \u6A21\u5757\u5316, \u4FE1\u606F\u9690\u853D, \u6A21\u5757\u72EC\u7ACB\\n\\n### \u8F6F\u4EF6\u6D4B\u8BD5\u7B56\u7565\\n\\n\u5355\u5143\u6D4B\u8BD5\\n: \u4E5F\u79F0\u4E3A\u6A21\u5757\u6D4B\u8BD5.\\n: \u7279\u5F81: \u6A21\u5757\u7ED3\u6784,\u5C40\u90E8\u6570\u636E\u7ED3\u6784, \u91CD\u8981\u7684\u6267\u884C\u8DEF\u5F84,\u51FA\u9519\u5904\u7406,\u8FB9\u754C\u6761\u4EF6\\n\\n\u7EC4\u88C5\u6D4B\u8BD5\\n: \u4E5F\u79F0\u4E3A\u96C6\u6210\u6D4B\u8BD5\\n: \u65B9\u6CD5:\\n    1.\u5206\u522B\u6D4B\u8BD5\u5404\u6A21\u5757,\u5728\u7EC4\u88C5\u8D77\u6765\u6574\u4F53\u6D4B\u8BD5,\u5373\u975E\u589E\u91CF\u6D4B\u8BD5.\\n    2.\u6A21\u5757\u7EC4\u5408\u5230\u5DF2\u6D4B\u8BD5\u597D\u7684\u6A21\u5757\u4E2D,\u5B8C\u6210\u540E\u7EC4\u5408\u4E0B\u4E00\u4E2A\u6A21\u5757,\u5373\u589E\u91CF\u6D4B\u8BD5\\n\\n\u786E\u8BA4\u6D4B\u8BD5\\n: \u786E\u8BA4\u529F\u80FD\u548C\u6027\u80FD\u662F\u5426\u548C\u7528\u6237\u8981\u6C42\u7684\u4E00\u6837.\\n: \u5148\u8FDB\u884C\u6709\u6548\u6027\u6D4B\u8BD5\u53CA\u8F6F\u4EF6\u914D\u7F6E\u5BA1\u67E5,\u7136\u540E\u8FDB\u884C\u9A8C\u6536\u6D4B\u8BD5\u548C\u5B89\u88C5\u6D4B\u8BD5,\u5B8C\u6210\u540E\u4EA4\u4ED8\u7ED9\u7528\u6237\\n\\n\u7CFB\u7EDF\u6D4B\u8BD5\\n: \u5C06\u8F6F\u4EF6\u653E\u5165\u5230\u5B9E\u9645\u73AF\u5883\u4E2D,\u8FDB\u884C\u5404\u79CD\u7EC4\u88C5\u6D4B\u8BD5\u548C\u786E\u8BA4\u6D4B\u8BD5.\\n: \u5E38\u89C1\u7684\u7CFB\u7EDF\u6D4B\u8BD5 \u6062\u590D\u6D4B\u8BD5,\u5B89\u5168\u6027\u6D4B\u8BD5,\u5F3A\u5EA6\u6D4B\u8BD5, \u6027\u80FD\u6D4B\u8BD5,\u5B89\u88C5\u6D4B\u8BD5,\u53EF\u9760\u6027\u6D4B\u8BD5\\n\\n\\n### \u6D4B\u8BD5\u65B9\u6CD5\\n\\n\u5206\u4E3A\u9759\u6001\u6D4B\u8BD5\u548C\u52A8\u6001\u6D4B\u8BD5\\n\\n\u9759\u6001\u6D4B\u8BD5\u5206\u4E3A \u4EBA\u5DE5\u68C0\u6D4B\u548C\u8BA1\u7B97\u673A\u8F85\u52A9\u9759\u6001\u5206\u6790\\n\\n\u52A8\u6001\u6D4B\u8BD5\u5206\u4E3A \u9ED1\u76D2\u6D4B\u8BD5\u548C\u767D\u76D2\u6D4B\u8BD5\\n\\n#### \u9ED1\u76D2\u6D4B\u8BD5\u7528\u4F8B\\n\u4E5F\u79F0\u4E3A\u529F\u80FD\u6D4B\u8BD5.\u4E0D\u8003\u8651\u5185\u90E8\u7ED3\u6784\u548C\u7279\u6027\u7684\u60C5\u51B5\u4E0B\u8FDB\u884C\u5916\u90E8\u7279\u6027\u6D4B\u8BD5.\\n\\n\u5E38\u7528\u7684\u6D4B\u8BD5\u6280\u672F:\\n\\n* \u7B49\u4EF7\u7C7B\u5212\u5206\\n* \u8FB9\u754C\u503C\u5206\u6790\\n* \u9519\u8BEF\u63A8\u65AD\\n* \u56E0\u679C\u56FE\\n\\n#### \u767D\u76D2\u6D4B\u8BD5\u7528\u4F8B\\n\u4E5F\u79F0\u4E3A\u7ED3\u6784\u6D4B\u8BD5\\n\\n\u6D4B\u8BD5\u65B9\u6CD5:\\n\\n* \u903B\u8F91\u8986\u76D6\\n* \u5FAA\u73AF\u8986\u76D6\\n* \u57FA\u672C\u8DEF\u5F84\u6D4B\u8BD5\\n\\n### \u8C03\u8BD5\\n\\n\u5E38\u7528\u7684\u8C03\u8BD5\u65B9\u6CD5: \u8BD5\u63A2\u6CD5,\u56DE\u6EAF\u6CD5, \u5BF9\u5206\u67E5\u627E\u6CD5,\u5F52\u7EB3\u6CD5,\u6F14\u7ECE\u6CD5\\n\\n### \u7CFB\u7EDF\u6587\u6863\\n\\n\u4EBA\u5458|\u6587\u6863\\n-|-\\n\u7528\u6237-\u7CFB\u7EDF\u5206\u6790\u4EBA\u5458 \u89C4\u5212\u5206\u6790|\u53EF\u884C\u6027\u7814\u7A76\u62A5\u544A,\u603B\u4F53\u89C4\u5212\u62A5\u544A,\u7CFB\u7EDF\u5F00\u53D1\u5408\u540C,\u7CFB\u7EDF\u65B9\u6848\u8BF4\u660E\u4E66\\n\u7CFB\u7EDF\u5F00\u53D1\u4EBA\u5458-\u9879\u76EE\u7BA1\u7406\u4EBA\u5458|\u7CFB\u7EDF\u5F00\u53D1\u8BA1\u5212,\u7CFB\u7EDF\u5F00\u53D1\u6708\u62A5,\u7CFB\u7EDF\u5F00\u53D1\u603B\u7ED3\\n\u7CFB\u7EDF\u6D4B\u8BD5\u4EBA\u5458-\u7CFB\u7EDF\u5F00\u53D1\u4EBA\u5458| \u7CFB\u7EDF\u65B9\u6848\u8BF4\u660E\u4E66,\u7CFB\u7EDF\u5F00\u53D1\u5408\u540C,\u7CFB\u7EDF\u8BBE\u8BA1\u8BF4\u660E\u4E66,\u6D4B\u8BD5\u8BA1\u5212\\n\u7CFB\u7EDF\u5F00\u53D1\u4EBA\u5458-\u7528\u6237 \u8FD0\u884C\u671F\u95F4| \u7528\u6237\u901A\u8FC7\u5F00\u53D1\u4EBA\u5458\u64B0\u5199\u7684\u6587\u6863\u8FD0\u884C\u7CFB\u7EDF\\n\u7CFB\u7EDF\u5F00\u53D1\u4EBA\u5458-\u7CFB\u7EDF\u7EF4\u62A4\u4EBA\u5458| \u7CFB\u7EDF\u8BBE\u8BA1\u8BF4\u660E\u4E66,\u7CFB\u7EDF\u5F00\u53D1\u603B\u7ED3\u62A5\u544A\\n\u7528\u6237-\u7EF4\u62A4\u4EBA\u5458 \u8FD0\u884C\u7EF4\u62A4\u671F\u95F4| \u7528\u6237\u8BB0\u8F7D\u8FD0\u884C\u95EE\u9898,\u5F62\u6210\u8FD0\u884C\u62A5\u544A\u548C\u4FEE\u6539\u5EFA\u8BAE.\u7EF4\u62A4\u4EBA\u5458\u4F9D\u6B21\u8FDB\u884C\u7EF4\u62A4\\n\\n### \u7CFB\u7EDF\u7EF4\u62A4\\n\\n\u53EF\u7EF4\u62A4\u6027\\n: \u7EF4\u62A4\u4EBA\u5458\u7406\u89E3,\u6539\u6B63,\u6539\u52A8\u548C\u6539\u8FDB\u8FD9\u4E2A\u8F6F\u4EF6\u7684\u96BE\u6613\u5EA6.\\n\\n\u7CFB\u7EDF\u7684\u53EF\u7EF4\u62A4\u6027\u6307\u6807\\n: \u53EF\u7406\u89E3\u6027,\u53EF\u6D4B\u8BD5\u6027,\u53EF\u4FEE\u6539\u6027\\n\\n\u7EF4\u62A4\u4E0E\u6587\u6863\\n: \u6587\u6863\u662F\u8F6F\u4EF6\u53EF\u7EF4\u62A4\u6027\u7684\u51B3\u5B9A\u56E0\u7D20.\u5206\u4E3A\u7528\u6237\u6587\u6863\u548C\u7CFB\u7EDF\u6587\u6863\\n\\n#### \u7CFB\u7EDF\u7EF4\u62A4\u7684\u5185\u5BB9\u53CA\u7C7B\u578B\\n\\n\u7EF4\u62A4\u7684\u8D39\u7528\u662F\u751F\u5B58\u5468\u671F\u5168\u90E8\u8D39\u7528\u7684 60% ~ 80%\\n\\n* \u786C\u4EF6\u7EF4\u62A4\\n* \u8F6F\u4EF6\u7EF4\u62A4\\n* \u6570\u636E\u7EF4\u62A4\\n\\n\u8F6F\u4EF6\u7EF4\u62A4\u7684\u5206\u7C7B\\n\\n* \u6B63\u786E\u6027/\u6539\u6B63\u6027 \u7EF4\u62A4. 17%~21%\\n    \u4EA4\u4ED8\u540E,\u8FD0\u884C\u65F6,\u8BCA\u65AD\u548C\u6539\u6B63\u9519\u8BEF\\n* \u9002\u5E94\u6027\u7EF4\u62A4. 18%~25%\\n* \u5B8C\u5584\u6027\u7EF4\u62A4. 50%~60%\\n    \u6269\u5145\u529F\u80FD\u548C\u6539\u5584\u6027\u80FD.\\n* \u9884\u9632\u6027\u7EF4\u62A4. 4%\\n    \u6539\u8FDB\u4EE5\u9002\u5E94\u672A\u6765\u7684\u8F6F\u786C\u4EF6\u73AF\u5883,\u589E\u52A0\u65B0\u7684\u529F\u80FD,\u4F7F\u5176\u4E0D\u88AB\u6DD8\u6C70.\\n\\n\\n\\n\\n\\n\\n\u7B97\u6CD5\\n====\\n\\n\u539F\u7801\\n: +0=00000000\\n: -0=10000000\\n\\n\u53CD\u7801\\n: +0=00000000\\n: -0=11111111\\n\\n\u8865\u7801\\n: +0=-0=00000000\\n\\n\u79FB\u7801\\n: =$n^{ n-1 }+X\\\\quad X \u4E3A\u7EAF\u6574\u6570,\u4E14 (-2^{ n-1 }\\\\le\\\\quad X\\\\quad<\\\\quad 2^{n-1})$\\n: =$1+X \\\\quad X\u4E3A\u7EAF\u5C0F\u6570,\u4E14(-1 \\\\le X < 1)$\\n: \u79FB\u7801\u4E3B\u8981\u7528\u4E8E\u8868\u793A\u6D6E\u70B9\u6570\u7684\u9636\u7801, \u5728\u6D6E\u70B9\u6570\u8FD0\u7B97\u4E2D\u6709\u4F18\u52BF.\\n\\n\u6D6E\u70B9\u6570\\n: \u8868\u793A $N=M \\\\cdot R^{E}$\\n: M \u5C3E\u6570 R \u57FA\u6570 E \u9636\u7801\\n: IEEE754 \u8868\u793A $(-1)^{S}2^{E}(b_0b_1\\\\cdots b_{P-1})$\\n\\n\\n\\n\\n## cache\u6027\u80FD\u5206\u6790\\n\\n$$\\nt_a\\\\quad = \\\\quad Ht_c + (1 - H ) t_m\\n$$\\n\\n$$\\nr=t_m/t_a\\n$$\\n\\nH \u4E3A cache \u547D\u4E2D\u7387,\\n$t_c $\u4E3Acache \u5B58\u53D6\u65F6\u95F4,\\n$t_m$\u4E3A\u4E3B\u5B58\u8BBF\u95EE\u65F6\u95F4,\\n$t_a$ cache\u7B49\u6548\u8BBF\u95EE\u65F6\u95F4,\\nr \u4E3A\u4F7F\u7528 cache \u63D0\u9AD8\u7684\u901F\u5EA6\u500D\u6570\\n\\n\\n## \u78C1\u76D8\u5BB9\u91CF\\n\\n$$\\n\u975E\u683C\u5F0F\u5316\u5BB9\u91CF = \u9762\u6570 \\\\times (\u78C1\u9053\u6570/\u9762)\\\\times \u5185\u5706\u5468\u957F\\\\times \u6700\u5927\u4F4D\u5BC6\u5EA6\\n$$\\n\\n$$\\n\u683C\u5F0F\u5316\u5BB9\u91CF = \u9762\u6570 \\\\times (\u78C1\u9053\u6570/\u9762)\\\\times (\u6247\u533A\u6570\\\\times \u9053)\\\\times (\u5B57\u8282\u6570/\u6247\u533A)\\n$$\\n\\n---\\n\\n\u541E\u5410\u7387\\n\\n\\n---\\n\\n## \u53EF\u9760\u6027\\n\\n$$\\nR(t) = e^{-\\\\lambda t}\\n$$\\n\\n$\\\\lambda$ \u5931\u6548\u7387\\nt \u65F6\u95F4\\nR(t) t\u8FD9\u6BB5\u65F6\u95F4\u80FD\u6B63\u5E38\u8FD0\u884C\u7684\u6982\u7387\\n\\n$$\\nMTBF= 1/\\\\lambda\\n$$\\n\\n$$\\nA = \\\\frac{MTBF}{MTBF + MTRF}\\n$$\\n\\nMTBF \u5E73\u5747\u65E0\u6545\u969C\u65F6\u95F4\\nMTRF \u5E73\u5747\u6545\u969C\u4FEE\u590D\u65F6\u95F4\\n\\n## \u53EF\u9760\u6027\u6A21\u578B\\n\\n\u4E32\u8054\u7CFB\u7EDF\\n: $R=R_1R_2\\\\cdots R_N$\\n: $\\\\lambda = \\\\lambda_1 + \\\\lambda_2 + \\\\cdots +\\\\lambda_N$\\n\\n\u5E76\u8054\u7CFB\u7EDF\\n: $R = 1 - (1-R_1)\\\\times(1-R_2)\\\\times\\\\cdots\\\\times(1-R_N)$\\n: $\\\\mu =\\\\frac { 1 }{ \\\\frac { 1 }{ \\\\lambda  } \\\\sum _{ j=1 }^{ N }{ \\\\frac{1}{j} }  } $\\n\\nN\u6A21\u5197\u4F59\u7CFB\u7EDF\\n: $ R=\\\\sum _{ i=n+1 }^{ N } \\\\begin{pmatrix} j  \\\\\\\\ N  \\\\end{pmatrix} \\\\times R_0^j(1-R_0)^{N-1} $\\n\\n## \u8BA1\u7B97\u673A\u6027\u80FD\\n$$\\nT = \\\\sum_{i=1}^{n} \\\\times (\\\\omega_i \\\\times t_i)\\n$$\\n\\nT \u7B49\u6548\u6307\u4EE4\u65F6\u95F4\\ni \u67D0\u7C7B\u6307\u4EE4\\nn \u6307\u4EE4\u79CD\u7C7B\u6570\\n$\\\\omega_i$ \u6307\u4EE4i\u5728\u7A0B\u5E8F\u4E2D\u5360\u7684\u6BD4\u4F8B\\n$t_i$ \u6307\u4EE4i \u6267\u884C\u65F6\u95F4\\n\\n## McCabe \u5EA6\u91CF\u6CD5\\n\\n$$\\nV(G) = m - n + 2p\\n$$\\n\\nV(G) \u4E3A\u6709\u5411\u56FE G \u4E2D\u7684\u73AF\u8DEF\u6570\\nm \u4E3A\u56FE G \u4E2D\u5F27\u7684\u4E2A\u6570\\nn \u4E3A\u8282\u70B9\u4E2A\u6570\\np \u4E3A G \u4E2D\u7684\u5F3A\u8FDE\u901A\u5206\u91CF\u4E2A\u6570\\n\\n## \u5B8C\u5168\u4E8C\u53C9\u6811\u53F6\u5B50\u8282\u70B9\u6570\u91CF\\n\\n\u9664\u6700\u5916\u5C42,\u5176\u4F59\u5C42\u4E0A\u7684\u8282\u70B9\u6570\u76EE\u90FD\u8FBE\u5230\u6700\u5927\u503C,\u800C\u7B2C h \u5C42\u4E0A\u7684\u8282\u70B9\u96C6\u4E2D\u5B58\u653E\u5728\u5DE6\u4FA7\u6811\\n```\\nn0 \u5EA6\u4E3A0\u7684\u8282\u70B9\u6570\\nn1 \u5EA6\u4E3A1\u7684\u8282\u70B9\u6570\\nn2 \u5EA6\u4E3A2\u7684\u8282\u70B9\u6570\\n\\nn0 = n2 + 1\\nn = n0 + n1 + n2\\nn0 = (n+1)/2 \u6216 n0 = n/2\\n```\\n\\n## Misc\\n\\n$$\\n\u5E73\u5747\u4F5C\u4E1A\u5468\u8F6C\u65F6\u95F4 = (\\\\sum_{i=1}^{n}{\\\\sum_{j=1}^{i}} t_j)/n\\n$$\\n\\nn \u4E3A\u4F5C\u4E1A\u7684\u6570\u91CF\\nti \u4E3A\u4F5C\u4E1A i \u7684\u65F6\u95F4\\n\\n---\\n\\n$$\\nASL/\u5E73\u5747\u67E5\u627E\u957F\u5EA6 = \\\\sum_{i=1}^nP_iC_i\\n$$\\nn \u8BB0\u5F55\u4E2A\u6570\\nPi \u5BF9\u8868\u4E2D\u7B2C i \u4E2A\u8BB0\u5F55\u8FDB\u884C\u67E5\u627E\u7684\u6982\u7387 \u4E14 $\\\\sum_{i=1}^nP_i = 1$\\n\\n---\\n\\n\\n\\n---\\n\\n```\\n\u82AF\u7247\u6570 = \u603B\u5BB9\u91CF/\u82AF\u7247\u5BB9\u91CF\\n\u5730\u5740\u7EBF\u6570 = \u7247\u9009\u5730\u5740\u6570 + \u7247\u5185\u5730\u5740\u6570 = log(\u82AF\u7247\u6570) + log(\u82AF\u7247\u5BB9\u91CF)\\n\u6CE8\u610F: \u5730\u5740\u662F\u6309\u5B57\u8282\u7F16\u5740\u7684\\n\\n\\n```\\n\\n\\nCheat Sheet\\n===========\\n\\n\u8026\u5408\u7C7B\u578B\\n--------\\n\\n\u8026\u5408\u7C7B\u578B | \u63CF\u8FF0\\n-|-\\n\u975E\u76F4\u63A5\u8026\u5408|\u4E24\u4E2A\u6A21\u5757\u4E4B\u95F4\u6CA1\u6709\u76F4\u63A5\u5173\u7CFB\\n\u6570\u636E\u8026\u5408|\u5F7C\u6B64\u4E4B\u95F4\u901A\u8FC7\u6570\u636E\u53C2\u6570\u6765\u4EA4\u6362\u8F93\u5165,\u8F93\u51FA\u4FE1\u606F\\n\u6807\u8BB0\u8026\u5408|\u4E00\u7EC4\u6A21\u5757\u901A\u8FC7\u53C2\u6570\u8868\u4F20\u9012\u8BB0\u5F55\u4FE1\u606F\\n\u63A7\u5236\u8026\u5408|\u4E00\u4E2A\u6A21\u5757\u901A\u8FC7\u4F20\u9001\u5F00\u5173,\u6807\u5FD7,\u540D\u5B57\u7B49\u63A7\u5236\u4FE1\u606F,\u660E\u663E\u5730\u63A7\u5236\u9009\u62E9\u4E86\u4E00\u4E2A\u6A21\u5757\u7684\u529F\u80FD\\n\u5916\u90E8\u8026\u5408| \u4E00\u7EC4\u6A21\u5757\u90FD\u8BBF\u95EE\u540C\u4E00\u5168\u5C40\u7B80\u5355\u53D8\u91CF\u800C\u4E0D\u662F\u540C\u4E00\u5168\u5C40\u6570\u636E\u7ED3\u6784,<br/>\u800C\u4E14\u4E0D\u662F\u901A\u8FC7\u53C2\u6570\u8868\u4F20\u9012\u8BE5\u5168\u5C40\u53D8\u91CF\u7684\u4FE1\u606F\\n\u516C\u5171\u8026\u5408 | \u90FD\u8BBF\u95EE\u540C\u4E00\u516C\u5171\u6570\u636E\u73AF\u5883\\n\u5185\u5BB9\u8026\u5408| \u4E00\u4E2A\u6A21\u5757\u76F4\u63A5\u8BBF\u95EE\u53E6\u4E00\u4E2A\u6A21\u5757\u7684\u5185\u90E8\u6570\u636E<br/>\u4E00\u4E2A\u6A21\u5757\u4E0D\u901A\u8FC7\u6B63\u5E38\u5165\u53E3\u8F6C\u5230\u53E6\u4E00\u4E2A\u6A21\u5757\u5185\u90E8<br/>\u4E24\u4E2A\u6A21\u5757\u6709\u4E00\u90E8\u5206\u7A0B\u5E8F\u4EE3\u7801\u91CD\u53E0<br/>\u4E00\u4E2A\u6A21\u5757\u6709\u591A\u4E2A\u5165\u53E3\\n\\n\\nUML\\n----------------\\n\\n\u57DF|\u89C6\u56FE|\u56FE|\u4E3B\u8981\u6982\u5FF5\\n-|-|-|-\\n\u7ED3\u6784| \u9759\u6001\u89C6\u56FE|\u7C7B\u56FE|\u7C7B,\u5173\u8054,\u6CDB\u5316\u4F9D\u8D56\u5173\u7CFB,\u5B9E\u73B0,\u63A5\u53E3\\n    || \u7528\u4F8B\u89C6\u56FE|\u7528\u4F8B\u56FE| \u7528\u4F8B,\u53C2\u4E0E\u8005,\u5173\u8054,\u6269\u5C55,\u5305\u62EC,\u7528\u4F8B\u6CDB\u5316\\n    || \u5B9E\u73B0\u89C6\u56FE| \u6784\u4EF6\u56FE| \u6784\u4EF6,\u63A5\u53E3,\u4F9D\u8D56\u5173\u7CFB,\u5B9E\u73B0\\n    || \u90E8\u7F72\u89C6\u56FE| \u90E8\u7F72\u56FE|\u8282\u70B9,\u6784\u4EF6,\u4F9D\u8D56\u5173\u7CFB,\u5B9E\u73B0\\n\u52A8\u6001| \u72B6\u6001\u673A\u89C6\u56FE| \u72B6\u6001\u673A\u56FE| \u72B6\u6001,\u4E8B\u4EF6,\u8F6C\u6362,\u52A8\u4F5C\\n    || \u6D3B\u52A8\u89C6\u56FE | \u6D3B\u52A8\u56FE| \u72B6\u6001,\u6D3B\u52A8,\u5B8C\u6210\u8F6C\u6362,\u5206\u53C9,\u7ED3\u5408\\n    || \u4EA4\u4E92\u89C6\u56FE | \u987A\u5E8F\u56FE| \u4EA4\u4E92,\u5BF9\u8C61,\u6D88\u606F,\u6FC0\u6D3B\\n    || | \u534F\u4F5C\u56FE| \u534F\u4F5C,\u4EA4\u4E92,\u5199\u4F5C\u89D2\u8272.\u6D88\u606F\\n\u6A21\u578B\u7BA1\u7406|\u6A21\u578B\u7BA1\u7406\u89C6\u56FE|\u7C7B\u56FE|\u5305,\u5B50\u7CFB\u7EDF,\u6A21\u578B\\n\u53EF\u6269\u5C55\u6027,\u6240\u6709|\u6240\u6709|\u7EA6\u675F,\u6784\u9020\u6027,\u6807\u8BB0\u503C\\n\\n\\n\u4F9D\u8D56\\n: \u4E24\u4E2A\u4E8B\u7269\u4E4B\u95F4\u7684\u8BED\u4E49\u5173\u7CFB,\u4E00\u4E2A\u4E8B\u7269\u7684\u53D8\u5316\u4F1A\u5F71\u54CD\u53E6\u4E00\u4E2A\\n\\n\u5173\u8054\\n: \u4E00\u79CD\u7ED3\u6784\u5173\u7CFB, \u63CF\u8FF0\u4E86\u4E00\u7EC4\u94FE\u5F0F\u5BF9\u8C61\u4E4B\u95F4\u7684\u8FDE\u63A5.\\n\\n\u805A\u96C6\\n: \u662F\u4E00\u79CD\u7279\u6B8A\u7684\u5173\u8054,\u63CF\u8FF0\u4E86\u6574\u4F53\u548C\u90E8\u5206\u4E4B\u95F4\u7684\u7ED3\u6784\u5173\u7CFB.\\n\\n\u6CDB\u5316\\n: \u662F\u4E00\u79CD \u7279\u6B8A/\u4E00\u822C \u5173\u7CFB\\n\\n\u5B9E\u73B0\\n: \u662F\u7C7B\u5143\u4E4B\u95F4\u7684\u8BED\u4E49\u5173\u7CFB\\n\\n\u5305\u542B\\n: \u628A\u51E0\u4E2A\u7528\u4F8B\u7684\u516C\u5171\u6B65\u9AA4\u5206\u79BB\u6210\u4E00\u4E2A\u5355\u72EC\u7684\u88AB\u5305\u542B\u7528\u4F8B.\\n\\n\u6269\u5C55\\n: \u628A\u65B0\u884C\u4E3A\u63D2\u5165\u5230\u5DF2\u6709\u7684\u7528\u4F8B\u4E2D\u7684\u65B9\u6CD5.\\n\\n\u8FB9\u754C\u7C7B\\n: \u63CF\u8FF0\u7684\u662F\u7CFB\u7EDF\u5916\u90E8\u73AF\u5883\u548C\u7CFB\u7EDF\u5185\u90E8\u7684\u4EA4\u4E92,\u5DE5\u4F5C\u5728\u5916\u90E8\u73AF\u5883\u548C\u7CFB\u7EDF\u4E4B\u95F4,\u8FB9\u754C\u5BF9\u8C61\u8868\u793A\u4E00\u4E2A\u7A97\u53E3.\\n\\n\u5B9E\u4F53\u7C7B\\n: \u5B58\u50A8\u548C\u7BA1\u7406\u7CFB\u7EDF\u5185\u90E8\u4FE1\u606F,\u53EF\u4EE5\u6709\u884C\u4E3A,\u4F46\u5FC5\u987B\u548C\u4ED6\u6240\u8868\u793A\u7684\u5BF9\u8C61\u5BC6\u5207\u76F8\u5173\\n: \u5B9E\u4F53\u7C7B\u662F\u72EC\u7ACB\u4E8E\u7CFB\u7EDF\u5916\u90E8\u73AF\u5883\u7684\\n\\n\u63A7\u5236\u7C7B\\n: \u4E3B\u8981\u63CF\u8FF0\u7279\u70B9\u7684 UseCase \u7684\u63A7\u5236\u884C\u4E3A,\u4E0E\u7279\u5B9A\u7684 UseCase, \u5B9E\u73B0\u5BC6\u5207\u76F8\u5173\\n: \u53EF\u4EE5\u6709\u6548\u7684\u964D\u4F4E\u8FB9\u754C\u7C7B\u548C\u5B9E\u4F53\u7C7B\u7684\u8026\u5408, \u4F7F\u7CFB\u7EDF\u5BF9\u4E8E\u5916\u90E8\u73AF\u5883\u7684\u53D8\u5316,\u80FD\u66F4\u597D\u9002\u5E94.\\n\\n\\n\\n\u54C8\u592B\u66FC\u6811\u7684\u5B9A\u4E49\\n----------------\\n\\n\u54C8\u592B\u66FC\u6811\u53C8\u79F0\u6700\u4F18\u4E8C\u53C9\u6811, \u662F\u4E00\u79CD\u5E26\u6743\u8DEF\u5F84\u957F\u5EA6\u6700\u77ED\u7684\u4E8C\u53C9\u6811.\\n\\n\u5E26\u6743\u8DEF\u5F84\u957F\u5EA6 = \u6743\u503C * \u8BE5\u8282\u70B9\u5230\u6839\u8282\u70B9\u7684\u957F\u5EA6\\n\\nFTR \u6307\u5BFC\u539F\u5219\\n------------\\n\\n1. \u8F6F\u4EF6\u8BC4\u5BA1\u662F\u8BC4\u5BA1\u8F6F\u4EF6\u4EA7\u54C1,\u4E0D\u8981\u6D89\u53CA\u5BF9\u8F6F\u4EF6\u751F\u4EA7\u8005\u80FD\u529B\u7684\u8BC4\u4EF7\\n2. \u8BC4\u5BA1\u524D\u8981\u5236\u5B9A\u4E25\u683C\u7684\u8BC4\u5BA1\u8BA1\u5212,\u5E76\u4E25\u683C\u9075\u5B88\u9884\u8BA1\u7684\u65E5\u7A0B\u5B89\u6392\\n3. \u5BF9\u8BC4\u5BA1\u4E2D\u51FA\u73B0\u7684\u95EE\u9898\u8981\u8BB0\u5F55\u5728\u6848,\u4E0D\u8981\u8FC7\u591A\u7684\u8BA8\u8BBA\u89E3\u51B3\u95EE\u9898,\u628A\u95EE\u9898\u89E3\u51B3\u7559\u7ED9\u751F\u4EA7\u8005\\n4. \u8981\u9650\u5236\u53C2\u4E0E\u4EBA\u6570,\u5E76\u8981\u6C42\u53C2\u52A0\u8BC4\u5BA1\u7684\u4EBA\u5458\u5728\u8BC4\u5BA1\u4F1A\u4E4B\u524D\u4ED4\u7EC6\u9605\u8BFB\u6587\u6863,\u505A\u597D\u5145\u5206\u51C6\u5907\\n\\n\u6570\u636E\u5E93\u8303\u5F0F\\n-----------\\n\\n1NF\\n: \u6BCF\u4E00\u4E2A\u5206\u91CF\u662F\u4E0D\u53EF\u518D\u5206\u7684\u6570\u636E\u9879\\n: \u95EE\u9898\\n    1. \u5197\u4F59\u5EA6\u5927\\n    2. \u5F15\u8D77\u4FEE\u6539\u64CD\u4F5C\u4E0D\u4E00\u81F4\\n    3. \u63D2\u5165\u5F02\u5E38\\n    4. \u5220\u9664\u5F02\u5E38\\n\\n2NF\\n: \u6BCF\u4E00\u4E2A\u975E\u4E3B\u5C5E\u6027\u5B8C\u5168\u4F9D\u8D56\u4E8E\u7801\\n: \u5373 \u6D88\u9664\u4E86\u975E\u4E3B\u5C5E\u6027\u5BF9\u7801\u7684\u90E8\u5206\u51FD\u6570\u4F9D\u8D56\\n\\n3NF\\n: \u6D88\u9664\u975E\u4E3B\u5C5E\u6027\u5BF9\u7801\u7684\u4F20\u9012\u51FD\u6570\u4F9D\u8D56\\n\\nBCNF\\n: \u6D88\u9664\u4E3B\u5C5E\u6027\u5BF9\u7801\u7684\u90E8\u5206\u548C\u4F20\u9012\u51FD\u6570\u4F9D\u8D56\\n: \u5373:\\n: \u6240\u6709\u975E\u4E3B\u5C5E\u6027\u5BF9\u6BCF\u4E00\u4E2A\u7801\u90FD\u662F\u5B8C\u5168\u4F9D\u8D56\\n: \u6240\u6709\u975E\u4E3B\u5C5E\u6027\u5BF9\u6BCF\u4E00\u4E2A\u4E0D\u5305\u542B\u5B83\u7684\u7801,\u4E5F\u662F\u5B8C\u5168\u51FD\u6570\u4F9D\u8D56\\n: \u6CA1\u6709\u4EFB\u4F55\u5C5E\u6027\u5B8C\u5168\u51FD\u6570\u4F9D\u8D56\u4E8E\u975E\u7801\u7684\u4EFB\u4F55\u4E00\u7EC4\u5C5E\u6027\\n\\nACID/Atomicity, Consistency, Isolation, Durability\\n: \u4E8B\u52A1\u7684\u7279\u6027: \u539F\u5B50\u6027 \u4E00\u81F4\u6027 \u9694\u79BB\u6027 \u6301\u4E45\u6027\\n\\n\u5206\u89E3\u5E94\u5177\u6709\u7684\u7279\u6027\\n: \u5206\u89E3\u5177\u6709\u65E0\u635F\u8FDE\u63A5\u6027\\n: \u5206\u89E3\u8981\u4FDD\u6301\u51FD\u6570\u4F9D\u8D56\\n: \u5206\u89E3\u65E2\u8981\u6709\u65E0\u635F\u8FDE\u63A5\u6027,\u53C8\u8981\u4FDD\u6301\u51FD\u6570\u4F9D\u8D56\\n\\n> \u8BBE $R(U)$ \u662F\u4E00\u4E2A\u5C5E\u6027\u96C6 $U$ \u4E0A\u7684\u5173\u7CFB\u6A21\u5F0F, $X$ \u548C $Y$ \u662F $U$ \u7684\u5B50\u96C6.\\n\\n\u51FD\u6570\u4F9D\u8D56\\n: \u82E5\u5BF9 $R(U)$ \u7684\u4EFB\u610F\u53EF\u80FD\u5173\u7CFB $r$\\n: $r$ \u4E2D\u4E0D\u5B58\u5728\u4E24\u4E2A\u6216\u4EE5\u4E0A\u5143\u7EC4\u5728 $X$ \u4E0A\u7684\u5C5E\u6027\u76F8\u7B49 \u800C\u5728 $Y$ \u4E0A\u4E0D\u7B49\\n: \u5219\u79F0 $X$ \u51FD\u6570\u51B3\u5B9A $Y$ \u6216 $Y$ \u51FD\u6570\u4F9D\u8D56\u4E8E $X$, \u8BB0\u505A $X \\\\rightarrow Y$\\n\\n\\n> \u5982\u679C $X \\\\rightarrow Y$\\n\\n\u975E\u5E73\u51E1\u51FD\u6570\u4F9D\u8D56\\n: \u4E14$X \\\\not\\\\subset Y$\\n\\n\u5E73\u51E1\u51FD\u6570\u4F9D\u8D56\\n: \u4E14$X \\\\subset Y$\\n\\n\u5B8C\u5168\u51FD\u6570\u4F9D\u8D56\\n: $\\\\forall X\' \\\\subsetneq X$,\u90FD\u6709 $X \\\\not\\\\rightarrow Y$\\n: \u8BB0\u505A $X \\\\xrightarrow{\\\\quad _f \\\\quad } Y$\\n\\n\u90E8\u5206\u51FD\u6570\u4F9D\u8D56\\n: $\\\\exists  X\' \\\\subsetneq X$,\u6709 $X \\\\not\\\\rightarrow Y$\\n: \u8BB0\u505A $X \\\\xrightarrow{\\\\quad _p \\\\quad } Y$\\n\\n\u6570\u636E\u5E93\u7684\u952E\\n----------\\n\\n\u5019\u9009\u952E/Candidate Key\\n: \u5173\u7CFB\u4E2D\u80FD\u552F\u4E00\u7684\u6807\u8BC6\u4E00\u4E2A\u5143\u7EC4\u7684\u67D0\u4E00\u5C5E\u6027\u6216\u5C5E\u6027\u7EC4\\n\\n\u4E3B\u7801/Primary Key\\n: \u5982\u679C\u5173\u7CFB\u4E2D\u6709\u591A\u4E2A\u5019\u9009\u7801,\u5219\u9009\u5B9A\u4E00\u4E2A\u4F5C\u4E3A\u4E3B\u7801\\n\\n\u4E3B\u5C5E\u6027/Primary Attribute\\n: \u5728\u5019\u9009\u7801\u4E2D\u7684\u5C5E\u6027\\n\\n\u5916\u7801/Foreign Key\\n: \u5C5E\u6027\u662F\u5176\u4ED6\u5173\u7CFB\u7684\u7801\\n\\n\u5168\u7801/All-Key\\n: \u5173\u7CFB\u4E2D\u6240\u6709\u5C5E\u6027\u7EC4\u662F\u8BE5\u5173\u7CFB\u7684\u5019\u9009\u7801\\n\\n\u8D85\u952E/Super Key\\n: \u80FD\u552F\u4E00\u6807\u8BC6\u5143\u7EC4\u7684\u5C5E\u6027\u96C6\\n\\n\u8BBE\u8BA1\u6A21\u5F0F \u6982\u62EC\\n--------\\n\\n\u6865\u63A5\u6A21\u5F0F/Bridge\\n: \u5C06\u62BD\u8C61\u90E8\u5206\u548C\u5B83\u7684\u5B9E\u73B0\u90E8\u5206\u5206\u79BB, \u4F7F\u4ED6\u4EEC\u90FD\u53EF\u4EE5\u72EC\u7ACB\u7684\u53D8\u5316\\n: \u5BF9\u4E00\u4E2A\u62BD\u8C61\u7684\u5B9E\u73B0\u90E8\u5206\u7684\u4FEE\u6539\u5E94\u8BE5\u5BF9\u4F7F\u7528\u5B83\u4E0D\u4EA7\u751F\u5F71\u54CD\\n\\n\u4E2D\u4ECB\u6A21\u5F0F/Mediator\\n: \u53EF\u4EE5\u4F7F\u5404\u4E2A\u5BF9\u8C61\u95F4\u7684\u8026\u5408\u677E\u6563,\u53EA\u9700\u5173\u5FC3\u548CMediator\u7684\u5173\u7CFB\\n: \u4F7F\u591A\u5BF9\u591A\u7684\u5173\u7CFB\u53D8\u6210\u4E86\u4E00\u5BF9\u591A\u7684\u5173\u7CFB,\u964D\u4F4E\u7CFB\u7EDF\u7684\u590D\u6742\u6027,\u63D0\u9AD8\u53EF\u4FEE\u6539\u6027\u548C\u6269\u5C55\u6027\\n\\nOOA \u7684\u6B65\u9AA4\\n---------\\n\\n1. \u5206\u6790\u95EE\u9898\u57DF,\u5EFA\u7ACB\u7528\u4F8B\u6A21\u578B\\n2. \u53D1\u73B0\u548C\u5B9A\u4E49\u5BF9\u8C61\u548C\u7C7B\\n3. \u8BC6\u522B\u5BF9\u8C61\u7684\u5185\u90E8\u7279\u5F81\\n4. \u8BC6\u522B\u5BF9\u8C61\u7684\u5916\u90E8\u7279\u5F81\\n5. \u8BC6\u522B\u5BF9\u8C61\u4E4B\u95F4\u7684\u4EA4\u4E92\\n\\n5\u4E2A\u6D3B\u52A8\\n: \u8BA4\u5B9A\u5BF9\u8C61,\u7EC4\u7EC7\u5BF9\u8C61,\u63CF\u8FF0\u5BF9\u8C61\u95F4\u7684\u76F8\u4E92\u4F5C\u7528,\u5B9A\u4E49\u5BF9\u8C61\u7684\u64CD\u4F5C,\u5B9A\u4E49\u5BF9\u8C61\u7684\u5185\u90E8\u4FE1\u606F\\n\\nOMT \u6982\u8FF0\\n--------\\n\\nOMT/Object Modeling Technique/ \u5BF9\u8C61\u5EFA\u6A21\u6280\u672F\\n: \u4E09\u79CD\u6A21\u578B: \u5BF9\u8C61\u6A21\u578B, \u52A8\u6001\u6A21\u578B, \u529F\u80FD\u6A21\u578B\\n: \u56DB\u4E2A\u6B65\u9AA4: \u5206\u6790, \u7CFB\u7EDF\u8BBE\u8BA1, \u5BF9\u8C61\u8BBE\u8BA1\u548C\u5B9E\u73B0\\n\\n\u5BF9\u8C61\u6A21\u578B\\n: \u63CF\u8FF0\u7CFB\u7EDF\u5BF9\u8C61\u7684 \u9759\u6001\u7ED3\u6784,\u5BF9\u8C61\u4E4B\u95F4\u7684\u5173\u7CFB,\u5BF9\u8C61\u7684\u5C5E\u6027,\u64CD\u4F5C\\n: \u8868\u793A\u9759\u6001\u7684,\u7ED3\u6784\u4E0A\u7684,\u7CFB\u7EDF\u7684 _\u6570\u636E_ \u7279\u5F81\\n\\n\u52A8\u6001\u6A21\u578B\\n: \u63CF\u8FF0\u4E0E\u65F6\u95F4\u548C\u64CD\u4F5C\u987A\u5E8F\u6709\u5173\u7684\u7CFB\u7EDF\u7279\u5F81----\u6FC0\u53D1\u4E8B\u4EF6,\u4E8B\u4EF6\u5E8F\u5217,\u786E\u5B9A\u4E8B\u4EF6\u5148\u540E\u5173\u7CFB\\n    \u4EE5\u53CA\u4E8B\u4EF6\u548C\u72B6\u6001\u7684\u7EC4\u7EC7\\n: \u8868\u793A\u77AC\u65F6\u7684,\u884C\u4E3A\u4E0A\u7684, \u7CFB\u7EDF\u7684 _\u63A7\u5236_ \u7279\u5F81\\n\\n\u529F\u80FD\u6A21\u578B\\n: \u63CF\u8FF0\u4E0E\u503C\u7684\u53D8\u6362\u6709\u5173\u7684\u7CFB\u7EDF\u7279\u5F81----\u529F\u80FD,\u6620\u5C04,\u7EA6\u675F\u548C\u51FD\u6570\u4F9D\u8D56\\n: \u4F7F\u7528\u6570\u636E\u6D41\u56FE\u6765\u8868\u793A\\n\\n\u6392\u5E8F\u7B97\u6CD5\u7684\u9002\u7528\u6027\\n----------------\\n\\n* \u5F85\u6392\u5E8F\u7684\u8BB0\u5F55\u6570\u636E n \u8F83\u5C0F\u65F6, \u53EF\u91C7\u7528\u63D2\u5165\u6392\u5E8F\u548C\u9009\u62E9\u6392\u5E8F\\n* \u5F85\u6392\u5E8F\u57FA\u672C\u6709\u5E8F, \u9009\u62E9\u76F4\u63A5\u63D2\u5165\u6392\u5E8F\u6216\u5192\u6CE1\u6392\u5E8F\\n* \u5F53 n \u5F88\u5927\u4E14\u5173\u952E\u5B57\u4F4D\u6570\u5C11,\u9009\u62E9\u94FE\u5F0F\u57FA\u6570\u6392\u5E8F\\n* \u5F53 n \u5F88\u5927, \u5219\u91C7\u7528\u65F6\u95F4\u590D\u6742\u5EA6\u4E3A O(nlogn)\u7684\u6392\u5E8F\u65B9\u6CD5----\u5FEB\u901F\u6392\u5E8F,\u5806\u6392\u5E8F,\u5F52\u5E76\u6392\u5E8F\\n\\n\u6392\u5E8F\u7B97\u6CD5\u7684\u5206\u7C7B\\n-------------\\n\\n\u5206\u7C7B|\u5305\u542B\\n-|-\\n\u4EA4\u6362\u6392\u5E8F| \u5192\u6CE1\u6392\u5E8F \u5FEB\u901F\u6392\u5E8F\\n\u63D2\u5165\u6392\u5E8F| \u63D2\u5165\u6392\u5E8F \u5E0C\u5C14\u6392\u5E8F \u4E8C\u53C9\u67E5\u627E\u6811\u6392\u5E8F\\n\u9009\u62E9\u6392\u5E8F| \u9009\u62E9\u6392\u5E8F \u5806\u6392\u5E8F\\n\u5F52\u5E76\u6392\u5E8F| \u5F52\u5E76\u6392\u5E8F\\n\u5206\u5E03\u6392\u5E8F| \u57FA\u6570\u6392\u5E8F\\n\\n\u8BBE\u8BA1\u6A21\u5F0F\u5206\u7C7B\\n-----------\\n\\n\u5206\u7C7B|\u5305\u542B\\n-|-\\n\u521B\u5EFA| \u62BD\u8C61\u5DE5\u5382 \u6784\u9020\u5668 \u5DE5\u5382\u65B9\u6CD5 \u539F\u578B \u5355\u4F8B\u6A21\u5F0F\\n\u7ED3\u6784| \u9002\u914D\u5668 \u6865\u63A5 \u7EC4\u5408 \u88C5\u9970 \u5916\u89C2 \u4EAB\u5143 \u4EE3\u7406\\n\u884C\u4E3A| \u804C\u8D23\u94FE \u547D\u4EE4 \u7FFB\u8BD1\u5668 \u8FED\u4EE3\u5668 \u4EF2\u88C1\u5668(Mediator) \u56DE\u5FC6(Memento) \u89C2\u5BDF\u8005 \u72B6\u6001\u673A \u7B56\u7565 \u6A21\u677F\u65B9\u6CD5 \u53C2\u89C2\u8005(Visitor)\\n\\n\u4E54\u59C6\u65AF\u57FA\u6587\u6CD5\u7C7B\u578B\\n-----------------\\n\\n\u7C7B\u578B|\u8BF4\u660E\\n-|-\\n0\u578B|\u76F8\u5F53\u4E8E\u56FE\u7075\u673A,\u4EFB\u4F55 0\u578B \u8BED\u8A00\u90FD\u662F\u9012\u5F52\u53EF\u679A\u4E3E\u7684\\n1\u578B|\u4E0A\u4E0B\u6587\u6709\u5173\u6587\u6CD5,\u76F8\u5F53\u4E8E\u7EBF\u5F62\u754C\u9650\u81EA\u52A8\u673A,\u5BF9\u975E\u7EC8\u7ED3\u7B26\u66FF\u6362\u65F6\u4E0D\u8003\u8651\u4E0A\u4E0B\u6587,\u4E0D\u5141\u8BB8\u66FF\u6362\u4E3A\u7A7A\u4E32\\n2\u578B| \u4E0A\u4E0B\u6587\u65E0\u5173\u6587\u6CD5, \u76F8\u5F53\u4E8E\u975E\u786E\u5B9A\u7684\u4E0B\u63A8\u81EA\u52A8\u673A\\n3\u578B| \u53F3\u7EBF\u6027\u6587\u6CD5,\u7B49\u4EF7\u4E8E\u6B63\u89C4\u5F0F, \u4E5F\u79F0\u4E3A\u6B63\u89C4\u6587\u6CD5\\n\\n\u6587\u6CD5\u63CF\u8FF0\u8BED\u8A00\u7684\u80FD\\n: 0\u578B\u6587\u6CD5\u6700\u5F3A 3\u578B\u6700\u5F31\\n\\n3\u578B\u6587\u6CD5\u5FC5\u662F2\u578B\u6587\u6CD5\\n\\n\\nTips\\n----\\n\\n```\\n\u6B63\u89C4\u5F0F\u53EA\u80FD\u8868\u793A\u7ED9\u5B9A\u7ED3\u6784\u7684\u56FA\u5B9A\u6B21\u6570\u7684\u91CD\u590D\u6216\u8005\u6CA1\u6709\u6307\u5B9A\u6B21\u6570\u7684\u91CD\u590D\\n\u5BF9\u4E8E\u6BCF\u4E2A\u975E\u786E\u5B9A\u7684\u6709\u9650\u81EA\u52A8\u673A,\u90FD\u6709\u4E00\u4E2A\u4E0E\u5176\u7B49\u4EF7\u7684\u6B63\u89C4\u5F0F\\n\u4E0A\u4E0B\u6587\u65E0\u5173\u6587\u6CD5\u53EF\u4EE5\u8868\u793A\u6B21\u6570\u4E0D\u56FA\u5B9A\u7684\u91CD\u590D\\n\\n\\n```\\n\\n\u4E2D\u65AD\u54CD\u5E94\u6709\u4E24\u79CD\u65B9\u5F0F\\n: \u7CBE\u786E\u65AD\u70B9\u6CD5 \u548C \u4E0D\u7CBE\u786E\u65AD\u70B9\u6CD5\\n\\n\u7CBE\u786E\u65AD\u70B9\u6CD5\\n: \u7ACB\u5373\u54CD\u5E94\u4E2D\u65AD\\n: \u4E0D\u5F71\u54CD\u4E2D\u65AD\u53CD\u5E94\u65F6\u95F4,\u5F71\u54CD\u7A0B\u5E8F\u7684\u6B63\u786E\u6267\u884C\\n\\n\u4E0D\u7CBE\u786E\u65AD\u70B9\u6CD5\\n: \u6D41\u6C34\u7EBF\u4E2D\u6307\u4EE4\u6267\u884C\u5B8C\u540E\u518D\u54CD\u5E94\u4E2D\u65AD\\n: \u5F71\u54CD\u4E2D\u65AD\u53CD\u5E94\u65F6\u95F4,\u5F71\u54CD\u7A0B\u5E8F\u7684\u6B63\u786E\u6267\u884C\\n\\n\u5E7F\u4E49\u8868\\n: \u7531\u96F6\u4E2A\u6216\u591A\u4E2A\u5355\u5143\u7D20\u6216\u5B50\u8868\u7EC4\u6210\u7684\u6709\u9650\u5E8F\u5217\\n: \u957F\u5EA6\u503C\u5143\u7D20\u4E2A\u6570,\u6DF1\u5EA6\u6307\u5C55\u5F00\u540E\u6240\u542B\u62EC\u53F7\u7684\u6700\u5927\u5C42\u6570\\n: \u975E\u7A7A\u5E7F\u4E49\u8868\u8868\u5C3E\u5FC5\u5B9A\u662F\u4E00\u4E2A\u8868\\n\\nCCIR/\u65E0\u7EBF\u7535\u54A8\u8BE2\u59D4\u5458\u4F1A\\n: \u5236\u5B9A\u4E86\u5E7F\u64AD\u7EA7\u8D28\u91CF\u6570\u5B57\u7535\u89C6\u7F16\u7801\u6807\u51C6, CCIR601\\n\\n\u7B97\u6CD5\u7684\u7279\u5F81\\n: \u6709\u7A77\u6027: \u5728\u6709\u7A77\u6B65\u548C\u6709\u9650\u65F6\u95F4\u5185\u5B8C\u6210\\n: \u786E\u5B9A\u6027: \u65E0\u4E8C\u4E49,\u552F\u4E00\u7684\u6267\u884C\u8DEF\u5F84,\u540C\u6837\u6D4B\u8F93\u5165\u4EA7\u751F\u540C\u6837\u7684\u8F93\u51FA\\n: \u53EF\u6267\u884C\u6027: \u7B97\u6CD5\u4E2D\u63CF\u8FF0\u7684\u64CD\u4F5C\u662F\u901A\u8FC7\u5DF2\u7ECF\u5B9E\u73B0\u7684\u57FA\u672C\u64CD\u4F5C\u901A\u8FC7\u6709\u9650\u6B21\u6267\u884C\u5B9E\u73B0\u7684\\n: \u6B63\u786E\u6027: \u6EE1\u8DB3\u5177\u4F53\u9700\u6C42\\n: \u53EF\u8BFB\u6027\\n: \u5065\u58EE\u6027: \u80FD\u5904\u7406\u9519\u8BEF\u6570\u636E\\n: \u6548\u7387\u4E0E\u4F4E\u5B58\u50A8\u9700\u6C42\\n\\nSIMD \u4E2D\\n: I \u662F\u6307\u6307\u4EE4\u6D41 D \u662F\u6307\u6570\u636E\u6D41\\n\\n\u4E09\u7C7B\u5E38\u7528\u7684\u7A7A\u95F2\u5757\u7BA1\u7406\u65B9\u6CD5\\n: \u4F4D\u56FE\u5411\u91CF\u6CD5, \u7A7A\u95F2\u5757\u94FE\u8868\u94FE\u63A5\u6CD5 \u548C \u7D22\u5F15\u6CD5\\n\\n\u6B7B\u9501\u7684\u56DB\u4E2A\u5FC5\u8981\u6761\u4EF6\\n\\n* \u4E92\u65A5\u6761\u4EF6\\n* \u8BF7\u6C42\u548C\u4FDD\u6301\u6761\u4EF6\\n* \u4E0D\u5265\u593A\u6761\u4EF6\\n* \u73AF\u8DEF\u7B49\u5F85\u6761\u4EF6\\n\\n\u6807\u51C6\\n----\\n\\n\u6807\u51C6\u540D | \u63CF\u8FF0\\n-|-\\n[ISO/IEC 9126][1] | Software engineering \u2014 Product quality/\u8F6F\u4EF6\u5DE5\u7A0B \u8D28\u91CF\u7BA1\u7406\\nISO/TC 176 | Quality management and quality assurance\\nGB904-91| \u5546\u54C1\u6761\u7801\u7ED3\u6784\\nGB7590-87| \u7B2C\u56DB\u8F85\u52A9\u96C6\\n\\n\\n\\n-|-\\n-|-\\n\u56FD\u9645\u6807\u51C6|ISO,IEC\\n\u884C\u4E1A\u6807\u51C6|IEEE\\n\u533A\u57DF\u6807\u51C6|CEN(\u6B27\u6D32\u6807\u51C6\u5316\u59D4\u5458\u4F1A)\\n\u5DF2\u516C\u5E03\u7684\u884C\u4E1A\u4EE3\u53F7| QJ(\u822A\u5929), SJ(\u7535\u5B50), JB(\u673A\u68B0), JR(\u91D1\u878D\u7CFB\u7EDF)\\n\u4F01\u4E1A\u6807\u51C6\u7684\u7F16\u53F7|\u884C\u4E1A\u6807\u51C6\u4EE3\u53F7+[/T]+\u6807\u51C6\u53D1\u5E03\u987A\u5E8F\u53F7(5\u4F4D)+/+\u6807\u51C6\u53D1\u5E03\u5E74\u4EE3\u53F7(4\u4F4D)\\n\\n\u6392\u5E8F\u7B97\u6CD5\u65F6\u95F4\u590D\u6742\u5EA6\\n------------------\\n\\n\u6392\u5E8F\u65B9\u6CD5| \u6700\u4F18\u65F6\u95F4\u590D\u6742\u5EA6 | \u5E73\u5747\u65F6\u95F4\u590D\u6742\u5EA6 | \u6700\u5DEE\u65F6\u95F4\u590D\u6742\u5EA6 | \u6700\u5DEE\u7A7A\u95F4| \u8F85\u52A9|\u7A33\u5B9A\\n-|:-:|:-:|:-:|:-:|-|-\\n\u63D2\u5165\u6392\u5E8F\\t| O(n) | O(n<sup>2</sup>) | O(n<sup>2</sup>) | O(n)|O(1)|Yes\\n\u9009\u62E9\u6392\u5E8F\\t| - | O(n<sup>2</sup>) | - | O(n)|~|No\\n\u5192\u6CE1\u6392\u5E8F\\t| O(n) | O(n<sup>2</sup>) | O(n<sup>2</sup>) | O(n)|~|Yes\\n\u5E0C\u5C14\u6392\u5E8F\\t| - | O(nlog<sup>2</sup>n) | -  | O(n)| ~| No\\n\u5FEB\u901F\u6392\u5E8F\\t| O(nlogn) |O(nlogn) | O(n<sup>2</sup>)|-| O(nlogn) |No\\n\u5806\u6392\u5E8F\\t| - |O(nlogn) | - | O(n)|O(1)|Yes\\n\u5F52\u5E76\u6392\u5E8F\\t| (wiki:O(n)) | O(nlogn) | - | O(n)|O(n)|Yes\\n\u57FA\u6570\u6392\u5E8F\\t| - |O(d(n+rd)) | -|-|O(rd)|Yes\\n\u57FA\u6570\u6392\u5E8F<sup>1</sup>| - |O(kN) | - | O(k+N)\\n\u4E8C\u53C9\u67E5\u627E\u6811| - | O(logn) | - | O(n)\\n\\n\u6CE8\\n: 1 : \u6307\u7EF4\u57FA\u4E0A\u7684\u7ED3\u679C\\n: ~  : \u548C\u4E0A\u4E00\u4E2A\u503C\u76F8\u540C\\n\\n  [1]: http://en.wikipedia.org/wiki/ISO/IEC_9126"},{"id":"regex-note","metadata":{"permalink":"/story/regex-note","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2013/2013-10-13-Regex \u901F\u8BB0.md","source":"@site/../story/2013/2013-10-13-Regex \u901F\u8BB0.md","title":"Regex \u901F\u8BB0","description":"\u9700\u8981\u6CE8\u610F\u7684\u662F, \u7531\u4E8E\u6B63\u5219\u5728\u4E0D\u540C\u7684\u6D41\u6D3E\u4E2D\u8868\u793A\u6709\u6240\u4E0D\u540C,\u53EA\u80FD\u6574\u7406\u4E00\u4E9B\u51E0\u4E4E\u96F7\u540C\u7684.","date":"2013-10-13T00:00:00.000Z","tags":[{"inline":true,"label":"\u7B14\u8BB0","permalink":"/story/tags/\u7B14\u8BB0"}],"readingTime":2.51,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"regex-note","title":"Regex \u901F\u8BB0","tags":["\u7B14\u8BB0"],"date":"2013-10-13T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\u8F6F\u4EF6\u8BBE\u8BA1\u5E08\u8003\u8BD5\u7B14\u8BB0","permalink":"/story/rk-software-designer"},"nextItem":{"title":"\u7B80\u5355\u7684\u6587\u5B57\u6C14\u6CE1\u6846 for Swing","permalink":"/story/java-siwng-textbubble"}},"content":"> \u9700\u8981\u6CE8\u610F\u7684\u662F, \u7531\u4E8E\u6B63\u5219\u5728\u4E0D\u540C\u7684\u6D41\u6D3E\u4E2D\u8868\u793A\u6709\u6240\u4E0D\u540C,\u53EA\u80FD\u6574\u7406\u4E00\u4E9B\u51E0\u4E4E\u96F7\u540C\u7684.\\n> \u4E0D\u540C\u6D41\u6D3E\u4E4B\u95F4\u7684\u5DEE\u5F02,\u5F88\u591A\u5728\u662F\u5426\u9700\u8981\u8F6C\u4E49\u4E0A,\u4F8B\u5982 \u5728\u6709\u4E9B\u6D41\u6D3E\u91CC `()` \u8981\u5199\u6210 `\\\\(\\\\)`\\n> \u8FD9\u91CC\u6574\u7406\u7684\u4E3B\u8981\u662F PCRE \u6D41\u6D3E\u7684\u6B63\u5219\u8BED\u6CD5\\n\\n\x3c!-- more --\x3e\\n\\n## \u5B57\u7B26\u8868\u793A\\n\\n\u5B57\u7B26\u7F29\u8FDB\u8868\u793A\\n: `\\\\n,\\\\t,\\\\a,\\\\b,\\\\e,\\\\f,\\\\r,\\\\v`\\n\\n\u516B\u8FDB\u5236\u8F6C\u4E49\\n: `\\\\num`\\n\\n\u5341\u516D\u8FDB\u5236\u8F6C\u4E49/Unicode \u8F6C\u4E49\\n: `\\\\xnum,\\\\x{num},\\\\unum,\\\\Unum`\\n\\n\u63A7\u5236\u5B57\u7B26\\n: `\\\\cchar`\\n\\n## \u5B57\u7B26\u53CA\u76F8\u5173\u7ED3\u6784\\n\\n\u666E\u901A\u5B57\u7B26\u7EC4\\n: `[a-z].[^a-z]`\\n\\n\u51E0\u4E4E\u80FD\u5339\u914D\u4EFB\u4F55\u5B57\u7B26\u7684\u5143\u5B57\u7B26\\n: `.`\\n\\n\u5355\u4E2A\u5B57\u8282\\n: \'\\\\C\'\\n\\nUnicode \u7EC4\u5408\u5B57\u7B26\u5E8F\u5217\\n: `\\\\X`\\n\\n\u5B57\u7B26\u7EC4\u7B80\u8BB0(\u5927\u5199\u4E3A\u6392\u9664)\\n: `\\\\w,\\\\W,\\\\s,\\\\S,\\\\d,\\\\D`\\n\\nUnicode \u5C5E\u6027\u533A\u57DF\u548C\u5206\u7C7B\\n: `\\\\p{prop},\\\\P{prop}`\\n\\nPOSIX \\"\u5B57\u7B26\u7EC4\\"\u65B9\u62EC\u53F7\u8868\u793A\\n: `[[:alpha:]]`\\n\\nPOSIX \\"Collating \u5E8F\u5217\\" \u65B9\u62EC\u53F7\u8868\u793A\\n: `[[.span.-11.]]`\\n\\nPOSIX \\"\u5B57\u7B26\u7B49\u4EF7\u7C7B\\" \u65B9\u62EC\u53F7\u8868\u793A\\n: `[[=n=]]`\\n\\n## \u951A\u70B9\u53CA\u5176\u4ED6 \\"\u96F6\u957F\u5EA6\u65AD\u8A00\\"\\n\\n\u884C/\u5B57\u7B26\u4E32\u8D77\u70B9\\n: `^, \\\\A`\\n\\n\u884C/\u5B57\u7B26\u4E32\u7EC8\u70B9\\n: \'$. \\\\Z, \\\\z\'\\n\\n\u672C\u6B21\u5339\u914D\u7684\u5F00\u59CB\u4F4D\u7F6E/\u4E0A\u6B21\u5339\u914D\u7684\u7ED3\u675F\u4F4D\u7F6E\\n: `\\\\G`\\n\\n\u5355\u8BCD\u5206\u754C\u7B26\\n: `\\\\b,\\\\B,\\\\<,\\\\>`\\n\\n\u987A\u5E8F\u73AF\u89C6\\n: `(?=...), (?!...)`\\n\\n\u9006\u5E8F\u73AF\u89C6\\n: `(?<=...),(?<!...)`\\n\\n## \u6CE8\u91CA\u548C\u6A21\u5F0F\u4FEE\u9970\u8BCD\\n\\n\u6A21\u5F0F\u4FEE\u9970\u8BCD\\n: `(?modifier),(-?modifier)`\\n: eg:`(?i)...(?-i)`\\n\\n\u6A21\u5F0F\u4F5C\u7528\u8303\u56F4\\n: `(?modifier:...)`\\n: eg:`(?i:....)`\\n\\n\u6CE8\u91CA\\n: `(?#...),#...`\\n\\n\u6587\u672C\u8303\u56F4\\n: `\\\\Q,\\\\E`\\n\\n## \u5206\u7EC4,\u6355\u83B7,\u6761\u4EF6\u5224\u65AD\u548C\u63A7\u5236\\n\\n\u6355\u83B7/\u5206\u7EC4\\n: `(...),\\\\1,\\\\2`\\n\\n\u4EC5\u7528\u4E8E\u5206\u7EC4\\n: `(?:...)`\\n\\n\u547D\u540D\u6355\u83B7\\n: `(?<name>...)`\\n\\n\u56FA\u5316\u5206\u7EC4\\n: `(?>...)`\\n\\n\u591A\u9009\\n: `...|...|...`\\n\\n\u6761\u4EF6\u5224\u65AD\\n: `(?if then|else)`\\n\\n\u5339\u914D\u4F18\u5148\u91CF\u8BCD\\n: `*,+,?,{m,n}`\\n\\n\u5FFD\u7565\u4F18\u5148\u91CF\u8BCD\\n: `*?,+?,??,{m,n}?`\\n\\n\u5360\u6709\u4F18\u5148\u91CF\u8BCD\\n: `*?,++,?+,{m,n}+`\\n\\n## \u547D\u540D\u5B57\u7B26\u7EC4\\n\\n\u5173\u4E8E\u8FD9\u4E9B\u5B57\u7B26\u7EC4\u7684\u547D\u540D,\u53EF\u4EE5\u53C2\u8003[susv-ctype].\u9700\u8981\u6CE8\u610F\u7684\u662F,\u5728 unicode \u91CC,\u8FD9\u4E9B\u5B57\u7B26\u7EC4\u7684\u5B9A\u4E49\u8981\u6839\u636E unicode \u7684\u5B9A\u4E49\u6765\u5224\u65AD.\u4F1A\u5305\u542B\u989D\u5916\u7684\u540C\u4E49\u7684\u5B57\u7B26.\\n\\n|        \u7EC4 | \u63CF\u8FF0                             |\\n| --------: | :------------------------------- |\\n| [:alnum:] |\\n| [:alpha:] | \u5B57\u6BCD                             |\\n| [:blank:] | \u7A7A\u767D                             |\\n| [:cntrl:] | \u63A7\u5236\u7B26                           |\\n| [:digit:] |\\n| [:graph:] | \u53EF\u663E\u793A                           |\\n| [:lower:] | \u5C0F\u5199                             |\\n| [:upper:] | \u5927\u5199                             |\\n| [:space:] | \u5305\u62EC [:blank:], \u6362\u884C, \u56DE\u8F66\u53CA\u5176\u4ED6 |\\n\\n## \u6D4B\u8BD5\u5F15\u64CE\u7C7B\u578B\\n\\n`nfa|nfa.not` \u5339\u914D `nfa.not`\\n\\n| \u5339\u914D\u7ED3\u679C | \u8BF4\u660E        |\\n| -------- | ----------- |\\n| nfa      | \u4F20\u7EDF NFA    |\\n| nfa.not  | POSIX / DFA |\\n\\nDFA \u4E0D\u652F\u6301\u6355\u83B7\u578B\u62EC\u53F7\u548C\u56DE\u6EAF\\n\\n`x(.+)+x` \u5339\u914D `=xx============================================================`\\n\\n| \u5339\u914D\u7ED3\u679C | \u8BF4\u660E                            |\\n| -------- | ------------------------------- |\\n| \u65F6\u95F4\u957F   | NFA                             |\\n| \u65F6\u95F4\u77ED   | DFA, \u4F46\u4E5F\u6709\u53EF\u80FD\u662F\u6DF7\u5408\u7684\u6216\u4F18\u5316\u7684 |\\n\\n| \u5F15\u64CE             | \u5DE5\u5177                                                                            |\\n| ---------------- | ------------------------------------------------------------------------------- |\\n| DFA              | awk, egrep, flex, lex, MySQL, Procmail                                          |\\n| Tranditional NFA | GNU Emacs, Java, grep, less, more, .NET, PCRE, Perl, PHP, Python, Vi, Ruby, sed |\\n| POSIX NFA        | mawk, Mortricekern System;s utiles, GNU Emacs                                   |\\n| DFA/NFA          | GNU awk, GNU grep, Tcl                                                          |\\n\\n## \u5339\u914D\u57FA\u7840\\n\\n\u89C4\u5219 1\\n: \u4F18\u5148\u9009\u62E9\u6700\u5DE6\u7AEF\u7684\u5339\u914D\u7ED3\u679C\\n\\n\u89C4\u5219 2\\n: \u6807\u51C6\u91CF\u8BCD\u662F\u5339\u914D\u4F18\u5148\u7684\\n\\nNFA\\n: \u8868\u8FBE\u5F0F\u4E3B\u5BFC\\n\\nDFA\\n: \u6587\u672C\u4E3B\u5BFC,\u4E0D\u5173\u5FC3\u8868\u8FBE\u5F0F\u7684\u5F62\u5F0F\\n: \u5373 `x*=x?x?...=(x(x(x...)?)?)?`\\n\\n\u5339\u914D\u4F18\u5148\u91CF\u8BCD\u548C\u5FFD\u7565\u4F18\u5148\u91CF\u8BCD\u63A7\u5236,\u5BF9\u56DE\u6EAF\u72B6\u6001\u9009\u62E9,\u662F\u8DF3\u8FC7\u8FD8\u662F\u8FDB\u884C.\\n\\n\u73AF\u89C6\u6A21\u62DF\u56FA\u5316\u5206\u7EC4\\n: `(?>...) => (?=(...))\\\\1`\\n\\n\u591A\u9009\u7ED3\u6784\u5373\u975E\u5339\u914D\u4F18\u5148,\u4E5F\u975E\u5FFD\u7565\u4F18\u5148,\u800C\u662F\u987A\u5E8F\u4F18\u5148\\n: eg: `(to|tow) =~ \\"tow\\" = \\"to\\"`\\n\\n\x3c!-- \u94FE\u63A5 --\x3e\\n\\n[susv-ctype]: http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/ctype.h.html"},{"id":"java-siwng-textbubble","metadata":{"permalink":"/story/java-siwng-textbubble","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2013/2013-10-12-\u7B80\u5355\u7684\u6587\u5B57\u6C14\u6CE1\u6846 for Swing.md","source":"@site/../story/2013/2013-10-12-\u7B80\u5355\u7684\u6587\u5B57\u6C14\u6CE1\u6846 for Swing.md","title":"\u7B80\u5355\u7684\u6587\u5B57\u6C14\u6CE1\u6846 for Swing","description":"TextBubbleBorderDemo screenschot","date":"2013-10-12T00:00:00.000Z","tags":[{"inline":true,"label":"Java","permalink":"/story/tags/java"},{"inline":true,"label":"Swing","permalink":"/story/tags/swing"},{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"}],"readingTime":0.14,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"java-siwng-textbubble","title":"\u7B80\u5355\u7684\u6587\u5B57\u6C14\u6CE1\u6846 for Swing","tags":["Java","Swing","\u7F16\u7A0B"],"date":"2013-10-12T00:00:00.000Z","type":"post"},"unlisted":false,"prevItem":{"title":"Regex \u901F\u8BB0","permalink":"/story/regex-note"},"nextItem":{"title":"\u6570\u636E\u5E93\u539F\u7406 for NCRE 4","permalink":"/story/ncre-4-database-note"}},"content":"![TextBubbleBorderDemo screenschot](https://git.oschina.net/wenerme/wener/raw/master/screenshot/TextBubbleBorderDemo.png \'TextBubbleBorderDemo\')\\n\\n[\u4EE3\u7801\u4E0B\u8F7D](http://resources.wener.me/java/TextBubbleBorderDemo.java)\\n\\n[\u7A0B\u5E8F\u4E0B\u8F7D](http://resources.wener.me/java/TextBubbleBorderDemo.jar)\\n\\n[\u8FD0\u884C\u7A0B\u5E8F](http://resources.wener.me/java/TextBubbleBorderDemo.jnlp)"},{"id":"ncre-4-database-note","metadata":{"permalink":"/story/ncre-4-database-note","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2013/2013-09-24-\u6570\u636E\u5E93\u539F\u7406 for NCRE 4.md","source":"@site/../story/2013/2013-09-24-\u6570\u636E\u5E93\u539F\u7406 for NCRE 4.md","title":"\u6570\u636E\u5E93\u539F\u7406 for NCRE 4","description":"\u8BB0\u5F55\u81EA \u5168\u56FD\u9AD8\u7B49\u6559\u80B2\u5236\u5B9A\u6559\u6750 \u6570\u636E\u5E93\u539F\u7406","date":"2013-09-24T00:00:00.000Z","tags":[{"inline":true,"label":"\u6570\u636E\u5E93","permalink":"/story/tags/\u6570\u636E\u5E93"},{"inline":true,"label":"\u7B14\u8BB0","permalink":"/story/tags/\u7B14\u8BB0"},{"inline":true,"label":"NCRE","permalink":"/story/tags/ncre"}],"readingTime":45.65,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"ncre-4-database-note","title":"\u6570\u636E\u5E93\u539F\u7406 for NCRE 4","tags":["\u6570\u636E\u5E93","\u7B14\u8BB0","NCRE"],"date":"2013-09-24T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\u7B80\u5355\u7684\u6587\u5B57\u6C14\u6CE1\u6846 for Swing","permalink":"/story/java-siwng-textbubble"},"nextItem":{"title":"\u4E2A\u4EBA\u4F5C\u54C1\u5C55\u793A\u9875\u9762","permalink":"/story/personal-project-page"}},"content":"> \u8BB0\u5F55\u81EA **\u5168\u56FD\u9AD8\u7B49\u6559\u80B2\u5236\u5B9A\u6559\u6750 \u6570\u636E\u5E93\u539F\u7406**\\n> \u548C \u90E8\u5206\u81EA\u5DF1\u7684\u6574\u7406\\n\\n\x3c!-- more --\x3e\\n\\n----------------------------------------------------------------\\n\\n## 1. \u6570\u636E\u5E93\u7CFB\u7EDF\u7684\u57FA\u672C\u6982\u5FF5\\n### 1.2 \u6570\u636E\u63CF\u8FF0\\n\\n#### 1.2.1 \u6982\u5FF5\u8BBE\u8BA1\u4E2D\u7684\u6570\u636E\u63CF\u8FF0\\n\\n\u5B9E\u4F53(Entity):\\n: \u5BA2\u89C2\u5B58\u5728,\u53EF\u4EE5\u76F8\u4E92\u533A\u522B\u7684\u4E8B\u7269\u6210\u4E3A\u5B9E\u4F53\\n\\n\u5B9E\u4F53\u96C6(Entity Set)\\n: \u6027\u8D28\u76F8\u540C\u7684\u540C\u7C7B\u5B9E\u4F53\u7684\u96C6\u5408\\n\\n\u5C5E\u6027(Attribute)\\n: \u5B9E\u4F53\u7684\u7279\u6027\u79F0\u4E3A\u5C5E\u6027\\n\\n\u5B9E\u4F53\u6807\u8BC6\u7B26(Indentify)\\n: \u80FD\u552F\u4E00\u6807\u8BC6\u5B9E\u4F53\u7684\u5C5E\u6027\u6216\u5C5E\u6027\u96C6\\n\\n#### 1.2.2 \u903B\u8F91\u8BBE\u8BA1\u4E2D\u7684\u6570\u636E\u63CF\u8FF0\\n\\n\u8BB0\u5F55(Record)\\n: \u5B57\u6BB5\u7684\u6709\u5E8F\u96C6\u5408\\n\\n\u5B57\u6BB5(Field)\\n: \u6807\u8BB0\u5B9E\u4F53\u5C5E\u6027\u7684\u547D\u540D\u5355\u4F4D\u79F0\u4E3A\u5B57\u6BB5\u6216\u6570\u636E\u9879\\n\\n\u6587\u4EF6(File)\\n: \u540C\u4E00\u7C7B\u8BB0\u5F55\u7684\u96C6\u5408\\n\\n\u5173\u952E\u7801(Key)\\n: \u80FD\u552F\u4E00\u4FBF\u662F\u6587\u4EF6\u4E2D\u67D0\u4E2A\u8BB0\u5F55\u7684\u5B57\u6BB5\u6216\u5B57\u6BB5\u96C6\\n\\n#### \u672F\u8BED\u7684\u5BF9\u5E94\u5173\u7CFB\\n\\n\u6982\u5FF5\u8BBE\u8BA1   | \u903B\u8F91\u8BBE\u8BA1\\n--------- | -----\\n\u5B9E\u4F53 | \u8BB0\u5F55\\n\u5C5E\u6027 | \u5B57\u6BB5\\n\u5B9E\u4F53\u96C6 | \u6587\u4EF6\\n\u5B9E\u4F53\u6807\u8BC6\u7B26 | \u5173\u952E\u7801\\n\\n#### 1.2.4 \u6570\u636E\u8054\u7CFB\u7684\u63CF\u8FF0\\n\\n\u8054\u7CFB (Relationship)\\n: \u5B9E\u4F53\u4E4B\u95F4\u7684\u76F8\u4E92\u5173\u7CFB,\u4E0E\u4E00\u4E2A\u8054\u7CFB\u76F8\u5173\u7684\u5B9E\u4F53\u4E2A\u6570\u79F0\u4E3A\u8054\u7CFB\u7684\u5143\u6570\\n\\n\u8054\u7CFB\u7684\u7C7B\u578B\\n: \u4E00\u5BF9\u4E00,\u4E00\u5BF9\u591A,\u591A\u5BF9\u591A 1:1, 1:N, N:M\\n\\n### 1.3 \u6570\u636E\u7684\u62BD\u8C61\u7EA7\u522B\\n\\n#### 1.3.1 \u6570\u636E\u62BD\u8C61\u8FC7\u7A0B\\n\\n\u6A21\u578B(Model)\\n: \u5BF9\u73B0\u5B9E\u4E16\u754C\u7684\u62BD\u8C61\\n\\n\u6570\u636E\u6A21\u578B(Date Model)\\n: \u6570\u636E\u5E93\u7684\u7ED3\u6784\u548C\u8BED\u4E49,\u5BF9\u73B0\u5B9E\u4E16\u754C\u7684\u6570\u636E\u8FDB\u884C\u62BD\u8C61\\n\\n: > **[wiki-\u6570\u636E\u6A21\u578B]** \u6570\u636E\u6A21\u578B\u662F\u5B9A\u4E49\u6570\u636E\u5982\u4F55\u8F93\u5165\u548C\u4E0E\u8F93\u51FA\u7684\u4E00\u79CD\u6A21\u578B\u3002\\n\u5176\u4E3B\u8981\u4F5C\u7528\u662F\u4E3A\u4FE1\u606F\u7CFB\u7EDF\u63D0\u4F9B\u6570\u636E\u7684\u5B9A\u4E49\u548C\u683C\u5F0F\u3002\u6570\u636E\u6A21\u578B\u662F\u6570\u636E\u5E93\u7CFB\u7EDF\u7684\u6838\u5FC3\u548C\u57FA\u7840\uFF0C\\n\u73B0\u6709\u7684\u6570\u636E\u5E93\u7CFB\u7EDF\u90FD\u662F\u57FA\u4E8E\u67D0\u79CD\u6570\u636E\u6A21\u578B\u800C\u5EFA\u7ACB\u8D77\u6765\u7684\u3002\\n\\n#### 1.3.2 \u6982\u5FF5\u6A21\u578B\\n1. \u8868\u8FBE\u6570\u636E\u7684\u6574\u4F53\u903B\u8F91\u7ED3\u6784\uFF0C\u662F\u7CFB\u7EDF\u7528\u6237\u5BF9\u6574\u4E2A\u5E94\u7528\u9879\u76EE\u8BBE\u8BA1\u7684\u6570\u636E\u7684\u5168\u9762\u63CF\u8FF0\\n2. \u4ECE\u7528\u6237\u7684\u89C2\u70B9\u51FA\u53D1\uFF0C\u5BF9\u6570\u636E\u5EFA\u6A21\\n3. \u72EC\u7ACB\u4E8E\u786C\u4EF6\u548C\u8F6F\u4EF6\\n4. \u662F\u6570\u636E\u5E93\u8BBE\u8BA1\u4EBA\u5458\u4E0E\u7528\u6237\u4E4B\u95F4\u8FDB\u884C\u4EA4\u6D41\u7684\u5DE5\u5177\\n\\n#### 1.3.3 \u903B\u8F91\u6A21\u578B\\n1. \u8868\u8FBE\u4E86DB\u7684\u6574\u4F53\u903B\u8F91\u7ED3\u6784,\u8BBE\u8BA1\u4EBA\u5458\u5BF9\u6574\u4E2A\u5E94\u7528\u9879\u76EE\u6570\u636E\u5E93\u7684\u5168\u9762\u63CF\u8FF0\\n2. \u4ECE\u6570\u636E\u5E93\u7684\u5B9E\u73B0\u89C2\u70B9\u51FA\u53D1,\u5BF9\u6570\u636E\u5EFA\u6A21\\n3. \u72EC\u7ACB\u4E8E\u786C\u4EF6,\u4F9D\u8D56\u4E8E\u8F6F\u4EF6\\n4. \u6570\u636E\u5E93\u8BBE\u8BA1\u4EBA\u5458\u4E0E\u5E94\u7528\u7A0B\u5E8F\u5458\u4E4B\u95F4\u8FDB\u884C\u4EA4\u6D41\u7684\u5DE5\u5177\\n> \u903B\u8F91\u6A21\u578B\u7684\u7C7B\u578B: \u5C42\u6B21,\u7F51\u72B6,\u5173\u7CFB\\n\\n#### 1.3.4 \u5916\u90E8\u6A21\u578B\\n1. \u662F\u903B\u8F91\u6A21\u578B\u7684\u5B50\u96C6\\n2. \u72EC\u7ACB\u4E8E\u786C\u4EF6,\u4F9D\u8D56\u4E8E\u8F6F\u4EF6\\n3. \u53CD\u5E94\u7528\u6237\u4F7F\u7528\u6570\u636E\u5E93\u7684\u89C2\u70B9\\n\\n##### \u5916\u90E8\u6A21\u578B\u7684\u4F18\u70B9\\n1. \u7B80\u5316\u7528\u6237\u7684\u89C2\u70B9\\n2. \u6709\u52A9\u4E8E\u6570\u636E\u7684\u5B89\u5168\u6027\u4FDD\u62A4\\n3. \u5916\u90E8\u6A21\u578B\u662F\u5BF9\u6982\u5FF5\u6A21\u578B\u7684\u652F\u6301\\n\\n#### 1.3.5 \u5185\u90E8\u6A21\u578B\\n\u5185\u90E8\u6A21\u578B\u4E5F\u53EB\u505A\u7269\u7406\u6A21\u578B,\u662F\u6570\u636E\u5E93\u6700\u5E95\u5C42\u7684\u62BD\u8C61,\u5B83\u63CF\u8FF0\u6570\u636E\u5728\u78C1\u76D8\u6216\u78C1\u5E26\u4E0A\u7684\u5B58\u50A8\u65B9\u5F0F,\u5B58\u53D6\u8BBE\u5907\u548C\u5B58\u53D6\u65B9\u6CD5\\n> \u73B0\u4ECA\u7684\u5185\u90E8\u7EC6\u8282\u5927\u591A\u7531\u64CD\u4F5C\u7CFB\u7EDF\u5B9E\u73B0\\n\\n#### 1.3.6 \u4E09\u5C42\u6A21\u578B\u548C\u4E24\u7EA7\u6620\u8C61\\n* \u4E09\u5C42\u6A21\u578B\u5373\u4E0A\u8FF0\u7684: \u5916\u90E8,\u903B\u8F91,\u5185\u90E8\\n* \u4E24\u5C42\u6620\u8C61\u4E3A: \u5185\u90E8 <-> \u903B\u8F91, \u903B\u8F91 <-> \u5185\u90E8\\n* \u4F18\u70B9: \u589E\u5F3A\u4E86\u72EC\u7ACB\u6027,\u4E0D\u540C\u6A21\u5F0F\u5C42\u6B21\u4E4B\u95F4\u7684\u64CD\u4F5C\u7531\u6620\u5C04\u5B8C\u6210\\n\\n### 1.4 \u6570\u636E\u5E93\u7BA1\u7406\u7CFB\u7EDF(DBMS)\\n#### 1.4.1 DBMS\u7684\u5DE5\u4F5C\u6A21\u5F0F\\n\\n\u6570\u636E\u5E93\u64CD\u4F5C\u7CFB\u7EDF(DBMS)\\n: \u662F\u6307\u6570\u636E\u5E93\u7CFB\u7EDF\u4E2D\u5BF9\u6570\u636E\u8FDB\u884C\u7BA1\u7406\u7684\u8F6F\u4EF6\u7CFB\u7EDF\u3002\u5B83\u662F\u6570\u636E\u5E93\u7CFB\u7EDF\u7684\u6838\u5FC3\u7EC4\u6210\u90E8\u5206.\u5BF9DB\u7684\u4E00\u5207\u64CD\u4F5C,\\n\u5305\u62EC\u5B9A\u4E49,\u67E5\u8BE2,\u66F4\u65B0\u53CA\u5404\u79CD\u63A7\u5236,\u90FD\u662F\u901A\u8FC7DBMS\u8FDB\u884C\u7684.\\n\\n##### DBMS\u7684\u5DE5\u4F5C\u6A21\u5F0F\\n\\n1. \u63A5\u53D7\u5E94\u7528\u7A0B\u5E8F\u7684\u6570\u636E\u8BF7\u6C42\u548C\u5904\u7406\u8BF7\u6C42\\n2. \u5C06\u7528\u6237\u7684\u6570\u636E\u8BF7\u6C42(\u9AD8\u7EA7\u6307\u4EE4)\u8F6C\u6362(\u7F16\u8BD1)\u6210\u590D\u6742\u7684\u673A\u5668\u7801(\u4F4E\u7EA7\u6307\u4EE4)\\n3. \u5B9E\u73B0\u5BF9\u6570\u636E\u5E93\u7684\u64CD\u4F5C\\n4. \u4ECE\u5BF9\u6570\u636E\u5E93\u7684\u64CD\u4F5C\u4E2D\u63A5\u53D7\u67E5\u8BE2\u7ED3\u679C\\n5. \u5BF9\u67E5\u8BE2\u7ED3\u679C\u8FDB\u884C\u5904\u7406(\u683C\u5F0F\u8F6C\u6362)\\n6. \u5C06\u5904\u7406\u7ED3\u679C\u8FD4\u56DE\u7ED9\u7528\u6237\\n\\n##### DBMS\u7684\u4E3B\u8981\u529F\u80FD\\n\\n1. \u5B9A\u4E49(DDL)\\n2. \u64CD\u7EB5(DML)\\n3. \u6570\u636E\u5E93\u7684\u4FDD\u62A4\u529F\u80FD\\n\\t1. \u6570\u636E\u5E93\u7684\u6062\u590D\\n\\t2. \u5E76\u53D1\u63A7\u5236\\n\\t3. \u5B8C\u6574\u6027\u63A7\u5236\\n\\t4. \u5B89\u5168\u6027\u63A7\u5236\\n4. \u6570\u636E\u5E93\u7684\u7EF4\u62A4\u529F\u80FD\\n\u5305\u62EC\u6570\u636E\u7684\u8F7D\u5165,\u8F6C\u6362,\u8F6C\u50A8,\u6570\u636E\u5E93\u7684\u6539\u7EC4\u4EE5\u53CA\u6027\u80FD\u76D1\u63A7\u7B49\\n5. \u6570\u636E\u5B57\u5178\\n\u6570\u636E\u5E93\u7CFB\u7EDF\u4E2D\u5B58\u653E\u4E09\u7EA7\u7ED3\u6784\u5B9A\u4E49\u7684\u6570\u636E\u5E93\u6210\u4E3A\u6570\u636E\u5B57\u5178(DD)\\n\\n> [wiki-\u6570\u636E\u5B57\u5178]:\u6307\u4E00\u7EC4\u5BF9\u6570\u636E\u6D41\u7A0B\u56FE\u4E2D\u7684\u6570\u636E\u6D41\u3001\u6570\u636E\u6587\u4EF6\u3001\u6570\u636E\u9879\u53CA\u5904\u7406\u903B\u8F91\u8FDB\u884C\u5B9A\u4E49\u63CF\u8FF0\u7684\u8868\u683C\u3002\\n\\n### 1.5 \u6570\u636E\u5E93\u7CFB\u7EDF(DBS)\\n#### 1.5.1 DBS\u7684\u7EC4\u6210\\n\\nDBS \u662F\u91C7\u7528\u4E86\u6570\u636E\u5E93\u6280\u672F\u7684\u8BA1\u7B97\u673A\u7CFB\u7EDF.\u5B83\u662F\u6570\u636E\u5E93,\u786C\u4EF6,\u8F6F\u4EF6\u548C\u6570\u636E\u5E93\u7BA1\u7406\u5458\u7684\u96C6\u5408\u4F53.\\n\\n\u6570\u636E\u5E93(DB)\\n: \u662F\u5404\u9879\u5E94\u7528\u6709\u5173\u7684\u5168\u90E8\u6570\u636E\u7684\u96C6\u5408.\u5206\u4E3A\u4E24\u7C7B,\u4E00\u7C7B\u662F\u5E94\u7528\u6570\u636E\u7684\u96C6\u5408,\u6210\u4E3A\u7269\u7406\u6570\u636E\u5E93,\\n\u662F\u6570\u636E\u5E93\u7684\u4E3B\u9898;\u53E6\u4E00\u7C7B\u662F\u5404\u7EA7\u6570\u636E\u7ED3\u6784\u7684\u63CF\u8FF0,\u79F0\u4E3A\u63CF\u8FF0\u6570\u636E\u5E93,\u7531DD\u7CFB\u7EDF\u7BA1\u7406.\\n\\n##### \u6570\u636E\u5E93\u7BA1\u7406\u5458(DBA)\\n\\nDBA\u9700\u8981\u5177\u5907\u7684\u7D20\u8D28\\n\\n* \u719F\u6089\u4F01\u4E1A\u5168\u90E8\u6570\u636E\u7684\u6027\u8D28\u548C\u7528\u9014\\n* \u5BF9\u6240\u6709\u7528\u6237\u7684\u9700\u6C42\u6709\\n\\n#### 1.5.2 DBS\u7684\u5168\u5C40\u7ED3\u6784\\n\u5E38\u89C1\u4E66\u4E0A\u7684\u56FE 1.21\\n\\n#### 1.5.3 DBS\u7684\u7B11\u610F\\n1. \u7075\u6D3B\u6027\\n2. \u7B80\u6613\u6027\\n3. \u9762\u5411\u7528\u6237\\n4. \u6709\u6548\u7684\u6570\u636E\u63A7\u5236\\n5. \u52A0\u5FEB\u5E94\u7528\u7CFB\u7EDF\u7684\u5F00\u53D1\u901F\u5EA6\\n6. \u7EF4\u62A4\u65B9\u4FBF\\n7. \u6807\u51C6\u5316\\n\\n----------------------------------------------------------------\\n## 2. \u6570\u636E\u5E93\u8BBE\u8BA1\u548C ER \u6A21\u578B\\n### 2.1 \u6570\u636E\u5E93\u7CFB\u7EDF\u751F\u5B58\u671F\\n\\n\u6570\u636E\u5E93\u751F\u5B58\u671F\u4E00\u822C\u5206\u4E3A\u4E03\u4E2A\u9636\u6BB5: \u89C4\u5212,\u9700\u6C42\u5206\u6790,\u6982\u5FF5\u8BBE\u8BA1,\u903B\u8F91\u8BBE\u8BA1,\u5B9E\u73B0,\u8FD0\u884C\u7EF4\u62A4\\n\\n#### 2.1.1 \u89C4\u5212\u9636\u6BB5\\n\u5BF9\u4E8E\u6570\u636E\u5E93\u7CFB\u7EDF,\u7279\u522B\u662F\u5927\u578B\u6570\u636E\u5E93\u7CFB\u7EDF\u6216\u5927\u578B\u4FE1\u606F\u7CFB\u7EDF\u4E2D\u7684\u6570\u636E\u5E93\u7FA4,\u89C4\u5212\u9636\u6BB5\u662F\u5341\u5206\u5FC5\u8981\u7684.\\n\u89C4\u5212\u7684\u597D\u574F\u5C06\u76F4\u63A5\u5F71\u54CD\u5230\u6574\u4E2A\u7CFB\u7EDF\u7684\u6210\u529F\u4E0E\u5426,\u5BF9\u5E94\u7528\u5355\u4F4D\u7684\u4FE1\u606F\u5316\u8FDB\u7A0B\u5C06\u4EA7\u751F\u6DF1\u8FDC\u5F71\u54CD.\\n\\n\u89C4\u5212\u9636\u6BB5\u7684\u5177\u4F53\u6B65\u9AA4:\\n\\n1. \u7CFB\u7EDF\u8C03\u67E5\\n\\t\u5BF9\u5E94\u7528\u5355\u4F4D\u505A\u5168\u9762\u7684\u8C03\u67E5.\u53D1\u73B0\u5176\u5B58\u5728\u7684\u4E3B\u8981\u95EE\u9898,\u5E76\u753B\u51FA\u7EC4\u7EC7\u5C42\u6B21\u56FE,\u4EE5\u4E86\u89E3\u4F01\u4E1A\u7684\u7EC4\u7EC7\u7ED3\u6784\\n\\n2. \u53EF\u884C\u6027\u5206\u6790\\n\\t\u4ECE\u6280\u672F,\u7ECF\u6D4E,\u6548\u76CA,\u6CD5\u5F8B\u7B49\u8BF8\u65B9\u9762\u5BF9\u5EFA\u7ACB\u6570\u636E\u5E93\u7684\u53EF\u884C\u6027\u8FDB\u884C\u5206\u6790,\u7136\u540E\u5199\u51FA\u53EF\u884C\u6027\u5206\u6790\u62A5\u544A;\u7EC4\u7EC7\u4E13\u5BB6\u8FDB\u884C\u8BA8\u8BBA\u5176\u53EF\u884C\u6027\\n\\n3. \u786E\u5B9A\u6570\u636E\u5E93\u7CFB\u7EDF\u7684\u603B\u76EE\u6807, \u5E76\u5BF9\u5E94\u7528\u5355\u4F4D\u7684\u5DE5\u4F5C\u6D41\u7A0B\u8FDB\u884C\u4F18\u5316\u548C\u5236\u5B9A\u9879\u76EE\u5F00\u53D1\u8BA1\u5212.\\n\u5728\u5F97\u5230\u51B3\u7B56\u90E8\u95E8\u6279\u51C6\u540E,\u5C31\u6B63\u5F0F\u8FDB\u5165\u6570\u636E\u5E93\u7CFB\u7EDF\u7684\u5F00\u53D1\u5DE5\u4F5C\\n\\n#### 2.1.2 \u9700\u6C42\u5206\u6790\u9636\u6BB5\\n\u8FD9\u4E00\u9636\u6BB5\u662F\u8BA1\u7B97\u673A\u4EBA\u5458(\u7CFB\u7EDF\u5206\u6790\u5458)\u548C\u7528\u6237\u53CC\u65B9\u5171\u540C\u6536\u96C6\u6570\u636E\u5E93\u6240\u9700\u7684\u4FE1\u606F\u5185\u5BB9\u548C\u7528\u6237\u5BF9\u5904\u7406\u7684\u9700\u6C42,\\n\u5E76\u4EE5\u9700\u6C42\u8BF4\u660E\u4E66\u7684\u5F62\u5F0F\u786E\u5B9A\u4E0B\u6765,\u4F5C\u4E3A\u4EE5\u540E\u5F00\u7CFB\u7EDF\u5F00\u53D1\u7684\u6307\u5357\u548C\u7CFB\u7EDF\u9A8C\u8BC1\u7684\u4F9D\u636E\\n\\n\u9700\u6C42\u5206\u6790\u9636\u6BB5\u7684\u5177\u4F53\u6B65\u9AA4:\\n\\n1. \u5206\u6790\u7528\u6237\u6D3B\u52A8,\u4EA7\u751F\u4E1A\u52A1\u6D41\u7A0B\u56FE\\n2. \u786E\u5B9A\u7CFB\u7EDF\u8303\u56F4,\u4EA7\u751F\u7CFB\u7EDF\u5173\u7CFB\u56FE\\n3. \u5206\u6790\u7528\u6237\u6D3B\u52A8\u6D89\u53CA\u7684\u6570\u636E,\u4EA7\u751F\u6570\u636E\u6D41\u56FE(DFD)\\n4. \u5206\u6790\u7CFB\u7EDF\u6570\u636E,\u4EA7\u751F\u6570\u636E\u5B57\u5178\\n\\n> \u6570\u636E\u5B57\u5178\u4E2D\u901A\u5E38\u5305\u62EC\u6570\u636E\u9879,\u6570\u636E\u7ED3\u6784,\u6570\u636E\u6D41,\u6570\u636E\u5B58\u50A8\u548C\u5904\u74065\u4E2A\u90E8\u5206\\n\\n#### 2.1.3 \u6982\u5FF5\u8BBE\u8BA1\u9636\u6BB5\\n\u6982\u5FF5\u8BBE\u8BA1\u7684\u76EE\u6807\u662F\u4EA7\u751F\u53CD\u5E94\u7528\u6237\u5355\u4F4D\u4FE1\u606F\u9700\u6C42\u7684\u6570\u636E\u6982\u5FF5\u7ED3\u6784,\u5373\u6982\u5FF5\u7ED3\u6784,\u6982\u5FF5\u6A21\u578B\u72EC\u7ACB\u4E8E\u8BA1\\n\u7B97\u673A\u786C\u4EF6\u7ED3\u6784,\u72EC\u7ACB\u4E8E\u652F\u6301\u6570\u636E\u7684DBMS.\\n\\n\u6982\u5FF5\u8BBE\u8BA1\u7684\u4E3B\u8981\u6B65\u9AA4:\\n\\n1. \u8FDB\u884C\u6570\u636E\u62BD\u8C61,\u8BBE\u8BA1\u5C40\u90E8\u6982\u5FF5\u6A21\u578B\\n\\t> \u8BBE\u8BA1\u6982\u5FF5\u7ED3\u6784\u65F6,\u5E38\u7528\u7684\u6570\u636E\u62BD\u8C61\u65B9\u6CD5\u662F\\"\u805A\u96C6\\"\u548C\\"\u6982\u62EC\\"\\n\\n2. \u5C06\u5C40\u90E8\u6982\u5FF5\u7EFC\u5408\u6210\u5168\u5C40\u6982\u5FF5\u6A21\u578B\\n3. \u8BC4\u5BA1\\n\\t\u786E\u8BA4\u5168\u5C40\u7ED3\u6784\u662F\u5426\u5B8C\u6574,\u5404\u79CD\u5212\u5206\u662F\u5426\u5408\u7406,\u662F\u5426\u5B58\u5728\u4E0D\u4E00\u81F4\u6027,\u5404\u79CD\u6587\u6863\u662F\u5426\u9F50\u5168\\n\\n#### 2.1.4 \u903B\u8F91\u8BBE\u8BA1\u9636\u6BB5\\n\u6982\u5FF5\u8BBE\u8BA1\u7684\u7ED3\u679C\u662F\u5F97\u5230\u4E00\u4E2A\u4E0EDBMS\u65E0\u5173\u7684\u6982\u5FF5\u6A21\u578B.\u800C\u903B\u8F91\u8BBE\u8BA1\u7684\u76EE\u7684\u662F\u628A\u6982\u5FF5\u8BBE\u8BA1\u9636\u6BB5\u8BBE\u8BA1\u597D\u7684\\n\u6982\u5FF5\u6A21\u578B\u8F6C\u6362\u6210\u5177\u4F53\u7684\u903B\u8F91\u6A21\u578B.\\n\\n\u903B\u8F91\u8BBE\u8BA1\u7684\u4E3B\u8981\u6B65\u9AA4:\\n\\n1. \u628A\u6982\u5FF5\u6A21\u578B\u8F6C\u6362\u6210\u903B\u8F91\u6A21\u578B\\n\\tER\u6A21\u578B\u8F6C\u6362\u6210\u5173\u7CFB\u6A21\u578B\\n2. \u8BBE\u8BA1\u5916\u6A21\u578B\\n3. \u8BBE\u8BA1\u5E94\u7528\u7A0B\u5E8F\u4E0E\u6570\u636E\u5E93\u7684\u63A5\u53E3\\n4. \u8BC4\u4EF7\u6A21\u578B\\n5. \u4FEE\u6B63\u6A21\u578B\\n\\n#### 2.1.5 \u7269\u7406\u8BBE\u8BA1\u9636\u6BB5\\n\\n\u5177\u4F53\u6B65\u9AA4:\\n1. \u5B58\u50A8\u8BB0\u5F55\u7ED3\u6784\u8BBE\u8BA1\\n2. \u786E\u5B9A\u6570\u636E\u5B58\u653E\u4F4D\u7F6E\\n3. \u5B58\u53D6\u65B9\u6CD5\u7684\u8BBE\u8BA1\\n4. \u5B8C\u6574\u6027\u548C\u5B89\u5168\u6027\u8003\u8651\\n5. \u7A0B\u5E8F\u8BBE\u8BA1\\n\\n#### 2.1.6 \u6570\u636E\u5E93\u7684\u5B9E\u73B0\\n\u4E3B\u8981\u5305\u62EC\\n\\n1. \u7528DDL\u5B9A\u4E49\u6570\u636E\u5E93\u7ED3\u6784\\n2. \u6570\u636E\u88C5\u8F7D/\u7EC4\u7EC7\u6570\u636E\u5165\u5E93\\n\\t\u5177\u4F53\u6B65\u9AA4: \u7B5B\u9009\u6570\u636E, \u8F93\u5165\u6570\u636E, \u8F6C\u6362\u6570\u636E\u683C\u5F0F, \u6821\u9A8C\u6570\u636E, \u7EFC\u5408\u6570\u636E\\n3. \u7F16\u5236\u4E0E\u8C03\u8BD5\u5E94\u7528\u7A0B\u5E8F\\n\\t\u8BE5\u6B65\u9AA4\u4F7F\u7528\u6A21\u62DF\u6570\u636E\u8FDB\u884C\u8C03\u8BD5\\n4. \u6570\u636E\u5E93\u8BD5\u8FD0\u884C\\n\\t\u529F\u80FD\u8C03\u8BD5,\u6027\u80FD\u6D4B\u8BD5\\n\\n#### 2.1.7 \u6570\u636E\u5E93\u7684\u8FD0\u884C\u4E0E\u7EF4\u62A4\\n\u5728\u6570\u636E\u5E93\u8FD0\u884C\u9636\u6BB5,\u5BF9\u6570\u636E\u5E93\u7ECF\u5E38\u6027\u7684\u7EF4\u62A4\u5DE5\u4F5C\u4E3B\u8981\u7531DBA\u5B8C\u6210,\u5B83\u5305\u62EC\u4EE5\u4E0B\u5185\u5BB9:\\n\\n1. \u6570\u636E\u5E93\u7684\u8F6C\u50A8\u548C\u6062\u590D\\n2. \u6570\u636E\u5E93\u5B89\u5168\u6027,\u5B8C\u6574\u6027\u63A7\u5236\\n3. \u6570\u636E\u5E93\u6027\u80FD\u7684\u76D1\u7763,\u5206\u6790\u548C\u6539\u8FDB\\n4. \u6570\u636E\u5E93\u7684\u91CD\u7EC4\u7EC7\u548C\u91CD\u6784\u9020\\n\\n----------------------------------------------------------------\\n## 3. \u5173\u7CFB\u6A21\u5F0F\u8BBE\u8BA1\u7406\u8BBA\\n\u5173\u7CFB\u6A21\u5F0F\u8BBE\u8BA1\u7406\u8BBA\u4E3B\u8981\u5305\u62EC\u4E09\u4E2A\u65B9\u9762\u7684\u5185\u5BB9: \u6570\u636E\u4F9D\u8D56,\u8303\u5F0F\u548C\u6A21\u5F0F\u8BBE\u8BA1\u65B9\u6CD5\\n\\n### 3.1 \u5173\u7CFB\u6A21\u5F0F\u7684\u8BBE\u8BA1\u51C6\u5219\\n#### 3.1.1 \u5173\u7CFB\u6A21\u5F0F\u7684\u5197\u4F59\u548C\u5F02\u5E38\u95EE\u9898\\n __\u5206\u89E3__\u662F\u89E3\u51B3\u5197\u4F59\u7684\u4E3B\u8981\u65B9\u6CD5,\u4E5F\u662F\u89C4\u8303\u5316\u7684\u4E00\u6761\u539F\u5219:\\"\u5173\u7CFB\u6A21\u5F0F\u6709\u5197\u4F59,\u5C31\u5206\u89E3\u5B83\\"\\n\\n#### 3.1.2 \u5173\u7CFB\u6A21\u5F0F\u7684\u975E\u5F62\u5F0F\u5316\u8BBE\u8BA1\u51C6\u5219\\n\\n\u51C6\u5219 3.1\\n: <small>\u5173\u7CFB\u6A21\u5F0F\u7684\u8BBE\u8BA1\u5C3D\u53EF\u80FD</small>\u53EA\u5305\u542B\u6709\u76F4\u63A5\u8054\u7CFB\u7684\u5C5E\u6027,\u4E0D\u8981\u5305\u542B\u6709\u95F4\u63A5\u8054\u7CFB\u7684\u5C5E\u6027.\\n\\t\u4E5F\u5C31\u662F,\u6BCF\u4E2A\u5173\u7CFB\u5173\u7CFB\u6A21\u5F0F\u5E94\u53EA\u5BF9\u5E94\u4E8E\u4E00\u4E2A\u5B9E\u4F53\u7C7B\u578B\u6216\u4E00\u4E2A\u8054\u7CFB\u7C7B\u578B.\\n\\n\u51C6\u5219 3.2\\n: <small>\u5173\u7CFB\u6A21\u5F0F\u7684\u8BBE\u8BA1\u5C3D\u53EF\u80FD\u4F7F\u5F97\u76F8\u5E94\u5173\u7CFB\u4E2D</small>\u4E0D\u51FA\u73B0\u63D2\u5165,\u5220\u9664\u548C\u4FEE\u6539\u7B49\u64CD\u4F5C\u5F02\u5E38\u73B0\u8C61.\\n\\t\u5982\u679C\u51FA\u73B0\u4EFB\u4F55\u5F02\u5E38,\u5219\u8981\u6E05\u695A\u7684\u52A0\u4EE5\u8BF4\u660E,\u5E76\u786E\u4FDD\u66F4\u65B0\u6570\u636E\u5E93\u7684\u7A0B\u5E8F\u6B63\u786E\u64CD\u4F5C.\\n\\n\u51C6\u5219 3.3\\n: <small>\u5173\u7CFB\u6A21\u5F0F\u7684\u8BBE\u8BA1\u5C3D\u53EF\u80FD\u4F7F\u5F97\u76F8\u5E94\u5173\u7CFB\u4E2D</small>\u907F\u514D\u653E\u7F6E\u7ECF\u5E38\u4E3A\u7A7A\u7684\u5C5E\u6027.\\n\\n\u51C6\u5219 3.4\\n: <small>\u5173\u7CFB\u6A21\u5F0F\u7684\u8BBE\u8BA1\u5E94\u5C3D\u53EF\u80FD\u4F7F\u5F97</small>\u5173\u7CFB\u7684\u7B49\u503C\u8FDE\u63A5\u5728\u4E3B\u952E\u548C\u5916\u952E\u7684\u5C5E\u6027\u4E0A\u8FDB\u884C,\\n\\t\u5E76\u4E14\u4FDD\u8BC1\u8FDE\u63A5\u4EE5\u540E\u4E0D\u4F1A\u4EA7\u751F\u989D\u5916\u7684\u5143\u7EC4.\\n\\t> \u5982\u679C\u4E24\u4E2A\u8FDE\u63A5\u5339\u914D\u7684\u4E0D\u662F\u5916\u952E\u6216\u4E3B\u952E,\u90A3\u4E48\u8FD9\u79CD\u8FDE\u63A5\u5F88\u53EF\u80FD\u4F1A\u4EA7\u751F\u989D\u5916\u5143\u7EC4\\n\\n### 3.2 \u51FD\u6570\u4F9D\u8D56\\n\\n#### 3.2.1 \u51FD\u6570\u4F9D\u8D56\u7684\u5B9A\u4E49\\n\\n\u5B9A\u4E49 3.1\\n: \u8BBE\u6709\u5173\u7CFB\u6A21\u5F0F R(U), X \u548C Y \u662F\u5C5E\u6027\u96C6 U \u7684\u5B50\u96C6,\\n__\u51FD\u6570\u4F9D\u8D56(FUnctional Dependency, \u7B80\u8BB0\u4E3A FD)__\\n\u662F\u5F62\u6210 $x\\\\rightarrow y$ \u7684\u4E00\u4E2A\u547D\u9898, \u53EA\u8981r\u662FR\u7684\u5F53\u524D\u5173\u7CFB,\\n\u5BF9r\u4E2D\u4EFB\u610F\u4E24\u4E2A\u5143\u7EC4 t \u548C s,\u90FD\u6709 t[X] = s[X] \u8574\u542B t[Y] = s[Y],\\n\u90A3\u4E48\u79F0 $FD\\\\quad x\\\\rightarrow y$ \u5728\u5173\u7CFB\u6A21\u5F0F R(U)\u4E2D\u6210\u7ACB.\\n\\n\u8FD9\u91CC t[X] \u8868\u793A\u5143\u7EC4 t \u5728\u5C5E\u6027\u96C6 X \u4E0A\u7684\u503C,\u5176\u4F59\u7C7B\u540C. $X \\\\rightarrow Y$ \u8BFB\u4F5C X \u51FD\u6570\u51B3\u5B9A Y,\\n\u6216 Y \u51FD\u6570\u4F9D\u8D56\u4E8E X. FD \u662F\u5BF9\u5173\u7CFB\u6A21\u5F0F R \u7684\u4E00\u5207\u53EF\u80FD\u7684\u5173\u7CFB r \u5B9A\u4E49\u7684. \u5BF9\u4E8E\u5F53\u524D\u5173\u7CFB r \u7684\u4EFB\u610F\u4E24\u4E2A\u5143\u7EC4,\\n\u5982\u679C X \u76F8\u540C,\u5219\u8981\u6C42 Y \u503C\u4E5F\u76F8\u540C.\u5373\u6709\u4E00\u4E2A X \u503C\u5C31\u6709\u4E00\u4E2A Y \u503C\u4E0E\u4E4B\u5BF9\u5E94, \u6216\u8005\u8BF4 Y \u503C\u7531 X \u503C\u51B3\u5B9A.\\n\u56E0\u800C\u8FD9\u79CD\u4F9D\u8D56\u79F0\u4E3A\u51FD\u6570\u4F9D\u8D56.\\n\\n\u5F53\u5173\u7CFB\u6A21\u5F0F\u4E0A\u5B58\u5728\u51FD\u6570\u4F9D\u8D56\u65F6,\u5BF9\u5176\u5173\u7CFB\u4E2D\u7684\u503C\u5C06\u6709\u4E25\u683C\u7684\u9650\u5236.\\n\\n\u5B9A\u4E49 3.2\\n: \u5982\u679C $X \\\\rightarrow Y$ \u548C $Y \\\\rightarrow X$ \u540C\u65F6\u6210\u7ACB,\u5219\u53EF\u8BB0\u4E3A $X \\\\leftrightarrow Y$.\\n\u4E5F\u5C31\u662F\u5728\u5173\u7CFB\u4E2D, X \u503C\u548C Y \u503C\u5177\u6709\u4E00\u4E00\u5BF9\u5E94\u7684\u5173\u7CFB.\\n\\n#### 3.2.2 FD \u7684\u903B\u8F91\u8574\u542B\\n\\n\u5B9A\u4E49 3.3\\n: \u8BBE F \u662F\u5728\u5173\u7CFB\u6A21\u5F0F R \u4E0A\u6210\u7ACB\u7684\u51FD\u6570\u4F9D\u8D56\u7684\u96C6\u5408, $X \\\\rightarrow Y$ \u662F\u4E00\u4E2A\u51FD\u6570\u4F9D\u8D56.\\n\u5982\u679C\u5BF9\u4E8E R \u7684\u6BCF\u4E2A\u6EE1\u8DB3 F \u7684\u5173\u7CFB r \u4E5F\u6EE1\u8DB3 $X \\\\rightarrow Y$, \u90A3\u4E48 F \u903B\u8F91\u8574\u542B\\n$X \\\\rightarrow Y$,\u8BB0\u4E3A $F \\\\models X\\\\rightarrow Y$.\\n\\n\u5B9A\u4E49 3.4\\n: \u8BBE F \u662F\u51FD\u6570\u4F9D\u8D56\u96C6, \u88AB F \u903B\u8F91\u8574\u542B\u7684\u51FD\u6570\u4F9D\u8D56\u5168\u4F53\u6784\u6210\u7684\u96C6\u5408,\u79F0\u4E3A\u51FD\u6570\u4F9D\u8D56\u96C6 F \u7684\\n__\u95ED\u5305(Closure)__, \u8BB0\u4E3A${ F }^{ + }$ . \u5373\\n$$\\n{ F }^{ + }=\\\\{ \\\\quad X\\\\rightarrow Y\\\\quad |\\\\quad F \\\\models X\\\\rightarrow Y\\\\quad \\\\}\\n$$\\n\\n#### 3.2.3 FD \u7684\u63A8\u7406\u89C4\u5219\\n\\n\u8BBE U \u662F\u5173\u7CFB\u6A21\u5F0F R \u7684\u5C5E\u6027\u96C6. F \u662F R \u4E0A\u6210\u7ACB\u7684\u53EA\u6D89\u53CA\u5230 U \u4E2D\u8212\u5FC3\u7684\u51FD\u6570\u4F9D\u8D56\u96C6. FD \u7684\u63A8\u7406\u89C4\u5219\u6709\u4EE5\u4E0B\u4E09\u6761:\\n\\n\u81EA\u53CD\u6027(Reflexivity)\\n: A1\\n: \u82E5 $Y \\\\subseteq X \\\\subseteq U$, \u5219 $X \\\\rightarrow Y$ \u5728 R \u4E0A\u6210\u7ACB.\\n\\n\u589E\u5E7F\u6027(Augmentation)\\n: A2\\n: \u82E5 $X \\\\rightarrow Y$\u5728 R \u4E0A\u6210\u7ACB,\u4E14 $Z \\\\subseteq U$, \u5219 $XZ \\\\rightarrow YZ$\u5728 R \u4E0A\u6210\u7ACB.\\n\\n\u4F20\u9012\u6027(Transitivity)\\n: A3\\n: \u82E5 $X \\\\rightarrow Y$ \u548C $Y \\\\rightarrow Z$ \u5728 R \u4E0A\u6210\u7ACB,\\n\u5219 $X \\\\rightarrow Z$\u5728 R \u4E0A\u6210\u7ACB.\\n\\n\u5B9A\u7406 3.1\\n: FD \u63A8\u7406\u89C4\u5219 A1, A2 \u548C A3. \u4E5F\u5C31\u662F, \u5982\u679C $X \\\\rightarrow Y$\\n\u662F\u4ECE F \u7528\u63A8\u7406\u89C4\u5219\u5BFC\u51FA, \u90A3\u4E48 $X \\\\rightarrow Y$\u5728$F^+$\u4E2D\\n\\n__\u5B9A\u7406 3.2__ FD \u7684\u5176\u4ED6\u4E94\u6761\u63A8\u7406\u89C4\u5219\\n\\n\u5408\u5E76\u6027(Union)\\n: A4\\n: $ \\\\{ X \\\\rightarrow Y, Y \\\\rightarrow Z \\\\} \\\\models X \\\\rightarrow YZ$\\n\\n\u5206\u89E3\u6027(Decomposition)\\n: A5\\n: $\\\\{ X \\\\rightarrow Y, Z \\\\subseteq Y \\\\} \\\\models X \\\\rightarrow Z$\\n\\n\u4F2A\u4F20\u9012\u6027\\n: A6\\n: $ \\\\{ X \\\\rightarrow Y, WY \\\\rightarrow Z \\\\} \\\\models WX \\\\rightarrow Z$\\n\\n\u590D\u5408\u6027(Composition)\\n: A7\\n: $\\\\{ X \\\\rightarrow Y, W \\\\rightarrow Z \\\\} \\\\models XW \\\\rightarrow YZ$\\n\\n\u901A\u7528\u4E00\u81F4\u6027\u5B9A\u7406(Genernal Unification Theorem)\\n: $\\\\{ X \\\\rightarrow Y, W \\\\rightarrow Z \\\\} \\\\models X \\\\cup (W - Y) \\\\rightarrow YZ$\\n\\n\u5B9A\u4E49 3.5\\n: \u5BF9\u4E8E $FD X \\\\rightarrow Y$, \u5982\u679C $Y \\\\subseteq X$, \u90A3\u4E48\u79F0 $X \\\\rightarrow Y$\\n\\t\u662F\u4E00\u4E2A __\u5E73\u51E1\u7684 FD__, \u5426\u5219\u79F0\u4E3A __\u975E\u5E73\u51E1\u7684 FD__\\n\\n\u6B63\u5982\u540D\u79F0\u6240\u793A,\u5E73\u51E1\u7684 FD \u5E76\u6CA1\u6709\u5B9E\u9645\u610F\u4E49,\u6839\u636E\u89C4\u5219 A1 \u5C31\u53EF\u4EE5\u9000\u51FA. \u4EBA\u4EEC\u611F\u5174\u8DA3\u7684\u662F\u975E\u5E73\u51E1\u7684 FD.\\n\u53EA\u6709\u975E\u5E73\u51E1\u7684 FD \u624D\u548C _\u771F\u6B63\u7684_ \u5B8C\u6574\u6027\u7EA6\u675F\u6761\u4EF6\u76F8\u5173.\\n\\n\u4ECE\u89C4\u5219 A4 \u548C A5. \u7ACB\u5373\u53EF\u5F97\u5230\u4E0B\u9762\u7684\u5B9A\u7406\\n\\n\u5B9A\u7406 3.3\\n: \u5982\u679C $A_1 \\\\cdots A_n$ \u662F\u5173\u7CFB\u6A21\u5F0F R \u7684\u5C5E\u6027\u96C6, \u90A3\u4E48 $X \\\\rightarrow A_1 \\\\cdots A_n$\\n\u6210\u7ACB\u7684\u5145\u5206\u5FC5\u8981\u6761\u4EF6\u662F $X \\\\rightarrow A_i (i = 1, \\\\cdots, n)$ \u6210\u7ACB\\n\\n#### 3.2.4 FD \u548C\u5173\u952E\u7801\u7684\u8054\u7CFB\\n\\n\u51FD\u6570\u4F9D\u8D56\u662F\u5173\u952E\u7801\u6982\u5FF5\u7684\u63A8\u5E7F.\\n\\n\u5B9A\u4E49 3.6\\n: \u8BBE\u5173\u7CFB\u6A21\u5F0F R \u7684\u5C5E\u6027\u96C6\u662F U, X \u662F U \u7684\u4E00\u4E2A\u5B50\u96C6.\u5982\u679C $X \\\\rightarrow U$ \u5728 R \u4E0A\u6210\u7ACB,\\n\u90A3\u4E48\u79F0 X \u662F R \u7684\u4E00\u4E2A\u8D85\u952E. \u5982\u679C $X \\\\rightarrow U$\u5B50 R \u4E0A\u6210\u7ACB,\u4F46\u5BF9\u4E8E X \u7684\u4EFB\u4E00\u771F\u5B50\u96C6\\n$X_1$ \u90FD\u6709 $X_1 \\\\rightarrow U$ \u4E0D\u6210\u7ACB,\u90A3\u4E48\u79F0 X \u662F R \u4E0A\u7684\u4E00\u4E2A\u5019\u9009\u952E(\u6CA1\u6709\u591A\u4F59\u5C5E\u6027).\\n\\n\u4E00\u822C\u952E\u90FD\u662F\u6307\u5019\u9009\u952E.\\n\\n#### 3.2.5 \u5C5E\u6027\u96C6\u7684\u95ED\u5305\\n\\n\u5B9A\u4E49 3.7\\n: \u8BBE F \u662F\u5C5E\u6027\u96C6 U \u4E0A\u7684 FD \u96C6, X \u662F U \u7684\u5B50\u96C6. \u90A3\u4E48(\u76F8\u5BF9\u4E8E F)\u5C5E\u6027\u96C6 X \u7684\u95ED\u5305\u7528 $X^+$\\n\u8868\u793A, \u5B83\u662F\u4E00\u4E2A\u4ECE F \u96C6\u4F7F\u7528 FD \u63A8\u7406\u89C4\u5219\u63A8\u51FA\u7684\u6EE1\u8DB3\u6240\u6709 $X \\\\rightarrow A$\u7684\u5C5E\u6027A\u7684\u96C6\u5408:\\n$$\\nX^+ = \\\\{\\\\quad \u5C5E\u6027 A \\\\quad |\\\\quad  F \\\\models X \\\\rightarrow A \\\\quad \\\\}\\n$$\\n\\n\u4ECE\u5C5E\u6027\u96C6\u95ED\u5305\u7684\u5B9A\u4E49,\u7ACB\u5373\u53EF\u5F97\u51FA\u4E0B\u9762\u7684\u5B9A\u7406\\n\\n\u5B9A\u7406 3.4\\n: $X \\\\rightarrow Y$ \u80FD\u7528 FD \u63A8\u7406\u89C4\u5219\u63A8\u51FA\u7684\u5145\u5206\u5FC5\u8981\u6761\u4EF6\u662F $Y \\\\subseteq X^+$\\n\\n\u7B97\u6CD5 3.1\\n: \u6C42\u5C5E\u6027\u96C6 X \u76F8\u5BF9\u4E8E FD \u96C6 F \u7684\u95ED\u5305 $X^+$\\n: \u8BBE\u5C5E\u6027\u96C6 X \u7684\u95ED\u5305\u4E3A $X^+$, \u5176\u8BA1\u7B97\u7B97\u6CD5\u5982\u4E0B:\\n$$\\n\\\\qquad X^+ = X; \\\\qquad\\\\\\\\\\ndo  \\\\{ \\\\qquad\\\\qquad\\\\qquad\\\\qquad \\\\\\\\\\noldX^+ := X^+; \\\\\\\\\\n\\\\qquad\\\\qquad\\\\qquad\\\\qquad\\nfor\\\\quad {FD}\\\\quad Y \\\\rightarrow Z\\\\quad in\\\\quad F\\\\quad do \\\\\\\\\\n\\\\qquad\\\\qquad\\\\qquad\\\\qquad\\\\qquad\\\\qquad\\nif\\\\quad Y \\\\subseteq X^+ then\\\\quad X^+ := X^+\\\\cup Z; \\\\\\\\\\n\\\\} while(X^+ != oldX^+);\\n$$\\n\\n#### 3.2.6 FD \u96C6\u7684\u6700\u5C0F\u4F9D\u8D56\u96C6\\n\\n\u5B9A\u4E49 3.8\\n: \u5982\u679C\u5173\u7CFB\u6A21\u5F0F R(U) \u4E0A\u7684\u4E24\u4E2A\u51FD\u6570\u4F9D\u8D56\u96C6 F \u548C G, \u6709 $F^+ = G^+ $,\u5219\u79F0 F \u548C G\\n\u662F\u7B49\u4EF7\u7684\u51FD\u6570\u4F9D\u8D56\u96C6\\n\\nF \u548C G \u7B49\u4EF7,\u610F\u5473\u7740 F \u4E2D\u6BCF\u4E00\u4E2A FD \u90FD\u53EF\u4EE5\u4ECE G \u63A8\u5BFC\u51FA\u6765, \u5E76\u4E14 G \u4E2D\u6BCF\u4E00\u4E2A FD\u4E5F\u90FD\u53EF\u4EE5\u4ECEF\u63A8\u5BFC\u51FA\u6765\\n\\n\u51FD\u6570\u4F9D\u8D56\u96C6 F \u4E2D\u7684 FD \u5F88\u591A,\u6211\u4EEC\u5E94\u8BE5\u4ECE F \u4E2D\u53BB\u6389\u5E73\u51E1\u7684 FD, \u65E0\u5173\u7684 FD, FD \u4E2D\u65E0\u5173\u7684\u5C5E\u6027,\\n\u4EE5\u6C42\u5F97\u4E0E F \u7B49\u4EF7\u7684\u6700\u5C0F\u4F9D\u8D56\u96C6 G.\\n\\n__\u5B9A\u4E49 3.9__\\n\u5982\u679C\u51FD\u6570\u4F9D\u8D56\u96C6 G \u6EE1\u8DB3\u4E0B\u5217\u4E09\u4E2A\u6761\u4EF6,\u5219\u79F0 G \u662F\u6700\u5C0F\u4F9D\u8D56\u96C6\\n\\n1. G \u4E2D\u6BCF\u4E2A FD \u7684\u53F3\u8FB9\u90FD\u662F\u5355\u5C5E\u6027\\n2. G \u4E2D\u6CA1\u6709\u5197\u4F59\u7684 F, \u5373 G \u4E2D\u4E0D\u5B58\u5728\u8FD9\u6837\u7684\u51FD\u6570\u4F9D\u8D56 $X \\\\rightarrow Y$,\\n\\t\u4F7F\u5F97 $G - \\\\{ X \\\\rightarrow Y \\\\}$ \u4E0E G \u7B49\u4EF7\\n3. G \u4E2D\u6BCF\u4E2A FD \u7684\u5DE6\u8FB9\u6CA1\u6709\u5197\u4F59\u7684\u5C5E\u6027, \u5373 G \u4E2D\u4E0D\u5B58\u5728\u8FD9\u6837\u7684\u51FD\u6570\u4F9D\u8D56 $X \\\\rightarrow Y$,\\n\\tX \u6709\u771F\u5B50\u96C6 W \u4F7F\u5F97 $G - \\\\{X \\\\rightarrow Y \\\\} \\\\cup \\\\{ W \\\\rightarrow Y \\\\}$\\n\\t\u4E0E G \u7B49\u4EF7.\\n\\n> \u663E\u7136, \u6BCF\u4E2A\u51FD\u6570\u4F9D\u8D56\u96C6\u81F3\u5C11\u5B58\u5728\u4E00\u4E2A\u7B49\u4EF7\u7684\u6700\u5C0F\u4F9D\u8D56\u96C6,\u4F46\u5E76\u4E0D\u4E00\u5B9A\u552F\u4E00\\n\\n__\u7B97\u6CD5 3.2__\\n: \u8BA1\u7B97\u51FD\u6570\u4F9D\u8D56\u96C6 F \u7684\u6700\u5C0F\u4F9D\u8D56\u96C6 G\\n\\n\\t1. \u6839\u636E\u63A8\u7406\u89C4\u5219\u7684\u5206\u89E3\u7279\u6027(A5),\u5F97\u5230\u4E00\u4E2A\u4E0E F \u7B49\u4EF7\u7684 FD \u96C6 G,\\n\\tG\u4E2D\u6BCF\u4E2AFD\u7684\u5DE6\u53F3\u5747\u4E3A\u5355\u5C5E\u6027\\n\\t2. \u5728 G \u7684\u6BCF\u4E2A FD \u4E2D\u6D88\u9664\u5DE6\u8FB9\u5197\u4F59\u7684\u5C5E\u6027\\n\\t3. \u5728 G \u4E2D\u6D88\u9664\u5197\u4F59\u7684 FD\\n\\n### 3.3 \u5173\u7CFB\u6A21\u5F0F\u7684\u5206\u89E3\u7279\u6027\\n\\n#### 3.3.1 \u5173\u7CFB\u6A21\u5F0F\u7684\u5206\u89E3\\n\\n\u5B9A\u4E49 3.10\\n: \u8BBE\u6709\u5173\u7CFB\u6A21\u5F0F R(U), \u5C5E\u6027\u96C6\u4E3A U, \u800C $R_1,\\\\cdots,R_k$\u90FD\u662F U \u7684\u5B50\u96C6,\\n\u5E76\u4E14\u6709$R_1 \\\\cup R_2 \\\\cup \\\\cdots \\\\cup R_k = U$. \u5173\u7CFB\u6A21\u5F0F $R_1,\\\\cdots,R_k$\\n\u7684\u96C6\u5408\u7528 $\\\\rho$ \u8868\u793A, $\\\\rho = \\\\{ R_1,\\\\cdots,R_k \\\\}$. \u7528$\\\\rho$\u4EE3\u66FF R \u7684\u8FC7\u7A0B\\n\u79F0\u4E3A\u5173\u7CFB\u6A21\u5F0F\u7684\u5206\u89E3.\u8FD9\u91CC$\\\\rho$\u79F0\u4E3A R \u7684\u4E00\u4E2A\u5206\u89E3.\u4E5F\u79F0\u4E3A__\u6570\u636E\u5E93\u6A21\u5F0F__.\\n\\n#### 3.3.2 \u65E0\u635F\u5206\u89E3\\n\\n\u5B9A\u4E49 3.11\\n: \u5728\u6CDB\u5173\u7CFB\u6A21\u5F0F R \u5206\u89E3\u9648\u6570\u636E\u5E93\u6A21\u5F0F $\\\\rho = R_1,\\\\cdots,R_k$\u65F6,\\n\u6CDB\u5173\u7CFB r \u5728 $\\\\rho$ \u7684\u6BCF\u4E00\u6A21\u5F0F $R_i (1 \\\\le i \\\\le n)$\u4E0A\u6295\u5F71\u540E\\n\u518D\u8FDE\u63A5\u8D77\u6765,\u6BD4\u539F\u6765r\u4E2D\u591A\u51FA\u6765\u7684\u5143\u7EC4,\u79F0\u4E3A __\u5BC4\u751F\u5143\u7EC4(Spurious Tuple)__.\\n\\n\u5B9A\u4E49 3.12\\n: \u8BBE R \u662F\u4E00\u4E2A\u5173\u7CFB\u6A21\u5F0F, F \u662F R \u4E0A\u7684\u4E00\u4E2A FD \u96C6. R \u5206\u89E3\u6210\u6570\u636E\u5E93\u6A21\u5F0F\\n$\\\\rho = R_1,\\\\cdots,R_k$.\u5982\u679C\u5BF9 R \u4E2D\u6EE1\u8DB3 F \u7684\u6BCF\u4E00\u4E2A\u5173\u7CFB r, \u90FD\u6709\\n$$\\nr \\\\quad=\\n\\\\quad\\\\pi_{R_2}\\\\quad(r)\\n\\\\quad\\\\rhd\\\\lhd \\\\quad \\\\pi_(R_2)(r)\\n\\\\quad\\\\rhd\\\\lhd \\\\quad \\\\cdots \\\\pi_(R_k)(r)\\n$$\\n\\n\u90A3\u4E48\u79F0\u5206\u89E3 $\\\\rho$ \u76F8\u5BF9\u4E8E F \u662F__\u65E0\u635F\u8FDE\u63A5\u5206\u89E3(Lossless Join Decomposition)__,\\n\u7B80\u79F0\u4E3A _\u65E0\u635F\u5206\u89E3_,\u5426\u5219\u79F0\u4E3A __\u635F\u5931\u5206\u89E3(Lossy Decomposition)__\\n\\n_\u635F_\u662F\u6307\u4FE1\u606F\u7684\u4E22\u5931,\u800C\u4E0D\u662F\u5143\u7EC4\u7684\u4E22\u5931.\u5982\u679C\u4E00\u4E2A\u5206\u89E3\u4E0D\u5177\u6709_\u65E0\u635F_\u6027\u8D28,\\n\u90A3\u4E48\u6CDB\u5173\u7CFB\u5728\u6295\u5F71\u8FDE\u63A5\u4EE5\u540E\u5C31\u53EF\u80FD\u4EA7\u751F\u5BC4\u751F\u5143\u7EC4.\u5BC4\u751F\u5143\u7EC4\u8868\u793A\u7684\u662F\u9519\u8BEF\u4FE1\u606F.\\n\\n\u5176\u4E2D\u7B26\u53F7 $\\\\pi_{R_i}(r)$ \u8868\u793A\u5173\u7CFB r \u5728\u6A21\u5F0F $R_i$\u5C5E\u6027\u4E0A\u7684\u6295\u5F71.\\nr \u7684\u6295\u5F71\u8FDE\u63A5\u8868\u8FBE\u5F0F $\\\\pi_{R_1}(r) \\\\quad \\\\rhd\\\\lhd \\\\quad \\\\cdots \\\\pi_{R_k}(r)$\\n\u7528\u7B26\u53F7$m_{\\\\rho}(r)$\u8868\u793A, \u5373\\n$$\\nm_{\\\\rho}(r) = \\\\overset {k}{\\\\underset { i=1 }{ \\\\rhd \\\\lhd }}\\\\pi_{R_i}(r)\\n$$\\n\\n\u9700\u8981\u6CE8\u610F\u7684\u662F,\u4E0A\u8FF0\u5B9A\u4E49\u6709\u4E00\u4E2A\u5148\u51B3\u6761\u4EF6,\u5373 r \u662F R \u7684\u4E00\u4E2A\u5173\u7CFB. \u4E5F\u5C31\u662F\u5148\u5B58\u5728 r(\u6CDB\u5173\u7CFB)\\n\u7684\u60C5\u51B5\u4E0B,\u518D\u53BB\u8C08\u8BBA\u5206\u89E3,\u8FD9\u662F\u5173\u7CFB\u6570\u636E\u5E93\u7406\u8BBA\u4E2D\u8457\u540D\u7684__\u6CDB\u5173\u7CFB\u5047\u8BBE(Universal Relation Assumption)__\\n\\n\u5B9A\u4E49 3.13\\n: \u5728\u65E0\u6CDB\u5173\u7CFB\u5047\u8BBE\u65F6,\u5BF9\u4E24\u4E2A\u5173\u7CFB\u8FDB\u884C\u81EA\u7136\u8FDE\u63A5\u4E2D\u88AB\u4E22\u5931\u7684\u5143\u7EC4\u79F0\u4E3A\u60AC\u6302\u5143\u7EC4.\\n\\n> \u60AC\u6302\u5143\u7EC4\u662F\u9020\u6210\u4E24\u4E2A\u5173\u7CFB\u4E0D\u5B58\u5728\u6CDB\u5173\u7CFB\u7684\u539F\u56E0.\\n\\n#### 3.3.3 \u6A21\u5F0F\u5206\u89E3\u7684\u4F18\u7F3A\u70B9\\n\\n\u4F18\u70B9:\\n\\n1. \u6A21\u5F0F\u5206\u89E3\u80FD\u6D88\u9664\u6570\u636E\u5197\u4F59\u548C\u64CD\u4F5C\u5F02\u5E38\u73B0\u8C61\\n2. \u5728\u5206\u89E3\u4E86\u7684\u6570\u636E\u5E93\u4E2D\u53EF\u4EE5\u5B58\u50A8\u60AC\u6302\u5143\u7EC4,\u5B58\u50A8\u6CDB\u5173\u7CFB\u4E2D\u65E0\u6CD5\u5B58\u50A8\u7684\u4FE1\u606F\\n\\n\u7F3A\u70B9:\\n\\n1. \u5206\u89E3\u4EE5\u540E,\u68C0\u7D22\u64CD\u4F5C\u9700\u8981\u505A\u7B1B\u5361\u5C14\u79EF\u6216\u8FDE\u63A5\u64CD\u4F5C,\u8FD9\u5C06\u4ED8\u51FA\u65F6\u95F4\u4EE3\u4EF7\\n2. \u5728\u6709\u6CDB\u5173\u7CFB\u5047\u8BBE\u65F6,\u5BF9\u6570\u636E\u5E93\u4E2D\u5173\u7CFB\u8FDB\u884C\u81EA\u7136\u8FDE\u63A5\u65F6,\u53EF\u80FD\u4EA7\u751F\u5BC4\u751F\u5143\u7EC4,\\n\\t\u5373\u635F\u5931\u4E86\u4FE1\u606F.\u5728\u65E0\u6CDB\u5173\u7CFB\u5047\u8BBE\u65F6,\u7531\u4E8E\u6570\u636E\u5E93\u53EF\u80FD\u5B58\u5728\u60AC\u6302\u5143\u7EC4,\u5C31\u6709\u53EF\u80FD\\n\\t\u4E0D\u5B58\u5728\u6CDB\u5173\u7CFB\\n\\n#### 3.3.4 \u65E0\u635F\u5206\u89E3\u7684\u6D4B\u8BD5\u65B9\u6CD5\\n\\n\u7565\\n\\n#### 3.3.5 \u4FDD\u6301 FD \u7684\u5206\u89E3\\n\\n\u5206\u89E3\u7684\u53E6\u4E00\u4E2A\u7279\u6027\u662F\u5728\u5206\u89E3\u7684\u8FC7\u7A0B\u4E2D\u80FD\u5426\u4FDD\u6301\u51FD\u6570\u4F9D\u8D56\u96C6,\u5982\u679C\u4E0D\u80FD\u4FDD\u6301 FD, \u90A3\u4E48\u6570\u636E\u7684\\n\u5BD3\u610F\u5C31\u4F1A\u51FA\u73B0\u6DF7\u4E71.\\n\\n\u5B9A\u4E49 3.14\\n: \u8BBE F \u662F\u5C5E\u6027\u96C6 U \u4E0A\u7684 FD \u96C6, Z \u662F U \u7684\u5B50\u96C6, F \u5728 Z \u4E0A\u7684\u6295\u5F71\u7528$\\\\pi_Z(F)$\\n\u8868\u793A,\u5B9A\u4E49\u4E3A\\n$$\\n\\\\pi_Z(F) = \\\\{\\\\quad\\nX \\\\rightarrow Y | X \\\\rightarrow Y \\\\in F^+, \u4E14 XY \\\\subseteq Z\\n\\\\quad \\\\}\\n$$\\n\\n\u5B9A\u4E49 3.15\\n: \u8BBE $\\\\rho = \\\\{ R_i, \\\\cdots, R_k\\\\}$ \u662F R \u7684\u4E00\u4E2A\u5206\u89E3, F \u662FR \u4E0A\u7684 FD \u96C6, \u5982\u679C\u6709\\n$\\\\overset {k}{\\\\underset { i=1 }{ \\\\cup }}\\\\pi_{R_i}(F) \\\\models F$,\\n\u90A3\u4E48\u79F0\u5206\u89E3 $\\\\rho$ \u4FDD\u6301\u51FD\u6570\u4F9D\u8D56\u96C6 F.\\n\\n### 3.4 \u8303\u5F0F\\n\\n\u5173\u7CFB\u6A21\u5F0F\u7684\u597D\u4E0E\u574F,\u7528\u4EC0\u4E48\u6807\u51C6\u6765\u8861\u91CF? \u8FD9\u4E2A\u6807\u51C6\u5C31\u662F\u6A21\u5F0F\u7684__\u8303\u5F0F(Normal Forms, \u7B80\u8BB0\u4E3A FN)__.\\n\\n#### 3.4.1 \u7B2C\u4E00\u8303\u5F0F(1NF)\\n\\n\u5B9A\u4E49 3.16\\n: \u5982\u679C\u5173\u7CFB\u6A21\u5F0F R \u7684\u6BCF\u4E2A\u5173\u7CFB r \u7684\u5C5E\u6027\u503C\u90FD\u662F\u4E0D\u53EF\u5206\u7684\u539F\u5B50\u503C,\u90A3\u4E48\u79F0 R \u662F\\n__\u7B2C\u4E00\u8303\u5F0F(First Normal Forms, \u7B80\u8BB0\u4E3A 1NF)__\u7684\u6A21\u5F0F.\\n\\n\u6EE1\u8DB3 1NF \u7684\u5173\u7CFB\u79F0\u4E3A\u89C4\u8303\u5316\u7684\u5173\u7CFB,\u5426\u5219\u79F0\u4E3A\u975E\u89C4\u8303\u5316\u7684\u5173\u7CFB.\u5173\u7CFB\u6570\u636E\u5E93\u7814\u7A76\u7684\u5173\u7CFB\u90FD\u662F\u89C4\\n\u8303\u5316\u7684\u5173\u7CFB.\\n\\n#### 3.4.2 \u7B2C\u4E8C\u8303\u5F0F(2NF)\\n\\n\u5B9A\u4E49 3.17\\n: \u5BF9\u4E8E $FD\\\\quad W\\\\rightarrow A$,\u5982\u679C\u5B58\u5728 $X \\\\subset W$ \u6709 $X \\\\rightarrow A$\\n\u6210\u7ACB, \u90A3\u4E48\u79F0 $W \\\\rightarrow A$ \u662F\u5C40\u90E8\u4F9D\u8D56(A \u5C40\u90E8\u4F9D\u8D56\u4E8E W);\u5426\u5219\u79F0$W\\\\rightarrow A$\\n\u662F\u5B8C\u5168\u4F9D\u8D56.\\n\\n\u5B8C\u5168\u4F9D\u8D56\u4E5F\u79F0\u4E3A__\u5DE6\u90E8\u4E0D\u53EF\u7EA6\u4F9D\u8D56__.\\n\\n\u5B9A\u4E49 3.18\\n: \u5982\u679C A \u662F\u5173\u7CFB\u6A21\u5F0F R \u7684\u5019\u9009\u952E\u7684\u5C5E\u6027,\u90A3\u4E48\u79F0 A \u662F R \u7684\u4E3B\u5C5E\u6027; \u5426\u5219\u79F0 A \u662F R \u7684\u975E\u4E3B\u5C5E\u6027\\n\\n\u5B9A\u4E49 3.19\\n: \u5982\u679C\u5173\u7CFB\u6A21\u5F0F R \u662F 1NF, \u4E14\u6BCF\u4E2A\u975E\u4E3B\u5C5E\u6027\u5B8C\u5168\u51FD\u6570\u4F9D\u8D56\u4E8E\u5019\u9009\u952E,\u90A3\u4E48\u79F0 R \u662F\u7B2C\u4E8C\u8303\u5F0F(2NF)\u7684\\n\u6A21\u5F0F.\u5982\u679C\u6570\u636E\u5E93\u6A21\u5F0F\u4E2D\u6BCF\u4E2A\u5173\u7CFB\u6A21\u5F0F\u90FD\u662F 2NF,\u5219\u79F0\u6570\u636E\u5E93\u6A21\u5F0F\u4E3A 2NF \u7684\u6570\u636E\u5E93\u6A21\u5F0F.\\n\\n> \u4E0D\u6EE1\u8DB3 2NF\u7684\u5173\u7CFB\u6A21\u5F0F\u4E2D\u5FC5\u5B9A\u5B58\u5728\u6709\u975E\u4E3B\u5C5E\u6027\u5BF9\u5173\u952E\u7801\u7684\u5C40\u90E8\u4F9D\u8D56.\\n\\n#### 3.4.3 \u7B2C\u4E09\u8303\u5F0F(3NF)\\n\\n\u5B9A\u4E49 3.20\\n: \u5982\u679C $X \\\\rightarrow Y , Y \\\\rightarrow A, \u4E14 Y \\\\nrightarrow X \u548C A \\\\notin Y\\n,\u90A3\u4E48\u79F0 X \\\\rightarrow A $\u662F\u4F20\u9012\u4F9D\u8D56(A \u4F20\u9012\u4F9D\u8D56\u4E8E X).\\n\\n\u5B9A\u4E49 3.21\\n: \u5982\u679C\u5173\u7CFB\u6A21\u5F0F R \u662F 1NF, \u4E14\u6BCF\u4E2A\u975E\u4E3B\u5C5E\u6027\u90FD\u4E0D\u4F20\u9012\u4F9D\u8D56\u4E8E R \u7684\u5019\u9009\u952E,\u90A3\u4E48\u79F0 R \u662F\u7B2C\u4E09\u8303\u5F0F\\n(3NF)\u7684\u6A21\u5F0F.\u5982\u679C\u6570\u636E\u5E93\u6A21\u5F0F\u4E2D\u6BCF\u4E2A\u5173\u7CFB\u6A21\u5F0F\u90FD\u662F 3NF,\u5219\u79F0\u5176\u4E3A 3NF \u7684\u6570\u636E\u5E93\u6A21\u5F0F.\\n\\n\u5B9A\u4E49 3.22\\n: \u8BBE F \u662F\u5173\u7CFB\u6A21\u5F0F R \u7684 FD \u96C6, \u5982\u679C\u5BF9 F \u4E2D\u6BCF\u4E2A\u975E\u5E73\u51E1\u7684 $FD\\\\quad X\\\\rightarrow Y$,\\n\u90FD\u6709X\u662FR\u7684\u8D85\u952E,\u6216\u8005 Y \u7684\u6BCF\u4E2A\u5C5E\u6027\u90FD\u662F\u4E3B\u5C5E\u6027, \u90A3\u4E48\u79F0 R \u662F3NF \u7684\u6A21\u5F0F.\\n\\n\u5B9A\u7406 3.5\\n: \u5982\u679C R \u662F 3NF \u6A21\u5F0F,\u90A3\u4E48 R \u4E5F\u662F2NF \u6A21\u5F0F.\\n\\n\u5C40\u90E8\u4F9D\u8D56\u548C\u4F20\u9012\u4F9D\u8D56\u662F\u6A21\u5F0F\u4EA7\u751F\u5197\u4F59\u548C\u5F02\u5E38\u7684\u4E24\u4E2A\u91CD\u8981\u539F\u56E0. \u7531\u4E8E 3NF \u6A21\u5F0F\u4E2D\u4E0D\u5B58\u5728\u975E\u4E3B\u5C5E\u6027\\n\u5BF9\u5019\u9009\u952E\u7684\u5C40\u90E8\u4F9D\u8D56\u548C\u4F20\u9012\u4F9D\u8D56,\u56E0\u6B64\u6D88\u9664\u4E86\u5F88\u5927\u4E00\u90E8\u5206\u5B58\u50A8\u5F02\u5E38.\\n\u5C06 1NF, 2NF \u8F6C\u6362\u4E3A 3NF \u7684\u8FC7\u7A0B\u79F0\u4E3A \u5173\u7CFB\u7684\u89C4\u8303\u5316\u5904\u7406.\\n\\n#### 3.4.4 BCNF(Boyoce-Codd NF)\\n\\n\u5B9A\u4E49 3.33\\n: \u5982\u679C\u5173\u7CFB\u6A21\u5F0F R \u662F 1NF, \u4E14\u6BCF\u4E2A\u5C5E\u6027\u90FD\u4E0D\u4F20\u9012\u4F9D\u8D56\u4E8E R \u7684\u5019\u9009\u952E,\u90A3\u4E48\u79F0 R \u662F BCNF \u6A21\u5F0F.\\n\u5982\u679C\u6570\u636E\u5E93\u4E2D\u7684\u6240\u6709\u5173\u7CFB\u6A21\u5F0F\u90FD\u662F BCNF, \u5219\u79F0\u4E3A BCNF \u7684\u6570\u636E\u5E93\u6A21\u5F0F.\\n\\n\u5B9A\u4E49 3.34\\n: \u8BBE F \u8BBE\u8BA1\u5173\u7CFB\u6A21\u5F0F R \u7684FD \u96C6, \u5982\u679C\u5BF9 F \u4E2D\u6BCF\u4E2A\u975E\u5E73\u51E1$FD \\\\quad X \\\\rightarrow Y$\\n\u90FD\u6709 X \u662F R \u7684\u8D85\u952E,\u90A3\u4E48\u79F0 R \u662F BCNF \u6A21\u5F0F.\\n\\n\u8FD9\u4E2A\u5B9A\u4E49\u8868\u660E,\u5982\u679C\u975E\u5E73\u51E1\u7684 $FD\\\\quad X\\\\rightarrow Y$\u4E2D X \u4E0D\u5305\u542B\u8D85\u952E,\u90A3\u4E48 Y \u5FC5\u5B9A\\n\u4F20\u9012\u4F9D\u8D56\u4E8E\u5019\u9009\u952E, \u56E0\u6B64 R \u4E0D\u662F BCNF \u6A21\u5F0F.\\n\\n\u5B9A\u7406\\n: 3.6 \u5982\u679C R \u662F BCNF \u6A21\u5F0F,\u90A3\u4E48 R \u4E5F\u662F 3NF \u6A21\u5F0F\\n\\n### 3.5 \u591A\u503C\u4F9D\u8D56\u548C\u7B2C\u56DB\u8303\u5F0F\\n\\n\u7565\\n\\n----------------------------------------------------------------\\n## Appendix.A ER \u6A21\u578B\\n### 1. ER \u6A21\u578B\u7684\u57FA\u672C\u5143\u7D20\\n#### 1.1. \u5B9E\u4F53\\n\\n\u5B9E\u4F53(Entity)\\n: \u662F\u4E00\u4E2A\u6570\u636E\u5BF9\u8C61,\u6307\u5E94\u7528\u4E2D\u53EF\u4EE5\u533A\u522B\u7684\u5BA2\u89C2\u5B58\u5728\u7684\u4E8B\u7269\\n\\n\u5B9E\u4F53\u96C6(Entity Set)\\n: \u662F\u6307\u540C\u4E00\u7C7B\\n\\n\u5B9E\u4F53\u7C7B\u578B(Entity Type)\\n: \u662F\u5BF9\u5B9E\u4F53\u96C6\u4E2D\u5B9E\u4F53\u7684\u5B9A\u4E49\\n\\n#### 1.2. \u8054\u7CFB\\n\\n\u8054\u7CFB(Relationship)\\n: \u8868\u793A\u4E00\u4E2A\u6216\u591A\u4E2A\u5B9E\u4F53\u4E4B\u95F4\u7684\u5173\u8054\u5173\u7CFB\\n\\n\u8054\u7CFB\u96C6(Relationship Set)\\n: \u662F\u6307\u540C\u4E00\u7C7B\u8054\u7CFB\u6784\u6210\u7684\u96C6\u5408\\n\\n\u8054\u7CFB\u7C7B\u578B(Relationship Type)\\n: \u662F\u5BF9\u8054\u7CFB\u96C6\u4E2D\u8054\u7CFB\u7684\u5B9A\u4E49\\n\\n#### 1.3 \u5C5E\u6027\\n\\n\u5B9E\u4F53\u7684\u67D0\u4E00\u7279\u6027\u79F0\u4E3A\u5C5E\u6027(Attribute).\u5728\u4E00\u4E2A\u5B9E\u4F53\u4E2D,\u80FD\u591F\u552F\u4E00\u6807\u8BC6\u5B9E\u4F53\u7684\u5C5E\u6027\u6216\u5C5E\u6027\\n\u96C6\u79F0\u4E3A\\"\u5B9E\u4F53\u6807\u8BC6\u7B26\\".\\n\\n### 2. \u5C5E\u6027\u7684\u5206\u7C7B\\n#### 2.1 \u7B80\u5355\u5C5E\u6027\u548C\u590D\u5408\u5C5E\u6027\\n\\n\u7B80\u5355\u5C5E\u6027(Simple Attribute)\\n: \u7B80\u5355\u5C5E\u6027\u662F\u4E0D\u53EF\u518D\u5206\u5272\u7684\u5C5E\u6027.\u4F8B\u5982: \u5E74\u9F84,\u6027\u522B\\n\\n\u590D\u5408\u5C5E\u6027(Composite Attribute)\\n: \u590D\u5408\u5C5E\u6027\u662F\u53EF\u4EE5\u518D\u5206\u89E3\u4E3A\u5176\u4ED6\u5C5E\u6027\u7684\u5C5E\u6027.\u4F8B\u5982: \u5730\u5740\u53EF\u5206\u4E3A\u7701,\u5E02,\u533A,\u8857\u9053\u7B49\u5B50\u5C5E\u6027\\n\\n#### 2.2 \u5355\u503C\u5C5E\u6027\u548C\u591A\u503C\u5C5E\u6027\\n\\n\u5355\u503C\u5C5E\u6027(Single-Valued Attribute)\\n: \u662F\u6307\u540C\u4E00\u4E2A\u5B9E\u4F53\u7684\u5C5E\u6027\u53EA\u80FD\u53D6\u4E00\u4E2A\u503C.\u4F8B\u5982: \u5E74\u9F84,\u6027\u522B\\n\\n\u591A\u503C\u5C5E\u6027(Mulyi-Valued Attribute)\\n: \u5B9E\u4F53\u5C5E\u6027\u53EF\u53D6\u591A\u4E2A\u503C.\u4F8B\u5982: \u4E00\u4E2A\u6587\u7AE0\u7684\u6807\u7B7E,\u53EF\u80FD\u4F1A\u6709\u591A\u4E2A\u6807\u7B7E\\n\\n##### \u5206\u89E3\u591A\u503C\u5C5E\u6027\u7684\u65B9\u6CD5\\n1. \u5C06\u539F\u6765\u7684\u591A\u503C\u5C5E\u6027\u7528\u51E0\u4E2A\u65B0\u7684\u5355\u503C\u5C5E\u6027\u8868\u793A\\n2. \u5C06\u591A\u503C\u5C5E\u6027\u7528\u4E00\u4E2A\u65B0\u7684\u5B9E\u4F53\u7C7B\u578B\u8868\u793A\\n\\n#### 2.3 \u5B58\u50A8\u5C5E\u6027\u548C\u6D3E\u751F\u5C5E\u6027\\n\\n\u6D3E\u751F\u5C5E\u6027(Derived Attribute)\\n: \u4E24\u4E2A(\u6216\u4E24\u4E2A\u4EE5\u4E0A)\u5C5E\u6027\u662F\u76F8\u5173\u7684.\u53EF\u4EE5\u4ECE\u5176\u4ED6\u5C5E\u6027\u63A8\u5BFC\u8BE5\u5C5E\u6027\u7684\u503C\\n\\t> \u6D3E\u751F\u5C5E\u6027\u7684\u503C\u4E0D\u5FC5\u5B58\u50A8\u5728\u6570\u636E\u5E93\u5185\\n\\n\u5B58\u50A8\u5C5E\u6027(Stored Attribute)\\n: \u53CD\u4E4B,\u9664\u4E86\u80FD\u63A8\u5BFC\u51FA\u503C\u7684\u6D3E\u751F\u5C5E\u6027,\u5176\u4ED6\u90FD\u662F\u5B58\u50A8\u5C5E\u6027.\\n\\n#### 2.4 \u53EF\u7A7A\u5C5E\u6027\\n\u53EF\u7A7A\u5C5E\u6027(Null Value)\\n: \u5F53\u5B9E\u4F53\u5728\u67D0\u4E2A\u5C5E\u6027\u4E0A\u6CA1\u6709\u503C\u65F6,\u53EF\u4EE5\u4F7F\u7528\u7A7A\u503C(Null Value)\u7684\u5C5E\u6027\\n: \u4F8B\u5982: \u914D\u5076,\u5F53\u672A\u5A5A\u662F\u8BE5\u503C\u65E0\u610F\u4E49,\u5373\u53EF\u4E3A\u7A7A,\u4F46\u4E5F\u53EF\u4EE5\u7406\u89E3\u4E3A\u5DF2\u5A5A\u4F46\u914D\u5076\u672A\u77E5,\u6216\u5C1A\u4E0D\u77E5\u662F\u5426\u5A5A\\n: \u5426.\u5728\u6570\u636E\u5E93\u4E2D,\u7A7A\u503C\u662F\u5F88\u96BE\u5904\u7406\u7684\u4E00\u79CD\u503C.\\n\\n### 3. \u8054\u7CFB\u7684\u8BBE\u8BA1\\n#### 3.1 \u8054\u7CFB\u7684\u5143\u6570\\n\\n\u5143\u6570/\u5EA6\u6570(Degree)\\n: \u4E00\u4E2A\u8054\u7CFB\u6D89\u53CA\u5230\u7684\u5B9E\u4F53\u96C6\u7684\u4E2A\u6570\\n: \u7B80\u5355\u7684\u53EF\u79F0\u4E4B\u4E3A \u4E00\u5143\u8054\u7CFB,\u4E8C\u5143\u8054\u7CFB,\u4E09\u5143\u8054\u7CFB\\n\\n#### 3.2 \u8054\u7CFB\u7C7B\u578B\u7684\u7EA6\u675F\\n\\n##### 3.2.1 \u57FA\u6570\u7EA6\u675F\\n\\n\u6620\u5C04\u57FA\u6570(Mapping Cardinalities)\\n: \u5B9E\u4F53\u96C6 E1 \u548C E2 \u4E4B\u95F4\u6709\u4E8C\u5143\u8054\u7CFB,\u5219\u53C2\u4E0E\u4E00\u4E2A\u8054\u7CFB\u4E2D\u7684\u5B9E\u4F53\u6570\u76EE\u6210\u4E3A\u6620\u5C04\u57FA\u6570\\n: \u5BF9\u4E8E\u4E8C\u5143\u8054\u7CFB\u7C7B\u578B,\u53EF\u80FD\u7684\u6620\u5C04\u57FA\u6570\u6709 1:1, 1:N, N:M,\\n\\n##### 3.2.2 \u53C2\u4E0E\u7EA6\u675F\\n\\n\u5B8C\u5168\u53C2\u4E0E\\n: \u5982\u679C\u5B9E\u4F53\u96C6 E \u4E2D\u7684\u5185\u9601\u5B9E\u4F53\u90FD\u53C2\u4E0E\u8054\u7CFB\u96C6 R \u7684\u81F3\u5C11\u4E00\u4E2A\u8054\u7CFB\u4E2D,\u5219\u79F0\u5B9E\u4F53\u96C6 E \u5B8C\u5168\u53C2\u4E0E \u8054\u7CFB\u96C6 R\\n\\n#### 3.3 ER\u6A21\u578B\u7684\u64CD\u4F5C\\n\\nER \u6A21\u578B\u7684\u64CD\u4F5C\u5305\u62EC\u5B9E\u4F53\u7C7B\u578B,\u8054\u7CFB\u7C7B\u578B\u548C\u5C5E\u6027\u7684\u5206\u88C2,\u5408\u5E76,\u589E\u5220 \u7B49\\n> \u5206\u88C2\u65B9\u5F0F\u6709\u6C34\u5E73\u5206\u88C2\u548C\u5782\u76F4\u5206\u88C2\u4E24\u79CD\\n> \u5408\u5E76\u662F\u5206\u88C2\u7684\u9006\u64CD\u4F5C\u8FC7\u7A0B,\u5408\u5E76\u7684\u8054\u7CFB\u7C7B\u578B\u5FC5\u987B\u662F\u5B9A\u4E49\u5728\u76F8\u540C\u7684\u5B9E\u4F53\u7C7B\u578B\u7EC4\u5408\u4E2D\\n\\n#### 3.4 \u91C7\u7528ER\u6A21\u578B\u7684\u6570\u636E\u5E93\u6982\u5FF5\u8BBE\u8BA1\u6B65\u9AA4\\n\\n\u91C7\u7528 ER \u6A21\u578B\u8FDB\u884C\u6570\u636E\u5E93\u7684\u6982\u5FF5\u8BBE\u8BA1,\u53EF\u4EE5\u5206\u6210\u4E09\u6B65\u8FDB\u884C: \u8BBE\u8BA1\u5C40\u90E8 ER \u6A21\u578B,\u7136\u540E\u628A\u5404\u5C40\u90E8 ER \u6A21\u578B\u7EFC\u5408\u6210\u4E00\u4E2A\u5168\u5C40 ER \u6A21\u578B,\u6700\u540E\u5BF9\u5168\u5C40 ER \u6A21\u578B\u8FDB\u884C\u4F18\u5316,\u5F97\u5230\u6700\u7EC8\u7684 ER \u6A21\u578B,\u5373\u6982\u5FF5\u6A21\u578B.\\n\\n##### 3.4.1 \u8BBE\u8BA1\u5C40\u90E8 ER \u6A21\u578B\\n\\n1. \u786E\u5B9A\u5C40\u90E8\u7ED3\u6784\u8303\u56F4\\n\\t\u4E00\u4E2A\u6570\u636E\u7ED3\u6784\u662F\u4E3A\u591A\u4E2A\u4E0D\u540C\u7528\u6237\u670D\u52A1\u7684.\u5404\u4E2A\u7528\u6237\u4F7F\u7528\u6570\u636E\u7684\u65B9\u6CD5\u4E0D\u540C,\u9700\u6C42\u4E0D\u540C.\u56FA\u5148\u4E3A\u5404\u79CD\u7528\u6237\u786E\u5B9A\u5C40\u90E8\u7684\u4F7F\u7528\u65B9\u6CD5,\u5E76\u4EE5 ER \u6A21\u578B\u6765\u8868\u793A.\\n\u9700\u8981\u8003\u8651\u7684\u56E0\u7D20\\n\\t1. \u8303\u56F4\u5212\u5206\u8981\u81EA\u7136,\u6613\u4E8E\u7BA1\u7406\\n\\t2. \u8303\u56F4\u4E4B\u95F4\u7684\u754C\u9762\u8981\u6E05\u6670,\u76F8\u4E92\u5F71\u54CD\u8981\u5C0F\\n\\t3. \u8303\u56F4\u7684\u5927\u5C0F\u8981\u9002\u5EA6\\n\\n2. \u5B9A\u4E49\u5B9E\u4F53\\n\\t\u6BCF\u4E00\u4E2A\u5C40\u90E8\u7ED3\u6784\u90FD\u5305\u542B\u4E00\u4E9B\u5B9E\u4F53\u7C7B\u578B,\u5B9E\u4F53\u5B9A\u4E49\u7684\u4EFB\u52A1\u5C31\u662F\u4ECE\u4FE1\u606F\u9700\u6C42\u548C\u5C40\u90E8\u8303\u56F4\u5B9A\u4E49\u51FA\u53D1,\u786E\u5B9A\u6BCF\u4E00\u4E2A\u5B9E\u4F53\u7C7B\u578B\u7684\u5C5E\u6027\u548C\u952E.\\n\\t\u5212\u5206\u7684\u4F9D\u636E\u901A\u5E38\u6709:\\n\\t1. \u91C7\u7528\u4EBA\u4EEC\u4E60\u60EF\u7684\u5212\u5206\\n\\t2. \u907F\u514D\u5197\u4F59\\n\\t3. \u4F9D\u636E\u7528\u6237\u7684\u4FE1\u606F\u5904\u7406\u9700\u6C42\\n\\n3. \u5B9A\u4E49\u8054\u7CFB\\n4. \u5206\u914D\u5C5E\u6027\\n\\t\u5206\u914D\u5C5E\u6027\u5206\u4E3A\u4E24\u4E2A\u6B65\u9AA4: \u4E00\u662F\u786E\u5B9A\u5C5E\u6027,\u4E8C\u662F\u628A\u5C5E\u6027\u5206\u914D\u5230\\n\\t\u786E\u5B9A\u5C5E\u6027\u7684\u539F\u5219:\\n\\t1. \u5C5E\u6027\u5E94\u8BE5\u662F\u4E0D\u53EF\u518D\u5206\u89E3\u7684\u5BD3\u610F\u8303\u56F4.\u4E0D\u53EF\u5206\u89E3\u662F\u4E3A\u4E86\u4F7F\u6A21\u578B\u7ED3\u6784\u7B80\u5355\u5316,\u4E0D\u51FA\u73B0\u5D4C\u5957\u7ED3\u6784.\\n\\t2. \u5B9E\u4F53\u4E0E\u5C5E\u6027\u4E4B\u95F4\u7684\u5173\u7CFB\u53EA\u80FD\u662F 1:N \u7684\\n\\t3. \u4E0D\u540C\u5B9E\u4F53\u7C7B\u578B\u7684\u5C5E\u6027\u4E4B\u95F4\u5E94\u65E0\u76F4\u63A5\u5173\u7CFB\\n\\n##### 3.4.2 \u8BBE\u8BA1\u5168\u5C40 ER \u6A21\u578B\\n\\n1. \u786E\u5B9A\u516C\u5171\u5B9E\u4F53\u7C7B\u578B\\n\\t \u4E00\u822C\u628A\u540C\u540D\u5B9E\u4F53\u7C7B\u578B\u4F5C\u4E3A\u516C\u5171\u5B9E\u4F53\u7C7B\u578B\u7684\u4E00\u7C7B\u5019\u9009,\u628A\u5177\u6709\u76F8\u540C\u952E\u7684\u5B9E\u4F53\u7C7B\u578B\u4F5C\u4E3A\u516C\u5171\u5B9E\u4F53\u7C7B\u578B\u7684\u53E6\u4E00\u7C7B\u5019\u9009.\\n\\n2. \u5408\u5E76\u5C40\u90E8 ER \u6A21\u578B\\n\\t\u5408\u5E76\u539F\u5219: \u9996\u5148\u8FDB\u884C\u4E24\u4E24\u5408\u5E76; \u5148\u5408\u5E76\u90A3\u4E9B\u73B0\u5B9E\u4E16\u754C\u4E2D\u6709\u8054\u7CFB\u7684\u5C40\u90E8\u7ED3\u6784;\u5408\u5E76\u4ECE\u516C\u5171\u5B9E\u4F53\u7C7B\u578B\u5F00\u59CB,\u6700\u540E\u52A0\u5165\u72EC\u7ACB\u7684\u5C40\u90E8\u7ED3\u6784.\\n\\t\u8FDB\u884C\u4E8C\u5143\u5408\u5E76\u662F\u4E3A\u4E86\u51CF\u5C11\u5408\u5E76\u5DE5\u4F5C\u7684\u590D\u6742\u6027.\u540E\u4E24\u9879\u5219\u662F\u4E3A\u4E86\u4F7F\u5408\u5E76\u7ED3\u679C\u7684\u89C4\u6A21\u5C3D\u53EF\u80FD\u5C0F.\\n\\n3. \u6D88\u9664\u51B2\u7A81\\n\\t* \u5C5E\u6027\u51B2\u7A81\\n\\t* \u7ED3\u6784\u51B2\u7A81\\n\\t* \u547D\u540D\u51B2\u7A81\\n\\n##### 3.4.3 \u5168\u5C40 ER \u6A21\u578B\u7684\u4F18\u5316\\n\\n\u4E00\u4E2A\u597D\u7684\u5168\u5C40 ER \u6A21\u578B,\u9664\u80FD\u51C6\u786E,\u5168\u9762\u5730\u53CD\u6620\u7528\u6237\u529F\u80FD\u9700\u6C42\u5916,\u8FD8\u5E94\u6EE1\u8DB3\u4E0B\u5217\u6761\u4EF6(\u4F18\u5316\u76EE\u6807):\\n\\n1. \u5B9E\u4F53\u7C7B\u578B\u7684\u4E2A\u6570\u5C3D\u53EF\u80FD\u5C11\\n2. \u5B9E\u4F53\u7C7B\u578B\u6240\u542B\u5C5E\u6027\u4E2A\u6570\u5C3D\u53EF\u80FD\u5C11\\n3. \u5B9E\u4F53\u7C7B\u578B\u95F4\u8054\u7CFB\u65E0\u5197\u4F59\\n\\n\u4F18\u5316\u89C4\u5219:\\n\\n1. \u5408\u5E76\u5B9E\u4F53\u7C7B\u578B\\n\\t\u53EF\u4EE5\u628A 1:1 \u8054\u7CFB\u7684\u4E24\u4E2A\u5B9E\u4F53\u7C7B\u578B\u5408\u5E76\\n2. \u6D88\u9664\u5197\u4F59\u5C5E\u6027\\n3. \u6D88\u9664\u5197\u4F59\u8054\u7CFB\\n\\n### 4. ER \u6A21\u578B\u5230\u5173\u7CFB\u6A21\u578B\u7684\u8F6C\u6362\\n#### 4.1 ER \u56FE\u8F6C\u6362\u6210\u5173\u7CFB\u6A21\u5F0F\u96C6\u7684\u7B97\u6CD5\\n\\n1. \u5B9E\u4F53\u7C7B\u578B\u7684\u8F6C\u6362\\n\\n\\t\u5B9E\u4F53 | \u5173\u7CFB\u6A21\u5F0F\\n:---:|:------:\\n\u5B9E\u4F53 | \u5173\u7CFB\u6A21\u5F0F\\n\u5B9E\u4F53\u5C5E\u6027 | \u5173\u7CFB\u6A21\u5F0F\u5C5E\u6027\\n\u5B9E\u4F53\u6807\u8BC6\u7B26 | \u5173\u7CFB\u6A21\u5F0F\u7684\u952E\\n\\n2. \u8054\u7CFB\u7C7B\u578B\u7684\u8F6C\u6362\\n\\t1. \u4E8C\u5143\u8054\u7CFB\u7684\u8F6C\u6362\\n\\t\\t1. 1:1 \u5728\u4EFB\u610F\u4E00\u4E2A\u5173\u7CFB\u6A21\u5F0F\u4E2D\u52A0\u5165\u53E6\u4E00\u4E2A\u5173\u7CFB\u6A21\u5F0F\u7684\u952E\u4F5C\u4E3A\u5916\u952E\\n\\t\\t2. 1:N \u5728N\u7AEF\u5B9E\u4F53\u8F6C\u6362\u6210\u7684\u5173\u7CFB\u6A21\u5F0F\u4E2D\u52A0\u51651\u7AEF\u5173\u7CFB\u6A21\u5F0F\u7684\u952E\u4F5C\u4E3A\u5916\u952E\\n\\t\\t3. N:M \u5C06\u8054\u7CFB\u7C7B\u578B\u8F6C\u6362\u4E3A\u5173\u7CFB\u6A21\u5F0F,\u5C06\u4E24\u6BB5\u7684\u952E\u4F5C\u4E3A\u5916\u952E\u52A0\u5165\u5230\u8BE5\u5173\u7CFB\u6A21\u5F0F,\\n\\t\\t\u5E76\u5C06\u8054\u7CFB\u7C7B\u578B\u7684\u5C5E\u6027\u52A0\u5165\u5230\u8BE5\u6A21\u5F0F\u4E2D,\u800C\u952E\u4E3A\u4E24\u6BB5\u5B9E\u4F53\u952E\u7684\u7EC4\u5408\\n\\n\\t2. \u4E00\u5143\u8054\u7CFB\u7684\u8F6C\u6362\\n\\t\u548C\u4E8C\u5143\u8F6C\u6362\u7C7B\u4F3C\\n\\n\\t3. \u4E09\u5143\u8054\u7CFB\u7C7B\u578B\u7684\u8F6C\u6362\\n\\t\\t1. 1:1:1 \u5728\u4EFB\u610F\u4E00\u4E2A\u5173\u7CFB\u6A21\u5F0F\u4E2D\u52A0\u5165\u53E6\u5916\u4E24\u4E2A\u7684\u952E\u4F5C\u4E3A\u5916\u952E,\u52A0\u5165\u8054\u7CFB\u7C7B\u578B\u7684\u5C5E\u6027\\n\\t\\t2. 1:1:N \u540C\u4E0A,\u5C06\u952E\u52A0\u5165\u5230 N \u7AEF\u5B9E\u4F53\u8F6C\u6362\u6210\u7684\u5173\u7CFB\u6A21\u578B\u4E2D\\n\\t\\t3. 1:M:N \u5C06\u8054\u7CFB\u7C7B\u578B\u8F6C\u6362\u4E3A\u5173\u7CFB\u6A21\u578B,\u5C06 N \u7AEF\u548C M \u7AEF\u7684\u952E\u4F5C\u4E3A\u5916\u952E\u548C\u8054\u7CFB\u7C7B\u578B\u7684\\n\\t\\t\u5C5E\u6027\u52A0\u5165\u5230\u8BE5\u5173\u7CFB\u6A21\u578B\u4E2D, \u952E\u4E3A N \u7AEF\u548C M \u7AEF\u5B9E\u4F53\u952E\u7EC4\u5408\\n\\t\\t4. M:N:P \u540C\u4E0A,\u5C06\u4E09\u7AEF\u7684\u952E(\u4F5C\u4E3A\u5916\u952E)\u548C\u8054\u7CFB\u5C5E\u6027\u52A0\u5165\u5230\u8BE5\u5173\u7CFB\u6A21\u578B,\\n\\t\\t\u952E\u4E3A\u4E09\u7AEF\u5B9E\u4F53\u952E\u7684\u7EC4\u5408\\n\\n\\n#### 4.2 \u91C7\u7528 ER \u6A21\u578B\u7684\u903B\u8F91\u8BBE\u8BA1\u6B65\u9AA4\\n\\n1. \u5BFC\u51FA\u521D\u59CB\u5173\u7CFB\u6A21\u5F0F\u96C6\\n\\t\u5373\u628A\u6982\u5FF5\u8BBE\u8BA1\u7684\u7ED3\u679C(\u5168\u5C40 ER \u6A21\u578B)\u8F6C\u6362\u4E3A\u521D\u59CB\u5173\u7CFB\u6A21\u5F0F\u96C6\\n2. \u89C4\u8303\u5316\u5904\u7406\\n\\t\u89C4\u8303\u5316\u7684\u76EE\u7684\u662F\u51CF\u5C11\u4E43\u81F3\u6D88\u9664\u5173\u7CFB\u6A21\u5F0F\u4E2D\u5B58\u5728\u7684\u5404\u79CD\u5F02\u5E38,\u6539\u5584\u5B8C\u6574\u6027,\u4E00\u81F4\u6027\u548C\u5B58\u50A8\u6548\u7387\\n3. \u6A21\u5F0F\u8BC4\u4EF7\\n\\t\u4E3B\u8981\u5305\u62EC\u529F\u80FD\u548C\u6027\u80FD\u4E24\u65B9\u9762\\n4. \u6A21\u5F0F\u4FEE\u6B63\\n\\n5. \u8BBE\u8BA1\u5B50\u6A21\u5F0F(\u5916\u90E8\u6A21\u5F0F\\n)\\n\\n### 5.\u589E\u5F3A\u7684 ER \u6A21\u578B\\n\u4E3A\u4E86\u66F4\u51C6\u786E\u7684\u6A21\u62DF\u73B0\u5B9E\u4E16\u754C,\u9700\u8981\u6269\u5C55\u57FA\u672C ER \u6A21\u578B\u7684\u6982\u5FF5,\u4ECE\u800C\u4EA7\u751F\u4E86\u589E\u5F3A\u7684 ER \u6A21\u578B(Enhanced-ER model, \u7B80\u79F0 EER)\\n\\n#### 5.1 \u5F31\u5B9E\u4F53\u4E0E\u5F3A\u5B9E\u4F53\\n\\n\u82E5\u5B9E\u4F53\\n: \u4E00\u4E2A\u5B9E\u4F53\u7684\u5B58\u5728\u5FC5\u987B\u4F9D\u8D56\u4E8E\u5176\u4ED6\u5B9E\u4F53\\n> \u82E5\u5B9E\u4F53\u53C2\u4E0E\u8054\u7CFB\u65F6\u662F\u5B8C\u5168\u53C2\u4E0E,\u5F3A\u5B9E\u4F53\u4E0E\u5F31\u5B9E\u4F53\u7684\u8054\u7CFB\u53EA\u80FD\u662F 1:N\u6216N:M\\n\\n\u5F3A\u5B9E\u4F53\\n: \u53EF\u4E0D\u5FC5\u4F9D\u8D56\u4E8E\u5176\u4ED6\u5B9E\u4F53\\n\\n#### 5.2 \u5B50\u7C7B\u5B9E\u4F53\u4E0E\u8D85\u7C7B\u5B9E\u4F53\\n\u5355\u8F83\u4F4E\u5C42\u4E0A\u5B9E\u4F53\u7C7B\u578B\u8868\u5230\u4E86\u4E0E\u4E4B\u8054\u7CFB\u7684\u8F83\u9AD8\u5C42\u4E0A\u7684\u5B9E\u4F53\u7C7B\u578B\u7684\u7279\u6B8A\u60C5\u51B5\u65F6,\u5C31\u79F0\u8F83\u9AD8\u5C42\u4E0A\u5B9E\u4F53\u7C7B\u578B\u4E3A**\u8D85\u7C7B\u578B(Supertype)**,\u8F83\u4F4E\u5C42\u4E0A\u5B9E\u4F53\u7C7B\u578B\u4E3A\u5B50**\u7C7B\u578B(Subtype)**\\n\\n\u5728\u6570\u636E\u5E93\u8BBE\u8BA1\u4E2D,\u5B50\u7C7B\u5230\u8D85\u7C7B\u7684\u62BD\u8C61\u5316\u8FC7\u7A0B\u79F0\u4E3A**\u6982\u5316**,\u5219\u662F\u81EA\u5E95\u5411\u4E0A\u7684\u6982\u5FF5**\u7EFC\u5408(Synthesis)**;\u4ECE\u8D85\u7C7B\u5177\u5316\u5230\u4E4B\u7C7B\u7684\u8FC7\u7A0B\u79F0\u4E3A**\u7279\u5316**,\u5219\u662F\u81EA\u9876\u5411\u4E0B\u7684\u6982\u5FF5**\u53D1\u6325(Refinement)**.\\n\\n\u4E4B\u7C7B\u4E0E\u8D85\u7C7B\u6709\u4E24\u4E2A\u7279\u70B9:\\n\\n1. \u4E4B\u7C7B\u4E0E\u8D85\u7C7B\u4E4B\u95F4\u5177\u6709\u7EE7\u627F\u6027\u7279\u70B9\\n2. \u8FD9\u79CD\u7EE7\u627F\u6027\u662F\u901A\u8FC7\u4E4B\u7C7B\u5B9E\u4F53\u548C\u8D85\u7C7B\u5B9E\u4F53\u5177\u6709\u76F8\u540C\u7684\u5B9E\u4F53\u6807\u8BC6\u7B26\u5B9E\u73B0\u7684\\n\\n\u6B64\u5916,\u6709\u4E24\u79CD\u7EA6\u675F\u9002\u7528\u4E8E\u7279\u5316\u8FC7\u7A0B.\\n\\n\u4E0D\u76F8\u4EA4\u7EA6\u675F(Disjointness Constraint)\\n: \u7EA6\u675F\u4E4B\u7C7B\u7279\u5316\u662F\u662F\u5426\u76F8\u4EA4,\u5206\u4E3A\u4E0D\u76F8\u4EA4\u548C\u91CD\u53E0\u4E24\u79CD\u60C5\u51B5\\n\\n\u4E0D\u76F8\u4EA4(Disjoint)\\n: \u7EA6\u675F\u89C4\u5B9A\u4E86\u5728\u7279\u5316\u8FC7\u7A0B\u4E2D,\u4E4B\u7C7B\u5FC5\u987B\u662F\u4E0D\u60F3\u4EA4\u7684.\\n\\n\u91CD\u53E0(Overlap)\\n: \u5728\u7279\u5316\u8FC7\u7A0B\u4E2D,\u5B50\u7C7B\u53EF\u4EE5\u76F8\u4EA4\\n\\n\u5B8C\u5907\u6027\u7EA6\u675F(Complete Constraint):\\n: \u5206\u7C7B\u6574\u4F53\u7279\u5316\u548C\u90E8\u5206\u7279\u5316\\n\\n\u6574\u4F53\u7279\u5316(Total Specialization)\\n: \u7EA6\u675F\u6307\u5B9A\u8D85\u7C7B\u4E2D\u7684\u6BCF\u4E2A\u5B9E\u4F53\u5FC5\u987B\u662F\u7279\u5316\u4E2D\u7684\u67D0\u4E2A\u5B50\u7C7B\u7684\u4E00\u4E2A\u6210\u5458\\n\\n\u90E8\u5206\u7279\u5316(Partial Specialization)\\n: \u8D85\u7C7B\u4E2D\u7684\u5B9E\u4F53\u53EF\u4EE5\u4E0D\u5C5E\u4E8E\u4EFB\u4F55\u4E00\u4E2A\u5B50\u7C7B\\n\\n\u5728 ER \u56FE\u4E2D,\u6240\u6709\u7684\u5B50\u7C7B\u548C\u8D85\u7C7B\u7EC4\u6210\u4E86__\u5C42\u6B21(Hierarchy)__\u6216 __\u683C(Lattice)__\u7684\u7ED3\u6784\\n\\n\\n### 6. ER\u6A21\u578B\u7684\u57FA\u672C\u8868\u793A\\n\\n\\n\u5B9A\u4E49 | \u8868\u793A\\n:---:| :---:\\n\u5B9E\u4F53 | \u77E9\u5F62\\n\u8054\u7CFB | \u83F1\u5F62\\n\u5C5E\u6027 | \u692D\u5706\\n\u591A\u503C\u5C5E\u6027 | \u53CC\u7EBF\u692D\u5706\\n\u6D3E\u751F\u5C5E\u6027 | \u865A\u7EBF\u692D\u5706\\n\u5B9E\u4F53\u6807\u8BC6\u7B26 | \u4E0B\u5212\u7EBF\\n\u5B9E\u4F53\u4E0E\u5C5E\u6027 | \u76F4\u7EBF\u8FDE\u63A5\\n\u8054\u7CFB\u4E0E\u5C5E\u6027 | \u76F4\u7EBF\u8FDE\u63A5\\n\u8054\u7CFB\u7684\u57FA\u6570\u7EA6\u675F | \u5728\u8FDE\u7EBF\u4E0A\u4EE5(m,n)\u7684\u5F62\u5F0F\u8868\u9762\\n\u8054\u7CFB\u7684\u5B8C\u5168\u53C2\u4E0E | \u7528\u53CC\u7EBF\u8FDE\u63A5\\n\u8054\u7CFB\u7684\u7C7B\u578B | \u5728\u76F4\u7EBF\u4E24\u7AEF\u6307\u660E(1:1,1:N,N:M)\\n\u5F31\u5B9E\u4F53 | \u53CC\u7EBF\u77E9\u5F62\u6846\\n\u4E0D\u76F8\u4EA4 | \u5C0F\u5706\u5708\u91CC\u4E3A __d__\\n\u91CD\u53E0 | \u5C0F\u5706\u5708\u91CC\u4E3A __o__\\n\u6574\u4F53\u7279\u5316 | \u8D85\u7C7B\u5B9E\u4F53\u4E0E\u5706\u5708\u4E4B\u95F4\u7528__\u53CC\u7EBF\u6761__\u8FDE\u63A5\\n\u90E8\u5206\u7279\u5316 | \u8D85\u7C7B\u5B9E\u4F53\u4E0E\u5706\u5708\u4E4B\u95F4\u7528__\u5355\u7EBF\u6761__\u8FDE\u63A5\\n\\n\\n----------------------------------------------------------------\\n## Appendix.B \u5173\u7CFB\u6A21\u578B\\n\\n### 1. \u5173\u7CFB\u6A21\u578B\u7684\u57FA\u672C\u672F\u8BED\\n\\n\u5173\u7CFB\u6A21\u578B(Relation Model)\\n: \u7528\u4E8C\u7EF4\u8868\u683C\u8868\u793A\u5B9E\u4F53\u96C6,\u7528\u5173\u952E\u7801\u8868\u793A\u5B9E\u4F53\u4E4B\u95F4\u8054\u7CFB\u7684\u6570\u636E\u6A21\u578B\u79F0\u4E3A\u5173\u7CFB\u6A21\u578B.\\n\\n\u5728\u5173\u7CFB\u6A21\u578B\u4E2D,\u5B57\u6BB5\u79F0\u4E3A\u5C5E\u6027,\u5B57\u6BB5\u503C\u79F0\u4E3A\u5C5E\u6027\u503C,\u8BB0\u5F55\u7C7B\u578B\u79F0\u4E3A\u5173\u7CFB\u6A21\u5F0F,\u8BB0\u5F55\u79F0\u4E3A\\n**\u5143\u7EC4(Tuple)**,\u5143\u7EC4\u7684\u96C6\u5408\u79F0\u4E3A**\u5173\u7CFB(Relation)** \u6216 **\u5B9E\u4F8B(Instance)**.\\n\\n\u5728\u5173\u7CFB\u4E2D\u5C5E\u6027\u7684\u4E2A\u6570\u79F0\u4E3A**\u5143\u6570(Arity)**, \u5143\u7D20\u4E2A\u6570\u79F0\u4E3A **\u57FA\u6570(Cardinality)**\\n\\n**\u5173\u952E\u7801(Key,\u7B80\u79F0\u952E)**\u7531\u4E00\u4E2A\u6216\u591A\u4E2A\u5C5E\u6027\u7EC4\u6210,\u4E00\u822C\u6709\u4EE5\u4E0B\u51E0\u79CD:\\n\\n\u8D85\u952E(Super Key)\\n: \u5728\u5173\u7CFB\u4E2D\u80FD\u552F\u4E00\u6807\u8BC6\u5143\u7EC4\u7684\u5C5E\u6027\u96C6\u79F0\u4E3A\u5173\u7CFB\u6A21\u5F0F\u7684\u8D85\u952E\\n\\n\u5019\u9009\u952E(Candidate Key)\\n: \u4E0D\u542B\u6709\u591A\u4F59\u5C5E\u6027\u7684\u8D85\u952E\u79F0\u4E3A\u5019\u9009\u952E\\n\\n\u4E3B\u952E(Primary Key)\\n: \u7528\u6237\u9009\u4F5C\u5143\u7EC4\u6807\u8BC6\u7684\u5019\u9009\u952E\u79F0\u4E3A\u4E3B\u952E\\n\\n\u5916\u952E(Foreign Key)\\n: \u5982\u679C\u6A21\u5F0FR\u4E2D,\u5C5E\u6027K\u662F\u5176\u4ED6\u6A21\u5F0F\u7684\u4E3B\u952E,\u90A3\u4E48K\u5728\u6A21\u5F0FR\u4E2D\u79F0\u4E3A\u5916\u952E\\n\\n\u5173\u7CFB\u4E2D\u6BCF\u4E00\u4E2A\u5C5E\u6027\u90FD\u6709\u4E00\u4E2A\u53D6\u503C\u8303\u56F4,\u79F0\u4E3A\u5C5E\u6027\u7684**\u503C\u57DF(Domain)**.\u5C5E\u6027A\u7684\u53D6\u503C\u8303\u56F4\u7528 DOM(A) \u8868\u793A.\u6BCF\u4E00\u4E2A\u5C5E\u6027\u5BF9\u5E94\u4E00\u4E2A\u503C\u57DF,\u4E0D\u540C\u7684\u5C5E\u6027\u53EF\u5BF9\u5E94\u4E8E\u540C\u4E00\u503C\u57DF.\\n\\n### 2. \u5173\u7CFB\u7684\u5B9A\u4E49\u548C\u6027\u8D28\\n\\n\u5173\u7CFB\u662F\u4E00\u4E2A\u5C5E\u6027\u6570\u76EE\u76F8\u540C\u7684\u5143\u7EC4\u7684\u96C6\u5408.\\n\\n\u5982\u679C\u4E00\u4E2A\u5173\u7CFB\u7684\u5143\u7EC4\u6570\u76EE\u662F\u65E0\u9650\u7684,\u5219\u79F0\u4E3A**\u65E0\u9650\u5173\u7CFB**,\u5426\u5219\u79F0\u4E3A**\u6709\u9650\u5173\u7CFB**.\u7531\u4E8E\u8BA1\u7B97\u673A\u5B58\u50A8\u7CFB\u7EDF\u9650\u5236,\u53EA\u9650\u4E8E\u7814\u7A76\u6709\u9650\u5173\u7CFB.\\n\\n\u5728\u5173\u7CFB\u6A21\u578B\u4E2D,\u5BF9\u5173\u7CFB\u6709\u4E0B\u5217\u89C4\u8303\u6027\u9650\u5236:\\n\\n1. \u5173\u7CFB\u4E2D\u6BCF\u4E00\u4E2A\u5C5E\u6027\u503C\u90FD\u662F\u4E0D\u53EF\u5206\u89E3\u7684\\n2. \u5173\u7CFB\u4E2D\u4E0D\u5141\u8BB8\u51FA\u73B0\u91CD\u590D\u5143\u7EC4\\n3. \u7531\u4E8E\u5173\u7CFB\u662F\u4E00\u4E2A\u96C6\u5408,\u56E0\u6B64\u4E0D\u8003\u8651\u5143\u7EC4\u95F4\u7684\u987A\u5E8F,\u5373\u6CA1\u6709\u884C\u5E8F\\n4. \u5143\u7EC4\u4E2D\u7684\u5C5E\u6027\u5728\u7406\u8BBA\u4E0A\u4E5F\u662F\u65E0\u5E8F\u7684,\u4F46\u4F7F\u7528\u65F6\u6309\u4E60\u60EF\u8003\u8651\u5217\u7684\u987A\u5E8F\\n\\n### 3. \u4E09\u7C7B\u5B8C\u6574\u6027\u89C4\u5219\\n1. \u5B9E\u4F53\u5B8C\u6574\u6027\u89C4\u5219(Entity Integrity Rule)\\n\\t\u8FD9\u6761\u89C4\u5219\u8981\u6C42\u5173\u7CFB\u4E2D\u5143\u7EC4\u5728\u7EC4\u6210\u4E3B\u952E\u7684\u5C5E\u6027\u4E0A\u4E0D\u80FD\u6709\u7A7A\u503C.\\n2. \u53C2\u7167\u5B8C\u6574\u6027\u89C4\u5219(Reference Integrity Rule)\\n\\t\u5373\u4E0D\u5141\u8BB8\u5F15\u7528\u4E0D\u5B58\u5728\u7684\u5B9E\u4F53.\\n\\t\u8FD9\u70B9\u89C4\u5219\u6709\u4EE5\u4E0B\u53D8\u901A:\\n\\t1. \u5916\u952E\u548C\u76F8\u5E94\u7684\u4E3B\u952E\u53EF\u4EE5\u4E0D\u540C\u540D,\u53EA\u8981\u5B9A\u4E49\u5728\u76F8\u540C\u7684\u503C\u57DF\u4E0A\u5373\u53EF\\n\\t2. \u5916\u952E\u53EF\u4EE5\u662F\u5F15\u7528\u540C\u4E00\u7EC4\u5173\u7CFB\u6A21\u5F0F, \u6B64\u65F6\u8868\u793A\u4E86\u540C\u4E00\u4E2A\u5173\u7CFB\u4E2D\u4E0D\u540C\u5143\u7EC4\u4E4B\u95F4\u7684\u8054\u7CFB\\n\\t3. \u5916\u952E\u503C\u662F\u5426\u5141\u8BB8\u7A7A,\u5E94\u89C6\u5177\u4F53\u60C5\u51B5\u800C\u5B9A\\n\\n3. \u7528\u6237\u5B9A\u4E49\u7684\u5B8C\u6574\u6027\u89C4\u5219\\n\\n## Appendix.X \u989D\u5916\u7684\u7B14\u8BB0\\n\\n\\n### \u540D\u8BCD\u5B9A\u4E49\\n\\n\\n\u5B8C\u5168\u975E\u5E73\u51E1\u51FD\u6570\u4F9D\u8D56\\n: \u4EC5\u5F53\u5176\u53F3\u8FB9\u96C6\u5408\u7684\u5C5E\u6027\u90FD\u4E0D\u5728\u5DE6\u8FB9\u7684\u96C6\u5408\u4E2D\u65F6\u6210\u7ACB\\n\\n\u5B8C\u5168\u8FD8\u539F\u6A21\u578B\\n: \u652F\u6301\u56DB\u79CD\u5907\u4EFD\u6A21\u5F0F, 1.\u5B8C\u5168\u5907\u4EFD, 2.\u5DEE\u5F02\u5907\u4EFD, 3.\u4E8B\u52A1\u65E5\u5FD7\u5907\u4EFD, 4.\u6587\u4EF6\u7EC4\u5907\u4EFD\\n\\n\u9501\u7684\u7C7B\u578B\\n: \u4E92\u65A5\u9501,\u5171\u4EAB\u9501\\n\\n\u5206\u7C7B\\n: \u5206\u7C7B\u7684\u76EE\u7684\u662F\u5B66\u4F1A\u4E00\u4E2A\u5206\u7C7B\u51FD\u6570\u6216\u5206\u7C7B\u9B54\u5FC3,\u8BE5\u6A21\u578B\u80FD\u628A\u6570\u636E\u5E93\u4E2D\u7684\u6570\u636E\u9879\u6620\u5C04\u5230\u7ED9\u5B9A\\n    \u7C7B\u522B\u4E2D\u7684\u67D0\u4E00\u4E2A.\\n\\n\u805A\u7C7B\\n: \u805A\u7C7B\u662F\u628A\u4E00\u7EC4\u4E2A\u4F53\u6309\u7167\u76F8\u4F3C\u6027\u5F52\u6210\u82E5\u5E72\u7C7B\u522B,\u76EE\u7684\u662F\u4F7F\u5C5E\u4E8E\u540C\u4E00\u7C7B\u522B\u7684\u4E2A\u4F53\u4E4B\u95F4\u8DDD\u79BB\u5C3D\\n    \u53EF\u80FD\u5C0F,\u800C\u4E0D\u540C\u7C7B\u522B\u4E0A\u4E2A\u4F53\u95F4\u8DDD\u79BB\u5C3D\u53EF\u80FD\u5927.\\n\\n\u6570\u636E\u5E93\u6062\u590D\u987A\u5E8F\\n: \u9996\u5148\u6062\u590D\u5B8C\u5168\u5907\u4EFD,\u5176\u6B21\u6062\u590D\u5DEE\u5F02\u5907\u4EFD,\u7136\u540E\u6062\u590D\u65E5\u5FD7\u5907\u4EFD\\n\\n\u529F\u80FD\u9700\u6C42\\n: \u662F\u8BE6\u7EC6\u63CF\u8FF0\u603B\u4F53\u7ED3\u6784\u53CA\u529F\u80FD,\u7CFB\u7EDF\u8986\u76D6\u7684\u529F\u80FD\u8303,\u5404\u529F\u80FD\u5B50\u7CFB\u7EDF\u7684\u5212\u5206,\u529F\u80FD\u63CF\u8FF0\u53CA\\n    \u5B50\u7CFB\u7EDF\u4E4B\u95F4\u7684\u5173\u7CFB\u7B49\\n\\n\u4FE1\u606F\u9700\u6C42/\u6570\u636E\u9700\u6C42\\n: \u662F\u5B8C\u6574\u63CF\u8FF0\u7CFB\u7EDF\u6240\u6D89\u53CA\u7684\u4FE1\u606F\u8303\u56F4, \u6570\u636E\u7684\u5C5E\u6027\u7279\u5F81,\u6570\u636E\u4E4B\u95F4\u7684\u5173\u7CFB\u548C\u7EA6\u675F.\\n\\n\u6027\u80FD\u9700\u6C42\\n: \u63CF\u8FF0\u5BF9\u7CFB\u7EDF\u7684\u6027\u80FD\u8981\u6C42,\u5305\u62EC\u54CD\u5E94\u65F6\u95F4,\u5B58\u50A8\u5BB9\u91CF,\u7CFB\u7EDF\u9002\u5E94\u6027,\u6570\u636E\u5E93\u5B89\u5168\u6027,\\n    \u4E00\u81F4\u6027\u548C\u53EF\u9760\u6027.\\n\\n\u5143\u6570\u636E\\n: \u662F\u63CF\u8FF0\u6570\u636E\u5C5E\u6027\u7684\u4FE1\u606F,\u7528\u6765\u652F\u6301\u5982\u6307\u793A\u5B58\u50A8\u4F4D\u7F6E,\u5386\u53F2\u6570\u636E,\u8D44\u6E90\u67E5\u627E,\u6587\u4EF6\u8BB0\u5F55\u7B49\u529F\u80FD.\\n    \u5143\u6570\u636E\u7B97\u662F\u4E00\u79CD\u7535\u5B50\u5F0F\u76EE\u5F55,\u4E3A\u4E86\u8FBE\u5230\u7F16\u5236\u76EE\u5F55\u7684\u76EE\u7684,\u5FC5\u987B\u63CF\u8FF0\u5E76\u6536\u85CF\u6570\u636E\u7684\u5185\u5BB9\\n    \u6216\u7279\u8272,\u8FDB\u800C\u8FBE\u5230\u534F\u52A9\u6570\u636E\u68C0\u7D22\u7684\u76EE\u7684.\\n\\n\u9700\u6C42\u5206\u6790\\n: \u662F\u6307\u5BF9\u5373\u5C06\u8981\u5F00\u53D1\u7684\u7CFB\u7EDF\u8981\u505A\u4EC0\u4E48\u4EE5\u53CA\u5B8C\u6210\u4EC0\u4E48\u529F\u80FD\u7684\u5168\u9762\u63CF\u8FF0,\u5B83\u5173\u6CE8\u7684\u662F\u8FD9\u4E2A\u7CFB\u7EDF     \u5FC5\u987B\u8981\u505A\u4EC0\u4E48.\\n\\n__\u65E5\u5E38\u7EF4\u62A4\u7684\u76F8\u5173\u5DE5\u4F5C__\\n\\n1. \u6570\u636E\u5E93\u7684\u5907\u4EFD\u548C\u6062\u590D\\n2. \u5B8C\u6574\u6027\u7EF4\u62A4\\n3. \u5B89\u5168\u6027\u7EF4\u62A4\\n4. \u5B58\u50A8\u7A7A\u95F4\u7BA1\u7406\\n5. \u51B0\u6CD5\u63A7\u5236\u53CA\u6B7B\u9501\u5904\u7406\\n\\n\u53EF\u4E32\u884C\u5316\u8C03\u5EA6\\n: \u5BF9n\u4E2A\u4E8B\u52A1\u7EC4\u6210\u7684\u4E8B\u52A1\u96C6 $TS=\\\\{\\\\quad T_1,T_2,\\\\cdots, T_k,\\\\cdots,T_n\\\\quad\\\\}$,\\n    \u5982\u679C\u5E76\u53D1\u8C03\u5EA6 S \u7B49\u4EF7\u4E8E\u67D0\u4E00\u5728 TS \u4E0A\u7684\u4E32\u884C\u8C03\u5EA6,\u90A3\u4E48 S \u79F0\u4E3A\u53EF\u4E32\u884C\u5316\u8C03\u5EA6,\\n    \u5426\u5219 S \u662F\u4E0D\u53EF\u4E32\u884C\u5316\u8C03\u5EA6.\\n\\n\u51B2\u7A81\u4E32\u884C\u5316\\n: \u5982\u679C\u5B9A\u4E49\u65E9\u4E8B\u52A1\u96C6 TS \u4E0A\u7684\u5E76\u53D1\u8C03\u5EA6 S \u51B2\u7A81\u7B49\u4EF7\u4E8E\u4E8B\u52A1\u96C6 TS \u4E0A\u7684\u67D0\u4E2A\u4E32\u884C\u8C03\u5EA6 S\',\\n    \u5219\u79F0 S \u662F\u51B2\u7A81\u53EF\u4E32\u884C\u7684.\u51B2\u7A81\u53EF\u4E32\u884C\u7684\u5E76\u53D1\u8C03\u5EA6\u7684\u6267\u884C\u7ED3\u679C\u4E0E\u4E32\u884C\u8C03\u5EA6\u4E00\u81F4,\u662F\u6B63\u786E\u7684,\\n    \u540C\u65F6\u53C8\u5177\u6709\u8F83\u9AD8\u7684\u6267\u884C\u6548\u7387.\\n\\n\u89E6\u53D1\u5668\\n: \u901A\u5E38\u7528\u4E8E\u4FDD\u8BC1\u4E1A\u52A1\u89C4\u5219\u548C\u6570\u636E\u5B8C\u6574\u6027, \u5176\u4E3B\u8981\u4F18\u70B9\u662F\u7528\u6237\u53EF\u4EE5\u7528\u7F16\u7A0B\u7684\u65B9\u6CD5\u6765\u5B9E\u73B0\u590D\u6742\u7684\\n    \u5904\u7406\u903B\u8F91\u548C\u4E1A\u52A1\u89C4\u5219,\u589E\u5F3A\u4E86\u6570\u636E\u5B8C\u6574\u6027\u7EA6\u675F\u7684\u529F\u80FD.\\n\\n\u6280\u672F\u53EF\u884C\u6027\\n: \u662F\u6839\u636E\u7528\u6237\u63D0\u51FA\u7684\u7CFB\u7EDF\u529F\u80FD,\u6027\u80FD\u53CA\u5B9E\u73B0\u7CFB\u7EDF\u7684\u5404\u9879\u7EA6\u675F\u6761\u4EF6,\u5BF9\u7CFB\u7EDF\u8F6F\u4EF6,\u7CFB\u7EDF\u786C\u4EF6,\u6280\u672F\\n    \u65B9\u6848\u4F5C\u51FA\u8BC4\u4F30\u548C\u9009\u62E9\u5EFA\u8BAE,\u5B83\u5C5E\u4E8E\u89C4\u5212\u4E0E\u5206\u6790\u9636\u6BB5\u7684\u53EF\u884C\u6027\u5206\u6790.\\n\\n\u6570\u636E\u5E93\u5E94\u7528\u7CFB\u7EDF\u7684\u9700\u6C42\\n: \u6570\u636E\u9700\u6C42\u5206\u6790, \u6570\u636E\u5904\u7406\u9700\u6C42\u5206\u6790, \u4E1A\u52A1\u9700\u6C42\u5206\u6790\u4EE5\u53CA\u5728\u6027\u80FD, \u5B58\u50A8, \u5B89\u5168, \u5907\u4EFD\u548C\u6062\u590D\\n    \u7B49\u65B9\u9762\u7684\u8981\u6C42. \u6570\u636E\u64CD\u4F5C\u76F8\u5E94\u65F6\u95F4, \u7CFB\u7EDF\u541E\u5410\u91CF, \u6700\u5927\u5E76\u53D1\u7528\u6237\u6570\u90FD\u662F\u6027\u80FD\u9700\u6C42\u5206\u6790\u7684\\n    \u91CD\u8981\u6307\u6807.\\n\\n\u6570\u636E\u5E93\u6982\u5FF5\u8BBE\u8BA1\u9636\u6BB5\u7684\u5DE5\u4F5C\u76EE\u6807\\n\\n1. \u5B9A\u4E49\u548C\u63CF\u8FF0\u5E94\u7528\u9886\u57DF\u8BBE\u8BA1\u7684\u6570\u636E\u8303\u56F4\\n2. \u83B7\u53D6\u5E94\u7528\u9886\u57DF\u6216\u95EE\u9898\u57DF\u7684\u4FE1\u606F\u6A21\u578B\\n3. \u63CF\u8FF0\u6E05\u695A\u6570\u636E\u7684\u5C5E\u6027\u7279\u5F81\\n4. \u63CF\u8FF0\u6E05\u695A\u6570\u636E\u4E4B\u95F4\u7684\u5173\u7CFB\\n5. \u5B9A\u4E49\u548C\u63CF\u8FF0\u6570\u636E\u7684\u7EA6\u675F\\n6. \u8BF4\u660E\u6570\u636E\u7684\u5B89\u5168\u6027\u8981\u6C42\\n7. \u652F\u6301\u7528\u6237\u7684\u5404\u79CD\u6570\u636E\u5904\u7406\u9700\u6C42\\n8. \u4FDD\u8BC1\u4FE1\u606F\u6A21\u578B\u65B9\u4FBF\u5730\u8F6C\u6362\u6210\u6570\u636E\u5E93\u7684\u903B\u8F91\u7ED3\u6784(\u6570\u636E\u5E93\u6A21\u5F0F),\u540C\u65F6\u4E5F\u4FBF\u4E8E\u7528\u6237\u7406\u89E3.\\n\\n\u6570\u636E\u4ED3\u5E93\u7684\u5B9A\u4E49\\n: \u662F\u4E00\u4E2A\u9762\u5411\u4E3B\u9898\u7684,\u96C6\u6210\u7684,\u975E\u6613\u5931\u7684,\u4E14\u968F\u65F6\u95F4\u53D8\u5316\u7684\u6570\u636E\u96C6\u5408,\u7528\u6765\u652F\u6301\u7BA1\u7406\u4EBA\u5458\u7684\u51B3\u7B56\\n\\n\u6570\u636E\u4ED3\u5E93\u7684\u7279\u6027\\n: \u4E3B\u9898\u4E0E\u9762\u5411\u4E3B\u9898,\u96C6\u6210,\u4E0D\u53EF\u66F4\u65B0,\u968F\u65F6\u95F4\u53D8\u5316.\\n\\n\u805A\u96C6\u7D22\u5F15\u548C\u975E\u805A\u96C6\u7D22\u5F15\\n: \u5BF9\u6570\u636E\u6587\u4EF6\u548C\u5B83\u7684\u4E00\u4E2A\u7279\u5B9A\u7684\u7D22\u5F15\u6587\u4EF6,\u5982\u679C\u6570\u636E\u6587\u4EF6\u4E2D\u6570\u636E\u8BB0\u5F55\u7684\u6392\u5217\u987A\u5E8F\u4E0E\u7D22\u5F15\u6587\u4EF6\u4E2D\\n    \u7D22\u5F15\u9879\u7684\u6392\u5217\u987A\u5E8F\u4E00\u81F4,\u6216\u8005\u8BF4,\u7D22\u5F15\u6587\u4EF6\u6309\u5176\u67E5\u627E\u7801\u6307\u5B9A\u7684\u987A\u5E8F\u4E0E\u6570\u636E\u6587\u4EF6\u4E2D\u6570\u636E\u8BB0\u5F55\\n    \u987A\u5E8F\u4E00\u81F4,\u5219\u8BE5\u7D22\u5F15\u6587\u4EF6\u79F0\u4E3A\u805A\u96C6\u7D22\u5F15,\u5426\u5219\u6210\u4E3A\u975E\u805A\u96C6\u7D22\u5F15.\\n\\n\u7A20\u5BC6\u7D22\u5F15\u548C\u7A00\u758F\u7D22\u5F15\\n: \u5982\u679C\u6570\u636E\u6587\u4EF6\u7684\u6BCF\u4E2A\u67E5\u627E\u7801\u503C\u5728\u7D22\u5F15\u6587\u4EF6\u4E2D\u90FD\u5BF9\u5E94\u4E00\u4E2A\u6240\u4EE5\u8BB0\u5F55,\u5219\u8BE5\u7D22\u5F15\u79F0\u4E3A\u7A20\u5BC6\u7D22\u5F15.\\n    \u5982\u679C\u53EA\u662F\u4E00\u90E8\u5206\u67E5\u627E\u7801\u5BF9\u5E94\u4E00\u4E2A\u7D22\u5F15\u8BB0\u5F55,\u5219\u8BE5\u7D22\u5F15\u7801\u79F0\u4E3A\u7A00\u758F\u7D22\u5F15.\\n\\n\u4E3B\u7D22\u5F15\u548C\u8F85\u7D22\u5F15\\n: \u5728\u6570\u636E\u6587\u4EF6\u5305\u542B\u7684\u5C5E\u6027\u96C6\u4E0A\u5EFA\u7ACB\u7684\u7D22\u5F15\u79F0\u4E3A\u4E3B\u7D22\u5F15.\u5728\u6570\u636E\u6587\u4EF6\u7684\u975E\u4E3B\u5C5E\u6027\u4E0A\u5EFA\u7ACB\u7684\u7D22\u5F15\\n    \u79F0\u4E3A\u8F85\u7D22\u5F15.\\n\\n\u8F6F\u4EF6\u603B\u4F53\u8BBE\u8BA1\u7684\u4F9D\u636E\u5305\u62EC \u9700\u6C42\u5206\u6790\u9636\u6BB5\u5F97\u5230\u7684\u6570\u636E\u6D41\u56FE, \u4E8B\u52A1\u63CF\u8FF0\u548C\u4E1A\u52A1\u89C4\u5219\u7B49\u9700\u6C42\u5206\u6790\u7ED3\u679C.\\n\u603B\u4F53\u8BBE\u8BA1\u5F97\u5230\u7684\u7CFB\u7EDF\u603B\u4F53\u7ED3\u6784\u548C\u5206\u5C42\u6A21\u5757\u7ED3\u6784\u53EF\u4EE5\u7528\u6A21\u5757\u7ED3\u6784\u56FE\u8868\u793A,\u6A21\u5757\u7ED3\u6784\u56FE\u4E3B\u8981\u5173\u5FC3\u6A21\u5757\\n\u7684\u5916\u90E8\u7279\u6027,\u5373\u4E0A\u4E0B\u7EA7\u6A21\u5757\u4EE5\u53CA\u540C\u7EA7\u6A21\u5757\u95F4\u7684\u6570\u636E\u4F20\u9012\u548C\u7535\u6CF3\u5173\u7CFB,\u4E0E\u5185\u90E8\u5904\u7406\u6D41\u7A0B\u65E0\u5173.\\n\\n\u6570\u636E\u6A21\u578B\\n: \u6570\u636E\u6A21\u578B\u662F\u6570\u636E\u5E93\u7CFB\u7EDF\u7684\u5F62\u5F0F\u6846\u67B6,\u662F\u7528\u6765\u63CF\u8FF0\u6570\u636E\u7684\u4E00\u7EC4\u6982\u5FF5\u548C\u5B9A\u4E49.\u5B83\u662F\u5305\u62EC\u63CF\u8FF0\u6570\u636E,\u6570\u636E\\n    \u8054\u7CFB,\u6570\u636E\u64CD\u4F5C,\u6570\u636E\u8BED\u4E49\u4EE5\u53CA\u6570\u636E\u4E00\u81F4\u6027\u7684\u6982\u5FF5\u5DE5\u5177,\u662F\u6570\u636E\u5E93\u7CFB\u7EDF\u7684\u6838\u5FC3\u548C\u57FA\u7840.\u6309\u7167\u6570\u636E\\n    \u6A21\u578B\u5728\u6570\u636E\u5EFA\u6A21\u548C\u6570\u636E\u7BA1\u7406\u4E2D\u7684\u4E0D\u540C\u4F5C\u7528,\u53EF\u4EE5\u5C06\u5176\u5206\u4E3A\u6982\u5FF5\u6570\u636E\u6A21\u578B,\u6570\u636E\u7ED3\u6784\u6A21\u578B\u548C\u7269\u7406\u6570\\n    \u636E\u6A21\u578B.\u6982\u5FF5\u6570\u636E\u6A21\u578B\u7B80\u79F0\u6982\u5FF5\u6A21\u578B,\u662F\u6309\u7528\u6237\u7684\u89C2\u70B9\u5BF9\u6570\u636E\u548C\u4FE1\u606F\u8FDB\u884C\u5EFA\u6A21,\u662F\u73B0\u5B9E\u4E16\u754C\u5230\\n    \u4FE1\u606F\u4E16\u754C\u7684\u7B2C\u4E00\u5C42\u62BD\u8C61.\u6570\u636E\u7ED3\u6784\u6A21\u578B\u4E5F\u79F0\u4E3A\u8868\u793A\u578B\u6216\u5B9E\u73B0\u578B\u7684\u6570\u636E\u6A21\u578B,\u662F\u673A\u5668\u4E16\u754C\u4E2D\u4E0E\u5177\u4F53\\n    DBMS \u76F8\u5173\u7684\u6570\u636E\u6A21\u578B.\u7269\u7406\u6570\u636E\u6A21\u578B\u5C5E\u4E8E\u5E95\u5C42\u6570\u636E\u6A21\u578B,\u901A\u8FC7\u8BF8\u5982\u8BB0\u5F55\u683C\u5F0F,\u8BB0\u5F55\u987A\u5E8F\u548C\u5B58\u53D6\u8DEF\\n    \u5F84\u7B49\u8868\u793A\u4FE1\u606F,\u63CF\u8FF0\u6570\u636E\u5728\u6570\u636E\u5E93\u7CFB\u7EDF\u4E2D\u7684\u5B9E\u9645\u5B58\u50A8\u65B9\u5F0F/\u6982\u5FF5\u6A21\u5F0F\u662F\u5BF9\u6570\u636E\u5E93\u4E2D\u5168\u4F53\u6570\u636E\u7684\\n    \u903B\u8F91\u7ED3\u6784\u548C\u7279\u5F81\u7684\u63CF\u8FF0,\u662F\u6240\u6709\u7528\u6237\u7684\u516C\u5171\u6570\u636E\u89C6\u56FE,\u4E00\u4E2A\u6570\u636E\u5E93\u53EA\u6709\u4E00\u4E2A\u6A21\u5F0F.\\n\\n\u6570\u636E\u5E93\u5E94\u7528\u7CFB\u7EDF\u5305\u62EC\u6982\u5FF5\u8BBE\u8BA1,\u903B\u8F91\u8BBE\u8BA1,\u7269\u7406\u8BBE\u8BA1\u4E09\u4E2A\u6B65\u9AA4.\u6BCF\u4E2A\u6B65\u9AA4\u6309\u7167\u6570\u636E\u7EC4\u7EC7\u4E0E\u5B58\u50A8,\u6570\u636E\\n\u8BBF\u95EE\u4E0E\u5904\u7406,\u5E94\u7528\u8BBE\u8BA1\u7B49\u51E0\u4E2A\u65B9\u9762\u8FDB\u884C.\u5728\u6982\u5FF5\u8BBE\u8BA1\u9636\u6BB5,\u91C7\u7528\u81EA\u4E0B\u800C\u4E0A\u7684 E-R \u8BBE\u8BA1.\\n\u5C06\u5173\u7CFB\u6A21\u5F0F\u8F6C\u6362\u4E3A\u5177\u4F53 DBMS \u5E73\u53F0\u652F\u6301\u7684\u5173\u7CFB\u8868\u662F\u6570\u636E\u5E93\u7269\u7406\u8BBE\u8BA1\u9636\u6BB5\u7684\u5DE5\u4F5C.\u8BBE\u8BA1\u89C6\u56FE\u548C\u5173\u7CFB\\n\u6A21\u5F0F\u7684\u5B8C\u6574\u6027\u7EA6\u675F\u662F\u6570\u636E\u903B\u8F91\u8BBE\u8BA1\u9636\u6BB5\u7684\u5DE5\u4F5C.\\n\\nOLTP \u4E2D\u7684\u6570\u636E\u4E00\u822C\u6309\u9762\u5411\u5E94\u7528\u7684\u65B9\u5F0F\u7EC4\u7EC7,\u6570\u636E\u4ED3\u5E93\u7CFB\u7EDF\u4E2D\u7684\u6570\u636E\u4E00\u822C\u6309\u9762\u5411\u5206\u6790\u4E3B\u9898\u7684\u65B9\u5F0F\u7EC4\u7EC7.\\n\\n#### \u65E5\u5FD7\u6587\u4EF6\u7684\u4F5C\u7528\\n\\n1. \u7528\u4E8E\u4E8B\u52A1\u6545\u969C\u6062\u590D\u548C\u7CFB\u7EDF\u6545\u969C\u6062\u590D\\n2. \u52A8\u6001\u8F6C\u50A8\u4E2D\u5FC5\u987B\u5EFA\u7ACB\u65E5\u5FD7\u6587\u4EF6\\n3. \u9759\u6001\u8F6C\u50A8\u4E2D\u4E5F\u53EF\u4EE5\u5EFA\u7ACB\u65E5\u5FD7\u6587\u4EF6\\n\\n\u4E3A\u4FDD\u8BC1\u6570\u636E\u5E93\u662F\u53EF\u6062\u590D\u7684,\u5FC5\u987B\u9075\u5FAA\u4E24\u6761\u89C4\u5219\\n\\n1. \u767B\u8BB0\u7684\u6B21\u5E8F\u4E25\u683C\u6309\u5E76\u884C\u4E8B\u52A1\u6267\u884C\u7684\u65F6\u95F4\u6B21\u5E8F\\n2. \u5FC5\u987B\u5148\u5199\u5165\u65E5\u5FD7\u6587\u4EF6,\u540E\u5199\u5165\u6570\u636E\u5E93.\\n\\n\\n#### \u4EBA\u673A\u754C\u9762\u8BBE\u8BA1\u539F\u5219\\n\\n1. \u7528\u6237\u5E94\u5F53\u611F\u89C9\u7CFB\u7EDF\u7684\u8FD0\u884C\u59CB\u7EC8\u5728\u81EA\u5DF1\u7684\u63A7\u5236\u4E4B\u4E0B,\u4FDD\u6301\u7528\u6237\u4E0E\u4EBA\u673A\u754C\u9762\u7684\u53CC\u5411\u4EA4\u6D41\\n2. \u5F53\u7CFB\u7EDF\u53D1\u751F\u9519\u8BEF\u6216\u7A0B\u5E8F\u8FD0\u884C\u65F6\u95F4\u8F83\u957F\u65F6,\u7528\u6237\u754C\u9762\u5E94\u8BE5\u63D0\u4F9B\u6709\u610F\u4E49\u7684\u53CD\u9988\u4FE1\u606F,\u5E76\u6709\u4E0A\u4E0B\u6587\u611F\u77E5\u7684\\n    \u5E2E\u52A9\u7CFB\u7EDF\\n3. \u7528\u6237\u754C\u9762\u80FD\u5BB9\u5FCD\u7528\u6237\u5728\u64CD\u4F5C\u8FC7\u7A0B\u4E2D\u53D1\u751F\u7684\u5404\u79CD\u64CD\u4F5C\u9519\u8BEF,\u5E76\u80FD\u65B9\u4FBF\u7684\u4ECE\u9519\u8BEF\u4E2D\u6062\u590D,\u4FDD\u8BC1\u7CFB\u7EDF\u4E0D\u53D7\\n    \u7528\u6237\u9519\u8BEF\u64CD\u4F5C\u7684\u5F71\u54CD\\n4. \u754C\u9762\u9075\u5FAA\u4E00\u5B9A\u7684\u6807\u51C6\u548C\u5E38\u89C4\\n5. \u754C\u9762\u5E94\u91C7\u53D6\u7075\u6D3B\u591A\u6837\u7684\u6570\u636E\u8F93\u5165\u65B9\u5F0F,\u5C3D\u91CF\u51CF\u5C11\u7528\u6237\u7684\u8F93\u5165\u8D1F\u62C5.\\n\\n#### \u6027\u80FD\u9700\u6C42\u5206\u6790\\n\\n1. \u6570\u636E\u64CD\u4F5C\u54CD\u5E94\u65F6\u95F4,\u6216\u6570\u636E\u8BBF\u95EE\u54CD\u5E94\u65F6\u95F4\\n    \u6307\u7528\u6237\u5411\u6570\u636E\u5E93\u7CFB\u7EDF\u63D0\u4EA4\u6570\u636E\u64CD\u4F5C\u8BF7\u6C42\u5230\u64CD\u4F5C\u8FD4\u56DE\u7528\u6237\u7684\u65F6\u95F4.\\n2. \u7CFB\u7EDF\u541E\u5410\u91CF\\n    \u7CFB\u7EDF\u5728\u5355\u4F4D\u65F6\u95F4\u5185\u53EF\u4EE5\u5B8C\u6210\u7684\u6570\u636E\u5E93\u4E8B\u52A1\u6216\u6570\u636E\u67E5\u8BE2\u7684\u6570\u91CF.\\n    \u541E\u5410\u91CF\u53EF\u4EE5\u8868\u793A\u4E3A \u6BCF\u79D2\u4E8B\u52A1\u6570(TPS).\\n3. \u5141\u8BB8\u5E76\u53D1\u8BBF\u95EE\u7684\u6700\u5927\u7528\u6237\u6570\\n    \u5728\u4FDD\u8BC1\u5355\u4E2A\u7528\u6237\u67E5\u8BE2\u54CD\u5E94\u65F6\u95F4\u7684\u524D\u63D0\u4E0B,\u7CFB\u7EDF\u6700\u591A\u5141\u8BB8\u591A\u5C11\u7528\u6237\u540C\u65F6\u8BBF\u95EE\u6570\u636E\u5E93.\\n4. TPS \u4EE3\u4EF7\u503C\\n    \u7528\u4E8E\u8861\u91CF\u7CFB\u7EDF\u6027\u4EF7\u6BD4\u7684\u6307\u6807.\\n\\n#### \u89C6\u56FE\u7684\u4F5C\u7528\\n\\n1. \u7B80\u5316\u6570\u636E\u67E5\u8BE2\u8BED\u53E5\\n2. \u4F7F\u7528\u6237\u80FD\u4ECE\u591A\u89D2\u5EA6\u770B\u5F85\u540C\u4E00\u6570\u636E\\n3. \u63D0\u9AD8\u6570\u636E\u7684\u5B89\u5168\u6027\\n4. \u63D0\u4F9B\u4E86\u4E00\u5B9A\u7A0B\u5EA6\u7684\u903B\u8F91\u72EC\u7ACB\u6027\\n\\n#### \u7ED3\u6784\u5316\u5206\u6790\u53CA\u5EFA\u6A21\u65B9\u6CD5\u7684\u4E3B\u8981\u4F18\u70B9\\n\\n1. \u4E0D\u8FC7\u65E9\u9677\u5165\u5177\u4F53\u7684\u7EC6\u8282\\n2. \u4ECE\u6574\u4F53\u6216\u5B8F\u89C2\u5165\u624B\u5206\u6790\u95EE\u9898\\n3. \u901A\u8FC7\u56FE\u5F62\u5316\u7684\u6A21\u578B\u5BF9\u8C61\u76F4\u89C2\u7684\u8868\u793A\u7CFB\u7EDF\u8981\u505A\u4EC0\u4E48,\u5B8C\u6210\u4EC0\u4E48\u529F\u80FD\\n4. \u56FE\u5F62\u5316\u5EFA\u6A21\u65B9\u6CD5\u65B9\u4FBF\u7CFB\u7EDF\u5206\u6790\u5458\u7406\u89E3\u548C\u63CF\u8FF0\u7CFB\u7EDF\\n5. \u6A21\u578B\u5BF9\u8C61\u4E0D\u6D89\u53CA\u592A\u591A\u6280\u672F\u672F\u8BED,\u4FBF\u4E8E\u7528\u6237\u7406\u89E3\u6A21\u578B\\n\\n#### UML\\n\\n\u6BCF\u4E00\u79CD UML \u7684\u89C6\u56FE\u90FD\u662F\u7531\u4E00\u4E2A\u6216\u591A\u4E2A\u56FE\u7EC4\u6210\u7684, UML \u63D0\u4F9B\u4E869\u79CD\u4E0D\u540C\u7684\u56FE,\u5206\u4E3A\u4E24\u7C7B.\\n\\n1. \u9759\u6001\u56FE\\n    \u7528\u4F8B\u56FE, \u7C7B\u56FE, \u5BF9\u8C61\u56FE, \u7EC4\u4EF6\u56FE, \u90E8\u7F72\u56FE\\n2. \u52A8\u6001\u56FE\\n    \u987A\u5E8F\u56FE, \u4EA4\u4E92\u56FE, \u72B6\u6001\u56FE, \u548C \u6D3B\u52A8\u56FE\\n\\n\u53EF\u4EE5\u6839\u636E\u4E0D\u540C\u7684\u89C6\u56FE\u5E94\u7528\u8FDB\u884C\u5206\u7C7B:\\n\\n1. \u7528\u4F8B\u89C6\u56FE: \u7528\u4F8B\u56FE\\n2. \u7ED3\u6784\u89C6\u56FE: \u7C7B\u56FE, \u5BF9\u8C61\u56FE\\n3. \u884C\u4E3A\u89C6\u56FE: \u987A\u5E8F\u56FE, \u4EA4\u4E92\u56FE, \u72B6\u6001\u56FE, \u6D3B\u52A8\u56FE\\n4. \u5B9E\u73B0\u89C6\u56FE: \u7EC4\u4EF6\u56FE\\n5. \u73AF\u5883\u89C6\u56FE: \u90E8\u7F72\u56FE\\n\\n\\n#### \u5206\u5E03\u5F0F\u6570\u636E\u5E93\\n\\n\u76EE\u7684\u662F: \u672C\u5730\u81EA\u6CBB, \u975E\u96C6\u4E2D\u5F0F\u7BA1\u7406,\u9AD8\u53EF\u7528\u6027,\u4F4D\u7F6E\u72EC\u7ACB\u6027,\u5206\u5E03\u5F0F\u67E5\u8BE2\u5904\u7406,\u5206\u5E03\u5F0F\u4E8B\u52A1\u7BA1\u7406\u7B49.\\n\\n1. \u5206\u5E03\u5F0F\u6570\u636E\u5E93\u7CFB\u7EDF\u6982\u5FF5\\n    \u662F\u7269\u7406\u4E0A\u5206\u6563,\u903B\u8F91\u4E0A\u7EDF\u4E00\u7684\u6570\u636E\u5E93\u7CFB\u7EDF.\\n\\n2. \u5206\u5E03\u5F0F\u6570\u636E\u7684\u6982\u5FF5\\n    \u5206\u5E03\u5F0F\u6570\u636E\u5E93\u5219\u662F\u5206\u5E03\u5F0F\u6570\u636E\u5E93\u7CFB\u7EDF\u4E2D\u4E2A\u573A\u5730\u4E0A\u6570\u636E\u5E93\u7684\u903B\u8F91\u5408.\\n\\n3. \u5206\u5E03\u5F0F\u6570\u636E\u5E93\u7684\u7ED3\u6784\\n    * \u5171\u4EAB\u5185\u5B58\u7ED3\u6784\\n    * \u5171\u4EAB\u78C1\u76D8\u7ED3\u6784\\n    * \u65E0\u5171\u4EAB\u7ED3\u6784\\n        \u6700\u597D\u7684\u5E76\u884C\u7ED3\u6784\\n    * \u6B21\u7ED3\u6784\\n        \u4EE5\u4E0A\u4F53\u7CFB\u7ED3\u6784\u7684\u7ED3\u5408.\\n\\n#### \u5206\u5E03\u5F0F\u6570\u636E\u5E93\u7684\u5206\u5E03\u7B56\u7565\\n\\n\u6570\u636E\u5206\u7247\\n: \u5BF9\u67D0\u4E00\u4E2A\u5173\u7CFB\u8FDB\u884C\u5206\u7247\u662F\u5C06\u5173\u7CFB\u5212\u5206\u4E3A\u591A\u4E2A\u7247\u6BB5, \u8FD9\u4E9B\u7247\u6BB5\u4E2D\u5305\u542B\u8DB3\u591F\u7684\u4FE1\u606F\u53EF\u4EE5\u4F7F\u5173\u7CFB\u91CD\u6784.\\n\\n\u6570\u636E\u5206\u7247\u6709\u56DB\u79CD\u57FA\u672C\u65B9\u6CD5:\\n\\n1. \u6C34\u5E73\u5206\u7247\\n    \u5728\u5173\u7CFB\u4E2D\u4ECE\u884C\u7684\u89D2\u5EA6(\u5143\u7EC4)\u4F9D\u636E\u4E00\u5B9A\u6761\u4EF6\u5212\u5206\u4E3A\u4E0D\u540C\u7684\u7247\u6BB5,\u5173\u7CFB\u4E2D\u7684\u6BCF\u4E00\u884C\u5FC5\u987B\u81F3\u5C11\u5C5E\u4E8E\\n    \u4E00\u4E2A\u7247\u6BB5,\u4EE5\u4FBF\u5728\u9700\u8981\u65F6\u53EF\u4EE5\u91CD\u6784\u5173\u7CFB\\n2. \u5782\u76F4\u5206\u7247\\n    \u5728\u5173\u7CFB\u4E2D\u4ECE\u5217\u7684\u89D2\u5EA6(\u5C5E\u6027)\u4F9D\u636E\u4E00\u5B9A\u7684\u6761\u4EF6\u5206\u4E3A\u4E0D\u540C\u7684\u7247\u6BB5,\u5404\u7247\u6BB5\u4E2D\u5E94\u8BE5\u5305\u542B\u5173\u7CFB\u7684\u4E3B\u7801\\n    \u5C5E\u6027,\u4E00\u8FB9\u901A\u8FC7\u8FDE\u63A5\u65B9\u6CD5\u6062\u590D\u5173\u7CFB.\\n3. \u5BFC\u51FA\u5206\u7247\\n    \u662F\u5BFC\u51FA\u6C34\u5E73\u5206\u7247,\u5206\u7247\u7684\u4F9D\u636E\u4E0D\u662F\u672C\u5173\u7CFB\u7684\u6761\u4EF6,\u800C\u662F\u5176\u4ED6\u5173\u7CFB\u5C5E\u6027\u7684\u6761\u4EF6.\\n4. \u6DF7\u5408\u5206\u7247\\n    \u4EE5\u4E0A\u4E09\u79CD\u65B9\u6CD5\u7684\u6DF7\u5408\\n\\n\\n#### \u8303\u5F0F\u7684\u7B80\u8FF0\\n\\n* \u7B2C\u4E00\u8303\u5F0F\\n    \u6307\u5173\u7CFB\u5FC5\u987B\u6EE1\u8DB3\u6BCF\u4E00\u4E2A\u5C5E\u6027\u503C\u90FD\u662F\u4E0D\u53EF\u5206\u89E3\u7684\u6570\u636E\u9879\\n* \u7B2C\u4E8C\u8303\u5F0F\\n    \u5728\u7B2C\u4E00\u8303\u5F0F\u7684\u57FA\u7840\u4E0A,\u4F7F\u5173\u7CFB\u4E2D\u7684\u6BCF\u4E00\u4E2A\u5C5E\u6027\u5FC5\u987B\u53EA\u4F9D\u8D56\u4E3B\u7801(\u975E\u4E3B\u5C5E\u6027\u5B8C\u5168\u4F9D\u8D56\u4E8E\u5019\u9009\u952E)\\n* \u7B2C\u4E09\u8303\u5F0F\\n    \u5728\u7B2C\u4E8C\u8303\u5F0F\u7684\u57FA\u7840\u4E0A,\u6BCF\u4E00\u4E2A\u975E\u4E3B\u5C5E\u6027\u5FC5\u987B\u53EA\u4F9D\u8D56\u4E8E\u4E3B\u7801\\n    (\u975E\u4E3B\u5C5E\u6027\u90FD\u4E0D\u4F20\u9012\u4F9D\u8D56\u4E8E\u5019\u9009\u952E)\\n\\n\u4E00\u822C\u5173\u7CFB\u6A21\u5F0F\u89C4\u8303\u5316\u5DE5\u4F5C\u4EC5\u505A\u5230 3NF \u5C31\u53EF\u4EE5\u628A\u5173\u7CFB\u4E2D\u4E0D\u5408\u7406\u7684\u5C5E\u6027\u57FA\u672C\u6D88\u9664.\\n\\n### \u5173\u4E8E\u6027\u80FD/\u4F18\u5316\\n\\n* \u5C06\u8868\u7684\u6570\u636E\u548C\u7D22\u5F15\u653E\u7F6E\u5728\u540C\u4E00\u78C1\u76D8\u4E0A\u4E0D\u5229\u4E8E\u63D0\u9AD8\u7CFB\u7EDF\u67E5\u8BE2\u7684\u6548\u7387\\n* \u7269\u7406\u8BBE\u8BA1\u7684\u76EE\u6807\u662F\u5F97\u5230\u5B58\u50A8\u7A7A\u95F4\u5360\u7528\u5C11,\u6570\u636E\u8BBF\u95EE\u6548\u7387\u9AD8\u548C\u7EF4\u62A4\u4EE3\u4EF7\u4F4E\u7684\u6570\u636E\u5E93\u7269\u7406\u6A21\u5F0F.\\n    \u8BBE\u8BA1\u4E00\u4E2A\u597D\u7684\u7D22\u5F15\u548C\u7D22\u5F15\u5B57\u6BB5,\u53EF\u4EE5\u63D0\u9AD8\u6570\u636E\u67E5\u8BE2\u7684\u901F\u5EA6\u548C\u6548\u7387.\\n* \u5C3D\u53EF\u80FD\u5148\u6267\u884C\u67E5\u8BE2\u6761\u4EF6,\u628A\u8868\u8FDE\u63A5\u653E\u5230\u6700\u540E\u6267\u884C\\n* \u53EF\u4EE5\u4F7F\u7528 FIFS \u6765\u907F\u514D\u6D3B\u9501\u7684\u4EA7\u751F\\n* \u4F7F\u7528\u5185\u8FDE\u63A5\u66FF\u4EE3\u5DE6\u53F3\u8FDE\u63A5\\n\\n\\n#### \u67E5\u8BE2\u4F18\u5316\\n\\n1. \u5408\u7406\u4F7F\u7528\u7D22\u5F15\\n2. \u907F\u514D\u6216\u7B80\u5316\u6392\u5E8F\\n3. \u6D88\u9664\u5BF9\u5927\u578B\u8868\u8FDB\u884C\u6570\u636E\u7684\u987A\u5E8F\u5B58\u53D6\\n4. \u907F\u514D\u76F8\u5173\u5B50\u67E5\u8BE2\\n5. \u907F\u514D\u56F0\u96BE\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\\n6. \u4F7F\u7528\u4E34\u65F6\u8868\u52A0\u901F\u67E5\u8BE2\\n7. \u7528\u6392\u5E8F\u6765\u53D6\u4EE3\u975E\u987A\u5E8F\u78C1\u76D8\u5B58\u53D6\\n8. \u4E0D\u5145\u5206\u7684\u8FDE\u63A5\u6761\u4EF6(\u907F\u514D\u5DE6\u53F3\u8FDE\u63A5)\\n9. \u4F7F\u7528\u5B58\u50A8\u8FC7\u7A0B\\n10. \u4E0D\u8981\u968F\u610F\u4F7F\u7528\u6E38\u6807\\n11. \u4F7F\u7528\u4E8B\u52A1\u5904\u7406\\n\\n### \u5206\u7C7B/\u65B9\u6CD5\\n\\n#### SQL Server 2000 \u6570\u636E\u5E93\u5907\u4EFD\u65B9\u5F0F\\n\\n1. \u5148\u521B\u5EFA\u5907\u4EFD\u8BBE\u5907,\u7136\u540E\u5C06\u6570\u636E\u5E93\u5907\u4EFD\u5230\u5907\u4EFD\u8BBE\u5907\u4E0A(\u8FD9\u79CD\u8BBE\u5907\u79F0\u4E3A\u6C38\u4E45\u5907\u4EFD\u8BBE\u5907)\\n2. \u76F4\u63A5\u5C06\u6570\u636E\u5E93\u5907\u4EFD\u5230\u7269\u7406\u6587\u4EF6\u4E0A(\u8FD9\u79CD\u8BBE\u5907\u79F0\u4E3A\u4E34\u65F6\u5907\u4EFD\u8BBE\u5907)\\n\\n\u5728\u6267\u884C\u5907\u4EFD\u8FC7\u7A0B\u4E2D, \u53EF\u4EE5\u540C\u65F6\u5411\u591A\u4E2A\u5907\u4EFD\u8BBE\u5907\u5199\u5907\u4EFD\u5185\u5BB9,\u4E5F\u79F0\u4E3A\u5E76\u884C\u5907\u4EFD.\\n\\n#### \u6B7B\u9501\u7684\u9884\u9632\u65B9\u6CD5\\n\\n1. \u4E00\u6B21\u52A0\u9501\\n    \u8981\u6C42\u6BCF\u4E2A\u4E8B\u52A1\u5728\u5F00\u59CB\u6267\u884C\u65F6\u5FC5\u987B\u5C06\u9700\u8981\u8BBF\u95EE\u7684\u6570\u636E\u9879\u5168\u90E8\u67B7\u9501,\u5426\u5219\u4E0D\u5141\u8BB8\u6267\u884C\u4E0B\u53BB,\\n    \u4E5F\u5C31\u662F\u8981\u6C42\u4E8B\u52A1\u5FC5\u987B\u80FD\u4E00\u6B21\u6027\u7684\u83B7\u5F97\u5BF9\u9700\u8981\u8BBF\u95EE\u7684\u5168\u90E8\u6570\u636E\u9879\u7684\u8BBF\u95EE\u6743.\\n2. \u987A\u5E8F\u52A0\u9501\\n    \u8BE5\u65B9\u6CD5\u5BF9\u6570\u636E\u5E93\u4E2D\u4E8B\u52A1\u8BBF\u95EE\u7684\u6240\u6709\u6570\u636E\u9879\u89C4\u5B9A\u4E00\u4E2A\u52A0\u9501\u987A\u5E8F,\u6BCF\u4E2A\u4E8B\u52A1\u5728\u6267\u884C\u8FC7\u7A0B\u4E2D\\n    \u5FC5\u987B\u6309\u6B64\u987A\u5E8F\u5BF9\u6240\u9700\u6570\u636E\u9879\u52A0\u9501.\\n\\n#### \u6570\u636E\u5E93\u7BA1\u7406\u5458\u6267\u884C\u7684\u5DE5\u4F5C\\n\\n1. \u6570\u636E\u5E93\u7684\u8F6C\u50A8\u548C\u6062\u590D\\n2. \u6570\u636E\u5E93\u7684\u5B89\u5168\u548C\u5B8C\u6574\u6027\u63A7\u5236\\n3. \u6570\u636E\u5E93\u7684\u6027\u80FD\u76D1\u63A7\u548C\u5206\u6790\\n4. \u6570\u636E\u5E93\u7684\u91CD\u7EC4\u548C\u91CD\u6784\\n\\n#### \u7CFB\u7EDF\u6545\u969C/\u8F6F\u6545\u969C \u7684\u5904\u7406\u65B9\u6CD5\\n\\n\u5BF9\u4E8E\u672A\u5B8C\u6210\u7684\u4E8B\u52A1,\u53EF\u80FD\u5DF2\u7ECF\u5199\u5165\u6570\u636E\u5E93\u7684\u5185\u5BB9,\u56DE\u6EDA\u6240\u6709\u672A\u5B8C\u6210\u7684\u4E8B\u52A1\u5199\u5165\u7684\u7ED3\u679C,\u4EE5\u4FDD\u8BC1\\n\u6570\u636E\u5E93\u4E2D\u6570\u636E\u7684\u4E00\u81F4\u6027.\\n\u5BF9\u4E8E\u5DF2\u5B8C\u6210\u7684\u4E8B\u52A1\u53EF\u80FD\u90E8\u5206\u6216\u5168\u90E8\u7559\u5728\u7F13\u51B2\u533A\u7684\u7ED3\u679C,\u9700\u8981\u91CD\u505A\u6240\u6709\u5DF2\u63D0\u4EA4\u7684\u4E8B\u52A1,\u4EE5\u5C06\u6570\u636E\\n\u5E93\u6062\u590D\u5230\u4E00\u81F4\u72B6\u6001\\n\u5373,\u64A4\u9500(Undo)\u6240\u6709\u672A\u63D0\u4EA4\u7684\u4E8B\u52A1,\u91CD\u505A(Redo)\u6240\u6709\u5DF2\u63D0\u4EA4\u7684\u4E8B\u52A1.\\n\\n#### \u6570\u636E\u4ED3\u5E93\u4E2D\u6570\u636E\u7684\u7EF4\u62A4\u7B56\u7565\\n\\n* \u5B9E\u65F6\u7EF4\u62A4\\n* \u5EF6\u65F6\u7EF4\u62A4\\n    \u67E5\u8BE2\u65F6\u89E6\u53D1\u7EF4\u62A4,\u51CF\u5C11\u4E86\u5BF9\u6570\u636E\u6E90\u7684\u66F4\u65B0\u65F6\u95F4,\u4F46\u89C6\u56FE\u67E5\u8BE2\u65F6\u95F4\u8F83\u957F.\\n* \u5FEB\u7167\u7EF4\u62A4\\n    \u5B9A\u671F\u5BF9\u6570\u636E\u5E93\u8FDB\u884C\u7EF4\u62A4,\u7EF4\u62A4\u64CD\u4F5C\u7684\u89E6\u53D1\u6761\u4EF6\u662F\u65F6\u95F4.\\n\\n#### \u6570\u636E\u5E93\u7269\u7406\u8BBE\u8BA1\u6B65\u9AA4\\n\\n1. \u6570\u636E\u5E93\u903B\u8F91\u6A21\u5F0F\u8C03\u6574\\n2. \u6587\u4EF6\u7EC4\u7EC7\u4E0E\u5B58\u53D6\u8BBE\u8BA1\\n3. \u6570\u636E\u5206\u5E03\u8BBE\u8BA1\\n4. \u5B89\u5168\u6A21\u5F0F\u8BBE\u8BA1\\n5. \u786E\u5B9A\u7CFB\u7EDF\u914D\u7F6E\\n6. \u7269\u7406\u6A21\u5F0F\u8BC4\u4F30\\n\\n#### DBAS \u603B\u4F53\u8BBE\u8BA1\\n\\n1. \u786E\u5B9A DBAS \u4F53\u7CFB\u7ED3\u6784\\n2. \u7CFB\u7EDF\u786C\u4EF6\u5E73\u53F0\u548C\u64CD\u4F5C\u7CFB\u7EDF,\u6570\u636E\u5E93\u7BA1\u7406\u7CFB\u7EDF\u7B49\u7CFB\u7EDF\u8F6F\u4EF6\u7684\u9009\u578B\u548C\u914D\u7F6E\\n3. \u5E94\u7528\u8F6F\u4EF6\u7ED3\u6784\u8BBE\u8BA1\\n4. \u5BF9\u9700\u6C42\u5206\u6790\u9636\u6BB5\u8BC6\u522B\u51FA\u7684\u4E1A\u52A1\u89C4\u5219\u8FDB\u884C\u521D\u6B65\u8BBE\u8BA1,\u7EC6\u5316\u4E1A\u52A1\u89C4\u5219\u6D41\u7A0B,\u5206\u6790\u6240\u5904\u7406\u7684\u4E1A\u52A1\u6570\u636E\\n    \u548C\u5904\u7406\u65B9\u5F0F,\u660E\u786E\u91C7\u7528\u7684\u5173\u952E\u6280\u672F\u548C\u7B97\u6CD5\u7B49.\\n5. \u5BF9\u7CFB\u7EDF\u91C7\u7528\u7684\u5173\u952E\u6280\u672F\u8FDB\u884C\u65B9\u6848\u9009\u578B\u548C\u521D\u6B65\u8BBE\u8BA1.\\n\\n#### RAID \u5206\u7EA7\\n\\nRAID\u7B49\u7EA7 | n | \u6700\u5C0F\u5BB9\u9519\u786C\u76D8\u6570 | \u53EF\u7528\u5BB9\u91CF | \u6027\u80FD|\u5B89\u5168\u6027|\u76EE\u7684|\u5E94\u7528\u4EA7\u4E1A\\n---------|------------|----------------|----------|-----|------|----|--------\\nJBOD|\u22671|0|n|\u4E0D\u53D8|\u65E0(\u540CRAID 0)|\u8FFD\u6C42\u6700\u5927\u5BB9\u91CF||\u4E2A\u4EBA(\u6682\u65F6)\u5B58\u50A8\u5907\u4EFD\\n0|\u22672|0|n|\u6700\u9AD8|\u4E00\u4E2A\u786C\u76D8\u5F02\u5E38\uFF0C\u5168\u90E8\u786C\u76D8\u5373\u8DDF\u7740\u5F02\u5E38|\u8FFD\u6C42\u6700\u5927\u5BB9\u91CF\u3001\u901F\u5EA6|3D\u4EA7\u4E1A\u5B9E\u65F6\u6E32\u67D3\u3001\u89C6\u9891\u526A\u63A5\u9AD8\u901F\u7F13\u5B58\u7528\u9014\\n1|\u22672|\u603B\u6570\u7684\u4E00\u534A|\u603B\u5BB9\u91CF\u7684\u4E00\u534A|\u7A0D\u6709\u63D0\u5347|\u6700\u9AD8|\u8FFD\u6C42\u6700\u5927\u5B89\u5168\u6027|\u4E2A\u4EBA\u3001\u4F01\u4E1A\u5907\u4EFD\\n5|\u22673|1|n-1|\u9AD8|\u9AD8|\u8FFD\u6C42\u6700\u5927\u5BB9\u91CF\u3001\u6700\u5C0F\u9884\u7B97|\u4E2A\u4EBA\u3001\u4F01\u4E1A\u5907\u4EFD\\n6|\u22674|2|n-2|\u6BD4RAID 5\u7A0D\u6162|\u5B89\u5168\u6027\u8F83RAID 5\u9AD8|\u540CRAID 5\uFF0C\u4F46\u8F83\u5B89\u5168|\u4E2A\u4EBA\u3001\u4F01\u4E1A\u5907\u4EFD\\n10|\u22674|\u603B\u6570\u7684\u4E00\u534A|\u603B\u5BB9\u91CF\u7684\u4E00\u534A|\u9AD8|\u5B89\u5168\u6027\u6700\u9AD8|\u7EFC\u5408RAID 0/1\u4F18\u70B9\uFF0C\u7406\u8BBA\u901F\u5EA6\u8F83\u5FEB|\u5927\u578B\u6570\u636E\u5E93\u3001\u670D\u52A1\u5668\\n\\n\x3c!-- \u5B9A\u4E49\u5916\u90E8\u94FE\u63A5 --\x3e\\n[wiki-\u6570\u636E\u6A21\u578B]:http://zh.wikipedia.org/wiki/\u6570\u636E\u6A21\u578B\\n[wiki-\u6570\u636E\u5B57\u5178]:http://zh.wikipedia.org/wiki/\u6570\u636E\u5B57\u5178"},{"id":"personal-project-page","metadata":{"permalink":"/story/personal-project-page","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2013/2013-08-23-\u4E2A\u4EBA\u4F5C\u54C1\u5C55\u793A\u9875\u9762.md","source":"@site/../story/2013/2013-08-23-\u4E2A\u4EBA\u4F5C\u54C1\u5C55\u793A\u9875\u9762.md","title":"\u4E2A\u4EBA\u4F5C\u54C1\u5C55\u793A\u9875\u9762","description":"\u4E2A\u4EBA\u4F5C\u54C1\u5C55\u793A\u622A\u56FE","date":"2013-08-23T00:00:00.000Z","tags":[{"inline":true,"label":"\u7F51\u7AD9","permalink":"/story/tags/\u7F51\u7AD9"}],"readingTime":0.41,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"personal-project-page","title":"\u4E2A\u4EBA\u4F5C\u54C1\u5C55\u793A\u9875\u9762","tags":["\u7F51\u7AD9"],"date":"2013-08-23T00:00:00.000Z","type":"post"},"unlisted":false,"prevItem":{"title":"\u6570\u636E\u5E93\u539F\u7406 for NCRE 4","permalink":"/story/ncre-4-database-note"},"nextItem":{"title":"\u4FC4\u7F57\u65AF\u65B9\u5757","permalink":"/story/gtetris"}},"content":"\x3c!-- \u94FE\u63A5\u9644\u4E0A: [\u4F5C\u54C1\u5C55\u793A\u9875\u9762](http://sites.wener.me/works) --\x3e\\n\\n![\u4E2A\u4EBA\u4F5C\u54C1\u5C55\u793A\u622A\u56FE](https://git.oschina.net/wenerme/wener/raw/master/screenshot/\u6211\u7684\u4E2A\u4EBA\u4F5C\u54C1\u7F51\u7AD9.png \\"\u4E2A\u4EBA\u4F5C\u54C1\u5C55\u793A\\")\\n\\n\x3c!--more--\x3e\\n\\n\u4E00\u4E2A\u7B80\u7B80\u5355\u5355\u5E72\u5E72\u51C0\u51C0\u7684\u4F5C\u54C1\u5C55\u793A\u9875\u9762\\n\\n\u7279\u6027\\n----\\n\\n* \u6570\u636E\u5747\u4F7F\u7528yaml\u7F16\u5199,\u6613\u4E8E\u4FEE\u6539\u6DFB\u52A0\\n* \u6570\u636E\u9A71\u52A8,\u4FEE\u6539\u7B80\u5355\\n* \u4E2A\u4EBA\u6BD4\u8F83\u559C\u6B22\u8FD9\u6837\u7684\u754C\u9762,\u6DE1\u96C5\\n\\n\u8FD8\u6709\u4EC0\u4E48\u8981\u8BF4\u7684\u5462? \u6069~\u4EE5\u540E\u5982\u679C\u6709\u4E86\u65B0\u7684\u4F5C\u54C1\u5E94\u8BE5\u90FD\u4F1A\u5C3D\u91CF\u66F4\u65B0\u5728\u54EA\u91CC\u5427.\\n\\n;-)"},{"id":"gtetris","metadata":{"permalink":"/story/gtetris","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/project/gtetris.md","source":"@site/../story/project/gtetris.md","title":"\u4FC4\u7F57\u65AF\u65B9\u5757","description":"","date":"2013-08-12T00:00:00.000Z","tags":[{"inline":true,"label":"\u9879\u76EE","permalink":"/story/tags/\u9879\u76EE"},{"inline":true,"label":"Java","permalink":"/story/tags/java"},{"inline":true,"label":"\u6E38\u620F","permalink":"/story/tags/\u6E38\u620F"}],"readingTime":0.04,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u4FC4\u7F57\u65AF\u65B9\u5757","slug":"gtetris","type":"post","date":"2013-08-12T00:00:00.000Z","tags":["\u9879\u76EE","Java","\u6E38\u620F"],"baseUrl":"https://github.com/wenerme/gtetris/tree/master/"},"unlisted":false,"prevItem":{"title":"\u4E2A\u4EBA\u4F5C\u54C1\u5C55\u793A\u9875\u9762","permalink":"/story/personal-project-page"},"nextItem":{"title":"\u8D2A\u5403\u86C7-\u63A7\u5236\u53F0\u7248","permalink":"/story/greedy_snake"}},"content":"\x3c!--import(https://raw.githubusercontent.com/wenerme/gtetris/master/README.md)--\x3e"},{"id":"greedy_snake","metadata":{"permalink":"/story/greedy_snake","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/project/greedy_snake.md","source":"@site/../story/project/greedy_snake.md","title":"\u8D2A\u5403\u86C7-\u63A7\u5236\u53F0\u7248","description":"","date":"2013-05-14T00:00:00.000Z","tags":[{"inline":true,"label":"\u9879\u76EE","permalink":"/story/tags/\u9879\u76EE"},{"inline":true,"label":"C","permalink":"/story/tags/c"},{"inline":true,"label":"\u6E38\u620F","permalink":"/story/tags/\u6E38\u620F"}],"readingTime":0.04,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u8D2A\u5403\u86C7-\u63A7\u5236\u53F0\u7248","slug":"greedy_snake","date":"2013-05-14T00:00:00.000Z","tags":["\u9879\u76EE","C","\u6E38\u620F"],"baseUrl":"https://github.com/wenerme/greedy_snake/tree/master/"},"unlisted":false,"prevItem":{"title":"\u4FC4\u7F57\u65AF\u65B9\u5757","permalink":"/story/gtetris"},"nextItem":{"title":"VB.NET \u5BF9\u5BF9\u78B0\u6E38\u620F","permalink":"/story/vb-pong-game"}},"content":"\x3c!--import(https://raw.githubusercontent.com/wenerme/greedy_snake/master/README.md)--\x3e"},{"id":"vb-pong-game","metadata":{"permalink":"/story/vb-pong-game","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2012/2012-02-28-VB.NET \u5BF9\u5BF9\u78B0\u6E38\u620F.md","source":"@site/../story/2012/2012-02-28-VB.NET \u5BF9\u5BF9\u78B0\u6E38\u620F.md","title":"VB.NET \u5BF9\u5BF9\u78B0\u6E38\u620F","description":"\u4F5C\u8005:Wener","date":"2012-02-28T00:00:00.000Z","tags":[{"inline":true,"label":"\u6E38\u620F","permalink":"/story/tags/\u6E38\u620F"},{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"},{"inline":true,"label":"VB.NET","permalink":"/story/tags/vb-net"},{"inline":true,"label":".NET","permalink":"/story/tags/net"}],"readingTime":0.92,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"VB.NET \u5BF9\u5BF9\u78B0\u6E38\u620F","slug":"vb-pong-game","tags":["\u6E38\u620F","\u7F16\u7A0B","VB.NET",".NET"],"date":"2012-02-28T00:00:00.000Z","type":"post"},"unlisted":false,"prevItem":{"title":"\u8D2A\u5403\u86C7-\u63A7\u5236\u53F0\u7248","permalink":"/story/greedy_snake"},"nextItem":{"title":"\u6211\u7684\u7B2C\u4E00\u4E2AVB.Net\u7A0B\u5E8F","permalink":"/story/first-vb-prog"}},"content":"\u4F5C\u8005:[Wener](http://wener.me)\\n\\n\u7248\u672C:1.0\\n\\n\u5E73\u53F0:.Net 4.0\\n\\nVS:2010\\n\\n[\u70B9\u6B64](http://download.csdn.net/detail/a3160586/4178509)\u4E0B\u8F7D\\n\\n![\u5BF9\u5BF9\u78B0\u6E38\u620F\u622A\u5C4F](https://git.oschina.net/wenerme/wener/raw/master/screenshot/\u5BF9\u5BF9\u78B0\u6E38\u620F.jpg \\"\u5BF9\u5BF9\u78B0\u6E38\u620F\\")\\n\\n\x3c!--more--\x3e\\n\\n\u7B80\u4ECB\\n----\\n\\n\u8FD9\u4E2A\u6E38\u620F\u7C7B\u4F3C\u4E8E\u8FDE\u8FDE\u770B,\u70B9\u51FB\u4E2D\u95F4\u83DC\u5355\u4E0A\u7684\u5F00\u59CB\u6309\u94AE,\u5F00\u59CB\u6E38\u620F.\\n\u6E38\u620F\u5728\u5F00\u59CB\u540E,\u7403\u7684\u6570\u91CF\u9010\u6E10\u589E\u52A0,\u901F\u5EA6\u9010\u6E10\u52A0\u5FEB,\u79CD\u7C7B\u9010\u6E10\u589E\u591A.\\n\\n\u5728\u7403\u7684\u6700\u5927\u91CF\u8FBE\u5230100\u65F6\u4E0D\u518D\u589E\u52A0.\u6570\u91CF\u5728\u9762\u677F\u4E0A\u6709\u663E\u793A.\\n\\n\u6570\u91CF:(\u5F53\u524D\u6570\u91CF)/(\u6700\u5927\u91CF)\\n\\n\u5728\u603B\u91CF\u8FBE\u5230100\u65F6,\u5F00\u59CB\u5012\u8BA1\u65F6,120\u79D2.\u5728\u5012\u8BA1\u65F6\u5185\u628A\u6240\u6709\u7684\u7403\u90FD\\n\\n\u6D88\u6389,\u4FBF\u80DC\u5229,\u5426\u5219\u5931\u8D25.\\n\\n\u64CD\u4F5C\u8BF4\u660E\\n: \u6BCF\u4E2A\u6CE1\u6CE1\u90FD\u53EF\u4EE5\u629B\u6254,\u5F53\u524D\u9009\u4E2D\u7684\u7403\u4E0A\u4F1A\u6709\u4E00\u4E2A\u9ED1\u5708.\\n\\n### \u6A21\u5F0F\u8BF4\u660E\\n\\n\u91CD\u529B\u6A21\u5F0F\\n: \u6A21\u62DF\u51FA\u91CD\u529B\u6548\u679C,\u4F7F\u5C0F\u7403\u81EA\u52A8\u5F80\u4E0B\u6389.\\n\\n\u80CC\u666F\u53EF\u9009\\n: \u5F53\u6253\u5F00\u7684\u65F6\u5019,\u80FD\u591F\u70B9\u51FB\u5230\u80CC\u666F\u540E\u7684\u5185\u5BB9.\\n\\n\u6B22\u4E50\u6A21\u5F0F\\n: \u5728\u8BE5\u6A21\u5F0F\u4E0B,\u5F53\u4E24\u4E2A\u76F8\u540C\u7684\u7403\u78B0\u649E\u65F6,\u81EA\u52A8\u6D88\u5931."},{"id":"first-vb-prog","metadata":{"permalink":"/story/first-vb-prog","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2012/2012-02-25-\u6211\u7684\u7B2C\u4E00\u4E2AVBNet\u7A0B\u5E8F.md","source":"@site/../story/2012/2012-02-25-\u6211\u7684\u7B2C\u4E00\u4E2AVBNet\u7A0B\u5E8F.md","title":"\u6211\u7684\u7B2C\u4E00\u4E2AVB.Net\u7A0B\u5E8F","description":"\u6211\u5B66VB.Net\u7684\u7B2C\u4E00\u4E2A\u7A0B\u5E8F\u3002\u5305\u542B\u4E86VB\u57FA\u672C\u7684\u4F7F\u7528\u65B9\u6CD5\uFF0C\u5BF9\u6211\u6765\u8BF4\u5177\u6709\u76F8\u5F53\u7684\u7EAA\u5FF5\u610F\u4E49\u3002","date":"2012-02-25T00:00:00.000Z","tags":[{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"},{"inline":true,"label":"VB.NET","permalink":"/story/tags/vb-net"},{"inline":true,"label":".NET","permalink":"/story/tags/net"}],"readingTime":0.34,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u6211\u7684\u7B2C\u4E00\u4E2AVB.Net\u7A0B\u5E8F","slug":"first-vb-prog","tags":["\u7F16\u7A0B","VB.NET",".NET"],"date":"2012-02-25T00:00:00.000Z","type":"post"},"unlisted":false,"prevItem":{"title":"VB.NET \u5BF9\u5BF9\u78B0\u6E38\u620F","permalink":"/story/vb-pong-game"},"nextItem":{"title":"\u6982\u8FF0 getopt.h \u7684\u4F7F\u7528","permalink":"/story/getopt-h-tips"}},"content":"\u6211\u5B66VB.Net\u7684\u7B2C\u4E00\u4E2A\u7A0B\u5E8F\u3002\u5305\u542B\u4E86VB\u57FA\u672C\u7684\u4F7F\u7528\u65B9\u6CD5\uFF0C\u5BF9\u6211\u6765\u8BF4\u5177\u6709\u76F8\u5F53\u7684\u7EAA\u5FF5\u610F\u4E49\u3002\\n\\n![WinForm](https://git.oschina.net/wenerme/wener/raw/master/screenshot/\u6211\u7684\u7B2C\u4E00\u4E2AVB.Net\u7A0B\u5E8F-\u754C\u9762.png \\"WinForm\\")\\n\\n\u7A0B\u5E8F\u4E2A\u4E2A\u7EC4\u4EF6\u4E0A\u6709tooltip\uFF0C\u9F20\u6807\u632A\u4E0A\u53BB\u5C31\u77E5\u9053\u4EC0\u4E48\u610F\u601D\u4E86\u3002\u89C9\u5F97\u8FD8\u662F\u633A\u6709\u8DA3\u7684\u3002\\n\\n[\u7A0B\u5E8F\u548C\u4EE3\u7801\u4E0B\u8F7D](http://download.csdn.net/detail/a3160586/5972007)"},{"id":"getopt-h-tips","metadata":{"permalink":"/story/getopt-h-tips","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2012/2012-02-23-\u6982\u8FF0getopt.h\u7684\u4F7F\u7528.md","source":"@site/../story/2012/2012-02-23-\u6982\u8FF0getopt.h\u7684\u4F7F\u7528.md","title":"\u6982\u8FF0 getopt.h \u7684\u4F7F\u7528","description":"\u6982\u8FF0","date":"2012-02-23T00:00:00.000Z","tags":[{"inline":true,"label":"C","permalink":"/story/tags/c"},{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"},{"inline":true,"label":"\u5E93","permalink":"/story/tags/\u5E93"}],"readingTime":5.3,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"getopt-h-tips","title":"\u6982\u8FF0 getopt.h \u7684\u4F7F\u7528","tags":["C","\u7F16\u7A0B","\u5E93"],"date":"2012-02-23T00:00:00.000Z","type":"post"},"unlisted":false,"prevItem":{"title":"\u6211\u7684\u7B2C\u4E00\u4E2AVB.Net\u7A0B\u5E8F","permalink":"/story/first-vb-prog"},"nextItem":{"title":"\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u4ECB PPT","permalink":"/story/fwj-resume"}},"content":"## \u6982\u8FF0\\nc\u8BED\u8A00\u63A7\u5236\u53F0\u7F16\u7A0B\u65F6\uFF0C\u7ECF\u5E38\u90FD\u8981\u63A5\u53D7\u547D\u4EE4\u884C\u4F20\u9012\u6765\u7684\u9009\u9879\uFF0C\u800Cgetopt\u662F\u4E13\u95E8\u7528\u6765\u89E3\u6790\u547D\u4EE4\u884C\u9009\u9879\u7684\u4E00\u5957\u51FD\u6570\u3002\\n\\n\u7B80\u5355\u7684\u8BF4\u4E00\u4E0Bgetopt\uFF0C\u5979\u5DF2\u7ECF\u6709\u76F8\u5F53\u957F\u7684\u5386\u53F2\u4E86\uFF0C\u65E9\u671F\u662F\u5728Unix\u4E2D\u4F7F\u7528\uFF0C\u73B0\u5728\u5DF2\u7ECF\u79FB\u690D\u5230\u4E86\u4E2A\u4E2A\u4E0D\u540C\u7684\u8BED\u8A00\uFF08Shell,Java,Php,.NET...\uFF09\uFF0C\u4E3A\u63A5\u53D7\u547D\u4EE4\u884C\u9009\u9879\u63D0\u4F9B\u4E86\u5F88\u5927\u7684\u4FBF\u5229\u3002\u540C\u65F6\u4E5F\u6307\u5B9A\u4E86\u4E00\u5957\u4F20\u9012\u9009\u9879\u548C\u53C2\u6570\u7684\u6807\u51C6\u3002\\n\\n\x3c!--more--\x3e\\n\\n## \u53C2\u6570\u4F20\u9012\u6807\u51C6\\n\u5982\u4ECA\u7684\u9009\u9879\u6709\u4E24\u79CD\u6A21\u5F0F\uFF0C\u77ED\u9009\u9879\u548C\u957F\u9009\u9879\uFF0C\u9009\u9879\u53C8\u5206\u4E3A\u5E26\u53C2\u6570\u548C\u4E0D\u5E26\u53C2\u6570\u3002\\n\\n\u6BD4\u5982\uFF1A\\n\\ngcc -V \u662F\u77ED\u9009\u9879\uFF0C\u4E14\u4E0D\u5E26\u53C2\u6570\\n\\ngcc --version \u662F\u957F\u9009\u9879\uFF0C\u4E0D\u5E26\u53C2\u6570\u3002\u4E0Egcc -V\u76F8\u540C\\n\\ngcc -o exc \u662F\u77ED\u9009\u9879 \u5E26\u53C2\u6570\uFF0C\u4E0Egcc --output exc\u76F8\u540C\\n\\n\u800C\u591A\u4E2A\u77ED\u9009\u9879\u53EF\u76F4\u63A5\u8FDE\u63A5\uFF0C\u4F8B\u5982gcc -so FILE \u4E0E gcc -s -o FILE\u76F8\u540C\\n\\n\u77ED\u9009\u9879\u7684\u53C2\u6570\u53EF\u76F4\u63A5\u7D27\u63A5\u5728\u5176\u540E,\u4F8B\u5982gcc -oFILE = gcc -oFILE\\n\\n\u957F\u9009\u9879\u7684\u53C2\u6570\u53EF\u4EE5\u4EE5\u7A7A\u683C\u5206\u9694\u6216\u8005=\u5206\u9694\uFF0C\u4F8B\u5982 gcc --output FILE = gcc --output=FILE\\n<h1>\u5B9E\u73B0</h1>\\ngetopt\u4E2D\u7684\u5185\u5BB9\uFF1A\\n\\n\u5177\u4F53\u8BB2\u89E3\u5728\u5B9E\u4F8B\u4E2D\u3002\\n\\n```c\\n/* \u5DF2\u5B9A\u4E49\u7684\u53D8\u91CF */\\n\\nint opterr\\nint optopt\\nint optind\\nchar *optarg\\n\\n/* \u5DF2\u5B9A\u4E49\u7684\u51FD\u6570 */\\n/*  */\\nint getopt (int argc, char **argv, const char *options)\\nint getopt_long (int argc, char *const *argv, const char *shortopts, const struct option *longopts, int *indexptr)\\n\\nint getopt_long_only (int argc, char *const *argv, const char *shortopts, const struct option *longopts, int *indexptr)\\n\\n/* \u6570\u636E\u7C7B\u578B */\\nstruct option</code>\\n\\n\u5B9E\u4F8B1.\u5B9E\u73B0\u77ED\u53C2\u6570\\n\\n<code lang=\\"c[lines]\\">\\n#include <ctype .h>\\n#include <stdio .h>\\n#include <stdlib .h>\\n/* getopt\u65F6\u5FC5\u987B\u5305\u542B unistd\u5934\u6587\u4EF6 */\\n#include <unistd .h>\\n\\nint main (int argc, char **argv)\\n{\\n    int index;\\n    int c;\\n\\n    opterr = 0;\\n /* getopt \u7528\u6765\u89E3\u6790\u77ED\u9009\u9879\uFF0C\u7B2C\u4E00\u4E8C\u4E2A\u53C2\u6570\u57FA\u672C\u90FD\u662F\u76F8\u540C\u7684 */\\n /* \u7B2C\u4E09\u4E2A\u9009\u9879\u4F20\u5165\u80FD\u63A5\u53D7\u7684\u53C2\u6570,\':\'\u4EE3\u8868\u9700\u8981\u503C \'::\'\u4EE3\u8868\u503C\u4E3A\u53EF\u9009*/\\n /* \u5982\u679C\u4F20\u5165\u4E86\u503C\uFF0C\u5176\u503C\u4FDD\u5B58\u5728optarg\u5F53\u4E2D\uFF0C\u5F53\u5176\u503C\u4E3A\u5FC5\u987B\u662F\uFF0C\u82E5\u6CA1\u6709\u4F20\u5165\u503C\u5219\u4F1A\u62A5\u9519 \u7F3A\u5C11\u503C */\\n /* getopt\u8FD4\u56DE\u5339\u914D\u7684\u9009\u9879&nbsp;\u4F8B\u5982a/b/c */\\n /* \u672A\u5339\u914D\u503C\u65F6\u8FD4\u56DE\uFF1F \u89E3\u6790\u5B8C\u65F6\uFF0C\u4F1A\u8FD4\u56DE-1 \u8DF3\u51FA */\\n    while ((c = getopt (argc, argv, \\"abc:\\")) != -1)\\n        switch (c)\\n        {\\n        case \'a\':\\n            printf(\\"\u68C0\u6D4B\u5230-a\u9009\u9879\\\\n\\");\\n            break;\\n        case \'b\':\\n            printf(\\"\u68C0\u6D4B\u5230-b\u9009\u9879\\\\n\\");\\n            break;\\n        case \'c\':\\n            printf(\\"\u68C0\u6D4B\u5230-c\u9009\u9879\uFF0C\u5176\u53C2\u6570\u4E3A\uFF1A%s\\\\n\\", optarg);\\n            break;\\n        /* \u7528\u6765\u68C0\u6D4B\u5176\u4ED6\u610F\u5916\u7684\u503C */\\n        case \'?\':\\n         /* optopt\u4E3A\u5728\u6CA1\u6709\u5339\u914D\u4EFB\u4F55\u9009\u9879\u65F6\uFF0C\u4FDD\u5B58\u7684\u9009\u9879\u503C */\\n         /* \u4F8B\u5982-n\uFF0C\u6CA1\u6709\u4E0E\u4E0A\u9762\u5339\u914D\uFF0C\u5219\u6B64\u65F6optopt=c */\\n            if (optopt == \'c\')\\n                fprintf (stderr, \\"\u9009\u9879 -%c \u9700\u8981\u4E00\u4E2A\u53C2\u6570.\\\\n\\", optopt);\\n            else if (isprint (optopt))\\n                fprintf (stderr, \\"`-%c\'\u672A\u5B9A\u4E49\\\\n\\", optopt);\\n            else\\n                fprintf (stderr,\\n                         \\" `\\\\\\\\x%x\' \u672A\u5B9A\u4E49\\\\n\\",\\n                         optopt);\\n            return 1;\\n        default:\\n            abort ();\\n        }\\n /*\\n \u6700\u540E\u68C0\u6D4B\u547D\u4EE4\u884C\u7ED9\u7684\u9009\u9879\u662F\u5426\u5DF2\u7ECF\u89E3\u6790\u5B8C\\n  optind\u662F\u5F53\u524D\u89E3\u6790\u5230\u9009\u9879\u7684\u7D22\u5F15\\n  \u5224\u65AD\u4F9D\u636E\u662F\u5982\u679C\u89E3\u6790\u7684\u4E2A\u6570\u5C0F\u4E8Eargc\uFF0C\u90A3\u4E48\u5C31\u662F\u6CA1\u6709\u89E3\u6790\u5B8C\\n */\\n    for (index = optind; index < argc; index++)\\n        printf (\\"\u672A\u5B9A\u4E49\u7684\u53C2\u6570\uFF1A %s\\\\n\\", argv[index]);\\n    return 0;\\n}\\n```\\n\\n\u5B9E\u4F8B2.\u5B9E\u73B0\u957F\u9009\u9879\\n\\n```c\\n#include <stdio .h>\\n#include <stdlib .h>\\n/* \u4F7F\u7528getopt_long\u65F6\u4E0D\u9700\u8981unistd*/\\n#include <getopt .h>\\n\\n/* \u7528\u6765\u4F5C\u4E3A\u4E00\u4E2A\u6807\u5FD7\u7684\u503C. */\\nstatic int verbose_flag;\\n\\nint\\nmain (argc, argv)\\nint argc;\\nchar **argv;\\n{\\n    int c;\\n\\n    while (1)\\n    {\\n     /*\\n \u7ED3\u6784\u8BF4\u660E\\n  struct option {\\n const char *name; //\u5339\u914D\u7684\u957F\u9009\u9879\u540D\\n int  has_arg; //\u6307\u5B9A\u53C2\u6570\u9009\u9879no_argument required_argument optional_argument\\n  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// \u65E0\u503C \u503C\u5FC5\u987B \u503C\u53EF\u9009\\n int *flag; //\u6807\u5FD7\u4F4D,\u6570\u636E\u7C7B\u578B\u4E3A int*\\n int val; //\u503C\uFF0C\u6807\u5FD7\u4F4D\u4E0D\u4E3A0\u65F6\uFF0C\u5982\u679C\u8BE5\u9009\u9879\u6307\u5B9A\uFF0C\u90A3\u4E48flag=val \u6B64\u65F6val\u4E0D\u53EF\u4F5C\u4E3Acase\u503C\\n //\u5426\u5219val\u53EF\u4EE5\u4F5C\u4E3A\u77ED\u9009\u9879 \u4E5F\u5C31\u76F8\u5F53\u4E8Ecase\\n };\\n */\\n        static struct option long_options[] =\\n        {\\n            /* \u5982\u679C\u6307\u5B9A\u4E86-verbose \u90A3\u4E48verbose_flag = 1*/\\n            {\\"verbose\\", no_argument,       &verbose_flag, 1},\\n            /* \u5982\u679C\u6307\u5B9A\u4E86-brief \u90A3\u4E48verbose_flag = 0*/\\n            {\\"brief\\",   no_argument,       &verbose_flag, 0},\\n            /* --add = -a \u4E0D\u5E26\u53C2\u6570*/\\n            {\\"add\\",     no_argument,       0, \'a\'},\\n            {\\"append\\",  no_argument,       0, \'b\'},\\n            /* --delete=XX = -dXX \u5E26\u53C2\u6570*/\\n            {\\"delete\\",  required_argument, 0, \'d\'},\\n            {\\"create\\",  required_argument, 0, \'c\'},\\n            {\\"file\\",    required_argument, 0, \'f\'},\\n            /* \u5F88\u660E\u663E5438\u4E0D\u53EF\u80FD\u7528\u4E00\u4E2AANSCI\u8868\u793A\u51FA\u6765\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u53EF\u4EE5\u76F4\u63A5\u7528case\u5C31\u53EF\u4EE5*/\\n            {\\"a_very_long_arg\\",    no_argument, 0, 5438},\\n            /* \u6700\u540E\u4E3A\u7A7A\u503C\uFF0C\u6765\u6807\u8BC6\u7ED3\u675F */\\n            {0, 0, 0, 0}\\n        };\\n        /* \u56E0\u4E3A\u6CA1\u6709\u4E86optind\uFF0C\u90A3\u4E48\u5C31\u8981\u7528\u4E00\u4E2A\u503C\u6765\u5B58\u50A8\u5F53\u524D\u7D22\u5F15 */\\n        int option_index = 0;\\n\\n /* \u524D\u4E09\u4E2A\u53C2\u6570\u4E0Egetopt\u76F8\u540C\uFF0C\u7B2C\u56DB\u4E2A\u4E3Aoption\uFF0C\u7B2C\u4E94\u4E2A\u4E3A\u5B58\u7D22\u5F15int\u7684\u6307\u9488*/\\n        c = getopt_long (argc, argv, \\"abc:d:f:\\",\\n                         long_options, &option_index);\\n\\n        /* \u5F53\u89E3\u6790\u5B8C\u8FD4\u56DE-1 \u8DF3\u51FA\u5FAA\u73AF */\\n        if (c == -1)\\n            break;\\n\\n        switch (c)\\n        {\\n        case 0:\\n            /* \u5F53 flag\u4E0D\u4E3A0\u65F6\uFF0C\u9047\u5230\u90A3\u4E9B\u9009\u9879 getopt_long\u8FD4\u56DE0*/\\n            if (long_options[option_index].flag != 0)\\n                break;\\n            printf (\\"\u9009\u9879 %s\\", long_options[option_index].name);\\n            if (optarg)\\n                printf (\\" \u503C %s\\", optarg);\\n            printf (\\"\\\\n\\");\\n            break;\\n\\n        case \'a\':\\n            puts (\\"\u9009\u9879 -a\\\\n\\");\\n            break;\\n\\n        case \'b\':\\n            puts (\\"\u9009\u9879 -b\\\\n\\");\\n            break;\\n        //\u957F\u9009\u9879\\n        case 5438:\\n            puts (\\"\u9009\u9879 --a_very_long_arg\\\\n\\");\\n            break;\\n            break;\\n        case \'c\':\\n            printf (\\"\u9009\u9879 -c \u503C\u4E3A `%s\'\\\\n\\", optarg);\\n            break;\\n\\n        case \'d\':\\n            printf (\\"\u9009\u9879 -d \u503C\u4E3A `%s\'\\\\n\\", optarg);\\n            break;\\n\\n        case \'f\':\\n            printf (\\"\u9009\u9879 -f \u503C\u4E3A `%s\'\\\\n\\", optarg);\\n            break;\\n\\n        case \'?\':\\n            /* getopt_long \u4F1A\u81EA\u52A8\u8F93\u51FA\u9519\u8BEF\uFF0C\u4E0D\u50CFgetopt\u9700\u8981\u81EA\u5DF1\u68C0\u6D4B */\\n            break;\\n\\n        default:\\n            abort ();\\n        }\\n    }\\n\\n    /* \u68C0\u6D4B\u662F\u5426\u8BBE\u7F6E\u4E86\u6807\u5FD7\u4F4D */\\n    if (verbose_flag)\\n        puts (\\"verbose \u6807\u5FD7\u5DF2\u88AB\u8BBE\u7F6E\\");\\n\\n    /* \u8F93\u5165\u672A\u89E3\u6790\u5B8C\u7684\u9009\u9879. */\\n    if (optind < argc)\\n    {\\n        printf (\\"\u65E0\u6548\u9009\u9879\uFF1A \\");\\n        while (optind < argc)\\n            printf (\\"%s \\", argv[optind++]);\\n        putchar (\'\\\\n\');\\n    }\\n\\n    exit (0);\\n}\\n```\\n\\n\u5B9E\u4F8B3.<strong>getopt_long_only</strong>\\n\\n\u8FD9\u4E2A\u51FD\u6570\u7684\u53C2\u6570\u548Cgetopt_long\u76F8\u540C\uFF0C\u53EA\u662F\u63A5\u53D7\u957F\u53C2\u6570\u65F6\uFF0C\u53EF\u4EE5\u53EA\u7528\u4E00\u4E2A\'-\'\u6765\u66FF\u4EE3\'--\'\u3002\u5F53-xx\u6CA1\u6709\u68C0\u6D4B\u5230xx\u7684\u957F\u53C2\u6570\u65F6\u4F1A\u68C0\u6D4B-x\u77ED\u53C2\u6570\u3002\\n\\n\u540C\u65F6\'--\'\u4E5F\u80FD\u591F\u4F7F\u7528,\u4E5F\u5C31\u662F\u8BF4-xx=--xx\\n<h1>\u7ED3\u5C3E</h1>\\n\u4E0D\u5F97\u4E0D\u8BF4\uFF0Cgetopt\u662F\u4E00\u4E2A\u5F88\u5B9E\u7528\u7684\u5DE5\u5177\uFF0C\u5BF9\u4E8E\u7F16\u7A0B\u80FD\u63D0\u4F9B\u5F88\u591A\u7684\u4FBF\u5229\u3002gnu\u4E5F\u6709\u5F00\u6E90\u7684\u5B9E\u73B0\u5728gnulib\u548Clibc\u4E2D\u3002\\n\\n\u53C2\u8003\uFF1A\\n\\nGNU Libc\u624B\u518C\uFF1A<a href=\\"http://www.gnu.org/software/libc/manual/html_node/Getopt.html#Getopt\\">http://www.gnu.org/software/libc/manual/html_node/Getopt.html#Getopt</a>\\n\\nGetopt\u82F1\u6587\u7EF4\u57FA\u9875\u9762\uFF1A<a href=\\"http://en.wikipedia.org/wiki/Getopt\\">http://en.wikipedia.org/wiki/Getopt</a>"},{"id":"fwj-resume","metadata":{"permalink":"/story/fwj-resume","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2011/2011-12-07-\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u4ECB PPT.md","source":"@site/../story/2011/2011-12-07-\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u4ECB PPT.md","title":"\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u4ECB PPT","description":"\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u4ECB-\u4E2D\u5F97\u4E00\u4E2APPT\u7CFB\u7EDF","date":"2011-12-07T00:00:00.000Z","tags":[],"readingTime":1.19,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u4ECB PPT","slug":"fwj-resume","date":"2011-12-07T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\u6982\u8FF0 getopt.h \u7684\u4F7F\u7528","permalink":"/story/getopt-h-tips"},"nextItem":{"title":"\u300A\u4F55\u5FC5\u518D\u300B","permalink":"/story/no-more"}},"content":"![\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u4ECB-\u4E2D\u5F97\u4E00\u4E2APPT\u7CFB\u7EDF](https://git.oschina.net/wenerme/wener/raw/master/screenshot/\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u4ECB-\u4E2D\u5F97\u4E00\u4E2APPT\u7CFB\u7EDF.jpg )\\n\\n![\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u4ECB-\u4E2D\u5F97\u4E00\u4E2APPT\u7CFB\u7EDF](https://git.oschina.net/wenerme/wener/raw/master/screenshot/\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u4ECB-\u6307\u5BFC.jpg )\\n\\n\u4E0B\u8F7D(zip)\uFF1A[\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u5386](http://download.csdn.net/detail/a3160586/6706453)\\n\\n\x3c!--more--\x3e\\n\\n\u8001\u5E08\u53EB\u505A\u7684\u4F5C\u4E1A\uFF0C\u4E00\u65F6\u5FC3\u8840\u6765\u6F6E\u5C31\u505A\u4E86\u4E2A\u8FD9\u4E2A\u3002\u6700\u540E\u611F\u89C9\u8FD8\u4E0D\u9519\u3002\\n\\n\u4EE5\u524D\u8FD8\u4ECE\u672A\u505A\u8FC7ppt\uFF0C\u505A\u4E86\u8FD9\u4E2A\u4E4B\u540E\uFF0C\u89C9\u5F97ppt\u8FD8\u662F\u86EE\u5F3A\u5927\u7684\u3002\u4E0D\u8FC7\u5C31\u662F\u5F88\u7E41\u7410\uFF0C\u7279\u522B\u662F\u5728\u81EA\u5B9A\u4E49\u52A8\u753B\u591A\u4E86\u4E4B\u540E\uFF0C\u56FE\u5C42\u5BF9\u8C61\u591A\u4E86\u4E4B\u540E\uFF0C\u7BA1\u7406\u8D77\u6765\u5F88\u9EBB\u70E6\u3002wps\u4E5F\u6709\u4E9B\u4E0D\u7ED9\u529B\uFF0C\u672C\u6765\u662F\u597D\u597D\u57302012\u7684\uFF0C\u4E0D\u5F97\u4E0D\u53C8\u8FD8\u56DE\u4E862010\uFF0C\u6253\u5F00\u8FD9\u4E2A\u6587\u4EF6\u7684\u65F6\u5019\u8FD8\u4F1A\u5F88\u5361\u3002\\n\\nms office\u8FD8\u4E0D\u9519\uFF0C\u5F88\u987A\u7545\uFF0C\u4E0D\u8FC7\u8FD9\u4E2A\u662F\u7528wps\u505A\u7684\uFF0C\u6CA1\u6709\u5916\u90E8\u6587\u4EF6\u7684\u4F9D\u8D56\u3002\u4F46\u662F\u5BF9office 2007\u597D\u50CF\u770B\u4E0D\u5230\u80CC\u666F\uFF0C\u6211\u57282003\u4E0A\u80FD\u770B\u5230\u80CC\u666F\u3002\u8FD9\u70B9\u5F88\u65E0\u5948\u3002\\n\\n\u5728\u505A\u81EA\u5B9A\u4E49\u52A8\u4F5C\u7684\u65F6\u5019\u3002\u8FD8\u662F\u6709\u4E9B\u6280\u5DE7\u7684\uFF0C\u6BD4\u5982\u8BF4\u4E00\u6B21\u52A0\u5165\u591A\u4E2A\u6587\u4EF6\uFF0C\u9009\u62E9\u591A\u4E2A\u6587\u4EF6\u6DFB\u52A0\u540C\u6837\u7684\u52A8\u4F5C\u7136\u540E\u7FA4\u4F53\u79FB\u52A8\u3002\u8FD9\u4E2A\u6587\u4EF6\u672C\u6765\u8FD8\u53EF\u4EE5\u52A0\u5165\u58F0\u97F3\u7684\uFF0C\u4F46\u662F\u6CA1\u6709\u53BB\u627E\u58F0\u97F3\u6587\u4EF6\u5728\u54EA\u91CC\u3002\\n\\n\u8981\u662F\u559C\u6B22\uFF0C\u53EF\u4EFB\u610F\u4FEE\u6539\u54E6\u3002\\n\\n\u4E0B\u8F7D(zip)\uFF1A[\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u5386](http://download.csdn.net/detail/a3160586/6706453)"},{"id":"no-more","metadata":{"permalink":"/story/no-more","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2011/2011-11-16-\u300A\u4F55\u5FC5\u518D\u300B.md","source":"@site/../story/2011/2011-11-16-\u300A\u4F55\u5FC5\u518D\u300B.md","title":"\u300A\u4F55\u5FC5\u518D\u300B","description":"","date":"2011-11-16T00:00:00.000Z","tags":[{"inline":true,"label":"\u8BD7\u6B4C","permalink":"/story/tags/\u8BD7\u6B4C"}],"readingTime":0.2,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"no-more","title":"\u300A\u4F55\u5FC5\u518D\u300B","tags":["\u8BD7\u6B4C"]},"unlisted":false,"prevItem":{"title":"\u68A6\u5E7B\u897F\u6E38\u7248\u4E2A\u4EBA\u7B80\u4ECB PPT","permalink":"/story/fwj-resume"},"nextItem":{"title":"\u300A\u6B4C\u58F0\u300B","permalink":"/story/the-song"}},"content":"```\\n\u4F55\u5FC5 \u4F55\u5FC5\u7684\u518D\\n\u4E3A\u4F60\u60F3\u5F97\u592A\u591A\\n\u505A\u7684 \u8BF4\u7684\\n\u592A\u591A\\n\u91CD\u590D\u7684\\n\u4F60\u8BF4\u8FC7\u7684\\n\u90A3\u5DF2\u4E0D\u518D\u6709\u610F\u4E49\\n\u8A00\u8BED \u8BCD\u53E5\\n\u8FD8\u662F\u90A3\u4E48\u7684\u8BD7\u60C5\u753B\u610F\\n\u7231\u4F60 \u672A\u66FE\u6709\u79D8\u5BC6\\n\u4F60\u8BF4\u4ECA\u751F\u6CE8\u5B9A\\n\u4E0D\u80FD\u5728\u4E00\u8D77\\n```"},{"id":"the-song","metadata":{"permalink":"/story/the-song","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2011/2011-11-16-\u300A\u6B4C\u58F0\u300B.md","source":"@site/../story/2011/2011-11-16-\u300A\u6B4C\u58F0\u300B.md","title":"\u300A\u6B4C\u58F0\u300B","description":"","date":"2011-11-16T00:00:00.000Z","tags":[{"inline":true,"label":"\u8BD7\u6B4C","permalink":"/story/tags/\u8BD7\u6B4C"}],"readingTime":0.24,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"the-song","title":"\u300A\u6B4C\u58F0\u300B","tags":["\u8BD7\u6B4C"]},"unlisted":false,"prevItem":{"title":"\u300A\u4F55\u5FC5\u518D\u300B","permalink":"/story/no-more"},"nextItem":{"title":"\u300A\u6C89\u9189\u7684\u72AF\u7F6A\u300B","permalink":"/story/addicted-sin"}},"content":"```\\n\u5F98\u5F8A\u5728\u8033\u95F4\\n\u6709\u4F60\u7684\u547C\u5438 \u5598\u606F\\n\\n\u4E0D\u505C\u5730 \u52AA\u529B\u5730\\n\u8BC9\u8BF4\u7740\u6B4C\u91CC\u7684\u6545\u4E8B\\n\\n\u7559\u7740\u4F60\u7684\u6CEA \u4F24\u7740\u4F60\u7684\u5FC3 \u56DE\u7740\u4F60\u7684\u5FC6\\n\\n\u4F60\u548C\u4ED6\u600E\u6CA1\u7EE7\u7EED\\n\u90A3\u4E48\u591A\u548C\u4ED6\u7684\u5C0F\u79D8\u5BC6\\n\\n\u4E3A\u4EC0\u4E48\u4E0D\u66FE\u544A\u8BC9\u4ED6\\n\u5374\u6765\u5411\u6211\u8BF4\uFF1F\\n```"},{"id":"addicted-sin","metadata":{"permalink":"/story/addicted-sin","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2011/2011-11-16-\u300A\u6C89\u9189\u7684\u72AF\u7F6A\u300B.md","source":"@site/../story/2011/2011-11-16-\u300A\u6C89\u9189\u7684\u72AF\u7F6A\u300B.md","title":"\u300A\u6C89\u9189\u7684\u72AF\u7F6A\u300B","description":"","date":"2011-11-16T00:00:00.000Z","tags":[{"inline":true,"label":"\u8BD7\u6B4C","permalink":"/story/tags/\u8BD7\u6B4C"}],"readingTime":0.17,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"addicted-sin","title":"\u300A\u6C89\u9189\u7684\u72AF\u7F6A\u300B","tags":["\u8BD7\u6B4C"]},"unlisted":false,"prevItem":{"title":"\u300A\u6B4C\u58F0\u300B","permalink":"/story/the-song"},"nextItem":{"title":"\u300A\u7EED\u7231\u300B","permalink":"/story/love-more"}},"content":"```\\n\u6708\u5149\u4F7F\u4EBA\u6C89\u9189\\n\u8DEF\u706F\u5149\u4F7F\u4EBA\u72AF\u7F6A\\n\\n\u90A3\u4E9B\u6C89\u9189\u5728\u62E5\u6000\u4E2D\u72AF\u7F6A\u7684\u4EBA\u554A\\n\u60A8\u53EF\u5426\u632A\u632A\\n\\n\u6211\u4E0D\u662F\u6709\u610F\u8981\u6253\u6270\u4F60\\n\u53EA\u662F\u4F60\u7AD9\u5728\u90A3\u91CC\u6211\u592A\u5BF9\u4E0D\u8D77\\n```"},{"id":"love-more","metadata":{"permalink":"/story/love-more","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2011/2011-11-16-\u300A\u7EED\u7231\u300B.md","source":"@site/../story/2011/2011-11-16-\u300A\u7EED\u7231\u300B.md","title":"\u300A\u7EED\u7231\u300B","description":"","date":"2011-11-16T00:00:00.000Z","tags":[{"inline":true,"label":"\u8BD7\u6B4C","permalink":"/story/tags/\u8BD7\u6B4C"}],"readingTime":0.2,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"love-more","title":"\u300A\u7EED\u7231\u300B","tags":["\u8BD7\u6B4C"]},"unlisted":false,"prevItem":{"title":"\u300A\u6C89\u9189\u7684\u72AF\u7F6A\u300B","permalink":"/story/addicted-sin"},"nextItem":{"title":"\u300A\u975E\u9057\u5931\u300B","permalink":"/story/not-lost"}},"content":"```\\n\u5EF6\u7EED\u4E0A\u4E16\u7684\u8BB0\u5FC6\\n\u4ECA\u751F\u60F3\u7740\u5982\u4F55\u8FD8\u80FD\u548C\u4F60\u7EE7\u7EED\\n\\n\u6211\u601D\u5FF5\u7684\u4EBA\u554A\\n\u6211\u4EEC\u76F8\u9694\u4E00\u4E16\u7684\u8DDD\u79BB\\n\\n\u4F60\u662F\u5426\u8FD8\u8BB0\u5F97\\n\u6709\u8FD9\u4E2A\u4E00\u4E2A\u671F\u5F85\\n\\n\u4F60\u53EF\u4EE5\u4F9D\u8D56\\n\u7EE7\u7EED\u6211\u4EEC\u4ECA\u751F\u7231\\n```"},{"id":"not-lost","metadata":{"permalink":"/story/not-lost","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2011/2011-11-16-\u300A\u975E\u9057\u5931\u300B.md","source":"@site/../story/2011/2011-11-16-\u300A\u975E\u9057\u5931\u300B.md","title":"\u300A\u975E\u9057\u5931\u300B","description":"","date":"2011-11-16T00:00:00.000Z","tags":[{"inline":true,"label":"\u8BD7\u6B4C","permalink":"/story/tags/\u8BD7\u6B4C"}],"readingTime":0.2,"hasTruncateMarker":false,"authors":[],"frontMatter":{"slug":"not-lost","title":"\u300A\u975E\u9057\u5931\u300B","tags":["\u8BD7\u6B4C"],"date":"2011-11-16T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\u300A\u7EED\u7231\u300B","permalink":"/story/love-more"},"nextItem":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u5E8F","permalink":"/story/here-my-love-prolog"}},"content":"```\\n\u6211\u4E0D\u662F\u4F60\u7684\u4EC0\u4E48\\n\\n\u53EA\u662F\u56E0\u4E3A\u4F60\u6211\u9057\u5931\u4E86\u5F88\u591A\\n\\n\u627E\u4E0D\u56DE\u6765\u7684\u662F\u518D\u4E5F\u65E0\u6CD5\u5F97\u5230\u7684\\n\\n\u7559\u4E0B\u7684 \u6C38\u6052\u7684 \u9057\u5931\u7684\\n\\n\u7684\u4F60\\n\\n\u5373\u4FBF\u662F\u5728\u68A6\u4E2D\u4E5F\u6293\u4E0D\u4F4F\u4E00\u7F15\u53D1\u4E1D\\n\\n\u4F60\u53EA\u662F\u8D70\u4E86\uFF0C\u53EA\u662F\u4E0D\u518D\u56DE\u6765\\n```"},{"id":"here-my-love-prolog","metadata":{"permalink":"/story/here-my-love-prolog","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/here-my-love/2011-11-16-\u5E8F.md","source":"@site/../story/here-my-love/2011-11-16-\u5E8F.md","title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u5E8F","description":"\u751F\u6D3B\u4E2D\uFF0C\u603B\u6709\u90A3\u4E48\u4E2A\u5979\uFF0C\u966A\u4F60\u5EA6\u8FC7\u56F0\u96BE\uFF0C\u966A\u4F60\u5F00\u6000\u5927\u7B11\uFF0C\u966A\u4F60\u7545\u8C08\u7406\u60F3\uFF0C\u966A\u4F60\u8D70\u8FC7\u4E00\u6BB5\u8DEF\uFF0C\u966A\u4F60\u5531\u8FC7\u4E00\u9996\u6B4C\uFF0C\u966A\u4F60\u505A\u8FC7\u4E00\u4E2A\u68A6\u3002\u68A6\u4E2D\u6709\u4F60\uFF0C\u6709\u5979\uFF0C\u8FD8\u6709\u68A6\u3002","date":"2011-11-16T00:00:00.000Z","tags":[{"inline":true,"label":"\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979","permalink":"/story/tags/\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979"},{"inline":true,"label":"\u6545\u4E8B","permalink":"/story/tags/\u6545\u4E8B"}],"readingTime":0.98,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u5E8F","slug":"here-my-love-prolog","tags":["\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979","\u6545\u4E8B"],"date":"2011-11-16T00:00:00.000Z","type":"post"},"unlisted":false,"prevItem":{"title":"\u300A\u975E\u9057\u5931\u300B","permalink":"/story/not-lost"},"nextItem":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u7BC7\u5916 \u300C\u98CE\u7684\u6545\u4E8B\u300D","permalink":"/story/here-my-love-wind-story"}},"content":"\u751F\u6D3B\u4E2D\uFF0C\u603B\u6709\u90A3\u4E48\u4E2A\u5979\uFF0C\u966A\u4F60\u5EA6\u8FC7\u56F0\u96BE\uFF0C\u966A\u4F60\u5F00\u6000\u5927\u7B11\uFF0C\u966A\u4F60\u7545\u8C08\u7406\u60F3\uFF0C\u966A\u4F60\u8D70\u8FC7\u4E00\u6BB5\u8DEF\uFF0C\u966A\u4F60\u5531\u8FC7\u4E00\u9996\u6B4C\uFF0C\u966A\u4F60\u505A\u8FC7\u4E00\u4E2A\u68A6\u3002\u68A6\u4E2D\u6709\u4F60\uFF0C\u6709\u5979\uFF0C\u8FD8\u6709\u68A6\u3002\\n\\n\u4E5F\u603B\u6709\u90A3\u4E48\u4E2A\u5979\uFF0C\u8BA9\u4F60\u81EA\u4FE1\uFF0C\u8BA9\u4F60\u5FEB\u4E50\uFF0C\u8BA9\u4F60\u4F24\u75DB\uFF0C\u8BA9\u4F60\u5FC3\u788E\uFF0C\u8BA9\u4F60\u6D41\u6CEA\uFF0C\u75B2\u60EB\uFF0C\u6194\u60B4\uFF0C\u5FC3\u7075\u6CA1\u6709\u9632\u5907\u2026\u2026\u5230\u6700\u540E\u624D\u53D1\u73B0\uFF0C\u53EA\u662F\u8BA9\u4F60\u5728\u6539\u53D8\u3002\\n\\n\u751F\u6D3B\u4E2D\uFF0C\u603B\u4F1A\u6709\u90A3\u4E48\u591A\u7684\u60C5\u7231\u3002\u5979\u4EEC\u7ED9\u7684\u6216\u7ED9\u4E0D\u4E86\u7684\uFF0C\u6211\u80FD\u505A\u7684\u6216\u505A\u4E0D\u4E86\u7684\u603B\u662F\u592A\u591A\u3002\u50CF\u662F\u6234\u5728\u98DF\u6307\u7684\u6212\uFF0C\u671F\u5F85\u7231\u5374\u4E0D\u80FD\u7231\uFF0C\u542B\u7F9E\u8349\u822C\u4E0D\u5BB9\u67D3\u6307\u7684\u7F8E\u4E3D\u3002\u5C31\u8BA9\u6211\u9759\u9759\u5730\u7B49\uFF0C\u9759\u9759\u5730\u770B\u3002\\n\\n\u751F\u6D3B\u4E2D\uFF0C\u603B\u4F1A\u6709\u592A\u591A\u7684\u4EBA\uFF0C\u592A\u591A\u7684\u4E8B\uFF0C\u592A\u591A\u7684\u60B2\u6B22\u79BB\u5408\u3002\u6CA1\u6709\u6C38\u6052\uFF0C\u6216\u8BB8\u8FDE\u660E\u5929\u4E5F\u6CA1\u6709\uFF0C\u4E00\u76F4\u90FD\u6D3B\u5728\u4ECA\u5929\uFF0C\u4F46\u662F\u5728\u60F3\u7740\u660E\u5929\uFF0C\u751A\u81F3\u8FD8\u5FF5\u5FF5\u4E0D\u5FD8\u6628\u5929\u3002\u5F53\u54ED\u6CE3\u7740\u8BF4\u81EA\u5DF1\u5B64\u5355\uFF0C\u5374\u770B\u4E0D\u89C1\u8EAB\u8FB9\u966A\u4F34\u7684\u4EBA\u3002\\n\\n\u6709\u65F6\u5019\u76EE\u5149\u592A\u77ED\uFF0C\u770B\u4E0D\u89C1\u6574\u7247\u5929\u7A7A\uFF0C\u751A\u81F3\u770B\u4E0D\u89C1\u6211\uFF0C\u770B\u4E0D\u89C1\u81EA\u5DF1\u3002\\n\\n\u68A6\u8FD8\u662F\u5728\u5EF6\u7EED\u7740\uFF0C\u53EA\u662F\u201C\u6709\u4E9B\u4E8B\u4F60\u73B0\u5728\u4E0D\u5FC5\u95EE\uFF0C\u6709\u4E9B\u4EBA\u4F60\u6C38\u8FDC\u4E0D\u5FC5\u7B49\u201D\u3002"},{"id":"here-my-love-wind-story","metadata":{"permalink":"/story/here-my-love-wind-story","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/here-my-love/2011-11-16-\u7BC7\u5916\u300C\u98CE\u7684\u6545\u4E8B\u300D.md","source":"@site/../story/here-my-love/2011-11-16-\u7BC7\u5916\u300C\u98CE\u7684\u6545\u4E8B\u300D.md","title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u7BC7\u5916 \u300C\u98CE\u7684\u6545\u4E8B\u300D","description":"\u6211\u559C\u6B22\u5728\u8D77\u98CE\u7684\u65F6\u5019\u60F3\u4F60\uFF0C\u98CE\u80FD\u628A\u6211\u7684\u601D\u5FF5\u5E26\u5230\u8FDC\u65B9\u3002","date":"2011-11-16T00:00:00.000Z","tags":[{"inline":true,"label":"\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979","permalink":"/story/tags/\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979"},{"inline":true,"label":"\u6545\u4E8B","permalink":"/story/tags/\u6545\u4E8B"}],"readingTime":1.12,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u7BC7\u5916 \u300C\u98CE\u7684\u6545\u4E8B\u300D","slug":"here-my-love-wind-story","tags":["\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979","\u6545\u4E8B"],"date":"2011-11-16T00:00:00.000Z","type":"novel"},"unlisted":false,"prevItem":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u5E8F","permalink":"/story/here-my-love-prolog"},"nextItem":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B","permalink":"/story/here-my-love"}},"content":"\u6211\u559C\u6B22\u5728\u8D77\u98CE\u7684\u65F6\u5019\u60F3\u4F60\uFF0C\u98CE\u80FD\u628A\u6211\u7684\u601D\u5FF5\u5E26\u5230\u8FDC\u65B9\u3002\\n\\n\u6211\u559C\u6B22\u5728\u5FAE\u98CE\u4E2D\u54ED\u6CE3\uFF0C\u98CE\u4F1A\u6084\u7136\u7684\u5E2E\u6211\u62ED\u53BB\u773C\u6CEA\u3002\\n\\n\u6211\u559C\u6B22\u628A\u7231\u653E\u5728\u98CE\u4E2D\uFF0C\u98CE\u628A\u7231\u5E26\u7ED9\u6211\u601D\u5FF5\u7684\u4F60\u3002\\n\\n\u98CE\u4ECE\u4E0D\u505C\u7559\uFF0C\u4ED6\u8B66\u6212\u81EA\u5DF1\u4E0D\u80FD\u591F\u53BB\u7737\u604B\u3002\u98CE\u8BF4\uFF0C\u5982\u679C\u5979\u559C\u6B22\u6211\uFF0C\u90A3\u5979\u4E00\u5B9A\u8FD8\u4F1A\u6765\u5230\u8FD9\u91CC\u3002\\n\\n\u4F60\u6C38\u8FDC\u5728\u98CE\u7684\u5FC3\u91CC\uFF0C\u6216\u8BB8\u4F60\u672A\u66FE\u542C\u8FC7\u4ED6\u7684\u547C\u58F0\uFF0C\u4F46\u4ED6\u5374\u4E00\u76F4\u966A\u4F34\u7740\u4F60\u3002\\n\\n\u56E0\u4E3A\u2014\u2014\\n\\n\u4F60\u4E0D\u77E5\u9053\u7684\u662F\uFF0C\u4ED6\u662F\u771F\u7684\u559C\u6B22\u4F60\u3002\\n\\n\u4F60\u4E0D\u77E5\u9053\u7684\u662F\uFF0C\u4ED6\u60F3\u4F60\u5374\u4E0D\u80FD\u544A\u8BC9\u4F60\u3002\\n\\n\u4F60\u4E0D\u77E5\u9053\u7684\u662F\uFF0C\u4ED6\u603B\u4F1A\u5728\u591C\u91CC\u770B\u671B\u4F60\u3002\\n\\n\u4F60\u4E0D\u77E5\u9053\u7684\u662F\uFF0C\u4ED6\u5728\u6BCF\u4E2A\u5FE7\u4F24\u7684\u96E8\u5B63\u91CC\u90FD\u548C\u4F60\u5728\u4E00\u8D77\u3002\\n\\n\u4ED6\u4E0D\u820D\u5F97\u79BB\u53BB\u3002\\n\\n\u4ED6\u62E8\u64A9\u7740\u4F60\u7684\u53D1\u4E1D\uFF0C\u503E\u89C6\u4ED6\u66AE\u604B\u7684\u5BB9\u989C\u3002\\n\\n\u542C\u90A3\u9152\u7A9D\u53D9\u8FF0\u7740\u7684\u6545\u4E8B\uFF0C\u770B\u90A3\u773C\u7738\u51DD\u89C6\u7740\u7684\u98CE\u666F\uFF0C\u611F\u53D7\u90A3\u7EA4\u7EC6\u6307\u5C16\u8F7B\u89E6\u7684\u82B1\u3002\\n\\n\u4F46\u5374\u4E0B\u8D77\u4E86\u96E8\u6765\u3002\\n\\n\u4ED6\u547C\u5578\u7740\u8FC7\u6765\uFF0C\u4ED6\u60F3\u62B1\u7740\u4F60\uFF0C\u4E3A\u4F60\u62B5\u6321\u90A3\u523A\u9AA8\u7684\u96E8\u3002\\n\\n\u96E8\u6DCB\u6E7F\u4E86\u4F60\u8EAB\uFF0C\u5374\u523A\u75DB\u4E86\u4ED6\u7684\u5FC3\u3002\\n\\n\u6700\u540E\uFF0C\u4F60\u8D70\u4E86\uFF0C\u4E0D\u66FE\u56DE\u671B\uFF0C\u53EA\u662F\u98CE\u4F9D\u7136\u505C\u7559\u3002\\n\\n\u6211\u6F2B\u6B65\u5728\u96E8\u540E\u7684\u8DEF\uFF0C\u90A3\u6EF4\u96E8\u62E8\u5F04\u7740\u6E56\u9762\uFF0C\u542C\u7740\u98CE\u7ED9\u6211\u8BB2\u8FF0\u7740\u4ED6\u7684\u6545\u4E8B\u3002"},{"id":"here-my-love","metadata":{"permalink":"/story/here-my-love","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/here-my-love/README.md","source":"@site/../story/here-my-love/README.md","title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B","description":"- \u5E8F","date":"2011-11-16T00:00:00.000Z","tags":[{"inline":true,"label":"\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979","permalink":"/story/tags/\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979"}],"readingTime":0.26,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B","slug":"here-my-love","tags":["\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979"],"date":"2011-11-16T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B\uFF1A\u7BC7\u5916 \u300C\u98CE\u7684\u6545\u4E8B\u300D","permalink":"/story/here-my-love-wind-story"},"nextItem":{"title":"js\u89E3\u6790lib\u56FE\u7247\u6587\u4EF6\u5217\u8868","permalink":"/story/bbk-bbimg-js"}},"content":"- [\u5E8F](./2011-11-16-\u5E8F.md)\\n- [\u7BC7\u5916 \u300C\u98CE\u7684\u6545\u4E8B\u300D](./2011-11-16-\u7BC7\u5916\u300C\u98CE\u7684\u6545\u4E8B\u300D.md)\\n- [\u7B2C\u4E00\u7AE0 \u5DEE\u4E00\u6BEB\u7C73\u7684\u7F18\u5206\uFF0C\u5417\uFF1F](./2014-05-03-\u7B2C\u4E00\u7AE0-\u5DEE\u4E00\u6BEB\u7C73\u7684\u7F18\u5206\uFF0C\u5417\uFF1F.md)\\n- [\u7B2C\u4E8C\u7AE0 \u6545\u4E8B\u7684\u91CD\u65B0\u5F00\u59CB](./2025-10-01-\u6545\u4E8B\u7684\u91CD\u65B0\u5F00\u59CB.md)"},{"id":"bbk-bbimg-js","metadata":{"permalink":"/story/bbk-bbimg-js","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2011-09-15-bbk-bbimg-js.md","source":"@site/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2011-09-15-bbk-bbimg-js.md","title":"js\u89E3\u6790lib\u56FE\u7247\u6587\u4EF6\u5217\u8868","description":"\u539F\u5E16\u94FE\u63A5","date":"2011-09-15T21:51:00.000Z","tags":[{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"},{"inline":true,"label":"\u6B65\u6B65\u9AD8","permalink":"/story/tags/\u6B65\u6B65\u9AD8"},{"inline":true,"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":0.43,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"js\u89E3\u6790lib\u56FE\u7247\u6587\u4EF6\u5217\u8868","slug":"bbk-bbimg-js","tags":["\u7F16\u7A0B","\u6B65\u6B65\u9AD8","BBVM"],"date":"2011-09-15T21:51:00.000Z"},"unlisted":false,"prevItem":{"title":"\u300A\u6211\u628A\u6211\u7684\u77DC\u6301\u90FD\u7ED9\u4E86\u5979\u300B","permalink":"/story/here-my-love"},"nextItem":{"title":"\u56DB\u4E2A\u51FD\u6570\u548Cbb\u7F16\u8F91\u5668","permalink":"/story/bbk-libs"}},"content":"\u539F\u5E16**[\u94FE\u63A5](http://club.eebbk.com/bbkbbs/showtopic/269578/1)**\\n\\n\u4EE3\u7801\u5168\u90E8\u4E3A\u7EAF\u539F\u521B\uFF0C\u7C7B\u90A3\u4E9B\u4E5F\u90FD\u662F\u81EA\u5DF1\u5199\u7684.\\nui\u5199\u7684\u5F88\u5DEE\uFF0C\u89C9\u5F97\u968F\u4FBF\u3002\\n\u9700\u8981\u628A\u6253\u5F00\u7684\u6587\u4EF6\u653E\u5728src\u6587\u4EF6\u5939\u4E0B\uFF01\\n\u8BF7\u7528\u975Eie\u5185\u6838\u6253\u5F00\uFF0C\u56E0\u4E3A\u9700\u8981canvas\u6807\u7B7E\u7684\u652F\u6301\uFF0C\u4E5F\u6CA1\u6709\u5BF9ie\u8FDB\u884C\u517C\u5BB9\\n\\n\u5728\u7F51\u9875\u4E2D\u6253\u5F00BBImg.html\u5C31ok\u4E86\uFF01\\n\u5FC5\u987B\u8981\u6C42\u6709\u670D\u52A1\u5668,\u4E5F\u5C31\u662F\u94FE\u63A5\u7684\u5F62\u5F0F\u5FC5\u987B\u662F `http://`xxxx,\u800C\u4E0D\u662F`file://`.\\n\u56E0\u4E3A\u4F7F\u7528\u4E2Aajax.\\n\\n\u4F5C\u8005\uFF1A\u5C0F\u6587\u513F"},{"id":"bbk-libs","metadata":{"permalink":"/story/bbk-libs","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2011-04-24-bbk-libs.md","source":"@site/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2011-04-24-bbk-libs.md","title":"\u56DB\u4E2A\u51FD\u6570\u548Cbb\u7F16\u8F91\u5668","description":"Lib\u56FE\u7247\u9009\u62E9","date":"2011-04-24T01:34:00.000Z","tags":[{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"},{"inline":true,"label":"\u6B65\u6B65\u9AD8","permalink":"/story/tags/\u6B65\u6B65\u9AD8"},{"inline":true,"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":2.7,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u56DB\u4E2A\u51FD\u6570\u548Cbb\u7F16\u8F91\u5668","slug":"bbk-libs","tags":["\u7F16\u7A0B","\u6B65\u6B65\u9AD8","BBVM"],"date":"2011-04-24T01:34:00.000Z"},"unlisted":false,"prevItem":{"title":"js\u89E3\u6790lib\u56FE\u7247\u6587\u4EF6\u5217\u8868","permalink":"/story/bbk-bbimg-js"},"nextItem":{"title":"BB\u6025\u901F\u622A\u56FE","permalink":"/story/bbk-quick-screenshot"}},"content":"![Lib\u56FE\u7247\u9009\u62E9](https://github.com/wenerme/attic/raw/main/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E5%9B%9B%E4%B8%AA%E5%87%BD%E6%95%B0/Lib%E5%9B%BE%E7%89%87%E9%80%89%E6%8B%A9.gif)\\n![\u83DC\u5355\u5F0F\u9009\u62E9](https://github.com/wenerme/attic/raw/main/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E5%9B%9B%E4%B8%AA%E5%87%BD%E6%95%B0/%E8%8F%9C%E5%8D%95%E5%BC%8F%E9%80%89%E6%8B%A9.jpg)\\n![\u56FE\u7247\u8C03\u6574\u51FD\u6570](https://github.com/wenerme/attic/raw/main/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E5%9B%9B%E4%B8%AA%E5%87%BD%E6%95%B0/%E9%A1%B5%E9%9D%A2%E8%B0%83%E6%95%B4-%E5%9B%BE%E7%89%87%E7%BC%96%E8%BE%91.gif)\\n\\n\u539F\u5E16**[\u94FE\u63A5](http://club.eebbk.com/bbkbbs/showtopic/257169/1)**\\n\\n\x3c!-- more --\x3e\\n\\n```\\n\'//=========ShowPic_Alpha==========//\\n\'//=========\u5E26Alpha\u663E\u793A\u56FE\u7247==========//\\n\'\u4F5C\u8005 Wener\\n\'\u8BBA\u575BId a3160586 (club.eebbk.com   \u7F16\u7A0B\u533A)\\n\'QQ 514403150\\n\\n\u8BF4\u660E:\\nshowpic_alpha( srcPage, srcPic, alPic, DisX, DisY, Wid, Hgt, srcX, srcY, showMODE)\\n\u76F8\u6BD4showpic\u51FD\u6570\uFF0C\u53EA\u591A\u4E86\u4E00\u4E2AalPic\u53C2\u6570 \u5176\u4ED6\u90FD\u662F\u4E00\u6837\u7684\\n\u8FD9\u4E2A\u662Falpha\u7684\u901A\u9053\u56FE \u7531\u4E8Ebb\u7684\u663E\u793A\u989C\u8272\u6570\u76EE\u6709\u9650\uFF0C\u4E0D\u4F1A\u5728\u7535\u8111\u4E0A\u770B\u8D77\u6765\u4E00\u6837\u5E73\u6ED1\u7684\\n\\n\'//=========LibSel==========//\\n\'//=========Lib\u56FE\u7247\u9009\u62E9\u51FD\u6570==========//\\n\'\u4F5C\u8005 Wener\\n\'\u8BBA\u575BId a3160586 (club.eebbk.com   \u7F16\u7A0B\u533A)\\n\'QQ 514403150\\n\\n\u8BF4\u660E\uFF1A\u8FD9\u4E2A\u51FD\u6570\u5C31\u662F\u9009\u62E9Lib\u4E2D\u7684\u67D0\u4E00\u5F20\u56FE\u7247\uFF0C\u7136\u540E\u8FD4\u56DE\u56FE\u7247\u53E5\u67C4\\n\u8FD9\u4E2A\u51FD\u6570\u5177\u6709\u6BD4\u8F83\u597D\u7684UI\uFF0C\u7528\u8D77\u6765\u611F\u89C9\u8FD8\u662F\u6BD4\u8F83\u597D\u7684\\n\u8FD9\u4E2A\u51FD\u6570\u8981\u4F9D\u8D56\u4E8EgetLibCount \uFF0C getInput \u8FD9\u4E24\u4E2A\u51FD\u6570\\nLibSel( Lib_Name$)\\n\u8FD9\u4E2A\u51FD\u6570\u53EA\u9700\u8981LIB\u6587\u4EF6\u540D\u8FD9\u4E2A\u53C2\u6570\\n\\n\\n\\n\'//=========Selector==========//\\n\'//=========\u83DC\u5355\u5F0F\u9009\u62E9==========//\\n\'\u4F5C\u8005 Wener\\n\'\u8BBA\u575BId a3160586 (club.eebbk.com   \u7F16\u7A0B\u533A)\\n\'QQ 514403150\\n\\n\u8BF4\u660E\uFF1A\u8FD9\u4E2A\u51FD\u6570\u5C31\u50CF\u624B\u673A\u7684\u83DC\u5355\u90A3\u79CD\u6837\uFF0C\u5C31\u662F\u9009\u62E9\u7684\\nSelector_Str$\u8FD9\u4E2A\u4E3A\u4E00\u4E2A\u6570\u7EC4\uFF0C\u8C03\u7528\u524D\u8BF7\u4E3A\u5176\u8D4B\u503C\u5B57\u7B26\u4E32\\nSelector_StrCount \u662F\u603B\u7684\u9009\u9879\u4E2A\u6570\\n\u8C03\u7528 Selector( MustChoiceOne)\\nMustChoiceOne\u53C2\u6570\u662F\u662F\u5426\u5FC5\u987B\u9009\u62E9\u4E00\u4E2A 1 \u4E3A\u662F \u4E5F\u5C31\u662F\u662F\u8BF4\u4E0D\u80FD\u9000\u51FA\\nMustChoiceOne\u4E3A0\u7684\u65F6\u5019  \u9000\u51FA\u8FD4\u56DE1 \u786E\u8BA4\u8FD4\u56DE\u9009\u9879\u5728Selector_Str\u4E2D\u7684\u4F4D\u7F6E\\n\u4E5F\u5C31\u662FSelector_Str$( i)\\n\u5177\u4F53\u8BF7\u770B eg.Selector.bas\\n\\n\'//=========PageAdjust==========//\\n\'//=========\u9875\u9762\u8C03\u6574\u51FD\u6570==========//\\n\'\u4F5C\u8005 Wener\\n\'\u8BBA\u575BId a3160586 (club.eebbk.com   \u7F16\u7A0B\u533A)\\n\'QQ 514403150\\n\\n\u8BF4\u660E\uFF1A\u8FD9\u4E2A\u51FD\u6570\u5C31\u50CFphotoshop\u7684\u4E00\u4E9B\u529F\u80FD\u6837\\n\u5E73\u8861\u989C\u8272\uFF0C\u8C03\u6574rbg\u901A\u9053\uFF0C\u8C03\u6574\u660E\u6697\uFF0C\u4F7F\u9875\u9762\u9ED1\u767D\u5316\\n\u53EF\u955C\u50CF\uFF0C\u65CB\u8F6C180\xb0\u56FE\u50CF\u7B49\uFF0C\u66F4\u591A\u8BF7\u5728\u4F7F\u7528\u7684\u65F6\u5019\u53D1\u73B0\u5427\\n\u8FD9\u4E2A\u51FD\u6570\u751F\u6210\u7684bin\u6587\u4EF6\u8F83\u5927\uFF0C300\u591Ak\uFF0C\u56E0\u4E3A\u6709\u7559\u4E86\u5927\u90E8\u5206\u7A7A\u767D\\n\\n\\n\u989D\u5916\u8BF4\u660E\uFF1A\\n\u9664\u4E86PageAdjust\u5916\uFF0C\u5176\u4ED6\u4E09\u4E2A\u51FD\u6570\u90FD\u9700\u8981SYS_Fe$ \u8FD9\u4E2A\u5168\u5C40\u53D8\u91CF\\n\u8FD9\u4E2A\u611F\u89C9\u8FD9\u4E2A\u662F\u5E94\u8BE5\u90FD\u8981\u6709\u7684\u4E00\u4E2A\u53D8\u91CF\uFF0C\u6240\u4EE5\u5C31\u90FD\u653E\u5728\u4E86\u5168\u5C40\\nIF GetEnv!() = Env_SIM Then\\n\\tSYS_Fe$ = \\".rlb\\"\\nElse\\n\\tSYS_Fe$ = \\".lib\\"\\nEnd IF\\n\u4E5F\u5C31\u662F\u5224\u65AD\u4E2D\u8F7D\u5165\u4EC0\u4E48\u683C\u5F0F\u7684\\n```"},{"id":"bbk-quick-screenshot","metadata":{"permalink":"/story/bbk-quick-screenshot","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2011-03-22-bbk-quick-screenshot.md","source":"@site/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2011-03-22-bbk-quick-screenshot.md","title":"BB\u6025\u901F\u622A\u56FE","description":"\u8FD0\u884C\u622A\u56FE","date":"2011-03-22T01:56:00.000Z","tags":[{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"},{"inline":true,"label":"\u6B65\u6B65\u9AD8","permalink":"/story/tags/\u6B65\u6B65\u9AD8"},{"inline":true,"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":2.02,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"BB\u6025\u901F\u622A\u56FE","slug":"bbk-quick-screenshot","tags":["\u7F16\u7A0B","\u6B65\u6B65\u9AD8","BBVM"],"date":"2011-03-22T01:56:00.000Z"},"unlisted":false,"prevItem":{"title":"\u56DB\u4E2A\u51FD\u6570\u548Cbb\u7F16\u8F91\u5668","permalink":"/story/bbk-libs"},"nextItem":{"title":"\u8FD8\u539F\u7684Bda\u8BA1\u7B97\u5668","permalink":"/story/bbk-bda-calc"}},"content":"![\u8FD0\u884C\u622A\u56FE](https://github.com/wenerme/attic/raw/main/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/BB%E6%80%A5%E9%80%9F%E6%88%AA%E5%9B%BE/%E6%88%AA%E5%9B%BE.gif)\\n\\n\u539F\u5E16[\u94FE\u63A5](http://club.eebbk.com/bbkbbs/showtopic/255787/1)\\n\\n\x3c!-- more --\x3e\\n\\n```\\n\'//=========\u622A\u56FE\u7C7B\u51FD\u6570v1.0==========//\\n\'\u4F5C\u8005 Wener\\n\'\u8BBA\u575BId a3160586 (club.eebbk.com   \u7F16\u7A0B\u533A)\\n\'QQ 514403150\\n\'date: 1:56 AM 2011-3-22\\n\u7279\u8272\uFF1A\\n\u622A\u56FE\u51FD\u6570\u6781\u5176\u7684\u5FEB  1.5s > \u5E73\u5747\\n\u53EF\u4FDD\u5B58\u4E3Alib\u548Cbmp\\nsupper\u53EF\u7531\u7528\u6237\u81EA\u7531\u9009\u62E9\u8BBE\u7F6E\uFF0C\u5E26\u6709\u8F83\u597D\u7684ui\\n\u6E90\u4EE3\u7801\u516C\u5F00\uFF0C\u53EF\u4EFB\u610F\u4F7F\u7528\u5230\u4F60\u4EEC\u81EA\u5DF1\u7684\u4F5C\u54C1\u4E2D\\n\\n\u4F7F\u7528\u8BF7\u4FDD\u7559\u539F\u4F5C\u8005\u4FE1\u606F\uFF0C\u8C22\u8C22 ^o^\\n\uFF1B==========================================\\n\u51FD\u6570\u8BF4\u660E\uFF1A\\n\u622A\u56FE\u7C7B\u51FD\u6570\uFF0C\u6545\u540D\u601D\u8BAE\u3002\\n\u5171\u6709\u4E09\u4E2A\u51FD\u6570\\n\u9ED8\u8BA4\u5168\u5C4F\u622A\u56FE\\nScreenPrint_ALL( ScrP_p_page, ScrP_p_BMP_FileName$)\\nScrP_p_page \u622A\u56FE\u9875\u9762\\nScrP_p_BMP_FileName$ \u4FDD\u5B58\u4E3A\u7684bmp\u6587\u4EF6\u540D\u3002\u82E5\u4FDD\u4E3Alib\u5219\u53C2\u6570\u4E3A \\"\\" \u7A7A\u5B57\u7B26\\n\u77E9\u5F62\u6846\u622A\u56FE\\nScreenPrint_Rect( ScrP_p_PAGE, ScrP_p_x, ScrP_p_y, ScrP_p_Wid, ScrP_p_Hgt, ScrP_p_BMP_FileName$)\\n\u4E24\u4E2A\u53C2\u6570\u540C\u4E0A\\nScrP_p_x, ScrP_p_y \u622A\u56FE\u8D77\u70B9\\nScrP_p_Wid, ScrP_p_Hgt \u622A\u56FE\u5BBD\u9AD8\\n\u7528\u6237\u81EA\u5B9A\u4E49\u88C1\u526A\u622A\u56FE\\nScreenPrint_Supper( ScrP_p_page)\\nScrP_p_page \u622A\u56FE\u9875\u9762\\n\\n\uFF1B==========================================\\n\u8BE6\u7EC6\u8BF4\u660E\uFF1A\\n\u6B64\u7C7B\u51FD\u6570\u90FD\u9700\u8981\u4E00\u4E2A\u6587\u4EF6\u53E5\u67C4\uFF0C\u53EF\u5728const\u4E2D\u81EA\u5B9A\u4E49\\nconst ScreenPrint_Use_File_ID = \uFF1F\uFF1F\\n\\n\\nScreenPrint_ALL\u548CScreenPrint_Rect\u51FD\u6570\u8981\u6C42\u8F83\u4F4E\uFF0C\u4EE3\u7801\u4E5F\u4E0D\u662F\u5F88\u591A\uFF0C\u56E0\u6B64\u82E5\u8981\u6C42\u4E0D\u9AD8\uFF0C\u5219\u53EF\u4EE5\u4EC5\u4EC5\u4F7F\u7528\u8FD9\u4E24\u4E2A\u51FD\u6570\u5C31\u53EF\u4EE5\u4E86\\n\\nScreenPrint_Supper\u8981\u6C42\u8F83\u9AD8\uFF0C\u5E26ui\uFF0C\u5171\u9700\u89814\u4E2A\u9875\u9762\u53E5\u67C4\uFF0Cui\u754C\u9762\u662F\u81EA\u52A8\u5224\u522B\u4F7F\u7528\u73AF\u5883\u7684\uFF0C\u4E5F\u5C31\u662F\u8BF4\u81EA\u52A8\u9009\u62E9\u8BFB\u53D6lib\u6216\u8005\u662Frlb\u3002\\nsupper\u51FD\u6570\u4E2D\u5305\u542B\u4E86\u5927\u91CF\u8BA1\u7B97\uFF0C\u96BE\u4EE5\u907F\u514D\u7684\u6709\u70B9\u70B9\u5361\uFF0C\u5728\u6DE1\u51FA\u7684\u65F6\u5019\u6709\u70B9\u5361\u3002\\n\\n\u538B\u7F29\u5305\u4E2D\u7684 PT_res.lib \u548C PT_res.rlb \u90FD\u662F\u6D4B\u8BD5\u65F6\u4F7F\u7528\u7684 \uFF0C\u4E0ESuper_example.bas \u6709\u5173\\n\\n\u6E90\u4EE3\u7801\u4E2D\u7684\u53D8\u91CF\u547D\u540D\u6709\u4E9B\u6709\u70B9\u6DF7\u4E71\u3002\\n\u6709 Scrp_\uFF08screenPrint\uFF09\u5F00\u5934\u7684,\u6709screenPrint_\u5F00\u5934\u7684\uFF0C\u6709screenCapture\u5F00\u5934\u7684 \u4E09\u4E2A\u51FD\u6570.bas\u8FD9\u4E2A\u6587\u4EF6\u4E2D\u5DF2\u7ECF\u4FEE\u6B63\\n\u5176\u5B9E\u6211\u90A3\u6837\u547D\u540D\u4E5F\u662F\u4E3A\u4E86\u5728\u533A\u522B\u6C47\u7F16\u548Cbb  bb\u4E2D\u662Fscrp \u6C47\u7F16\u4E2D\u662F screenPrint.  screenCapture\u53EA\u6709\u4E24\u6B21\\n\\n\u5728\u4F7F\u7528\u7684\u65F6\u5019\u8BF7\u5C06ScreenPrint.lib\u4E00\u8D77\u590D\u5236\uFF0C\u8FD9\u4E2A\u6587\u4EF6\u53EA\u662F\u4E2A\u7A7A\u6587\u4EF6\uFF0C\u53EA\u662F\u4E3A\u4E86\u4E3Alib\u7684\u5B58\u50A8\u201C\u5360\u5730\u76D8\u201D\uFF0C\u5B58\u653E\u7D22\u5F15\u3002\u8F6C\u6362\u4E3Alib\u7684\u7ED3\u679C\u90FD\u5728\u8FD9\u4E2A\u6587\u4EF6\u5F53\u4E2D\u3002\\n```"},{"id":"bbk-bda-calc","metadata":{"permalink":"/story/bbk-bda-calc","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2011-03-11-bbk-bda-calc.md","source":"@site/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2011-03-11-bbk-bda-calc.md","title":"\u8FD8\u539F\u7684Bda\u8BA1\u7B97\u5668","description":"\u9ED1\u8272\u4E3B\u9898\u622A\u56FE","date":"2011-03-11T13:44:00.000Z","tags":[{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"},{"inline":true,"label":"\u6B65\u6B65\u9AD8","permalink":"/story/tags/\u6B65\u6B65\u9AD8"},{"inline":true,"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":2.92,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u8FD8\u539F\u7684Bda\u8BA1\u7B97\u5668","slug":"bbk-bda-calc","tags":["\u7F16\u7A0B","\u6B65\u6B65\u9AD8","BBVM"],"date":"2011-03-11T13:44:00.000Z"},"unlisted":false,"prevItem":{"title":"BB\u6025\u901F\u622A\u56FE","permalink":"/story/bbk-quick-screenshot"},"nextItem":{"title":"\u56DA\u5F92\u56F0\u5883","permalink":"/story/bbk-game-prisoner-dilemma"}},"content":"![\u9ED1\u8272\u4E3B\u9898\u622A\u56FE](https://github.com/wenerme/attic/raw/main/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E8%AE%A1%E7%AE%97%E5%99%A8/Cal.gif)\\n![\u84DD\u8272\u4E3B\u9898\u622A\u56FE](https://github.com/wenerme/attic/raw/main/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E8%AE%A1%E7%AE%97%E5%99%A8/B_Cal.gif)\\n\\n\u539F\u5E16[\u94FE\u63A5](http://club.eebbk.com/bbkbbs/showtopic/255060/1)\\n\\n\x3c!-- more --\x3e\\n\\n```\\n\u521A\u5F00\u59CB\u770B\u5230\u56FE\u7247\u7684\u65F6\u5019\u4F1A\u4E0D\u4F1A\u89C9\u5F97\u662FBda\u5462\uFF1F\\n\\n \'//////////////////////////\\n\'////////\u8FD8\u539Fde\u8BA1\u7B97\u5668//////\\n\'////////\u4F5C\u8005id:a3160586///\\n\'////////\u4F5C\u8005:Wener////////\\n\'////////=================/\\n\'////////\u6B22\u8FCE\u8BBF\u95EE//////////\\n\'////////club.eebbk.com////\\n\'//////////////////////////\\n\\n\u56FE\u7247\u90FD\u662F\u7528\u7684\u548C\u5C0F\u673A\u4E0A\u4E00\u6837\u7684\u56FE\u7247\\n\u5C55\u793A\u7684\u6548\u679C\u4E5F\u548C\u5C0F\u673A\u4E0A\u57FA\u672C\u76F8\u540C\uFF0C\u597D\u50CF\u53EA\u662F\u6CA1\u6709\u51FA\u6765error\u7684\u60C5\u51B5\\n\u8FD8\u662F\u6709\u4E00\u70B9\u70B9\u7F3A\u70B9\uFF0C\u5C31\u662F\u5904\u7406\u5C0F\u6570\u7684\u65F6\u5019\u4E0D\u662F\u5F88\u6709\u529B\uFF0C\u6709\u65F6\u4F1A\u51FA\u73B0\u8BEF\u5DEE\\n\\n\u4F60\u53EF\u4EE5\u76F4\u63A5\u628A\u5168\u90E8\u4EE3\u7801\u590D\u5236\u5230\u81EA\u5DF1\u7684\u4EE3\u7801\u4E2D\u8FDB\u884C\u8C03\u7528 Cal_Calculator( the)\\nthe\u4E3A\u5047\u7684\u65F6\u5019\u662F\u9ED1\u8272\u4E3B\u9898\uFF0C\u4E3A\u771F\u7684\u65F6\u5019\u662F\u84DD\u8272\u4E3B\u9898\\n\u53D8\u91CF\u7684\u547D\u540D\u90FD\u662F\u7528Cal_\u5F00\u5934\u7684\uFF0C\u53EA\u6709\u51E0\u4E2A\u516C\u7528\u7684\u51FD\u6570\u624D\u6CA1\u90A3\u6837\u5904\u7406\\n\\ndeclare function str2float!( str2float_p_fstr$) \u628A\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u6D6E\u70B9\u6570\\ndeclare function float2str$( float2str_p_flo!) \u628A\u6D6E\u70B9\u6570\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32  \u8FD9\u91CC\u6709\u65F6\u5019\u4F1A\u4EA7\u751F\u8BEF\u5DEE\\ndeclare function ShowFloat( ShowFloat_p_hPage, ShowFloat_p_hImg, ShowFloat_p_x, ShowFloat_p_y, ShowFloat_p_Float$) \u7528\u56FE\u7247\u6765\u663E\u793A\u6D6E\u70B9\u6570\u7684\u5B57\u7B26\u4E32\\n\\n\u8FD9\u51E0\u4E2A\u51FD\u6570\u662F\u76F8\u4E92\u72EC\u7ACB\u7684\uFF0C\u53EF\u4EE5\u4EFB\u610F\u8C03\u7528\uFF0C\u4F46\u662F\u8FD9\u4E2A\u8BA1\u7B97\u5668\u5FC5\u987B\u4F9D\u8D56\u8FD9\u4E09\u4E2A\u51FD\u6570\\n\\n\u8C22\u8C22\u5927\u5BB6\u53C2\u8003\u5B66\u4E60~\\n\u6709\u610F\u5B66\u4E60\u7684\u53EF\u4EE5\u770B\u770B\u4E0B\u9762\\n\\n\u539F\u5148\u6211\u5728\u60F3\u7740\u5199\u8FD9\u4E2A\u7684\u65F6\u5019\uFF0C\u60F3\u7684\u662F\u591A\u4E48\u7684\u7B80\u5355~~~\u5F53\u505A\u8D77\u6765\u7684\u65F6\u5019\u624D\u53D1\u73B0\uFF0C\u539F\u6765~\u4E0D\u53EA\u662F\u60F3\u7684\u90A3\u4E48\u7B80\u5355~\\ninstr\uFF0C\u5728\u7535\u8111\u4E0A\uFF0C\u6CA1\u67E5\u627E\u5230\u7684\u65F6\u5019\u662F\u8FD4\u56DE0\u7684\uFF0C\u800C\u5728\u6700\u65B0\u7684bda\u4E0A\u662F\u8FD4\u56DE-1\\n\u6240\u4EE5 \u8FD8\u662F\u7528 < 1 \u6216\u8005 > 0 \u6765\u5224\u65AD\u662F\u5426\u67E5\u627E\u5230\u8981\u65B9\u4FBF\u4E9B\\n\u6211\u4E0D\u77E5\u9053\u5C0F\u673A\u4E0A\u7684left\u80FD\u7528\u4E0D\uFF0C\u6240\u4EE5\u5168\u90E8\u662F\u7528mid\u4EE3\u66FF\u7684\\n\\ns! = 0.0202\\nprint s! * 100000\\n\u4F60\u731C\u7ED3\u679C\u662F\u591A\u5C11~\uFF1F\\n\\n\\n2019.999878\\n\u8FD9\u5C31\u662F\u6211\u4E4B\u6240\u4EE5\u4E0D\u80FD\u4FDD\u8BC1\u7CBE\u786E\u7684\u539F\u56E0\uFF0C\u5728\u7A0B\u5E8F\u4E2D\u6211\u7565\u52A0\u5904\u7406\u8FC7\u4E86\uFF0C\u4F46\u662F\u8FD8\u662F\u514D\u4E0D\u4E86\u6709\u51FA\u9519\u60C5\u51B5\u7684\\n\u7279\u522B\u662F\u5904\u7406\u5F88\u591A\u5C0F\u6570\u7684\u65F6\u5019\u3002\u3002\u3002\u3002\\n\u8981\u662F\u51FA\u9519\u4E86\u4E5F\u53EA\u80FD\u6309c\u53D6\u6D88\u4E86\u4ECE\u6765~\\n\\n\u5728\u5904\u7406\u952E\u76D8\u6309\u952E\u7684\u65F6\u5019\uFF0C\u89C9\u5F97\u6211\u7684\u90A3\u4E2A\u60F3\u6CD5\u662F \u5F88\u4E0D\u9519\u7684\uFF0C\u5927\u5BB6\u53EF\u4EE5\u501F\u9274\u501F\u9274\uFF0C\u5C31\u662F~~~~~~\\n\u770B\u4EE3\u7801\u5427\uFF0C\u563F\u563F  \u4FDD\u8BC1\u8D85\u8D8A\u524D\u4EBA\uFF0C\u6B63\u5728\u505A\u7684ime\u4E5F\u662F\u7528\u7684\u8FD9\u6837\u7684\u601D\u8DEF\u3002\u7533\u8BF7\u4E2A\u4E13\u5229\u54E6\\n\\n\u8FD9\u91CC\u5BF9\u70ED\u8877\u4E8E\u6C47\u7F16\u7684\u4EBA\u8BF4\u51E0\u53E5\u8BDD\uFF0C\u5176\u5B9E\u673A\u5668\u5E76\u6CA1\u6709\u4F60\u4EEC\u60F3\u7684\u90A3\u4E48\u4E0D\u582A~\\n\u6211\u89C9\u5F97\u901F\u5EA6\u5BF9\u6211\u6765\u8BF4\u8FD8\u662F\u5F88\u4E0D\u9519\u7684\uFF0C\u7279\u522B\u662F\u6211\u5728\u5C4F\u5E55\u4E0A\u4E71\u6309\u7684\u65F6\u5019\uFF0C\u56E0\u4E3A\u592A\u5FEB\uFF0C\u5BFC\u81F4\u5F88\u591A\u952E\u8FD8\u6CA1\u6062\u590D\u7684\u65F6\u5019\u90FD\u53C8\u6309\u4E0B\u4E86\uFF0C\u6062\u590D\u662F40ms\u5EF6\u65F6\u7684\uFF0C\u53EF\u60F3\uFF0C\u5176\u5B9E\u901F\u5EA6\u8FD8\u662F\u591F\u4E86\u554A~\\n\u6C47\u7F16\u4F5C\u4E3A\u8F85\u52A9\uFF0C\u662F\u6700\u4F73\u7684\u9009\u62E9\uFF0C\u6211\u5C31\u662F\u8FD9\u6837\u7528\u7684\uFF0C\u628A\u4E00\u4E9B\u8981\u91CD\u590D\u7528\u5230\u7684\u5B50\u8FC7\u7A0B\u653E\u5F00\uFF0C\u7528call\u6765\u8C03\u7528\u7684\uFF0C\u8FD9\u6837\u53EF\u770B\u6027\u8981\u9AD8\u4E00\u70B9\u70B9~\u672C\u6765\u8FC7\u7A0B\u4E5F\u4E0D\u957F\uFF0C\u6CA1\u5FC5\u8981\u7528\u4E00\u4E2A\u51FD\u6570\u3002\\n\\n\u597D\u4E86\u5C31\u5230\u8FD9\u91CC\u5427\\n\\n\u9884\u77E5\u66F4\u591A\uFF0C\u8BF7\u770B\u4EE3\u7801\\n\u672C\u4EBAqq\uFF1A514403150\\n\u6B22\u8FCE\u8BA8\u8BBA\u4EA4\u6D41\\n^.^\\n```"},{"id":"bbk-game-prisoner-dilemma","metadata":{"permalink":"/story/bbk-game-prisoner-dilemma","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2011-03-05-bbk-game-prisoner-dilemma.md","source":"@site/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2011-03-05-bbk-game-prisoner-dilemma.md","title":"\u56DA\u5F92\u56F0\u5883","description":"\u6E38\u620F\u622A\u56FE","date":"2011-03-05T21:31:00.000Z","tags":[{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"},{"inline":true,"label":"\u6E38\u620F","permalink":"/story/tags/\u6E38\u620F"},{"inline":true,"label":"\u6B65\u6B65\u9AD8","permalink":"/story/tags/\u6B65\u6B65\u9AD8"},{"inline":true,"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":0.94,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u56DA\u5F92\u56F0\u5883","slug":"bbk-game-prisoner-dilemma","tags":["\u7F16\u7A0B","\u6E38\u620F","\u6B65\u6B65\u9AD8","BBVM"],"date":"2011-03-05T21:31:00.000Z"},"unlisted":false,"prevItem":{"title":"\u8FD8\u539F\u7684Bda\u8BA1\u7B97\u5668","permalink":"/story/bbk-bda-calc"},"nextItem":{"title":"\u5E73\u751F\u7B2C\u4E00\u4E2A\u6E38\u620F - \u8DA3\u5473\u62FC\u56FE","permalink":"/story/bbk-first-game"}},"content":"![\u6E38\u620F\u622A\u56FE](https://github.com/wenerme/attic/raw/main/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E5%9B%9A%E5%BE%92%E5%9B%B0%E5%A2%83/QT.gif \\"\u8FD0\u884C\u6548\u679C\\")\\n\\n\u539F\u5E16**[\u8FDE\u63A5](http://club.eebbk.com/bbkbbs/showtopic/254672/1)**\\n\\n\x3c!-- more --\x3e\\n\\n\u6B64\u6E38\u620F\u7531\u8457\u540D\u7684\u5FC3\u7406\u6D4B\u8BD5\u201C\u56DA\u5F92\u56F0\u5883\u201D\u542F\u53D1\u5236\u4F5C\u3002\\n\\n\u6E38\u620F\u89C4\u5219\u6781\u5176\u7B80\u5355\u3002\\n\u521D\u59CB\u5206\u6570\u4E3A0\u5206\uFF0C\u7531\u73A9\u5BB6\u4E0E\u6587\uFF08\u7535\u8111\uFF09\u5BF9\u6218\\n\\n\u5F97\u5206\u89C4\u5219\uFF1A\\n\\n* \u53CC\u65B9\u90FD\u5408\u4F5C \u5404\u5F973\u5206\\n* \u53CC\u65B9\u90FD\u80CC\u53DB \u5404\u5F971\u5206\\n* \u4E00\u65B9\u5408\u4F5C\u4E00\u65B9\u80CC\u53DB \u80CC\u53DB\u76845\u5206 \u5408\u4F5C\u76840\u5206\\n\\n\u6E38\u620F\u63A7\u5236\uFF1A\\n\\n* \u70B9\u51FB\u5C40\u6B21\u4E0A\u9650\u8BBE\u7F6E\u6B21\u6570\uFF0C\u6E38\u620F\u65F6\u53EF\u4EE5\u8BBE\u7F6E\\n* \u70B9\u51FB\u5E2E\u52A9\u67E5\u770B\u5E2E\u52A9\\n* \u70B9\u51FB\u5173\u4E8E\u67E5\u770B\u5173\u4E8E\\n* \u70B9\u51FB\u5F00\u59CB\u5373\u5F00\u59CB\u6E38\u620F\\n* \u5F53\u6E38\u620F\u4E2D\u65F6\u70B9\u51FB\u5F00\u59CB\u6E38\u620F\u5C06\u4F1A\u8BE2\u95EE\u662F\u5426\u91CD\u65B0\u5F00\u59CB\u6E38\u620F\\n\\n\u539F\u672C\u7684\u6E38\u620F\u56FE\u7247\u662F\u66F4\u597D\u770B\u7684\uFF08\u5728\u7535\u8111\u4E0A\uFF09\uFF0C\u4F46\u662F\u4E3A\u4E86\u5728\u673A\u5668\u4E0A\u770B\u8D77\u6765\u80FD\u770B\uFF0C\u5C31\u90FD\u8C03\u6697\u4E86\u3002\\n\\n\u4F5C\u8005\\n: Wener\\n\\n\u8BBA\u575BId\\n: \u5C0F\u6587\u513F\\n\\n\u6B22\u8FCE\u8BBF\u95EE  club.eebbk.com"},{"id":"bbk-first-game","metadata":{"permalink":"/story/bbk-first-game","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2011-02-04-bbk-first-game.md","source":"@site/../story/\u6211\u90A3\u4E9B\u6B65\u6B65\u9AD8\u7684\u6545\u4E8B/2011-02-04-bbk-first-game.md","title":"\u5E73\u751F\u7B2C\u4E00\u4E2A\u6E38\u620F - \u8DA3\u5473\u62FC\u56FE","description":"\u539F\u5E16\u5B50\u94FE\u63A5","date":"2011-02-04T02:21:00.000Z","tags":[{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"},{"inline":true,"label":"\u6E38\u620F","permalink":"/story/tags/\u6E38\u620F"},{"inline":true,"label":"\u6B65\u6B65\u9AD8","permalink":"/story/tags/\u6B65\u6B65\u9AD8"},{"inline":true,"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":2.2,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\u5E73\u751F\u7B2C\u4E00\u4E2A\u6E38\u620F - \u8DA3\u5473\u62FC\u56FE","slug":"bbk-first-game","tags":["\u7F16\u7A0B","\u6E38\u620F","\u6B65\u6B65\u9AD8","BBVM"],"date":"2011-02-04T02:21:00.000Z"},"unlisted":false,"prevItem":{"title":"\u56DA\u5F92\u56F0\u5883","permalink":"/story/bbk-game-prisoner-dilemma"},"nextItem":{"title":"\u6587\u4EF6\u5B58\u50A8\u7ED3\u6784\u7684\u57FA\u672C\u5F62\u5F0F\u53CA\u8003\u8651\u56E0\u7D20","permalink":"/story/file-data-structures"}},"content":"\u539F\u5E16\u5B50[\u94FE\u63A5](http://club.eebbk.com/bbkbbs/showtopic/252670/1)\\n\\n![\u6E38\u620F\u622A\u56FE](https://github.com/wenerme/attic/raw/main/%E6%88%91%E9%82%A3%E4%BA%9B%E6%AD%A5%E6%AD%A5%E9%AB%98%E7%9A%84%E6%95%85%E4%BA%8B/%E8%B6%A3%E5%91%B3%E6%8B%BC%E5%9B%BE/%E8%B6%A3%E5%91%B3%E6%8B%BC%E5%9B%BE.gif \\"\u8FD0\u884C\u6548\u679C\\")\\n\\n\x3c!-- more --\x3e\\n\\n\u73A9\u6CD5\u548C\u624B\u673A\u4E0A\u7684\u90A3\u79CD\u62FC\u56FE\u76F8\u5DEE\u65E0\u51E0\\n\\n\u4E0D\u540C\u7684\u662F\uFF1A\u6BCF\u6B21\u7684\u7F3A\u5C11\u4F4D\u7F6E\u662F\u968F\u673A\u7684\uFF0C\u4E0D\u50CF\u624B\u673A\u4E0A\u7684\u90A3\u4E48\u6B7B\u677F\\n\\n\u53EF\u81EA\u5B9A\u4E49\u5173\u5361\uFF0C\u81EA\u5DF1\u4FEE\u6539\u6E38\u620F\u811A\u672C\uFF0C\u5236\u4F5C\u7279\u5B9A\u5173\u5361\u3002\\n\u8BE6\u7EC6\u7684\u8BF7\u770B\u6211\u5728\u8BBA\u575B\u7684\u53D1\u5E16\\n\\n\u6E38\u620F\u63A7\u5236\uFF1A\\n\\n* \u5728\u4E3B\u83DC\u5355\u65F6 \u5F53\u6CA1\u6709\u5B58\u6863\u65F6\u4E0D\u4F1A\u7EE7\u7EED\u6E38\u620F\\n* \u5728\u4E3B\u83DC\u5355\u65F6\uFF0C\u9000\u51FA\u952E\u662F\u9000\u51FA\\n* \u5728\u6E38\u620F\u4E2D\u65F6 \u9000\u51FA\u952E\uFF08\u5DE6\u8F6F\u4EF6\uFF09\u662F\u8FD4\u56DE\u4E0A\u4E00\u6B65\\n* \u70B9\u51FB\u7F29\u7565\u56FE\u79D1\u67E5\u770B\u5168\u56FE\\n* \u952E\u76D8\u548C\u5C4F\u5E55\u89E6\u6478\u63A7\u5236\u79FB\u52A8\\n* \u6E38\u620F\u65F6\u53F3\u4E0B\u89D2\u6709\u4E2A\u83DC\u5355\u6761\uFF0C\u70B9\u51FB\u5373\u5C55\u5F00 \u6709\u9000\u51FA\u548C\u4FDD\u5B58\u9009\u9879\\n\\n\\n\u4F5C\u8005\\n: Wener\\n\\n\u8BBA\u575BId\\n: \u5C0F\u6587\u513F\\n\\n\u6B22\u8FCE\u8BBF\u95EE  club.eebbk.com\\n\\n\u5982\u4F55\u5236\u4F5C\u5173\u5361\\n-----------\\n\\n\u5B58\u653E\u56FE\u7247\u7684\u6587\u4EF6\u662F PT_res.lib\\n\\n\x3c!-- ![\u547D\u540D\u683C\u5F0F](http://upload.eebbk.net/UploadFile/2011-2/2011242274888328.jpg) --\x3e\\n\u4EE5\u201C_s\u201D\u7ED3\u5C3E\u7684\u90FD\u662F\u7F29\u7565\u56FE\uFF0C\u4E5F\u5C31\u662F\u7B2C 2n\u5F20\u662F\u62FC\u56FE\u7684\u56FE\uFF0C\u800C \u7B2C2n+1\u5F20\u662F\u7B2C2n\u957F\u7684\u7F29\u7565\u56FE\\n\\n\u5C31\u662F\u8FD9\u4E48\u7B80\u5355\u3002\\n\\n\u5173\u4E8E\u4E00\u4E9B\u7279\u6B8A\u8BBE\u7F6E,\u5728\u51FD\u6570 specialGate \u91CC\u9762,\u6BD4\u5982\u50CF\u8FD9\u6837\u7684\u56FE\\n\\n\x3c!-- ![\u7279\u6B8A\u8BBE\u7F6E\u7C7B\u578B](http://upload.eebbk.net/UploadFile/2011-2/2011242305561677.jpg) --\x3e\\n\\n\u6211\u9700\u8981\u89C4\u5B9A\u7528\u6237\u7F3A\u5931\u7684\u7684\u662F\u54EA\u4E00\u5757\u624D\u80FD\u73A9\u7684\u6B63\u5E38\uFF0C\u6240\u4EE5\u53EA\u9700\u8981\u8FD9\u6837\u8BBE\u7F6E\uFF1A\\n```\\nif G_User_Gate = 6 then\\n    specialGate_var = 8\\nend if\\n```\\n\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5982\u679C\u5173\u5361\u662F\u7B2C\u516D\u5173\uFF0C\u4E5F\u5C31\u662F\u4E0A\u56FE\u90A3\u4E00\u5173\uFF0C\u90A3\u4E48\u6211\u60F3\u7528\u6237\u7F3A\u5931\u7684\u662F\u7B2C8\u5757\\n\u6CE8\u610F\u7684\u662F\uFF0C\u8FD9\u4E2A\u5C0F\u56FE\u7247\u662F\u4ECE0\u5F00\u59CB\u7684\uFF0C\u7B2C8\u5757\u4E5F\u5C31\u662F\u6700\u53F3\u4E0B\u89D2\u7684\u90A3\u4E00\u5757\u3002\\n\\n\u5982\u679C\u6211\u60F3\u7B2C3\u5173\u73A9\u5BB6\u7F3A\u5931\u7684\u662F\u7B2C 4\u5757 \u90A3\u4E2A\u4EE3\u7801\u5C31\u662F\\n```\\nif G_User_Gate = 3 then\\n    specialGate_var = 4\\nend if\\n```\\n\u5F53\u7136\u662F\u53EF\u4EE5\u5199\u5F88\u591A\u4E2A\u8FD9\u6837\u7684\u3002\\n\\n\\n\u5982\u679C\u662F\u5C0F\u7537\u751F\uFF0C\u5176\u5B9E\u53EF\u4EE5\u6709\u610F\u7684\u5F04\u70B9\u4EC0\u4E48\u793A\u7231\u7684\u3002\u3002\u3002\u3002\u4E0D\u8BF4\u4E86\\n\\n\\n\u7ED3\u5C3E\\n----\\n\\n\u8FD9\u4E2A\u6E38\u620F\u8FD8\u4E0D\u662F\u5F88\u5B8C\u7F8E\u7684\uFF0C\u50A8\u5B58\u8FD8\u4E0D\u591F\u5B8C\u7F8E\uFF0C\u7ED3\u6784\u8FD8\u4E0D\u591F\u5B8C\u7F8E\uFF0C\u8FC7\u5173\u7684\u52A8\u753B\u6CA1\u5199\u8FD8\u6709\u4E9B\u9057\u6F0F\u7684\u5730\u65B9\u3002\\n\u4F46\u662F\u81F3\u5C11\u80FD\u73A9\u7684\uFF0C\u800C\u4E14\u754C\u9762\u8FD8\u662F pretty good \u7684\u3002\u5F88\u591A\u5730\u65B9\u90FD\u662F\u7528\u7684\u7F13\u52A8\uFF0C\u672C\u6765\u56FE\u7247\u7684\u79FB\u52A8\u8FD8\u662F\u60F3\u7528\u7F13\u52A8\u7684\uFF0C\u4F46\u662F\u6211\u89C9\u5F97\u90A3\u662F\u6CA1\u4E8B\u627E\u4E8B~~\\n\\n\u8981\u662F\u8FD8\u6709\u5565\u9700\u6C42\u53EF\u4EE5\u5C3D\u91CF\u63D0\u51FA\uFF0C\u4FEE\u6539\u5C31\u662F\u4E86"},{"id":"file-data-structures","metadata":{"permalink":"/story/file-data-structures","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2011/2011-01-08-\u6587\u4EF6\u5B58\u50A8\u7ED3\u6784\u7684\u57FA\u672C\u5F62\u5F0F\u53CA\u8003\u8651\u56E0\u7D20.md","source":"@site/../story/2011/2011-01-08-\u6587\u4EF6\u5B58\u50A8\u7ED3\u6784\u7684\u57FA\u672C\u5F62\u5F0F\u53CA\u8003\u8651\u56E0\u7D20.md","title":"\u6587\u4EF6\u5B58\u50A8\u7ED3\u6784\u7684\u57FA\u672C\u5F62\u5F0F\u53CA\u8003\u8651\u56E0\u7D20","description":"\u6BCF\u5929\u6211\u4EEC\u90FD\u5728\u63A5\u89E6\u5404\u79CD\u5404\u6837\u7684\u6587\u4EF6\uFF0C\u4F7F\u7528\u548C\u8BB0\u5F55\u5404\u79CD\u5404\u6837\u7684\u6570\u636E\u4FE1\u606F\uFF0C\u90A3\u8FD9\u4E9B\u6587\u4EF6\u90FD\u662F\u4EE5\u4EC0\u4E48\u7ED3\u6784\u5B58\u50A8\u7684\u5462\uFF1F\u6B64\u6587\u5BF9\u6B64\u8FDB\u884C\u4E86\u4E00\u4E9B\u5C0F\u5C0F\u7684\u6D89\u53CA\u548C\u8BB2\u89E3\u3002","date":"2011-01-08T00:00:00.000Z","tags":[{"inline":true,"label":"\u7B97\u6CD5","permalink":"/story/tags/\u7B97\u6CD5"},{"inline":true,"label":"\u6570\u636E\u7ED3\u6784","permalink":"/story/tags/\u6570\u636E\u7ED3\u6784"}],"readingTime":2.56,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"file-data-structures","title":"\u6587\u4EF6\u5B58\u50A8\u7ED3\u6784\u7684\u57FA\u672C\u5F62\u5F0F\u53CA\u8003\u8651\u56E0\u7D20","tags":["\u7B97\u6CD5","\u6570\u636E\u7ED3\u6784"]},"unlisted":false,"prevItem":{"title":"\u5E73\u751F\u7B2C\u4E00\u4E2A\u6E38\u620F - \u8DA3\u5473\u62FC\u56FE","permalink":"/story/bbk-first-game"},"nextItem":{"title":"\u201CWener\u201D\u7684\u6765\u5386 - \u4E00\u6BB5\u6545\u4E8B","permalink":"/story/wener-is-my-name"}},"content":"\u6BCF\u5929\u6211\u4EEC\u90FD\u5728\u63A5\u89E6\u5404\u79CD\u5404\u6837\u7684\u6587\u4EF6\uFF0C\u4F7F\u7528\u548C\u8BB0\u5F55\u5404\u79CD\u5404\u6837\u7684\u6570\u636E\u4FE1\u606F\uFF0C\u90A3\u8FD9\u4E9B\u6587\u4EF6\u90FD\u662F\u4EE5\u4EC0\u4E48\u7ED3\u6784\u5B58\u50A8\u7684\u5462\uFF1F\u6B64\u6587\u5BF9\u6B64\u8FDB\u884C\u4E86\u4E00\u4E9B\u5C0F\u5C0F\u7684\u6D89\u53CA\u548C\u8BB2\u89E3\u3002\\n\\n\x3c!--more--\x3e\\n\\n# \u6587\u4EF6\u5B58\u50A8\u7ED3\u6784\\n\\n\u57FA\u672C\u7EC4\u7EC7\u65B9\u5F0F\uFF1A \u987A\u5E8F\u7EC4\u7EC7\xa0 \u7D22\u5F15\u7EC4\u7EC7\xa0 \u6563\u5217\u7EC4\u7EC7\xa0 \u94FE\u7EC4\u7EC7\\n\\n\u5E38\u7528\u7ED3\u6784\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \uFF1A\xa0 \u987A\u5E8F\u7ED3\u6784\xa0 \u7D22\u5F15\u7ED3\u6784\xa0 \u6563\u5217\u7ED3\u6784\xa0 \u94FE\u7ED3\u6784\\n\\n## \u987A\u5E8F\u7ED3\u6784\uFF08\u987A\u5E8F\u8868\uFF09\\n\\n\u5206\u7C7B\uFF1A\\n\\n\u5B58\u50A8\u4F4D\u7F6E\u76F8\u90BB\uFF08\u8FDE\u7EED\u6587\u4EF6\uFF09\\n\\n\u8BB0\u5F55\u95F4\u4EE5\u6307\u9488\u94FE\u63A5\uFF08\u4E32\u8054\u6587\u4EF6\uFF09\\n\\n\u63CF\u8FF0\uFF1A\u987A\u5E8F\u7ED3\u6784\u53EF\u7528\u4E8E\u987A\u5E8F\u5B58\u53D6,\u4F46\u66F4\u6539\u540E\u9700\u8981\u5168\u90E8\u590D\u5236\uFF0C\u5BF9\u589E\u5220\u64CD\u4F5C\u4E0D\u65B9\u4FBF\u3002\u4F18\u70B9\u662F\u5B58\u53D6\u8F83\u5FEB\u7528\u4E8E\u6279\u91CF\u4FEE\u6539\uFF0C\u4E0D\u80FD\u52A8\u6001\u589E\u957F\u3002\\n\\n\u6BD4\u5982\uFF1Ahttp://club.eebbk.com/bbkbbs/dispbbs.asp?boardid=38&amp;Id=250082\\n\\n\u8FD9\u4E2A\u662F\u6B65\u6B65\u9AD8\u5B66\u4E60\u673A\u4E2D\u7684\u6587\u4EF6\uFF0Clcc\uFF08\u540D\u7247\u6587\u4EF6\uFF09\u548C\u7528\u6237\u8BCD\u5178\u6570\u636E\u3002\u90FD\u80FD\u7B97\u505A\u662F\u987A\u5E8F\u7ED3\u6784\u5427\uFF0C\u53EA\u662Flcc\u8FD8\u5305\u542B\u6709\u4E00\u70B9\u5934\u4FE1\u606F\\n\\n## \u7D22\u5F15\u7ED3\u6784\\n\\n\u7D22\u5F15\u6587\u4EF6\u5305\u542B\uFF1A\u7D22\u5F15\u8868\uFF0C\u6570\u636E\u8868\\n\\n\u63CF\u8FF0\uFF1A\\n\\n\u7D22\u5F15\u8868\u4E2D\u7D22\u5F15\u9879\u5305\u542B\u4E86\u4E0E\u5177\u4F53\u6570\u636E\u6709\u5173\u7684\u76F8\u5173\u4FE1\u606F\uFF0C\u4F8B\u5982\u4E00\u4E9B\u5173\u952E\u5B57\u7B49\uFF0C\u4F46\u6700\u4E3B\u8981\u7684\u662F\u6307\u5411\u6570\u636E\u8868\u7684\u4E00\u4E2A\u5730\u5740\u3002\u7D22\u5F15\u8868\u662F\u6709\u5E8F\u7684\uFF0C\u7269\u7406\u6B21\u5E8F\u4F53\u73B0\u6587\u4EF6\u903B\u8F91\u6B21\u5E8F\uFF0C\u5B9E\u73B0\u6587\u4EF6\u7EBF\u6027\u7ED3\u6784\u3002\\n\\n\u7D22\u5F15\u8868\u53EA\u80FD\u662F\u78C1\u76D8\u6587\u4EF6\uFF0C\u7D22\u5F15\u7ED3\u6784\u7684\u6587\u4EF6\u65E2\u80FD\u987A\u5E8F\u5B58\u53D6\u53C8\u80FD\u968F\u673A\u5B58\u53D6\\n\\n\u6BD4\u5982\uFF1A\\n\\nhttp://club.eebbk.com/bbkbbs/dispbbs.asp?boardid=38&amp;Id=250018\\n\\nhttp://club.eebbk.com/bbkbbs/dispbbs.asp?boardid=38&amp;Id=250092\\n\\ncue-Wv \u6587\u4EF6\uFF0C\u4E00\u79CD\u5A92\u4F53\u683C\u5F0F\\n\\nDvd\u7684\u4E00\u4E9BVob\u6587\u4EF6\u4E5F\u662F\u7D22\u5F15\u7684\\n\\n\u8FD9\u79CD\u6587\u4EF6\u4E2D\u6709\u7684\u662F\u4EE5\u4E00\u6574\u6BB5\u6570\u636E\u5B58\u50A8\u5728\u4E00\u8D77\uFF0C\u7136\u540E\u4EE5\u7D22\u5F15\u8868\u6765\u5206\u6BB5\u3002\u6709\u7684\u662F\u4E3A\u4E86\u628A\u591A\u6BB5\u6570\u636E\u5B58\u50A8\u5728\u4E00\u8D77\uFF0C\u7136\u540E\u4EE5\u7D22\u5F15\u8868\u6765\u8FA8\u522B\u5206\u522B\u7684\u6BCF\u4E2A\u6587\u4EF6\u3002\\n\\n## \u6563\u5217\u7ED3\u6784\uFF08\u8BA1\u7B97\u673A\u5BFB\u5740\u7ED3\u6784\uFF0C\u5176\u6587\u4EF6\u88AB\u79F0\u4E3A\u6563\u5217\u6587\u4EF6\uFF09\\n\\n\u63CF\u8FF0\uFF1A\\n\\n\u8BB0\u5F55\u7684\u662F\u53C8\u5173\u952E\u5B57\u7ECF\u8FC7\u6563\u5217\u51FD\u6570\u786E\u5B9A\u7684\u5730\u5740\uFF0C\u5B58\u53D6\u5FEB\uFF0C\u4E0D\u9700\u8981\u7D22\u5F15\u8282\u7701\u4E86\u7A7A\u95F4\uFF0C\u4F46\u4E0D\u80FD\u987A\u5E8F\u5B58\u53D6 \u53EA\u80FD\u968F\u673A\u3002RAM \u968F\u673A\u5B58\u53D6\u7684\u3002\\n\\n\u5177\u4F53\u54EA\u4E9B\u6587\u4EF6\u662F\u6211\u4E5F\u4E0D\u6E05\u695A\uFF0C\u56E0\u4E3A\u4E00\u822C\u54EA\u4E9B\u6587\u4EF6\u7ED3\u6784\u90FD\u6BD4\u8F83\u96BE\u5F04\u7684\u6E05\u695A\uFF0C\u5FC5\u987B\u8981\u77E5\u9053\u6563\u5217\u51FD\u6570\u624D\u80FD\u786E\u5B9A\u5176\u6570\u636E\u7ED3\u6784\u3002\\n\\n## \u94FE\u7ED3\u6784\\n\\n\u63CF\u8FF0\uFF1A\\n\\n\u5373\u4EE5\u6307\u9488\u94FE\u63A5\u7684\u6BCF\u4E2A\u7269\u7406\u5757\u3002\\n\\n\u4F18\u70B9\u662F\uFF1A\u80FD\u591F\u5B58\u50A8\u788E\u7247\uFF0C\u5229\u4E8E\u52A8\u6001\u589E\u5220\uFF0C\u63D0\u9AD8\u78C1\u76D8\u5229\u7528\u7387\\n\\n\u7F3A\u70B9\u662F\uFF1A\u5B58\u53D6\u8F83\u6162\uFF0C\u4E0D\u9002\u7528\u4E8E\u968F\u673A\u5B58\u53D6\uFF0C\u6548\u7387\u4F4E\uFF0C\u53EF\u9760\u6027\u4F4E\uFF08\u4E00\u4E2A\u6307\u9488\u51FA\u9519\u5C31\u5168\u90E8\u90FD\u9519\u4E86\uFF09\uFF0C\u6307\u9488\u9700\u8981\u7A7A\u95F4\u6765\u5B58\u50A8\\n\\n\u94FE\u7ED3\u6784\u5728\u8BA1\u7B97\u673A\u4E2D\u8FD0\u7528\u8FD8\u662F\u5F88\u5E7F\u6CDB\u7684\uFF0C\u7F16\u7A0B\u65F6\u7684\u6570\u7EC4\u5BF9\u8C61\u7B49\u6570\u636E\u7ED3\u6784\u57FA\u672C\u90FD\u662F\u4EE5\u94FE\u7ED3\u6784\u50A8\u5B58\u7684\u3002\\n\\n\u4E00\u822C\u94FE\u7ED3\u6784\u7684key\u90FD\u9700\u8981\u4E00\u4E9B\u6307\u9488\u4FE1\u606F\uFF0C\u4F8B\u5982\u4E0A\u4E00\u4E2A\u4F4D\u7F6E\u4E0B\u4E00\u4E2A\u4F4D\u7F6E\uFF0C\u611F\u89C9\u5C31\u50CF\u662F\u6570\u7EC4\u7ED3\u6784\u3002\\n\\n# \u8003\u8651\u56E0\u7D20\\n\\n\u4E00\u822C\u9009\u62E9\u5177\u4F53\u6587\u4EF6\u7ED3\u6784\u7684\u65F6\u5019\u90FD\u9700\u8981\u66F4\u5177\u5177\u4F53\u60C5\u51B5\u6765\u8003\u8651\uFF0C\u6211\u8FD9\u91CC\u53EA\u80FD\u7F57\u5217\u51FA\u4E00\u4E9B\u8003\u8651\u7684\u56E0\u7D20\\n\\n\u8003\u8651\u56E0\u7D20\uFF1A\u5B58\u50A8\u4ECB\u8D28\u7C7B\u578B\uFF0C\u8BB0\u5F55\u7C7B\u578B\uFF0C\u5927\u5C0F\uFF0C\u5173\u952E\u5B57\u6570\u76EE\uFF0C\u5BF9\u6587\u4EF6\u8FDB\u884C\u4F55\u79CD\u64CD\u4F5C\u7B49\\n\\n\u8F6C\u8F7D\u8BF7\u6CE8\u660E\u51FA\u5904\u3002"},{"id":"wener-is-my-name","metadata":{"permalink":"/story/wener-is-my-name","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2011/2011-01-02-Wener\u7684\u6765\u5386 - \u4E00\u6BB5\u6545\u4E8B.md","source":"@site/../story/2011/2011-01-02-Wener\u7684\u6765\u5386 - \u4E00\u6BB5\u6545\u4E8B.md","title":"\u201CWener\u201D\u7684\u6765\u5386 - \u4E00\u6BB5\u6545\u4E8B","description":"\u8BB0\u5F97\u90A3\u8FD8\u662F\u5728\u521D\u4E2D\u7684\u65F6\u5019\u5427\uFF0C\u521D\u4E8C\u5DE6\u53F3\u5427\uFF0C\u90A3\u65F6\u5019\u73ED\u4E0A\u5C31\u5F00\u59CB\u53EB\u201C\u7B80\u79F0\u201D\u4E86\uFF0C\u8BB0\u5F97\u6700\u5148\u51FA\u73B0\u7684\u662F\u201C\u5FD7\u513F\u201D\uFF0C\u7136\u540E\u53EB\u4E86\u53EB\u7684\u5927\u5BB6\u90FD\u5F00\u59CB\u53EB\u7B80\u79F0\u4E86\uFF0C\u6211\u89C9\u5F97\u8FD9\u6837\u4E5F\u633A\u597D\u7684\uFF0C\u53EB\u4EBA\u6CA1\u90A3\u4E48\u8D39\u529B\u4E86\uFF0C\u4E5F\u8282\u7701\u4E86\u4E0D\u5C11\u53E3\u6C34\u548C\u65F6\u95F4\u3002","date":"2011-01-02T00:00:00.000Z","tags":[{"inline":true,"label":"\u6545\u4E8B","permalink":"/story/tags/\u6545\u4E8B"}],"readingTime":0.83,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"wener-is-my-name","title":"\u201CWener\u201D\u7684\u6765\u5386 - \u4E00\u6BB5\u6545\u4E8B","tags":["\u6545\u4E8B"]},"unlisted":false,"prevItem":{"title":"\u6587\u4EF6\u5B58\u50A8\u7ED3\u6784\u7684\u57FA\u672C\u5F62\u5F0F\u53CA\u8003\u8651\u56E0\u7D20","permalink":"/story/file-data-structures"},"nextItem":{"title":"2011\u5E74\u7684\u7B2C\u4E00\u5929\uFF0C\u4ECA\u5929\u5F00\u901A\u535A\u5BA2\u4E86","permalink":"/story/start-blogging"}},"content":"\u8BB0\u5F97\u90A3\u8FD8\u662F\u5728\u521D\u4E2D\u7684\u65F6\u5019\u5427\uFF0C\u521D\u4E8C\u5DE6\u53F3\u5427\uFF0C\u90A3\u65F6\u5019\u73ED\u4E0A\u5C31\u5F00\u59CB\u53EB\u201C\u7B80\u79F0\u201D\u4E86\uFF0C\u8BB0\u5F97\u6700\u5148\u51FA\u73B0\u7684\u662F\u201C\u5FD7\u513F\u201D\uFF0C\u7136\u540E\u53EB\u4E86\u53EB\u7684\u5927\u5BB6\u90FD\u5F00\u59CB\u53EB\u7B80\u79F0\u4E86\uFF0C\u6211\u89C9\u5F97\u8FD9\u6837\u4E5F\u633A\u597D\u7684\uFF0C\u53EB\u4EBA\u6CA1\u90A3\u4E48\u8D39\u529B\u4E86\uFF0C\u4E5F\u8282\u7701\u4E86\u4E0D\u5C11\u53E3\u6C34\u548C\u65F6\u95F4\u3002\\n\\n\x3c!--more--\x3e\\n\\n\u6240\u4EE5\u6211\u5462\u201C\u6587\u513F\u201D\u5C31\u8FD9\u6837\u51FA\u6765\u4E86\uFF0C\u6211\u89C9\u5F97\u8FD9\u6837\u53EB\u8D77\u6765\u5176\u5B9E\u633A\u4EB2\u5207\u7684\uFF0C\u542C\u7740\u7684\u611F\u89C9\u4E5F\u5F88\u597D\u7684\u3002\\n\\n\u800C \u6587\u513F \u5373Wen er\u4E86\uFF0C\u4E2D\u6587\u5F0F\u7684\u62FC\u97F3\u8F6C\u5316\u8FC7\u6765\u7684\uFF08\u867D\u7136\u4ECE\u5C0F\u62FC\u97F3\u5C31\u4E0D\u597D\uFF0C\u90A3\u8FD9\u4E5F\u7B97\u662F\u5F25\u8865\u4E0B\u5427.......\uFF09\u3002\\n\\n\u800C\u8FD8\u6709\u4E00\u4E2A\u82F1\u8BED\u7684\u5355\u8BCD Win\xa0 \u03BD.\u80DC\u5229\xa0 Winner\xa0 n.\u80DC\u8005\\n\\n\u5982\u679C Wener\u4E2D\u7684 e \u53D1`[i:]`\u7684\u97F3\u90A3\u5C31\u548C Winner\u7684\u97F3\u76F8\u540C\u4E86\u3002\u8C01\u4E0D\u5E0C\u671B\u6210\u4E3A\u4E00\u4E2A\u80DC\u8005\u5462\u3002\\n\\n\u8FD9\u4E5F\u7B97\u6211\u6000\u63E3\u7740\u81EA\u5DF1\u7684\u68A6\u60F3\u5427\u3002\\n\\n\u7EFC\u4E0A\u5462 \u6211\u5C31\u7279\u522B\u559C\u6B22 _Wener_ \u548C _\u6587\u513F_ \u8FD9\u4E2A\u540D\u5B57\u4E86"},{"id":"start-blogging","metadata":{"permalink":"/story/start-blogging","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2011/2011-01-01-2011\u5E74\u7684\u7B2C\u4E00\u5929\uFF0C\u4ECA\u5929\u5F00\u901A\u535A\u5BA2\u4E86.md","source":"@site/../story/2011/2011-01-01-2011\u5E74\u7684\u7B2C\u4E00\u5929\uFF0C\u4ECA\u5929\u5F00\u901A\u535A\u5BA2\u4E86.md","title":"2011\u5E74\u7684\u7B2C\u4E00\u5929\uFF0C\u4ECA\u5929\u5F00\u901A\u535A\u5BA2\u4E86","description":"\u7B97\u6765\u7B97\u53BB\u7EC8\u4E8E\u5230\u4E86\u4ECA\u5929\u4E86\u3002","date":"2011-01-01T00:00:00.000Z","tags":[],"readingTime":0.95,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"start-blogging","title":"2011\u5E74\u7684\u7B2C\u4E00\u5929\uFF0C\u4ECA\u5929\u5F00\u901A\u535A\u5BA2\u4E86"},"unlisted":false,"prevItem":{"title":"\u201CWener\u201D\u7684\u6765\u5386 - \u4E00\u6BB5\u6545\u4E8B","permalink":"/story/wener-is-my-name"},"nextItem":{"title":"PHP \u64CD\u4F5C\u4E8C\u8FDB\u5236\u6D41\uFF0C\u8BFB\u53D6\u6587\u4EF6\u7ED3\u6784","permalink":"/story/php-read-binary"}},"content":"\u7B97\u6765\u7B97\u53BB\u7EC8\u4E8E\u5230\u4E86\u4ECA\u5929\u4E86\u3002\\n\\n\u6709\u610F\u7B49\u5230\u4E86\u4ECA\u5929\u5C31\u5F00\u901A\u6211\u7684\u535A\u5BA2\uFF0C\u8FD9\u6837\u4E00\u4E2A\u7684\u5E73\u53F0\u4E0A\uFF0C\u8BF4\u81EA\u5DF1\u60F3\u8BF4\u7684\uFF0C\u505A\u81EA\u5DF1\u60F3\u505A\u7684\uFF0C\u633A\u597D\u7684\u3002\\n\\n\x3c!--more--\x3e\\n\\n\u4E3A\u4E86\u907F\u514D\u535A\u5BA2\u7A7A\u8361\u8361\u7684\uFF0C\u6240\u4EE5\u6211\u5C31\u4E8B\u5148\u5199\u597D\u4E86[Php \u64CD\u4F5C\u4E8C\u8FDB\u5236\u6D41\uFF0C\u8BFB\u53D6\u6587\u4EF6\u7ED3\u6784](./2011-01-01-PHP \u64CD\u4F5C\u4E8C\u8FDB\u5236\u6D41\uFF0C\u8BFB\u53D6\u6587\u4EF6\u7ED3\u6784.md)\u8FD9\u7BC7\u6587\u7AE0\uFF0C\u6069\u6069\uFF0C\u4E2A\u4EBA\u611F\u89C9\u826F\u597D\u554A\u3002\\n\\n\u4E0D\u77E5\u9053\u8FD9\u4E2A\u535A\u5BA2\u4F1A\u966A\u4F34\u6211\u8D70\u591A\u4E45\uFF0C\u81F3\u5C11\u6211\u4F1A\u8BB0\u5F9711\u5E74\u768401\u65E5\u662F\u5979\u7684\u8BDE\u8FB0\uFF0C\u6BCF\u5E74\u7684\u7B2C\u4E00\u5929\u90FD\u662F\u4ED6\u7684\u751F\u8FB0\uFF0C\u5E0C\u671B\u5979\u80FD\u4E00\u76F4\u966A\u6211\u8D70\u4E0B\u53BB\u5427\uFF0C\u6211\u770B\u7740\u5979\u6210\u957F\uFF0C\u4ED6\u4E5F\u770B\u7740\u6211\u6210\u957F\u3002\\n\\n\u8BFB\u7740\u4E66\uFF0C\u6211\u90FD\u6253\u7B97\u6BCF\u6708\u66F4\u65B0\u4E00\u7BC7\u6587\u7AE0\u4E86\uFF0C\u5F88\u591A\u4E1C\u897F\uFF0C\u5176\u5B9E\u6574\u7406\u4E00\u4E0B\u5C31\u53C8\u662F\u4E00\u7BC7\u4E0D\u9519\u7684\u6587\u7AE0\u4E86\uFF0C\u81EA\u5DF1\u4E5F\u4EAB\u53D7\u90A3\u6574\u7406\u7684\u8FC7\u7A0B\u3002\u633A\u5FEB\u4E50\u7684\uFF0C\u800C\u4E14\u4E5F\u5DE9\u56FA\u4E86\u81EA\u5DF1\u7684\u77E5\u8BC6\u3002\u4F55\u4E50\u800C\u4E0D\u4E3A\u5462\uFF1F\\n\\n\u6211\u7684\u535A\u5BA2\u4E0A\u6216\u8BB8\u4E0D\u4F1A\u51FA\u73B0\u4EC0\u4E48\u5E7F\u544A\u5427\uFF0C\u6211\u4E5F\u4E0D\u4F1A\u7528\u5E7F\u544A\u6765\u8D5A\u94B1\uFF0C\u611F\u89C9\u6CA1\u6709\u5E7F\u544A\u6E05\u723D\u591A\u4E86\uFF0C\u4E5F\u5E72\u51C0\u4E9B\u3002"},{"id":"php-read-binary","metadata":{"permalink":"/story/php-read-binary","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2011/2011-01-01-PHP \u64CD\u4F5C\u4E8C\u8FDB\u5236\u6D41\uFF0C\u8BFB\u53D6\u6587\u4EF6\u7ED3\u6784.md","source":"@site/../story/2011/2011-01-01-PHP \u64CD\u4F5C\u4E8C\u8FDB\u5236\u6D41\uFF0C\u8BFB\u53D6\u6587\u4EF6\u7ED3\u6784.md","title":"PHP \u64CD\u4F5C\u4E8C\u8FDB\u5236\u6D41\uFF0C\u8BFB\u53D6\u6587\u4EF6\u7ED3\u6784","description":"\u672C\u6587\u5305\u542B\u7684\u5185\u5BB9\uFF1A\u8BE6\u7EC6\u7684pack\u548Cunpack\u8C03\u7528\u8BE6\u89E3\uFF0C16\u8FDB\u5236\u6570\u5B57\u5B57\u7B26\u4E32\u4FDD\u5B58\u5230\u6587\u4EF6\uFF0C\u8BFB\u53D6\u6587\u4EF6\u8FD4\u56DE\u503C\uFF0C\u7B49","date":"2011-01-01T00:00:00.000Z","tags":[{"inline":true,"label":"PHP","permalink":"/story/tags/php"},{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"},{"inline":true,"label":"\u5E93","permalink":"/story/tags/\u5E93"}],"readingTime":8.98,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"php-read-binary","title":"PHP \u64CD\u4F5C\u4E8C\u8FDB\u5236\u6D41\uFF0C\u8BFB\u53D6\u6587\u4EF6\u7ED3\u6784","tags":["PHP","\u7F16\u7A0B","\u5E93"]},"unlisted":false,"prevItem":{"title":"2011\u5E74\u7684\u7B2C\u4E00\u5929\uFF0C\u4ECA\u5929\u5F00\u901A\u535A\u5BA2\u4E86","permalink":"/story/start-blogging"},"nextItem":{"title":"\u4E00\u79CD\u7B80\u5355\u7684\u538B\u7F29\u7B97\u6CD5","permalink":"/story/simple-compress-algorithem"}},"content":"\u672C\u6587\u5305\u542B\u7684\u5185\u5BB9\uFF1A\u8BE6\u7EC6\u7684pack\u548Cunpack\u8C03\u7528\u8BE6\u89E3\uFF0C16\u8FDB\u5236\u6570\u5B57\u5B57\u7B26\u4E32\u4FDD\u5B58\u5230\u6587\u4EF6\uFF0C\u8BFB\u53D6\u6587\u4EF6\u8FD4\u56DE\u503C\uFF0C\u7B49\\n\\n\x3c!--more--\x3e\\n\\n\u672C\u6587\u5305\u542B\u7684\u5185\u5BB9\uFF1A\u8BE6\u7EC6\u7684pack\u548Cunpack\u8C03\u7528\u8BE6\u89E3\uFF0C16\u8FDB\u5236\u6570\u5B57\u5B57\u7B26\u4E32\u4FDD\u5B58\u5230\u6587\u4EF6\uFF0C\u8BFB\u53D6\u6587\u4EF6\u8FD4\u56DE\u503C\uFF0C\u7B49\u5305\u542B\u5B9E\u4F8B\uFF1A\u8BFB\u53D6\\n\\nBMP\u56FE\u7247\u4FE1\u606F\u51FD\u6570\uFF1A\\n\\n```php\\n//\u5C0616\u8FDB\u5236\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u6B64\u503C\u7684\u5B57\u7B26\u4E32\u3002\\n\\nfunction hexstr_str( $hetstr)\\n\\n//\u4E24\u4E2A\u7248\u672C\uFF0C\u4E00\u4E2A\u662Fpack\u5B9E\u73B0\uFF0C\u4E00\u4E2A\u662Fchr\u65B9\u6CD5\u5B9E\u73B0\\n```\\n\\n\u66FE\u7ECF\u4E3A\u4E86\u5904\u7406\u6E90\u6587\u4EF6\u5C31\u767E\u5EA6\u4E86\u4E0Bphp\xa02 \u8FDB\u5236\u6587\u4EF6\uFF0C\u7ED3\u679C\u51FA\u6765\u7684\u8C8C\u4F3C\u90FD\u662F\u4E00\u4E2A\u4EBA\u5199\u7684\uFF0C\u522B\u4EBA\u590D\u5236\u548C\u8F6C\u8F7D\u7684\uFF0C\u800C\u4E14\u6211\u4E5F\u504F\u504F\u6CA1\u6709\u770B\u61C2\u3002\u633A\u90C1\u95F7\u7684\u3002\u56E0\u6B64\u5C31\u6709\u4E86\u4E0B\u6587\uFF0C\u6211\u5C31\u81EA\u5DF1\u641E\u6253\uFF0C\u7814\u7A76\u7814\u7A76\u3002Php\u5904\u74062\u8FDB\u5236\u65E0\u975E\u5C31\u662F\u4F7F\u7528pack\u548Cunpack\uFF0C\u5728\u540E\u6587\u8BB2\u8BB2\u5176\u4ED6\u7684\u529E\u6CD5\u3002\\n\\n\u51FD\u6570\u539F\u578B\uFF1A\\n\\nstring pack (\xa0string\xa0$format\xa0[, [mixed](http://cn2.php.net/manual/en/language.pseudo-types.php#language.types.mixed) $args\xa0[, [mixed](http://cn2.php.net/manual/en/language.pseudo-types.php#language.types.mixed) $...\xa0]]\xa0)\\n\\narray unpack (\xa0string\xa0$format\xa0,\xa0string\xa0$data\xa0)\\n\\nPack\u662F\u8BB2\u6240\u7ED9\u7684\u53C2\u6570\u66F4\u5177\u6240\u7ED9\u7684\u683C\u5F0F\u6253\u5305\u62102\u8FDB\u5236\u5B57\u7B26\u4E32\u3002\u624B\u518C\u4E0A\u8BF4\u8FD9\u4E2A\u51FD\u6570\u548CPerl\u7684\u57FA\u672C\u76F8\u540C\uFF0C\u53EA\u662F\u5728\u683C\u5F0F\u4E0A\u53BB\u6389\u4E86s,u\u7B49\u3002\u8FD9\u91CC\u6709\u4E00\u70B9\u8981\u6CE8\u610F\u7684\u662F\uFF0C\u6709\u7B26\u53F7\u548C\u65E0\u7B26\u53F7\u7684\u6570\u7531pack\u8F6C\u6362\u51FA\u6765\u7684\u7ED3\u679C\u76F8\u540C\uFF0C\u4F46\u662F\u4F1A\u5F71\u54CDunpack\u7684\u7ED3\u679C\u3002\\n\\n\u5148\u770B\u4E00\u4E2A\u5C0F\u5C0F\u7684\u5B9E\u4F8B\uFF1A\\n\\n```php\\n$data = pack(\\"N\\", 0x12345);\\n\\nvar_dump($data);\\n\\n$fn = \'out.text\';\\n\\n$fp = fopen($fn,\'w\');\\n\\nfwrite($fp,$data);\\n```\\n\\n\x3c!-- [![](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8FDB\u5236\u6587\u4EF6-899.png \\"php\u5904\u74062\u8FDB\u5236\u6587\u4EF6-899\\")](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8FDB\u5236\u6587\u4EF6-899.png) --\x3e\\n\\n\u7ED3\u679C\u5F88\u660E\u4E86\uFF0C\u7528\u6CD5\u5F88\u7B80\u5355\u3002\\n\\n\u5173\u4E8EN\u6A21\u5F0F\uFF1A\\n\\n```\\nunsigned\xa0long\xa0(always\xa032\xa0bit,\xa0big\xa0endian\xa0byte\xa0order)\\n```\\n\\n\u65E0\u7B26\u53F7\u957F\u6574\u578B\uFF0C\u603B\u662F\u8FD4\u56DE32\u4F4D\\n\\n\u683C\u5F0F\uFF1A\\n\\n| mode | \u8BF4\u561B                                  |\\n| ---- | ------------------------------------- |\\n| a    | \u5C06\u5B57\u7B26\u4E32\u7A7A\u767D\u4EE5 NULL \u5B57\u7B26\u586B\u6EE1          |\\n| A    | \u5C06\u5B57\u7B26\u4E32\u7A7A\u767D\u4EE5 SPACE \u5B57\u7B26 (\u7A7A\u683C) \u586B\u6EE1 |\\n| h    | \u5341\u516D\u8FDB\u4F4D\u5B57\u7B26\u4E32\uFF0C\u4F4E\u4F4D\u5728\u524D              |\\n| H    | \u5341\u516D\u8FDB\u4F4D\u5B57\u7B26\u4E32\uFF0C\u9AD8\u4F4D\u5728\u524D              |\\n| c    | \u6709\u53F7\u5B57\u7B26                              |\\n| C    | \u65E0\u53F7\u5B57\u7B26                              |\\n| s    | \u6709\u53F7\u77ED\u6574\u6570 (\u5341\u516D\u4F4D\uFF0C\u4F9D\u8BA1\u7B97\u673A\u7684\u4F4D\u987A\u5E8F) |\\n| S    | \u65E0\u53F7\u77ED\u6574\u6570 (\u5341\u516D\u4F4D\uFF0C\u4F9D\u8BA1\u7B97\u673A\u7684\u4F4D\u987A\u5E8F) |\\n| n    | \u65E0\u53F7\u77ED\u6574\u6570 (\u5341\u516D\u4F4D, \u9AD8\u4F4D\u5728\u540E\u7684\u987A\u5E8F)   |\\n| v    | \u65E0\u53F7\u77ED\u6574\u6570 (\u5341\u516D\u4F4D, \u4F4E\u4F4D\u5728\u540E\u7684\u987A\u5E8F)   |\\n| i    | \u6709\u53F7\u6574\u6570 (\u4F9D\u8BA1\u7B97\u673A\u7684\u987A\u5E8F\u53CA\u8303\u56F4)       |\\n| I    | \u65E0\u53F7\u6574\u6570 (\u4F9D\u8BA1\u7B97\u673A\u7684\u987A\u5E8F\u53CA\u8303\u56F4)       |\\n| l    | \u6709\u53F7\u957F\u6574\u6570 (32\u4F4D\uFF0C\u4F9D\u8BA1\u7B97\u673A\u7684\u4F4D\u987A\u5E8F)   |\\n| L    | \u65E0\u53F7\u957F\u6574\u6570 (32\u4F4D\uFF0C\u4F9D\u8BA1\u7B97\u673A\u7684\u4F4D\u987A\u5E8F)   |\\n| N    | \u65E0\u53F7\u77ED\u6574\u6570 (32\u4F4D, \u9AD8\u4F4D\u5728\u540E\u7684\u987A\u5E8F)     |\\n| V    | \u65E0\u53F7\u77ED\u6574\u6570 (32\u4F4D, \u4F4E\u4F4D\u5728\u540E\u7684\u987A\u5E8F)     |\\n| f    | \u5355\u7CBE\u786E\u6D6E\u70B9\u6570 (\u4F9D\u8BA1\u7B97\u673A\u7684\u8303\u56F4)         |\\n| d    | \u500D\u7CBE\u786E\u6D6E\u70B9\u6570 (\u4F9D\u8BA1\u7B97\u673A\u7684\u8303\u56F4)         |\\n| x    | \u7A7A\u4F4D                                  |\\n| X    | \u5012\u56DE\u4E00\u4F4D                              |\\n| @    | \u586B\u5165 NULL \u5B57\u7B26\u5230\u7EDD\u5BF9\u4F4D\u7F6E              |\\n\\n\u5173\u4E8Epack\u7684\u8C03\u7528\u65B9\u6CD5\u3002\\n\\n\u56E0\u4E3Apack\u662F\u652F\u6301\u591A\u4E2A\u4E0D\u5B9A\u4E2A\u6570\u53C2\u6570\u7684\uFF0C\u6240\u4EE5\u6BCF\u4E2A\u53C2\u6570\u90FD\u8981\u6307\u5B9A\u4E00\u4E2A\u8F6C\u6362\u7684\u6A21\u5F0F\u3002\\n\\n```php\\n$data = pack(\\"Nn\\", 0x12345, 0x12345);\\n```\\n\\n\u5F53\u4F60\u53C2\u6570\u7684\u4E2A\u6570\u591A\u4E8E\u683C\u5F0F\u7684\u4E2A\u6570\u65F6\uFF0C\u51FA\u73B0\uFF1A\\n\\n```\\nWarning:\xa0pack()\xa0[[function.pack](http://localhost/lab/function.pack)]:\xa01\xa0arguments\xa0unused\xa0in E:\\\\host\\\\htdocs\\\\Lab\\\\Binary.php on\xa0line 4\\n```\\n\\nWarning\u7EA7\u9519\u8BEF\u3002\\n\\n\u8FD9\u4E2A\u8FD8\u6709\u4E2A\u6CE8\u610F\u7684\u662F\\\\*\u6A21\u5F0F\u3002\\n\\n```php\\n$data = pack(\\"Nn*\\", 0x12345, 0x12345, 0x12345);\\\\\\\\\u6700\u540E\u4E24\u4E2A\u662F16\u4F4D\uFF0C\u6240\u4EE5\u8F93\u51FA\u91CC\u9762\u662F2\u5B57\u8282\\n\\nvar_dump($data);\\n\\n$fn = \'out.text\';\\n\\n$fp = fopen($fn,\'w\');\\n\\nfwrite($fp,$data);\\n```\\n\\n\u8F93\u51FA\uFF1A\\n\\n\x3c!-- [![](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8FDB\u5236\u6587\u4EF6-1934.png \\"php\u5904\u74062\u8FDB\u5236\u6587\u4EF6-1934\\")](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8FDB\u5236\u6587\u4EF6-1934.png) --\x3e\\n\\n\u770B\u51FA\u6765\u4E86\u6700\u540E\u4E24\u4E2A\u662F\u4E00\u6837\u7684\u3002\u56E0\u4E3A\u624B\u518C\u4E0A\u6CA1\u8BF4\uFF0C\u4F46\u662F\u6211\u731C\u6D4B\\\\*\u6A21\u5F0F\u5C31\u662F\u201C\u540C\u4E0A\u201D\u7684\u610F\u601D\u5427\u3002\\n\\n\u57FA\u7840\u77E5\u8BC6\uFF1A\\n\\n1\u5B57\u8282 =\xa0\xa08\u4F4D = 2^8 =\xa0\xa0256\\n\\n\u4E00\u4E2Agb2312\u5B57\u7B262\u5B57\u8282\uFF0C\u4E00\u4E2Aascii\u5B57\u7B261\u5B57\u8282\u3002\\n\\n\u5173\u4E8E\u6A21\u5F0F\u7684\u9009\u62E9\u90FD\u7531\u4E2A\u4EBA\u4F7F\u7528\u7684\u60C5\u51B5\u51B3\u5B9A\uFF0C\u8FD9\u91CC\u6211\u7ED9\u51FA\u6211\u81EA\u5DF1\u5199\u7684\u4E00\u4E2A\u51FD\u6570\u3002\\n\\n```php\\n//\u5C0616\u8FDB\u5236\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u6B64\u503C\u7684\u5B57\u7B26\u4E32\u3002\\n\\nfunction hexstr_str( $hetstr)\\n\\n{\\n\\n$re = \'\';\\n\\nfor( $i = 0;\xa0isset( $hetstr[ $i + 4]); $i += 4)\\n\\n//echo\xa0substr(\xa0$hetstr,\xa0$i,\xa02);\\n\\n$re .= pack(\'n\',\xa0( \'0x\'.substr( $hetstr, $i, 4))\xa0* 1);\\n\\n$len = strlen( $hetstr)\xa0- $i;\\n\\n$hetstr = \'0x\'.substr( $hetstr, $i, strlen( $hetstr)\xa0- $i);\\n\\n$hetstr .=\xa0( $len % 2)\xa0? \'0\':\'\';\\n\\n$format = $len &lt; 3 ? \'v\': \'n\';\\n\\n$re .= pack( $format, $hetstr * 1);\\n\\nreturn $re;\\n\\n}\\n```\\n\\n\u6D4B\u8BD5\uFF1A\\n\\n```php\\n$data = hexstr_str( \'ABCDc\');\\n```\\n\\n\u8F93\u51FA\uFF1A\\n\\n\x3c!-- [![](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8FDB\u5236\u6587\u4EF6-2766.png \\"php\u5904\u74062\u8FDB\u5236\u6587\u4EF6-2766\\")](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8FDB\u5236\u6587\u4EF6-2766.png) --\x3e\\n\\n\u6709\u70B9\u9057\u61BE\u7684\u662F\u5B83\u90FD\u8981\u75280\u6765\u8865\u6EE116\u4F4D\u3002\u4E0D\u8FC7\u603B\u7684\u6765\u8BF4\u8FD8\u662F\u5F88\u4E0D\u9519\u7684\u5566\u3002\\n\\nUnpack\u7684\u4F7F\u7528\uFF0C\u6211\u89C9\u5F97\u7528\u7740\u8FD9\u4E2A\u611F\u89C9\u633A\u63EA\u5FC3\u7684\u3002\\n\\nunpack() works\xa0slightly\xa0different\xa0from\xa0Perl\xa0as\xa0the\xa0unpacked\xa0data\xa0is\xa0stored\xa0in\xa0an\xa0associative\xa0array.\xa0To\xa0accomplish\xa0this\xa0you\xa0have\xa0to\xa0name\xa0the\xa0different\xa0format\xa0codes\xa0and\xa0separate\xa0them\xa0by\xa0a\xa0slash\xa0/.\\n\\nUnpack\u7684\u8FD0\u884C\u548CPerl\u7684\u6709\u4E9B\u5FAE\u4E0D\u540C\uFF0C\u5728php\u4E2Dunpack\u7684\u7ED3\u679C\u662F\u7531\u4E00\u4E2A\u6570\u7EC4\u8FD4\u56DE\u7684\u3002\u56E0\u6B64\u4F60\u9700\u8981\u63A5\u53D7\u8FD9\u4E9B\u6570\u636E\u5C31\u8981\u7ED9\u683C\u5F0F\u547D\u540D\uFF0C\u4EE5/\u5206\u9694\u3002\\n\\n\u624B\u518C\u4E0A\u7684\u5B9E\u4F8B\uFF1B\\n\\n&lt;?php\\n\\n$array = unpack(\\"c2chars/nint\\", $binarydata);\\n\\n?&gt;\\n\\n\u770B\u4E00\u4E2A\u6211\u4E2A\u4EBA\u7684\u8C03\u7528\u5B9E\u4F8B\uFF1A\\n\\n```php\\n$data = pack(\\"n\\",\xa0(\'0x\'.\'abc\' )\xa0* 1);\\n\\n$data = hexstr_str( \'ABCDc\');\\n\\n$s = $data;\\n\\n$array = unpack(\\"Nwen/n2stort\\", $s.$s);\\n```\\n\\n\u8F93\u51FA\u7ED3\u679C\uFF1A\\n\\n```\\narray(3)\xa0{\\n\\n [\\"wen\\"]=&gt;\\n\\n int(-1412579328)\\n\\n [\\"stort1\\"]=&gt;\\n\\n int(43981)\\n\\n [\\"stort2\\"]=&gt;\\n\\n int(49152)\\n\\n}\\n```\\n\\n\u4E0A\u5F0F\u7ED3\u679C\u4E5F\u5C31\u662F\\n\\n```\\nwen:abcdc000\\n\\nstort1:abcd\\n\\nstort2:c000\\n```\\n\\n\u770B\u7740\u8FD9\u6837\u7684\u7ED3\u679C\u548C\u8F93\u5165\u7684\u683C\u5F0F\u6211\u89C9\u5F97\u5F88\u63EA\u5FC3\u7684\u3002\u4E0D\u8FC7\u8FD9\u91CC\u8FD8\u662F\u6709\u70B9\u597D\u5904\u7684\uFF0C\u8FD9\u4E2A\u6211\u4EEC\u53EF\u4EE5\u683C\u5F0F\u5316\u8F93\u51FA\u4E00\u4E2A\u6587\u4EF6\u7684\u5934\u4FE1\u606F\u4EC0\u4E48\u7684\u3002\\n\\n\u8BE6\u7EC6\u8BB2\u8BB2uppack\u7684\u683C\u5F0F\u548C\u8F93\u5165\u7684\u5173\u7CFB\u3002\\n\\n\\"Nwen/n2stort\\"\\n\\n\u5373\u7B2C\u4E00\u4E2A\u89E3\u6790\u4EE5N\u4E3A\u683C\u5F0F\uFF0C\u4EE5wen\u4E3A\u540D\u5B57\u3002\\n\\n\u7B2C\u4E8C\u4E2A\u89E3\u6790\u4EE5n\u4E3A\u683C\u5F0F\u89E3\u6790\u4E24\u6B21\uFF0C\u4EE5short\u4E3A\u540D\u5B57\u3002\\n\\n\u751F\u6210\u7684short\u7684\u540D\u5B57\u662F\u4EE5short1\uFF0Cshort2\uFF0C\u2026\u2026shortn\u8FD9\u6837\u7684\u5F62\u5F0F\u589E\u957F\u7684\u3002\\n\\n\u89E3\u6790\u7684\u65B9\u6CD5\uFF1A\\n\\nN\uFF0C\u5148\u5728\u8F93\u5165\uFF08$s.$s\uFF09\u4E2D\u8BFB\u516532\u4F4D\u957F\uFF0C\u53734\u5B57\u8282\u3002\u7136\u540E\u518D\u7528N\u8F6C\u6362\uFF0C\u6B64\u65F6\u6307\u5411$s.$s\u6307\u9488\u7684\u4F4D\u7F6E\u5DF2\u7ECF\u5230\u4E864\u4E86\uFF0C\u7B2C\u4E00\u4E2A$s\u5DF2\u7ECF\u8BFB\u5B8C\u4E86\uFF0C\u56E0\u6B64\u8981\u662F\u8F93\u5165\u662F$s\u7684\u8BDD\u4F1A\u62A5\u9519\uFF1A\\n\\n```\\nWarning:\xa0unpack()\xa0[[function.unpack](http://localhost/lab/function.unpack)]:\xa0Type\xa0n:\xa0not\xa0enough\xa0input,\xa0need\xa02,\xa0have\xa00\xa0in E:\\\\host\\\\htdocs\\\\Lab\\\\Binary.php on\xa0line 7\\n\\nbool(false)\\n```\\n\\n\u6B64\u65F6\u7684\u8FD4\u56DE\u503C\u4E3Afalse\u3002\\n\\n\u5728\u89E3\u6790\u5B8C\u7B2C\u4E00\u4E2AN\u540E\u9047\u5230\u4E86\u201C/\u201D\u8FDB\u5165\u4E0B\u4E00\u7EC4\u7684\u89E3\u6790\uFF0C\u89E3\u6790\u7684\u683C\u5F0F\u4E3An\uFF0C\u67092\u7EC4\uFF0C\u540D\u5B57\u4E3Ashort\\n\\n\u6240\u4EE5short1\u4E3A\u8F93\u5165\u7684\u7B2C4-6\u89E3\u6790\u7684\u7ED3\u679C\uFF0C\u800Cshort2\u4E3A6-8\u7684\u7ED3\u679C\u3002\u90FD\u662F\u4E00\u4E00\u5BF9\u5E94\u7684\u3002\\n\\n\u8FD9\u6837\u770B\u6765\u4E5F\u4E0D\u662F\u5F88\u96BE\u561B\u662F\u5427\u3002\\n\\n\u4E2A\u4EBA\u65B9\u6CD5\uFF1A\\n\\nPerl\u601D\u60F3\u4E2D\u6709\u4E00\u6761\u662F\uFF1A\\n\\nThere\'s More Than One Way To Do It.\\n\\n\u6211\u4E5F\u89C9\u5F97\u5982\u6B64\u3002\\n\\nPhp\u4E2D\u6709\u4E2A\u51FD\u6570\u53EB\u505A\\n```\\nString chr(\xa0int\xa0$ascii\xa0)\\n```\\n\u8FD4\u56DE\u4E00\u4E2A\u5B57\u8282\uFF0C\u4EE5ascii\u503C\u4E3A\u53C2\u6570\u3002\\n\\n\u539F\u672C\u7684ascii\u53EA\u6709127\u7684\uFF0C\u4F46\u662F\u540E\u6765\u6269\u5C55\u5230\u4E86255\u52A0\u4E0A0\u90A3\u5C31\u662F256 \u5F88\u597D\xa0\u8FD9\u6837\u5C31\u90FD\u80FD\u8868\u793A\u4E86\u3002\\n\\n\u628A\u4E0A\u9762\u90A3\u4E2A\u51FD\u6570\u7A0D\u5FAE\u6539\u9020\u4E00\u4E0B\u5C31\u662F\uFF1A\\n\\n```php\\n//\u5C0616\u8FDB\u5236\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u6B64\u503C\u7684\u5B57\u7B26\u4E32\u3002\\n\\nfunction hexstr_str( $hexstr)\\n\\n{\\n\\n $re = \'\';\\n\\n for( $i = 0;\xa0isset( $hexstr[ $i +1]); $i += 2)\\n\\n $re .= chr(\xa0(\'0x\'.$hexstr[ $i].$hexstr[ $i + 1])\xa0* 1);\\n\\n if( strlen( $hexstr)\xa0&gt; $i)\\n\\n $re .= chr(\xa0(\'0x\'.$hexstr[ $i].\'0\')\xa0* 1);\\n\\n return $re;\\n\\n}\\n```\\n\\n\u4EE3\u7801\u7B80\u6D01\u4E86\u5F88\u591A\u554A\u3002\u770B\u8D77\u6765\u987A\u773C\u591A\u4E86\u3002\\n\\n\u7F6E\u4E8E\u6211\u4E3A\u5565\u7814\u7A76\u8FD9\u4E2A\u73A9\u610F\u513F\uFF0C\u6211\u6700\u5F00\u59CB\u4E5F\u5C31\u662F\u4E3A\u4E86\u7528\u5566\u8BFB\u53D6BMP\u6E90\u6587\u4EF6\u7684\u3002\\n\\n\u8FD9\u91CC\u6211\u4EEC\u6765\u7B80\u5355\u5199\u4E2A\u8BFB\u53D6BMP\u5934\u4FE1\u606F\u7684\u51FD\u6570\u3002\\n\\n\u6CE8\u610F\uFF0C\u8FD9\u91CC\u662F\u4EE524/32\u4F4D\u56FE\u4E3E\u4F8B\uFF0C16/8/2\u4F4D\u4F4D\u56FE\u5728\u8FD9\u91CC\u53EF\u80FD\u884C\u4E0D\u901A\u7684\uFF0C\u56E0\u4E3A\u6570\u636E\u7ED3\u6784\u4E0D\u540C\u3002\\n\\nBMP\u6587\u4EF6\u7ED3\u6784\uFF1A\\n\\nBegin\\n\\n```\\n//\u6587\u4EF6\u5934\\n\\n section \\"BMP\xa0File\xa0Header\\"\\n\\n  read-only\xa0char[2] \\"BMP_ID\\"  //\xa000\\n\\n  uint32 \\"File\xa0size\\"    //\xa002\\n\\n  uint32 \\"Reserved\\"    //\xa006\\n\\n  uint32\xa0\xa0\\"ImageDataOffset\\"   //\xa00A\\n\\n endsection\\n\\n//\u4FE1\u606F\u5934\\n\\n section \\"BMP\xa0Info\xa0Header\\"\\n\\n  uint32 \\"HeaderSize\\"    //\xa00E\\n\\n  uint32 \\"Width\\"     //\xa012\\n\\n  uint32 \\"Height\\"    //\xa016\\n\\n  uint16 \\"Planes\\"    //\xa01A\\n\\n  uint16 \\"BPP\\"     //\xa01C\\n\\n  uint32 \\"CompessionMethod\\"   //\xa01E\\n\\n  uint32 \\"ImageSize\\"    //\xa022\\n\\n  uint32 \\"XPixelsPerMeter\\"   //\xa026\\n\\n  uint32 \\"YPixelsPerMeter\\"   //\xa02A\\n\\n  uint32 \\"PaletteSize\\"    //\xa02E\\n\\n  uint32 \\"ColorsImportant\\"   //\xa032\\n\\n endsection\\n\\n//\u8C03\u8272\u677F\u4FE1\u606F\\n\\n section \\"Palette(If\xa0PaletteSize=0\xa0then\xa0no\xa0palette)\\"\\n\\n  numbering\xa00\\n\\n  {\\n\\n   byte\xa0\\"B[~]\\"\\n\\n   byte\xa0\\"G[~]\\"\\n\\n   byte\xa0\\"R[~]\\"\\n\\n   byte\xa0\\"A[~]\\"\\n\\n  }\xa0[PaletteSize]\\n\\n endsection\\n\\nend\\n```\\n\\n\u5B9E\u73B0\u7684\u4EE3\u7801\u5982\u4E0B\uFF1A\\n\\n```php\\n$data = file_get_contents( \'Wener.bmp\');\\n\\n$array = unpack(\\"nBMP_ID/V\u6587\u4EF6\u5927\u5C0F/V\u4FDD\u7559\u5B57/V\u56FE\u7247\u4FE1\u606F\u504F\u79FB/V\u5934\u5927\u5C0F/V\u5BBD/V\u9AD8/vPlanes/vBPP/V\u538B\u7F29\u65B9\u6CD5/V\u56FE\u7247\u5927\u5C0F/V\u6A2A\u8F74\u4E0A\u6BCF\u50CF\u7D20\u5BBD/V\u7AD6\u8F74\u4E0A\u6BCF\u50CF\u7D20\u5BBD/V\u8C03\u8272\u677F\u5927\u5C0F/V\u91CD\u8981\u7684\u989C\u8272\\", $data);\\n\\necho \'&lt;pre&gt;\';\\n\\nvar_dump( $array);\\n\\nforeach( $array as $k =&gt; $v)\\n\\n echo $k,\':\',( $v),\'&lt;br&gt;\';\\n```\\n\\n\u8BF7\u66F4\u6539\u4E3A\u4F60\u81EA\u5DF1\u7684\u56FE\u7247\u5730\u5740\u540E\u6D4B\u8BD5\u3002\u6211\u7684\u8F93\u5165\u5982\u4E0B\uFF1A\\n\\nBMP_ID:16973\\n\\n\u6587\u4EF6\u5927\u5C0F:307254\\n\\n\u4FDD\u7559\u5B57:0\\n\\n\u56FE\u7247\u4FE1\u606F\u504F\u79FB:54\\n\\n\u5934\u5927\u5C0F:40\\n\\n\u5BBD:240\\n\\n\u9AD8:320\\n\\nPlanes:1\\n\\nBPP:32\\n\\n\u538B\u7F29\u65B9\u6CD5:0\\n\\n\u56FE\u7247\u5927\u5C0F:307200\\n\\n\u6A2A\u8F74\u4E0A\u6BCF\u50CF\u7D20\u5BBD:0\\n\\n\u7AD6\u8F74\u4E0A\u6BCF\u50CF\u7D20\u5BBD:0\\n\\n\u8C03\u8272\u677F\u5927\u5C0F:0\\n\\n\u91CD\u8981\u7684\u989C\u8272:0\\n\\n\u6211\u7684\u6D4B\u8BD5\u6587\u4EF6\uFF1A\\n\\n\x3c!-- [![](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8FDB\u5236\u6587\u4EF6-6007-225x300.png \\"php\u5904\u74062\u8FDB\u5236\u6587\u4EF6-6007\\")](http://www.wener.me/wp-content/uploads/2011/01/php\u5904\u74062\u8FDB\u5236\u6587\u4EF6-6007.png) --\x3e\\n\\n\u603B\u7ED3\uFF1A\\n\\n\u603B\u7684\uFF0C\u6765\u8BF4\uFF0Cphp\u7684\u8FD9\u4E24\u4E2A\u51FD\u6570\u65E0\u7591\u662F\u5F88\u5F3A\u5927\u7684\u3002\u7528\u6765\u5206\u6790\u6587\u4EF6\u4E5F\u5F88\u597D\u7528\u3002\\n\\n\u6216\u8BB8\u4E0D\u8DB3\u7684\u5C31\u662F\u7F3A\u5C11\u8FD9\u65B9\u9762\u7684\u6848\u4F8B\u5427\uFF0C\u6CA1\u89C1\u5230\u5F88\u591A\u4EBA\u7528\u8FC7\u8FD9\u4E2A\u3002\\n\\n\u4EE5\u540E\u81EA\u5DF1\u5B66\u4E60\u6587\u4EF6\u7684\u7ED3\u6784\u4E5F\u4F1A\u5E38\u5E38\u7528\u5230\u8FD9\u4E2A\u51FD\u6570\uFF0C\u6709\u65F6\u5019\u89C9\u5F97unpack\u6BD4pack\u66F4\u6709\u9B45\u529B\u3002\u5173\u4E8E\u66F4\u8BE6\u7EC6\u7684BMP\u6587\u4EF6\u7ED3\u6784\u548C\u4FE1\u606F\u7684\u83B7\u53D6\u6211\u4F1A\u53E6\u5916\u5199\u4E00\u7BC7\u6587\u7AE0\u7684\u3002\u8FD9\u7BC7\u53EA\u662F\u7565\u5FAE\u7684\u6D89\u53CA\uFF0C\u4F5C\u4E3A\u4E00\u4E2A\u4F8B\u5B50\u800C\u5DF2\u3002\u6211\u8FD8\u662F\u89C9\u5F97\\n\\nPhp\u5904\u74062\u8FDB\u5236\u6D41\u7684\u9B45\u529B\u662F\u975E\u5E38\u5F3A\u5927\u7684\u3002\\n\\n\u7F6E\u4E8E\u5EFA\u7ACB\u5728\u8FD9\u4E2A\u4E4B\u4E0A\u5199\u66F4\u591A\u7684\u8FD0\u7528\uFF08\u52A0\u5BC6\uFF0C\u534F\u8BAE\uFF0C\u7834\u89E3\uFF0C\u83B7\u53D6\u6587\u4EF6\u4FE1\u606F\uFF09\u4EC0\u4E48\u7684\u5C31\u770B\u4E2A\u4EBA\u53D1\u6325\u4E86\u3002"},{"id":"simple-compress-algorithem","metadata":{"permalink":"/story/simple-compress-algorithem","editUrl":"https://github.com/wenerme/wener/edit/master/story/../story/2010/2010-04-10-\u4E00\u79CD\u7B80\u5355\u7684\u538B\u7F29\u7B97\u6CD5.md","source":"@site/../story/2010/2010-04-10-\u4E00\u79CD\u7B80\u5355\u7684\u538B\u7F29\u7B97\u6CD5.md","title":"\u4E00\u79CD\u7B80\u5355\u7684\u538B\u7F29\u7B97\u6CD5","description":"\u4F7F\u7528\u73AF\u5883\uFF1A\u7B80\u5355\u52A0\u5BC6\uFF0C\u4F7F\u7528\u5B57\u7B26\u4E32\u7684\u8BFB\u53D6\u65B9\u5F0F\uFF0C\u538B\u7F29\u6742\u9879\u6570\u636E","date":"2010-04-10T00:00:00.000Z","tags":[{"inline":true,"label":"\u7F16\u7A0B","permalink":"/story/tags/\u7F16\u7A0B"},{"inline":true,"label":"\u7B97\u6CD5","permalink":"/story/tags/\u7B97\u6CD5"},{"inline":true,"label":"BBVM","permalink":"/story/tags/bbvm"}],"readingTime":3.36,"hasTruncateMarker":true,"authors":[{"name":"wener","key":null,"page":null}],"frontMatter":{"slug":"simple-compress-algorithem","title":"\u4E00\u79CD\u7B80\u5355\u7684\u538B\u7F29\u7B97\u6CD5","author":"wener","tags":["\u7F16\u7A0B","\u7B97\u6CD5","BBVM"]},"unlisted":false,"prevItem":{"title":"PHP \u64CD\u4F5C\u4E8C\u8FDB\u5236\u6D41\uFF0C\u8BFB\u53D6\u6587\u4EF6\u7ED3\u6784","permalink":"/story/php-read-binary"}},"content":"\u4F7F\u7528\u73AF\u5883\uFF1A\u7B80\u5355\u52A0\u5BC6\uFF0C\u4F7F\u7528\u5B57\u7B26\u4E32\u7684\u8BFB\u53D6\u65B9\u5F0F\uFF0C\u538B\u7F29\u6742\u9879\u6570\u636E\\n\\n\u57FA\u672C\u539F\u7406\uFF1A\u4E5F\u5C31\u662F\u628A\u6DF7\u4E71\u7684\u6570\u636E\u4E2D\u768400\u5B57\u8282\u53BB\u6389\u3002\\n\\n\x3c!--more--\x3e\\n\\n\u6211\u60F3\u5230\u4F7F\u7528\u8FD9\u4E2A\u538B\u7F29\u65B9\u6CD5\u7684\u65F6\u5019\u662F\u4E3A\u4E86\u5728\u6587\u4EF6io\u5F88\u6162\u7684\u73AF\u5883\u4E0B\u4E00\u6B21\u6027\u8BFB\u53D6\u8F83\u591A\u7684\u6587\u4EF6\u5185\u5BB9\uFF0C\u4ECE\u800C\u8FDB\u884C\u7684\u538B\u7F29\u3002\u5728\u5F88\u591A\u60C5\u51B5\u4E0B\u5B57\u7B26\u4E32\u90FD\u662F\u4EE500\u7ED3\u5C3E\u7684\uFF0C\u6240\u4EE5\u8FD9\u4E2A\u538B\u7F29\u7684\u7B97\u6CD5\u53EA\u662F\u628A\u6570\u636E\u4E2D\u768400\u5B57\u8282\u53BB\u6389\u4E86\u3002\u5F53\u88AB\u5904\u7406\u7684\u6587\u4EF6\u4E2D\u5F88\u591A00\u7684\u65F6\u5019\u538B\u7F29\u7387\u8F83\u5927\u3002\u4F46\u662F\u4E0D\u9002\u5B9C\u5BF9\u6587\u672C\uFF0C\u56FE\u7247\u4E4B\u7C7B\u7684\u538B\u7F29\u3002\u6CE8\u610F\uFF0C\u53EA\u662F\u7B80\u5355\u7684\u538B\u7F29\uFF0C\u538B\u7F29\u540E\u80FD\u591F\u7B80\u5355\u7684\u89E3\u538B\u7F29\u3002\u5728\u538B\u7F29\u666E\u901A\u6570\u636E\u7684\u65F6\u5019\uFF0C\u5927\u6982\u5E73\u5747\u538B\u7F29\u7387\u80FD\u591F\u8FBE\u5230 3 \uFF1A4\\n\\n&nbsp;\\n\\nE.g. \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 90 80 29 00 78 98 00 00\\n\\n\u8FD9\u6BB5\u6570\u636E\u88AB\u538B\u7F29\u540E\u7684\u7ED3\u679C\u662F\\n\\n{ 00 010011 } 90 80 29 78 98\xa0 \u6CE8\u610F\u53EA\u80FD\u8868\u793A 90 80 29 00 78 98 \u8FD96\u4F4D\u6570\u636E\\n\\n{}\u4E3A1byte\u5927\u5C0F\\n\\n\u4E00\u770B\u8FD9\u4E2A\u5217\u5B50\u5C31\u5F88\u7B80\u5355\u4E86\u5427\\n\\n&nbsp;\\n\\n\u7B2C\u4E00byte\u4E3A\u6807\u5FD7\u4F4D\u3002\\n\\n\u5177\u4F53\u8BF4\u660E\\n\\n&nbsp;\\n\\n1\xa0\xa0\xa0\xa0 \u5168\u4E3A0\u4F4D \u82E5\u6570\u636E\u5168\u4E3A00 \u5219\u6B64\u4F4D\u4E3A1\\n\\nE.g.\xa0 00 00 00 00 00 00 =&gt; \u6807\u5FD7\u4F4D{ 10 000000 }\\n\\n2\xa0\xa0\xa0\xa0 \u5168\u4E3A1\u4F4D \u82E5\u6570\u636E\u5168\u4E0D\u4E3A00 \u5219\u6B64\u4F4D\u4E3A1\\n\\nE.g.\xa0 01 02 03 04 05 06\xa0 =&gt; \u6807\u5FD7\u4F4D{ 01 000000 } 01 02 03 04 05 06\\n\\n\u6B64\u65F6\u6570\u636E\u53D8\u5927\\n\\n3-8 \u4F4D\u8868\u793A\u8BE5\u4F4D\u662F\u5426\u4E3A00 \u82E5\u662F\u5219\u4E3A 1 \u5F53 1th \u62162ed \u4E0D\u5168\u4E3A0\u65F6\uFF0C\u53EF\u4EE5\u5FFD\u7565\u540E\u9762\u7684 3-8\u4F4D\\n\\n&nbsp;\\n\\n\u6240\u4EE5 \u4E00\u4E2A\u6807\u5FD7\u4F4D\u6700\u591A\u80FD\u591F\u8868\u793A\u540E\u9762\u76846\u5B57\u8282\u6570\u636E\uFF0C\u6B64\u65F6\u6D88\u9664\u4E86\u6570\u636E\u4E2D\u768400\u4F4D\uFF0C\u5C31\u53EF\u4EE5\u7528\u5B57\u7B26\u4E32\u7684\u8BFB\u53D6\u65B9\u5F0F\u6765\u4E00\u6B21\u6027\u8BFB\u53D6\uFF0C\u6216\u8005\u505A\u7B80\u5355\u7684\u52A0\u5BC6\u3002\\n\\n&nbsp;\\n\\n\u4E00\u4E2A\u793A\u4F8B\u7684\u7A0B\u5E8F\uFF1A\\n\\n\u662F\u7528\u7684\u6B65\u6B65\u9AD8\u5B66\u4E60\u673A\u7684\u4E00\u79CD\u53EB\u505ABBasic\u7684\u73AF\u5883\u4E0B\u5199\u7684\uFF0C\u8FD9\u4E2A\u7B97\u6CD5\u5176\u5B9E\u5C31\u662F\u4E3A\u4E86\u5E94\u4ED8\u5B83io\u6781\u5176\u7684\u6162\u7684\u6BDB\u75C5\u3002\\n\\n\u8FD9\u4E2A\u4EE3\u7801\u6211\u4E5F\u53EA\u80FD\u8BF4\u8868\u8FBE\u7684\u662F\u90A3\u4E2A\u610F\u601D\uFF0C\u5982\u679C\u7A0D\u52A0\u6539\u9020\u4E0B\uFF0C\u5927\u6982\u80FD\u591F\u63D0\u901F10\u500D - 100 +\u500D\u3002\\n\\ndeclare function dechex$( decVal)\\n\\ndeclare function bindec( binVal$)\\n\\n\'//\u628A\u6240\u7ED9\u7684\u4E00\u6BB5\u6570\u636E\u538B\u7F29\\n\\n\'//\u6B65\u9AA4\xa0\xa0 \u6211\u5148\u8003\u8651\u662F\u5185\u5B58\u7684\u60C5\u51B5\uFF0C\u4E5F\u5C31\u662F\u7ED9\u51FA\u4E00\u4E2A\u4F4D\u7F6E\u504F\u79FB\uFF0C\u7136\u540E\u6328\u4E2A\u53BB\u8BFB\\n\\ndim XDB_GetOffset, XDB_GetLen, XDB_GetStr$, XDB_PutFp, XDB_I\\n\\ndim XDB_GetCur, XDB_AllZ, XDB_AllO\\n\\ndim Xbd_Offset_Cur\\n\\ndim XDB_HStr$, XDB_CStr$\\n\\ndim XDB_HCode\\n\\ndim XDB_GetStr_len\\n\\nasm\\n\\n&nbsp;\\n\\nld int [ vint_XDB_GetOffset], 0\\n\\n&nbsp;\\n\\nendasm\\n\\nXDB_GetLen = 7685 - 16\\n\\n&nbsp;\\n\\n\'ab cd 00 39 09 28\\n\\n\'19 08 02 18 00 00\\n\\n\'82 10 00 28 19 00\\n\\n&nbsp;\\n\\nopen \\"x.txt\\" for binary as #1\\n\\n&nbsp;\\n\\nXDB_GetStr_len = 0\\n\\nXDB_HCode = 0\\n\\nXDB_GetStr$ = \\"\\"\\n\\nXDB_CStr$ = \\"\\"\\n\\nXDB_HStr$ = \\"\\"\\n\\nt = gettick()\\n\\nwhile XDB_I &lt;= XDB_GetLen\\n\\n&nbsp;\\n\\nlocate( 1, 1)\\n\\n&nbsp;\\n\\nXDB_I = XDB_I + 1\\n\\n&nbsp;\\n\\nXbd_Offset_Cur = XDB_I mod 6\\n\\n&nbsp;\\n\\nif Xbd_Offset_Cur = 0 then\\n\\n&nbsp;\\n\\nif XDB_AllZ then\\n\\nXDB_CStr$ = \\"\\"\\n\\nend if\\n\\nXDB_GetStr$ = XDB_GetStr$ + chr$( bindec( XDB_AllO$ + XDB_AllZ$ +XDB_HStr$ )) + XDB_CStr$\\n\\n&nbsp;\\n\\n&nbsp;\\n\\n&nbsp;\\n\\nXDB_HStr$ = \\"\\"\\n\\nXDB_HCode = 0\\n\\nXDB_CStr$ = \\"\\"\\n\\nXDB_AllZ$ = \\"1\\"\\n\\nXDB_AllO$ = \\"1\\"\\n\\n&nbsp;\\n\\nXDB_GetStr_len = XDB_GetStr_len + 1\\n\\n&nbsp;\\n\\nif XDB_GetStr_len &gt; 4088 * 4 then\\n\\nprint XDB_I\\n\\nput #1, XDB_GetStr$\\n\\nXDB_GetStr$ = \\"\\"\\n\\nend if\\n\\n&nbsp;\\n\\nend if\\n\\n&nbsp;\\n\\n\'print \\"\u7B2C\u4E8C\u6B65\\"\\n\\n&nbsp;\\n\\nasm\\n\\nld int [ vint_XDB_GetCur], 0\\n\\nld int r0, [ vint_XDB_GetOffset]\\n\\nld byte [ vint_XDB_GetCur], [ r0 ]\\n\\nendasm\\n\\n&nbsp;\\n\\n\'=/\u5F53\u524D\u4F4D\u4E3A\u975E0\\n\\nif XDB_GetCur then\\n\\n&nbsp;\\n\\nXDB_CStr$ = XDB_CStr$ + chr$( XDB_GetCur)\'\\".\\" + dechex$( XDB_GetCur)\\n\\nXDB_HStr$ = XDB_HStr$ + \\"0\\"\\n\\n\'==//\u5168\u4E3A0\u7684\u6807\u5FD7\u4F4D\\n\\nXDB_AllZ$ = \\"0\\"\\n\\n&nbsp;\\n\\n\'=/\u5F53\u524D\u4F4D\u4E3A0\\n\\nelse\\n\\nXDB_HStr$ = XDB_HStr$ + \\"1\\"\\n\\n\'==//\u5168\u4E3A1\u7684\u6807\u5FD7\u4F4D\\n\\nXDB_AllO$ = \\"0\\"\\n\\nend if\\n\\n&nbsp;\\n\\nXDB_GetStr_len = XDB_GetStr_len + 1\\n\\n\'==//\u4E00\u6B21\u5904\u740612\u4F4D\\n\\nXDB_GetOffset = XDB_GetOffset + 1\\n\\n&nbsp;\\n\\nwend\\n\\n&nbsp;\\n\\nprint \\"\u7528\u65F6\\"; gettick() - t\\n\\n&nbsp;\\n\\n&nbsp;\\n\\nput #1, XDB_GetStr$\\n\\n&nbsp;\\n\\nput #1, \\"END\\"\\n\\n&nbsp;\\n\\nclose #1\\n\\nasm\\n\\n&nbsp;\\n\\njmp QingWuShi_XDB:\\n\\n&nbsp;\\n\\nXDB_Compression_HCode:\\n\\n.block 1 0\\n\\n&nbsp;\\n\\nXDB_Compression_CCode:\\n\\n.block 6 0\\n\\n&nbsp;\\n\\nXDB_Compression_Catch:\\n\\n.block 15 0\\n\\n&nbsp;\\n\\nXDB_Compression_Base:\\n\\n&nbsp;\\n\\nendasm\\n\\n&nbsp;\\n\\n&nbsp;\\n\\n&nbsp;\\n\\nasm\\n\\nret\\n\\n&nbsp;\\n\\ndata x bin %abcd00390928190802180000821000281900%\\n\\n&nbsp;\\n\\nQingWuShi_XDB:\\n\\nendasm"}]}}')}}]);