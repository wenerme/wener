"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["60811"],{98684:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>p,toc:()=>c,default:()=>h,metadata:()=>r,assets:()=>a,contentTitle:()=>l});var r=JSON.parse('{"id":"languages/python/pip","title":"pip","description":"- pypa/pip","source":"@site/../notes/languages/python/pip.md","sourceDirName":"languages/python","slug":"/languages/python/pip","permalink":"/notes/languages/python/pip","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/languages/python/pip.md","tags":[{"inline":true,"label":"Package Manager","permalink":"/notes/tags/package-manager"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1733665497000,"frontMatter":{"title":"pip","tags":["Package Manager"]},"sidebar":"docs","previous":{"title":"Gunicorn","permalink":"/notes/languages/python/gunicorn"},"next":{"title":"poetry","permalink":"/notes/languages/python/poetry"}}'),s=i(86106),t=i(17776);let p={title:"pip",tags:["Package Manager"]},l="pip",a={},c=[{value:"requirements.txt",id:"requirementstxt",level:2},{value:"Torch",id:"torch",level:2},{value:"Mirror",id:"mirror",level:2},{value:"conf",id:"conf",level:2},{value:"Running pip as the &#39;root&#39; user can result in broken permissions",id:"running-pip-as-the-root-user-can-result-in-broken-permissions",level:2},{value:"WARNING: There was an error checking the latest version of pip",id:"warning-there-was-an-error-checking-the-latest-version-of-pip",level:2}];function o(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",pre:"pre",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"pip",children:"pip"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/pypa/pip",children:"pypa/pip"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"MIT, Python"}),"\n",(0,s.jsx)(e.li,{children:"package installer for Python"}),"\n",(0,s.jsx)(e.li,{children:"pypa -> Python Packaging Authority"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"pip-tools"}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://pip.pypa.io/en/stable/",children:"https://pip.pypa.io/en/stable/"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# pip install | download | uninstall | freeze | inspect | list | show | check | config | search | cache | index | wheel | hash | debug\n\neval "$(pip completion --bash)"\n\npip show torch # \u663E\u793A\u4FE1\u606F\npip check      # \u68C0\u67E5\u4F9D\u8D56\n\n# Linux  ~/.cache/pip\n# macOS /Users/$USER/Library/Caches/pip\n# Windows C:\\Users\\$USER\\AppData\\Local\\pip\\Cache\n# PIP_CACHE_DIR\n# --cache-dir\npip cache dir\n\npip install datumaro==1.7.0 # \u5B89\u88C5\u6307\u5B9A\u7248\u672C\n\n# https://pypi.org/simple\npip3 install -h | grep index-url # \u9ED8\u8BA4 index-url\npip config get global.index-url  # \u67E5\u770B\u914D\u7F6E\u7684 index-url\npip3 config -v list              # \u67E5\u770B\u641C\u7D22\u7684\u8DEF\u5F84\n\n# pip-check pip-review\npip list --outdated # \u67E5\u770B\u8FC7\u671F\u7684\u5305\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"/etc/pip.conf"}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"%ProgramData%\\pip\\pip.ini"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"~/.config/pip/pip.conf"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"%APPDATA%\\pip\\pip.ini"})}),"\n",(0,s.jsx)(e.li,{children:"pip.conf"}),"\n",(0,s.jsx)(e.li,{children:"pip.ini"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"requirementstxt",children:"requirements.txt"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"package1==version1\npackage2>=version2\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"pip freeze > requirements.txt\n\npip install -r requirements.txt\n"})}),"\n",(0,s.jsx)(e.h2,{id:"torch",children:"Torch"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Torch\n# ======\npip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu\n\n# libgomp-a34b3233.so.1: pthread_attr_setaffinity_np: symbol not found\n# \u53EF\u66FF\u6362\napk add libgomp\ncp /usr/lib/python3.10/site-packages/torch/lib/libgomp-a34b3233.so.1 backup/\ncp /usr/lib/libgomp.so.1 /usr/lib/python3.10/site-packages/torch/lib/libgomp-a34b3233.so.1\n\n# libtorch_python.so: __register_atfork\n# \u65E0\u6CD5\u66FF\u6362\u53EA\u80FD\u91CD\u65B0\u7F16\u8BD1\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-py",children:"import torch\nprint(torch.__version__)\n\nprint(torch.version.cuda)\nprint(torch.backends.cudnn.version())\n\ntorch.cuda.is_available() # CUDA \u662F\u5426\u53EF\u7528\ntorch.cuda.device_count() # GPU \u6570\u91CF\ntorch.cuda.get_device_name(0) # \u8FD4\u56DE GPU \u540D\u79F0\ntorch.cuda.current_device() # \u8FD4\u56DE\u5F53\u524D GPU \u7D22\u5F15\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"cudnn \u4E0D\u4F1A\u652F\u6301 musl"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"mirror",children:"Mirror"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ini",metastring:'title="~/.pip/pip.conf"',children:"[global]\nindex-url = https://pypi.tuna.tsinghua.edu.cn/simple\n[install]\ntrusted-host = https://pypi.tuna.tsinghua.edu.cn\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://pypi.tuna.tsinghua.edu.cn/simple",children:"https://pypi.tuna.tsinghua.edu.cn/simple"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://pypi.mirrors.ustc.edu.cn/simple",children:"https://pypi.mirrors.ustc.edu.cn/simple"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"http://pypi.douban.com/simple",children:"http://pypi.douban.com/simple"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"http://mirrors.aliyun.com/pypi/simple",children:"http://mirrors.aliyun.com/pypi/simple"})}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/",children:"https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/"})}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"conf",children:"conf"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ini",children:"[global]\nproxy = http://user:password@proxy_name:port\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://pip.pypa.io/en/stable/topics/configuration/",children:"https://pip.pypa.io/en/stable/topics/configuration/"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://pip.pypa.io/en/stable/user_guide/#config-file",children:"https://pip.pypa.io/en/stable/user_guide/#config-file"})}),"\n"]}),"\n",(0,s.jsx)(e.h1,{id:"faq",children:"FAQ"}),"\n",(0,s.jsx)(e.h2,{id:"running-pip-as-the-root-user-can-result-in-broken-permissions",children:"Running pip as the 'root' user can result in broken permissions"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"--root-user-action=ignore\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"PIP_ROOT_USER_ACTION=ignore"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"warning-there-was-an-error-checking-the-latest-version-of-pip",children:"WARNING: There was an error checking the latest version of pip"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u53EF\u4EE5\u7981\u7528\npip install touch --disable-pip-version-check\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://pypi.org/pypi/pip/json",children:"https://pypi.org/pypi/pip/json"})}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},17776:function(n,e,i){i.d(e,{R:()=>p,x:()=>l});var r=i(7378);let s={},t=r.createContext(s);function p(n){let e=r.useContext(t);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:p(n.components),r.createElement(t.Provider,{value:e},n.children)}}}]);