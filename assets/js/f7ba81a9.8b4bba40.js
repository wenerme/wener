"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["378975"],{680382:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>r,toc:()=>d,default:()=>a,metadata:()=>i,assets:()=>o,contentTitle:()=>c});var i=JSON.parse('{"id":"os/virt/selkies","title":"Selkies","description":"- selkies-project/selkies","source":"@site/../notes/os/virt/selkies.md","sourceDirName":"os/virt","slug":"/os/virt/selkies","permalink":"/notes/os/virt/selkies","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/os/virt/selkies.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1772243505000,"frontMatter":{"title":"Selkies"},"sidebar":"docs","previous":{"title":"SeaBIOS","permalink":"/notes/os/virt/seabios"},"next":{"title":"SMBIOS","permalink":"/notes/os/virt/smbios"}}'),t=s(486106),l=s(917776);let r={title:"Selkies"},c="Selkies",o={},d=[{value:"Docker",id:"docker",level:2}];function h(e){let n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"selkies",children:"Selkies"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/selkies-project/selkies",children:"selkies-project/selkies"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"MPL-2.0"}),"\n",(0,t.jsx)(n.li,{children:"\u5F00\u6E90\u7684\u4F4E\u5EF6\u8FDF\u3001GPU/CPU \u52A0\u901F\u7684 Linux WebRTC HTML5 \u8FDC\u7A0B\u684C\u9762\u6D41\u5A92\u4F53\u5E73\u53F0"}),"\n",(0,t.jsx)(n.li,{children:"\u9762\u5411\u9700\u8981 3D \u786C\u4EF6\u52A0\u901F\u7684\u5BB9\u5668\u5316\u5E94\u7528\uFF08\u5982\u4E91\u6E38\u620F\u3001Graphical AI\u3001\u4EFF\u771F\u5668\uFF09"}),"\n",(0,t.jsx)(n.li,{children:"\u63D0\u4F9B\u5B8C\u6574\u7684 WebRTC \u4E32\u6D41\u3001K8s \u7F16\u6392\u652F\u6301\uFF0C\u53D6\u4EE3 noVNC / Guacamole\uFF0C\u63D0\u4F9B\u7C7B\u4F3C GeForce NOW/Stadia \u7684\u4F53\u9A8C"}),"\n",(0,t.jsx)(n.li,{children:"\u6838\u5FC3\u67B6\u6784\u5305\u542B GStreamer\uFF08\u7F16\u7801/WebRTC \u8F6C\u53D1\uFF09\u3001Python \u63A7\u5236\u7AEF\u3001HTML5 \u524D\u7AEF\u7EC4\u4EF6\u548C WebRTC DataChannel"}),"\n",(0,t.jsx)(n.li,{children:"\u6700\u521D\u7531 Google \u5DE5\u7A0B\u5E08\u53D1\u8D77\u5E76\u5F00\u6E90\uFF0C\u540E\u7531\u4E91\u6E38\u620F\u548C\u5B66\u672F\u754C\u7814\u7A76\u4EBA\u5458\u4E3B\u5BFC\u6269\u5C55"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/nickrunning/wechat-selkies",children:"https://github.com/nickrunning/wechat-selkies"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u57FA\u4E8ESelkies\u7684Linux\u7F51\u9875\u7248\u5FAE\u4FE1/QQ\uFF0C\u652F\u6301\u672C\u5730\u4E2D\u6587\u8F93\u5165\u6CD5\uFF0C\u652F\u6301AMD64\u548CARM64\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"docker",children:"Docker"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ghcr.io/selkies-project/nvidia-glx-desktop"})," (\u652F\u6301 OpenGL GLX\uFF0C\u9002\u5408 NVIDIA GPU)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ghcr.io/selkies-project/nvidia-egl-desktop"})," (\u652F\u6301 OpenGL EGL)"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker run --name selkies-desktop -it -d \\\n  --gpus 1 --runtime nvidia \\\n  --tmpfs /dev/shm:rw \\\n  -p 8080:8080 \\\n  -e TZ=UTC \\\n  -e DISPLAY_SIZEW=1920 -e DISPLAY_SIZEH=1080 \\\n  -e DISPLAY_REFRESH=60 -e DISPLAY_DPI=96 \\\n  -e PASSWD=mypasswd \\\n  -e SELKIES_ENCODER=nvh264enc \\\n  ghcr.io/selkies-project/nvidia-glx-desktop:latest\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u6CE8\u610F"}),"\uFF1A"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"--tmpfs /dev/shm:rw"})," \u662F\u5FC5\u987B\u7684\uFF0C\u7528\u4E8E\u5BB9\u5668\u5185\u7684\u5171\u4EAB\u5185\u5B58\u4EA4\u6362\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"SELKIES_ENCODER"})," \u63A7\u5236\u89C6\u9891\u7F16\u7801\u683C\u5F0F\uFF0C\u786C\u4EF6\u52A0\u901F\u53EF\u9009 ",(0,t.jsx)(n.code,{children:"nvh264enc"})," \u7B49\uFF0C\u4E0D\u652F\u6301 GPU \u65F6\u53EF\u6539\u4E3A\u8F6F\u4EF6\u7F16\u7801 ",(0,t.jsx)(n.code,{children:"x264enc"}),", ",(0,t.jsx)(n.code,{children:"vp8enc"})," \u7B49\u3002"]}),"\n",(0,t.jsx)(n.li,{children:"\u5982\u679C\u5728\u65E0 Host Networking \u4E14\u6709\u9632\u706B\u5899\u7684\u573A\u666F\u4E0B\uFF0CWebRTC \u53EF\u80FD\u9700\u8981\u914D\u7F6E\u989D\u5916\u7684 TURN Server \u6765\u5EFA\u7ACB\u8FDE\u63A5\uFF08\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u4F20\u5165 TURN credentials\uFF09\u3002"}),"\n"]}),"\n"]})]})}function a(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},917776:function(e,n,s){s.d(n,{R:()=>r,x:()=>c});var i=s(7378);let t={},l=i.createContext(t);function r(e){let n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);