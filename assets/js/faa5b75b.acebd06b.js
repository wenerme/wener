"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["377591"],{581424:function(n,e,r){r.r(e),r.d(e,{frontMatter:()=>t,toc:()=>d,default:()=>p,metadata:()=>s,assets:()=>i,contentTitle:()=>l});var s=JSON.parse('{"id":"languages/php/roadrunner","title":"roadrunner","description":"- roadrunner-server","source":"@site/../notes/languages/php/roadrunner.md","sourceDirName":"languages/php","slug":"/languages/php/roadrunner","permalink":"/notes/languages/php/roadrunner","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/languages/php/roadrunner.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1695042174000,"frontMatter":{"title":"roadrunner"},"sidebar":"docs","previous":{"title":"phpenv","permalink":"/notes/languages/php/phpenv"},"next":{"title":"Python","permalink":"/notes/languages/python/"}}'),a=r(486106),o=r(917776);let t={title:"roadrunner"},l="roadrunner",i={},d=[{value:"\u914D\u7F6E",id:"\u914D\u7F6E",level:2},{value:"spiral",id:"spiral",level:2},{value:"Could not find package spiral/roadrunner",id:"could-not-find-package-spiralroadrunner",level:2}];function c(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"roadrunner",children:"roadrunner"})}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://github.com/roadrunner-server",children:"roadrunner-server"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://github.com/roadrunner-server/roadrunner",children:"roadrunner"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"MIT, Go"}),"\n",(0,a.jsx)(e.li,{children:"load-balancer, process manager written in Golang"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://github.com/roadrunner-server/goridge",children:"goridge"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"PHP-to-Golang IPC/RPC bridge"}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://github.com/roadrunner-server/endure",children:"endure"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"Fault-tolerant service container for Golang applications"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"https://github.com/roadrunner-server/sdk",children:"sdk"})}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://github.com/roadrunner-server/api",children:"api"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"protobuf"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://github.com/spiral/framework",children:"spiral/framework"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"MIT, PHP"}),"\n",(0,a.jsx)(e.li,{children:"\u57FA\u4E8E RoadRunner"}),"\n",(0,a.jsx)(e.li,{children:"Long-Living PHP Framework"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"https://roadrunner.dev/docs/plugins-jobs/2.x/en",children:"https://roadrunner.dev/docs/plugins-jobs/2.x/en"})}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"composer require spiral/roadrunner:v2.0 nyholm/psr7\n./vendor/bin/rr get-binary\n\n# Docker\n# https://hub.docker.com/r/spiralscout/roadrunner\n\n# \u955C\u50CF\ncomposer config repo.packagist composer https://packagist.phpcomposer.com\n"})}),"\n",(0,a.jsx)(e.h2,{id:"\u914D\u7F6E",children:"\u914D\u7F6E"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"https://github.com/roadrunner-server/roadrunner/blob/master/.rr.yaml",children:".rr.yaml"})}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-yaml",children:"version: '2.7'\n\nrpc:\n  listen: tcp://127.0.0.1:6001\n\nserver:\n  # \u4E3B\u5165\u53E3\n  command: 'php psr-worker.php'\n  env:\n    - KEY: 'VALUE'\n\nlogs:\n  # development, production, raw\n  mode: development\n  # panic, error, warn, info, debug\n  level: debug\n  # console, json\n  encoding: console\n  # stderr, stdout, /var/log/rr.log\n  output: stderr\n  err_output: stderr\n  file_logger_options:\n\n  # log for plugins\n  channels:\n    http:\n    server:\n    rpc:\n\ntemporal:\n  address: 127.0.0.1:7233\n\nkv:\n  mem-store:\n    # boltdb, redis, memcached, memory\n    driver: memory\n\n# \u670D\u52A1\u63D2\u4EF6\nservice:\n\n# HTTP \u63D2\u4EF6\nhttp:\n  address: 127.0.0.1:8080\n  trusted_subnets: ['10.0.0.0/8', '127.0.0.0/8', '172.16.0.0/12', '192.168.0.0/16', '::1/128', 'fc00::/7', 'fe80::/10']\n  cache:\n    driver: memory\n    cache_methods: ['GET', 'HEAD', 'POST']\n    config: {}\n  uploads:\n    # $TEMP\n    dir: ''\n    forbid: ['.php', '.exe', '.bat', '.sh']\n    allow: []\n  headers:\n    cors:\n    request:\n    response:\n  static:\n    dir: '.'\n    forbid: []\n    calculate_etag: false\n    weak: false\n    allow: ['.txt', '.php']\n    request:\n    response:\n  pool:\n    debug: false\n  ssl:\n    acme:\n  fcgi:\n  http2:\n    h2c: false\n    max_concurrent_streams: 128\n# broadcast driver for the websockets\nredis:\nwebsockets:\n  broker: default-redis\nbroadcast:\nmetrics:\n  address: '127.0.0.1:2112'\n\nstatus:\n  address: 127.0.0.1:2114\n  unavailable_status_code: 503\n\nreload:\n  interval: 1s\n  patterns: ['.php']\n  services:\n\n# NATS jobs driver\nnats:\n  addr: nats://127.0.0.1:4222\n\njobs:\n\ngrpc:\n  listen: 'tcp://localhost:9001'\n  proto:\n    - 'first.proto'\n    - 'second.proto'\n"})}),"\n",(0,a.jsx)(e.h2,{id:"spiral",children:"spiral"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"composer create-project spiral/app\ncd app\nphp ./app.php configure\n"})}),"\n",(0,a.jsx)(e.h1,{id:"faq",children:"FAQ"}),"\n",(0,a.jsx)(e.h2,{id:"could-not-find-package-spiralroadrunner",children:"Could not find package spiral/roadrunner"}),"\n",(0,a.jsx)(e.p,{children:"fixed by change composer repo"})]})}function p(n={}){let{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(c,{...n})}):c(n)}},917776:function(n,e,r){r.d(e,{R:()=>t,x:()=>l});var s=r(7378);let a={},o=s.createContext(a);function t(n){let e=s.useContext(o);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:t(n.components),s.createElement(o.Provider,{value:e},n.children)}}}]);