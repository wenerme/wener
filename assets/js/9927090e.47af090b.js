"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["87709"],{11130:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>t,toc:()=>a,default:()=>h,metadata:()=>l,assets:()=>c,contentTitle:()=>d});var l=JSON.parse('{"id":"os/linux/desktop/vaapi","title":"VA-API","description":"- intel/libva","source":"@site/../notes/os/linux/desktop/vaapi.md","sourceDirName":"os/linux/desktop","slug":"/os/linux/desktop/vaapi","permalink":"/notes/os/linux/desktop/vaapi","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/os/linux/desktop/vaapi.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1705499993000,"frontMatter":{"title":"VA-API"},"sidebar":"docs","previous":{"title":"uxplay","permalink":"/notes/os/linux/desktop/uxplay"},"next":{"title":"Wayland","permalink":"/notes/os/linux/desktop/wayland"}}'),s=i(86106),r=i(17776);let t={title:"VA-API"},d="VA-API",c={},a=[];function o(n){let e={a:"a",code:"code",h1:"h1",header:"header",hr:"hr",li:"li",pre:"pre",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"va-api",children:"VA-API"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/intel/libva",children:"intel/libva"})}),"\n",(0,s.jsxs)(e.li,{children:["VA-API - Videp Acceleration API\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"by Intel"}),"\n",(0,s.jsx)(e.li,{children:"\u517C\u5BB9\u66F4\u591A"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["VDPAU - Video Decode and Presentation API for Unix\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"by Nvdia"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"DRI - Direct Rendering Infrastructure"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'apk add pciutils\nlspci | grep -i graph\nlspci -v -s $(lspci | grep VGA | cut -d" " -f 1)\n\napk add libva-utils\nvainfo\n\napk add vdpauinfo\nvdpauinfo\n\nls /usr/lib/dri/\nls /usr/lib/dri/${LIBVA_DRIVER_NAME}_drv_video.so\n\nls /dev/dri\n\nLIBVA_DRIVER_NAME=iHD vainfo --device card1 --display drm\nLIBVA_DRIVER_NAME=i1965 LIBVA_TRACE=./vainfo.log vainfo\n\n# \u5185\u6838\u6A21\u5757\nmodinfo i915\n\n# https://github.com/gjasny/v4l-utils\napk add v4l-utils\nv4l2-ctl --list-devices\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"LIBVA_DRIVER_NAME"}),"\n",(0,s.jsxs)(e.li,{children:["Intel graphics\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["libva-intel-driver i965\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u65E9\u671F - brodwell\u3001skylake"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["intel-media-driver iHD\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u540E\u671F - kebey lake\u3001coffee lake"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["NVIDIA\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Nouveau ",(0,s.jsx)(e.code,{children:"nouveau"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["NVIDIA VDPAU ",(0,s.jsx)(e.code,{children:"vdpau"})]}),"\n",(0,s.jsxs)(e.li,{children:["NVIDIA NVDEC ",(0,s.jsx)(e.code,{children:"nvidia"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["AMD\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["AMDGPU ",(0,s.jsx)(e.code,{children:"radeonsi"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["libva-vdpau-driver\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"VDPAU backend for VA API"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"VAProfileNone"}),"\n",(0,s.jsxs)(e.li,{children:["intel_gpu_top\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"debian intel-gpu-tools"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"i915 \u5185\u6838\u901A\u7528\u6A21\u5757"}),"\n",(0,s.jsxs)(e.li,{children:["V4L2 - Video4Linux2\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7535\u89C6\u5361\u3001\u7F51\u7EDC\u6444\u50CF\u5934\u3001\u6A21\u62DF\u89C6\u9891\u91C7\u96C6\u5361"}),"\n",(0,s.jsx)(e.li,{children:"\u89C6\u9891\u8BBE\u5907\u7BA1\u7406\u548C\u63A7\u5236"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Iris\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Intel Iris Graphics"}),"\n",(0,s.jsx)(e.li,{children:"Gen11 GPU"}),"\n",(0,s.jsx)(e.li,{children:"\u4F18\u4E8E i964 Mesa"}),"\n",(0,s.jsx)(e.li,{children:"Ice Lake(9\u4EE3)+"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"CFL - Coffee Lake"}),"\n",(0,s.jsx)(e.li,{children:"ICL - Ice Lake"}),"\n",(0,s.jsxs)(e.li,{children:["Intel N100\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Intel\xae UHD Graphics"}),"\n",(0,s.jsx)(e.li,{children:"Alder Lake-N"}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://ark.intel.com/content/www/us/en/ark/products/231803/intel-processor-n100-6m-cache-up-to-3-40-ghz.html",children:"https://ark.intel.com/content/www/us/en/ark/products/231803/intel-processor-n100-6m-cache-up-to-3-40-ghz.html"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Intel_Quick_Sync_Video#Hardware_decoding_and_encoding",children:"https://en.wikipedia.org/wiki/Intel_Quick_Sync_Video#Hardware_decoding_and_encoding"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/title/Hardware_video_acceleration",children:"https://wiki.archlinux.org/title/Hardware_video_acceleration"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"00:02.0 VGA compatible controller: Intel Corporation Alder Lake-N [UHD Graphics] (prog-if 00 [VGA controller])\n	DeviceName: Onboard - Video\n	Subsystem: Intel Corporation Device 7270\n	Flags: bus master, fast devsel, latency 0, IRQ 137\n	Memory at 6000000000 (64-bit, non-prefetchable) [size=16M]\n	Memory at 4000000000 (64-bit, prefetchable) [size=256M]\n	I/O ports at 3000 [size=64]\n	Expansion ROM at 000c0000 [virtual] [disabled] [size=128K]\n	Capabilities: <access denied>\n	Kernel driver in use: i915\n"})})]})}function h(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},17776:function(n,e,i){i.d(e,{R:()=>t,x:()=>d});var l=i(7378);let s={},r=l.createContext(s);function t(n){let e=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);