"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["375429"],{107367:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>r,toc:()=>h,default:()=>a,metadata:()=>t,assets:()=>c,contentTitle:()=>d});var t=JSON.parse('{"id":"service/network/vpn/n2n","title":"n2n","description":"- ntop/n2n \u662F\u4EC0\u4E48?","source":"@site/../notes/service/network/vpn/n2n.md","sourceDirName":"service/network/vpn","slug":"/service/network/vpn/n2n","permalink":"/notes/service/network/vpn/n2n","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/network/vpn/n2n.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1680070123000,"frontMatter":{"title":"n2n"},"sidebar":"docs","previous":{"title":"n2n version","permalink":"/notes/service/network/vpn/n2n-version"},"next":{"title":"nebula","permalink":"/notes/service/network/vpn/nebula"}}'),i=s(486106),l=s(917776);let r={title:"n2n"},d="n2n",c={},h=[{value:"\u9009\u9879",id:"\u9009\u9879",level:2},{value:"\u52A0\u5BC6",id:"\u52A0\u5BC6",level:3},{value:"NOTES",id:"notes",level:2},{value:"supernode",id:"supernode",level:2},{value:"Supernode not responding, now trying",id:"supernode-not-responding-now-trying",level:2}];function x(n){let e={a:"a",admonition:"admonition",annotation:"annotation",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"n2n",children:"n2n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/ntop/n2n",children:"ntop/n2n"})," \u662F\u4EC0\u4E48?"]}),"\n",(0,i.jsx)(e.li,{children:"\u4E2D\u5FC3\u8282\u70B9 - supernode"}),"\n",(0,i.jsx)(e.li,{children:"\u5355\u7EBF\u7A0B"}),"\n",(0,i.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"http://www.supernode.ml",children:"supernode.ml"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"supernode \u5217\u8868"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/lucktu/n2n",children:"lucktu/n2n"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u9884\u7F16\u8BD1"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["supernode\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"7654/udp - \u4E3B\u8981"}),"\n",(0,i.jsx)(e.li,{children:"7654/tcp - \u8F85\u52A9"}),"\n",(0,i.jsx)(e.li,{children:"5645/udp - \u7BA1\u7406"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["edge\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"5644/udp - \u7BA1\u7406"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.admonition,{type:"caution",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"bridge \u652F\u6301\u6709\u70B9\u95EE\u9898"}),"\n",(0,i.jsxs)(e.li,{children:["\u6CA1\u6709\u53EF\u7528\u7684 ios \u5E94\u7528 - ",(0,i.jsx)(e.a,{href:"https://github.com/ntop/n2n/issues/381",children:"ntop/n2n#381"})]}),"\n"]})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# macOS\nbrew install --cash tuntap\nbrew install openssl cmake\n\n# Make\n./autogen.sh\n# CFLAGS \u53EF\u542F\u7528\u672C\u5730\u6307\u4EE4\u4F18\u5316\n./configure CFLAGS=\"-O3 -march=native\"\nmake\n\n# CMake\nmkdir -p build && cd build\ncmake -DOPENSSL_ROOT_DIR=/usr/local/opt/openssl ../\nmake\n# \u4E0D\u60F3\u5B89\u88C5\u53EF\u76F4\u63A5\u4F7F\u7528 - \u4F1A\u5B89\u88C5\u5230 /usr/local/sbin\n# make install\n\n./edge --help\n\n# -r -a dhcp:0.0.0.0\nN2N_KEY=$(cat /dev/urandom | env LC_CTYPE=C tr -dc 'a-zA-Z0-9' | head -c 32)\nsudo N2N_KEY=$N2N_KEY edge  -c community -l 127.0.0.1:7654 -f -a 10.20.1.1\n\n# supernode mgmt\nnc -u 127.0.0.1 5645\n# edge mgmt\nnc -u 127.0.0.1 5644\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u9009\u9879",children:"\u9009\u9879"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"edge 3.0"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"edge <config file>\nedge  -c <community name> -l <supernode host:port>\n"})}),"\n",(0,i.jsxs)(e.p,{children:["| flag                     | defaul         |\n| ------------------------ | -------------- | ------------------------------------------------------------- |\n| -c COMMUNITY             | ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"N"}),(0,i.jsx)(e.mn,{children:"2"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"N"}),(0,i.jsx)(e.mi,{children:"C"})]}),(0,i.jsx)(e.mi,{children:"O"}),(0,i.jsx)(e.mi,{children:"M"}),(0,i.jsx)(e.mi,{children:"M"}),(0,i.jsx)(e.mi,{children:"U"}),(0,i.jsx)(e.mi,{children:"N"}),(0,i.jsx)(e.mi,{children:"I"}),(0,i.jsx)(e.mi,{children:"T"}),(0,i.jsx)(e.mi,{children:"Y"}),(0,i.jsx)(e.mi,{mathvariant:"normal",children:"\u2223"}),(0,i.jsx)(e.mi,{mathvariant:"normal",children:"\u2223"}),(0,i.jsx)(e.mo,{children:"\u2212"}),(0,i.jsx)(e.mi,{children:"k"}),(0,i.jsx)(e.mi,{children:"K"}),(0,i.jsx)(e.mi,{children:"E"}),(0,i.jsx)(e.mi,{children:"Y"}),(0,i.jsx)(e.mi,{mathvariant:"normal",children:"\u2223"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"N2N_COMMUNITY |\n| -k KEY                   | "})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),(0,i.jsx)(e.span,{className:"mord",children:"2"}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3283em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.109em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.07153em"},children:"C"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200B"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"OMM"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"U"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07847em"},children:"I"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"T"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"},children:"Y"}),(0,i.jsx)(e.span,{className:"mord",children:"\u2223\u2223"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"\u2212"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"K"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"E"}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"},children:"Y"}),(0,i.jsx)(e.span,{className:"mord",children:"\u2223"})]})]})]}),"N2N_KEY       | encryption key                                                |\n| -J PASSWORD              | $N2N_PASSWORD  |\n| -l HOST:PORT             |                | supernode                                                     |\n| ",(0,i.jsx)(e.code,{children:" -p [<ip>:]<port>"}),"      | any            | \u7ED1\u5B9A\u7684\u672C\u5730\u5730\u5740\u548C\u7AEF\u53E3                                          |\n| -T TOS                   |                | \u5305 TOS                                                        |\n| -D                       |                | PMTU discovery                                                |\n| -e IP                    | auto           | \u5E7F\u64AD\u7684\u672C\u5730\u5730\u5740                                                |\n| -S1                      |                | \u603B\u4F7F\u7528 supernode UDP                                          |\n| -S2                      |                | \u603B\u4F7F\u7528 supernode TCP                                          |\n| -i REG_INTERVAL          | 20             | \u6CE8\u518C\u95F4\u9694\uFF0C\u7528\u4E8E NAT                                            |\n| -L REG_TTL               | 0              |\n| -H                       |                | \u5934\u52A0\u5BC6 - \u8981\u6C42 supernode \u914D\u7F6E\u56FA\u5B9A community                    |\n| -z,z1,z2                 |                | \u5305\u538B\u7F29 - -z1, -z = lzo1x                                      |\n| --select-rtt             |                | \u57FA\u4E8E rtt \u9009\u62E9 supernode - \u9ED8\u8BA4\u57FA\u4E8E\u8D1F\u8F7D                        |\n| ",(0,i.jsx)(e.code,{children:"-a [mode]<ip>[/n]"}),"      |                | CIDR \u9ED8\u8BA4 /24',mode=static,dhcp",(0,i.jsx)(e.br,{}),"DHCP ",(0,i.jsx)(e.code,{children:"-r -a dhcp:0.0.0.0"})," |\n| -m MAD                   |                | \u9ED8\u8BA4\u968F\u673A                                                      |\n| -d DEVICE                |                | TAP \u8BBE\u5907\u540D\u5B57                                                  |\n| -M MTU                   | 1290           |\n| -r                       |                | packet forwarding                                             |\n| -E                       |                | accept multicast MAC addresses                                |\n| -I DESCRIPTION           |                | edge \u63CF\u8FF0 - \u7528\u4E8E\u7BA1\u7406\u8BC6\u522B                                      |\n| -P public_key            |                | federation public key for user-password authentication        |\n| -R RULE                  |                | \u81EA\u5B9A\u4E49\u89C4\u5219                                                    |\n| -f                       |                |\n| -t PORT                  | 5644           |\n| --management_password PW | n2n            |\n| -n CIDW:GW               |                | \u8DEF\u7531\u89C4\u5219                                                      |"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"edge 2.8"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"flag"}),(0,i.jsx)(e.th,{children:"param"}),(0,i.jsx)(e.th,{children:"desc"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-d"}),(0,i.jsx)(e.td,{children:"tun device"}),(0,i.jsx)(e.td,{children:"tun \u8BBE\u5907\u540D\u5B57 - \u5426\u5219\u5C31\u662F tun0 \u8FD9\u6837\u7684\u540D\u5B57"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-a"}),(0,i.jsx)(e.td,{children:"mode:address"}),(0,i.jsx)(e.td,{children:"\u5730\u5740 - DHCP \u53EF\u4F7F\u7528 '-r -a dhcp:0.0.0.0'"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-c"}),(0,i.jsx)(e.td,{children:"community"}),(0,i.jsx)(e.td,{children:"community \u540D\u5B57"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-k"}),(0,i.jsx)(e.td,{children:"encrypt key"}),(0,i.jsx)(e.td,{children:"N2N_KEY"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-s"}),(0,i.jsx)(e.td,{children:"netmask"}),(0,i.jsx)(e.td,{children:"\u63A9\u7801 - 255.255.255.0 \u683C\u5F0F"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-l,supernode-list"}),(0,i.jsx)(e.td,{children:"host:port"}),(0,i.jsx)(e.td,{children:"Supernode \u5730\u5740:\u7AEF\u53E3"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-i"}),(0,i.jsx)(e.td,{children:"reg_interval"}),(0,i.jsx)(e.td,{children:"\u6CE8\u518C\u95F4\u9694\uFF0C\u7528\u4E8E NAT \u7A7F\u900F - \u9ED8\u8BA4 20 \u79D2"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-L"}),(0,i.jsx)(e.td,{children:"reg_ttl"}),(0,i.jsx)(e.td,{children:"NAT \u7A7F\u900F \u65F6 UDP \u6CE8\u518C\u7684 TTL - \u9ED8\u8BA4 0 \u672A\u8BBE\u7F6E"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-p"}),(0,i.jsx)(e.td,{children:"local port"}),(0,i.jsx)(e.td,{children:"\u672C\u5730\u56FA\u5B9A UDP \u7AEF\u53E3"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-u"}),(0,i.jsx)(e.td,{children:"UID"}),(0,i.jsx)(e.td,{children:"\u8FD0\u884C UID"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-g"}),(0,i.jsx)(e.td,{children:"GID"}),(0,i.jsx)(e.td,{children:"\u8FD0\u884C GID"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-f"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u524D\u53F0\u8FD0\u884C"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-m"}),(0,i.jsx)(e.td,{children:"MAC address"}),(0,i.jsx)(e.td,{children:"\u56FA\u5B9A mac \u5730\u5740"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-M"}),(0,i.jsx)(e.td,{children:"mtu"}),(0,i.jsx)(e.td,{children:"\u63A5\u53E3 MTU - \u9ED8\u8BA4 1290"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-D"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u542F\u7528 PMTU \u53D1\u73B0 - \u652F\u6301\u573A\u666F\u53EF\u51CF\u5C11\u5206\u5305\uFF0C\u4E0D\u652F\u6301\u53EF\u80FD\u5BFC\u81F4\u5305\u5EF6\u65F6"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-r"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u542F\u7528\u5305\u8F6C\u53D1"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-H"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u5934\u52A0\u5BC6 - \u8981\u6C42 supernode \u914D\u7F6E\u56FA\u5B9A community"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-z,z1,z2"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u5305\u538B\u7F29 - -z1 or -z = lzo1x (default=disabled)."})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-E"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u652F\u6301\u591A\u64AD MAC - \u9ED8\u8BA4\u4E22\u5F03"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-S"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u4E0D\u5C1D\u8BD5 P2P - \u901A\u8FC7 supernode \u4E2D\u8F6C"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-T"}),(0,i.jsx)(e.td,{children:"tos"}),(0,i.jsx)(e.td,{children:"TOS for packets - \u4F8B\u5982 SSH \u4E3A 0x48"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-n"}),(0,i.jsx)(e.td,{children:"cidr:gateway"}),(0,i.jsx)(e.td,{children:"\u8DEF\u7531\u7ED9\u5B9A\u7F51\u7EDC - \u53EF\u4F7F\u7528 0.0.0.0/0 \u8DEF\u7531\u9ED8\u8BA4\u7F51\u7EDC"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-v"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u8BE6\u7EC6\u65E5\u5FD7 - \u53EF\u591A\u6B21\u6307\u5B9A"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"-t"}),(0,i.jsx)(e.td,{children:"port"}),(0,i.jsx)(e.td,{children:"\u7BA1\u7406 UDP \u7AEF\u53E3"})]})]})]}),"\n",(0,i.jsx)(e.h3,{id:"\u52A0\u5BC6",children:"\u52A0\u5BC6"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"n2n \u5185\u5EFA\u7B97\u6CD5 - \u4E5F\u53EF\u4EE5\u7F16\u8BD1\u7684\u65F6\u5019 link openssl"}),"\n",(0,i.jsxs)(e.li,{children:["\u901A\u8FC7 ",(0,i.jsx)(e.code,{children:"-k $KEY"})," \u6216\u8005 N2N_KEY \u63D0\u4F9B\u5BC6\u94A5"]}),"\n",(0,i.jsx)(e.li,{children:"\u9ED8\u8BA4 -A3/AES"}),"\n",(0,i.jsxs)(e.li,{children:["-A1 \u4E3A\u4E0D\u52A0\u5BC6\uFF0C\u4E0D\u63D0\u4F9B ",(0,i.jsx)(e.code,{children:"-k"})," \u65F6\u7684\u9ED8\u8BA4"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{style:{textAlign:"center"},children:"Flag"}),(0,i.jsx)(e.th,{style:{textAlign:"center"},children:"Cipher"}),(0,i.jsx)(e.th,{style:{textAlign:"center"},children:"Mode"}),(0,i.jsx)(e.th,{style:{textAlign:"center"},children:"Block Size"}),(0,i.jsx)(e.th,{style:{textAlign:"center"},children:"Key Size"}),(0,i.jsx)(e.th,{style:{textAlign:"center"},children:"IV length"}),(0,i.jsx)(e.th,{style:{textAlign:"center"},children:"Speed"}),(0,i.jsx)(e.th,{children:"Built-In"}),(0,i.jsx)(e.th,{children:"Origin"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"-A2"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"Twofish"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"CTS"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"128 bits"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"256 bit"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"128 bit"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"-..O"}),(0,i.jsx)(e.td,{children:"Y"}),(0,i.jsx)(e.td,{children:"Bruce Schneier"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"-A3"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"AES"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"CTS"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"128 bits"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"128, 192, 256 bit"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"128 bit"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"O..+"}),(0,i.jsx)(e.td,{children:"Y"}),(0,i.jsx)(e.td,{children:"Joan Daemen, Vincent Rijmen, NSA-approved"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"-A4"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"ChaCha20"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"CTR"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"Stream"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"256 bit"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"128 bit"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"+..++"}),(0,i.jsx)(e.td,{children:"Y"}),(0,i.jsx)(e.td,{children:"Daniel J. Bernstein"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"-A5"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"SPECK"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"CTR"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"Stream"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"256 bit"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"128 bit"}),(0,i.jsx)(e.td,{style:{textAlign:"center"},children:"++"}),(0,i.jsx)(e.td,{children:"Y"}),(0,i.jsx)(e.td,{children:"NSA"})]})]})]}),"\n",(0,i.jsx)(e.h2,{id:"notes",children:"NOTES"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u591A\u4E2A supernode \u53EF\u7EC4\u8054\u90A6 - community=*Federation\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5B9E\u73B0\u5907\u4EFD\u3001\u5BB9\u707E\u548C\u8D1F\u8F7D\u5747\u8861 - \u907F\u514D DDoS"}),"\n",(0,i.jsx)(e.li,{children:"edge \u53EF\u4EE5\u8FDE\u4E00\u4E2A\u6216\u591A\u4E2A"}),"\n",(0,i.jsxs)(e.li,{children:["\u540D\u5B57\u53EF ",(0,i.jsx)(e.code,{children:"-F"})," \u6307\u5B9A\uFF0C\u9ED8\u8BA4 ",(0,i.jsx)(e.code,{children:"*Federation"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["3.0 \u5B9E\u73B0 ",(0,i.jsx)(e.a,{href:"https://github.com/ntop/n2n/blob/dev/doc/Authentication.md",children:"\u8BA4\u8BC1"})," - \u4E4B\u524D\u4F7F\u7528 MAC\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u652F\u6301\u57FA\u4E8E edge \u63D0\u4F9B\u7684\u6807\u8BC6\u4FE1\u606F"}),"\n",(0,i.jsxs)(e.li,{children:["\u652F\u6301 user/password \u6A21\u5F0F\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4F7F\u7528 n2n-keygen \u751F\u6210"}),"\n",(0,i.jsx)(e.li,{children:"sn \u5728 community.list \u4E2D\u6DFB\u52A0\u751F\u6210\u7684\u4FE1\u606F"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"edge -I ${USERNAME} -J ${PASSWORD} -A5/-A4 -k ${N2N_KEY} -P ${SN_PUB_KEY}"})}),"\n",(0,i.jsx)(e.li,{children:"\u9700\u8981\u7528\u5230 \u5934 \u52A0\u5BC6"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["community\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["19 byte - \u4E0D\u5141\u8BB8\u5305\u542B ",(0,i.jsx)(e.code,{children:".*+?[]\\"})]}),"\n",(0,i.jsxs)(e.li,{children:["\u652F\u6301\u6B63\u5219\u5339\u914D - \u4F8B\u5982 ",(0,i.jsx)(e.code,{children:"net[0-9]"})," \u6216\u8005 ",(0,i.jsx)(e.code,{children:"net\\d"})]}),"\n",(0,i.jsxs)(e.li,{children:["\u9ED8\u8BA4 ",(0,i.jsx)(e.strong,{children:"\u660E\u6587\u4F20\u8F93"})," - \u9664\u975E\u5F00\u542F \u5934 \u52A0\u5BC6"]}),"\n",(0,i.jsxs)(e.li,{children:["\u5F00\u542F \u5934 \u52A0\u5BC6\u540E\u540D\u5B57\u4E0D\u80FD\u4F7F\u7528\u6B63\u5219 - \u53EA\u80FD\u662F\u56FA\u5B9A\u540D\u5B57\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u53EF\u4EE5\u4F7F\u7528 ",(0,i.jsx)(e.code,{children:".*"})," \u6765\u5141\u8BB8\u4EFB\u610F"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"\u53EF\u88AB\u8BA4\u4E3A\u662F\u7B80\u5355\u7684\u5BC6\u7801 - \u53EA\u6709\u77E5\u9053 community \u624D\u80FD\u52A0\u5165\u7F51\u7EDC"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"supernode",children:"supernode"}),"\n",(0,i.jsxs)(e.p,{children:["| opt                      | default                      |\n| ------------------------ | ---------------------------- | ----------------------------------------- |\n| -p PORT                  | 7654                         | UDP, \u672C\u5730\u7AEF\u53E3                             |\n| -F FEDERATION            | ",(0,i.jsx)(e.code,{children:"*Federation"}),"                | \u8054\u90A6\u540D\u5B57                                  |\n| -l HOST:PORT             |                              | \u5DF2\u77E5\u7684 supernode \u540D\u5B57\u6216\u5730\u5740               |\n| -M                       |                              | \u7981\u7528 MAC \u548C IP \u6B3A\u9A97\u4FDD\u62A4\u672A\u6388\u6743 communities |\n| -V VERSION               |                              | \u53D1\u9001\u7ED9 edge \u7684\u7248\u672C\u4FE1\u606F - \u6700\u957F 19          |\n| -c PATH                  |                              | \u5141\u8BB8\u7684 communities                        |\n| -a                       | 10.128.255.0-10.255.255.0/24 | \u5B50\u7F51                                      |\n| -t                       | 5645                         | UDP, \u7BA1\u7406\u7AEF\u53E3                             |\n| --management_password PW | n2n                          | \u7BA1\u7406\u5BC6\u7801                                  |"]}),"\n",(0,i.jsx)(e.h1,{id:"faq",children:"FAQ"}),"\n",(0,i.jsx)(e.h2,{id:"supernode-not-responding-now-trying",children:"Supernode not responding, now trying"}),"\n",(0,i.jsx)(e.p,{children:"\u5728\u91CD\u8BD5\u4E24\u6B21\u540E\u5C31\u505C\u6B62\u4E86\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u91CD\u542F\u8FDB\u884C\u518D\u6B21\u8FDE\u63A5\u3002"})]})}function a(n={}){let{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(x,{...n})}):x(n)}},917776:function(n,e,s){s.d(e,{R:()=>r,x:()=>d});var t=s(7378);let i={},l=t.createContext(i);function r(n){let e=t.useContext(l);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),t.createElement(l.Provider,{value:e},n.children)}}}]);