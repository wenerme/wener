"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["539032"],{649495:function(e,n,l){l.r(n),l.d(n,{frontMatter:()=>r,toc:()=>o,default:()=>d,metadata:()=>t,assets:()=>c,contentTitle:()=>i});var t=JSON.parse('{"id":"service/security/vault/README","title":"Vault","description":"- hashicorp/vault \u662F\u4EC0\u4E48\uFF1F","source":"@site/../notes/service/security/vault/README.md","sourceDirName":"service/security/vault","slug":"/service/security/vault/","permalink":"/notes/service/security/vault/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/security/vault/README.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1693463269000,"frontMatter":{"title":"Vault"},"sidebar":"docs","previous":{"title":"infisical","permalink":"/notes/service/security/infisical"},"next":{"title":"Vault on Kubernetes","permalink":"/notes/service/security/vault/k8s"}}'),s=l(486106),a=l(917776);let r={title:"Vault"},i="Hashicorp Vault",c={},o=[{value:"\u57FA\u7840\u64CD\u4F5C",id:"\u57FA\u7840\u64CD\u4F5C",level:2},{value:"approle",id:"approle",level:2},{value:"vault agent",id:"vault-agent",level:2},{value:"Consul Secret",id:"consul-secret",level:2},{value:"PostgreSQL \u5B58\u50A8",id:"postgresql-\u5B58\u50A8",level:2},{value:"\u5BC6\u7801\u751F\u6210",id:"\u5BC6\u7801\u751F\u6210",level:2},{value:"\u914D\u7F6E",id:"\u914D\u7F6E",level:2},{value:"Consul vs Vault",id:"consul-vs-vault",level:2}];function u(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"hashicorp-vault",children:"Hashicorp Vault"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/hashicorp/vault",children:"hashicorp/vault"})," \u662F\u4EC0\u4E48\uFF1F\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"BSLv1.1, Golang"}),"\n",(0,s.jsx)(n.li,{children:"\u63D0\u4F9B\u5BC6\u94A5\u7BA1\u7406\u3001\u8BC1\u4E66\u7BA1\u7406\u3001\u5916\u90E8\u6388\u6743\u96C6\u6210"}),"\n",(0,s.jsx)(n.li,{children:"\u63D0\u4F9B\u89D2\u8272\u8BBF\u95EE\u5BC6\u94A5\u6743\u9650\u63A7\u5236"}),"\n",(0,s.jsx)(n.li,{children:"\u5B9E\u73B0 CA \u670D\u52A1"}),"\n",(0,s.jsxs)(n.li,{children:["Secret as a Service - \u5BC6\u94A5\u5373\u670D\u52A1\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4F8B\u5982 \u963F\u91CC\u4E91 KMS\u3001AWS KMS"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.vaultproject.io/",children:"Vault project"})}),"\n",(0,s.jsxs)(n.li,{children:["\u4E3A\u4EC0\u4E48\u4F7F\u7528 Vault\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u907F\u514D\u5BC6\u94A5\u5230\u5904\u653E"}),"\n",(0,s.jsx)(n.li,{children:"\u63D0\u4F9B\u52A8\u6001\u5BC6\u94A5"}),"\n",(0,s.jsx)(n.li,{children:"\u52A0\u5BC6\u670D\u52A1"}),"\n",(0,s.jsx)(n.li,{children:"\u5BA1\u8BA1\u65E5\u5FD7"}),"\n",(0,s.jsx)(n.li,{children:"\u4FBF\u4E8E\u64A4\u9500\u8BBF\u95EE"}),"\n",(0,s.jsxs)(n.li,{children:["\u670D\u52A1\u5E94\u7528\u96C6\u6210\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4F8B\u5982 \u81EA\u52A8\u521B\u5EFA db \u8D26\u53F7\u5BC6\u7801\u3001SSH \u5BC6\u94A5\u7BA1\u7406"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"\u914D\u7F6E\u4E2D\u5FC3"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"\u9ED8\u8BA4\u670D\u52A1\u7AEF\u53E3 8200"}),"\n",(0,s.jsxs)(n.li,{children:["\u652F\u6301\u591A\u79CD\u6388\u6743\u65B9\u5F0F\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"AppRole"}),"\n",(0,s.jsx)(n.li,{children:"alicloud"}),"\n",(0,s.jsx)(n.li,{children:"LDAP"}),"\n",(0,s.jsx)(n.li,{children:"GitHub"}),"\n",(0,s.jsx)(n.li,{children:"JWT/OIDC"}),"\n",(0,s.jsx)(n.li,{children:"RADIUS"}),"\n",(0,s.jsx)(n.li,{children:"Username/Password"}),"\n",(0,s.jsx)(n.li,{children:"Tokens"}),"\n",(0,s.jsx)(n.li,{children:"Kubernetes"}),"\n",(0,s.jsx)(n.li,{children:"Kerberos"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"\u652F\u6301\u591A\u79CD\u540E\u7AEF\u5B58\u50A8 - consul,etcd,file,inmem,mysql,postgresql,raft,s3,zppkeeper"}),"\n",(0,s.jsxs)(n.li,{children:["\u6982\u5FF5\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u540E\u7AEF\u5B58\u50A8\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5B58\u50A8\u7684\u662F Vault \u7684\u4FE1\u606F"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u5BC6\u94A5\u5F15\u64CE\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5B58\u50A8\u3001\u751F\u6210\u3001\u52A0\u5BC6\u6570\u636E"}),"\n",(0,s.jsx)(n.li,{children:"\u88AB\u6302\u8F7D\u5230\u4E00\u4E2A\u76EE\u5F55"}),"\n",(0,s.jsx)(n.li,{children:"\u90E8\u5206\u76F4\u63A5\u5B58\u50A8\u6570\u636E\uFF0C\u90E8\u5206\u4E0E\u5916\u90E8\u7CFB\u7EDF\u4EA4\u4E92"}),"\n",(0,s.jsxs)(n.li,{children:["\u751F\u547D\u5468\u671F\uFF1A Enable\u3001Disable\u3001Move\u3001Tune\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Tune \u7C7B\u4F3C\u4E8E\u914D\u7F6E"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"\u5F15\u64CE\u53EA\u80FD\u770B\u5230\u6302\u8F7D\u76EE\u5F55\u4E0B\u5185\u5BB9 - \u7C7B\u4F3C\u4E8E chroot"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u73AF\u5883\u53D8\u91CF\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"VAULT_ADDR \u670D\u52A1\u7AEF\u5730\u5740"}),"\n",(0,s.jsx)(n.li,{children:"VAULT_TOKEN \u8BF7\u6C42\u7684 Token"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# macOS\nbrew instal vault\n\n# \u542F\u52A8\u5F00\u53D1\u6A21\u5F0F\u7684\u670D\u52A1 - \u7528\u4E8E\u672C\u5730\u5B9E\u9A8C\n# \u4F1A\u8F93\u51FA root token - \u7528\u4E8E\u767B\u9646\u6388\u6743\n# unseal key\n# \u56FA\u5B9A root token \u65B9\u4FBF\u8C03\u8BD5\nvault server -dev -dev-root-token-id="root"\nexport VAULT_ADDR=\'http://127.0.0.1:8200\'\nvault plugin list\n\n# docker \u542F\u52A8 - \u5F00\u53D1\u6A21\u5F0F\n# VAULT_LOCAL_CONFIG \u53EF\u4EE5\u7528 JSON \u8FDB\u884C\u914D\u7F6E\n# VAULT_DEV_ROOT_TOKEN_ID - \u81EA\u5B9A\u4E49 Token\ndocker run --rm -it \\\n  -p 8200:8200 \\\n  -v $PWD/vault/log:/vault/logs \\\n  -v $PWD/vault/data:/vault/file \\\n  -v $PWD/vault/config:/vault/config \\\n  --cap-add=IPC_LOCK \\\n  --name vault vault\n\n# \u751F\u4EA7\u8FD0\u884C\n# \u5982\u679C\u6570\u636E\u76EE\u5F55\u6CA1\u6709\u6570\u636E - \u90A3\u4E48\u8FDB\u5165 UI \u4F1A\u8FDB\u884C\u521D\u59CB\u5316\ndocker run --rm -it \\\n  -p 8200:8200 \\\n  -v $PWD/vault/log:/vault/logs \\\n  -v $PWD/vault/data:/vault/file \\\n  -v $PWD/vault/config:/vault/config \\\n  -e \'VAULT_LOCAL_CONFIG={"ui":true,"listener":{"tcp":{"address":"0.0.0.0:8200","tls_disable":true}},"backend": {"file": {"path": "/vault/file"}}, "default_lease_ttl": "168h", "max_lease_ttl": "720h"}\' \\\n  --cap-add=IPC_LOCK \\\n  --name vault vault server\n\n# \u5BA2\u6237\u7AEF\u7684\u94FE\u63A5\u5730\u5740\nexport VAULT_ADDR=\'http://127.0.0.1:8200\'\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u57FA\u7840\u64CD\u4F5C",children:"\u57FA\u7840\u64CD\u4F5C"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'echo \'{"ui":true,"listener":{"tcp":{"address":"0.0.0.0:8200","tls_disable":true}},"backend": {"file": {"path": "vault-file"}}, "default_lease_ttl": "168h", "max_lease_ttl": "720h"}\' > config.json\n# \u542F\u52A8\u670D\u52A1\u7AEF\nvault server -config=config.json > vault.log &\nexport VAULT_ADDR=\'http://127.0.0.1:8200\'\nvault init -key-shares=2 -key-threshold=1\nvault unseal\nvault login\n# KV \u5199\u5165\nvault write secret/hello value=world\necho -n \'{"value":"itsasecret"}\' | vault write secret/password -\necho -n "itsasecret" | vault write secret/password value=-\n# { "value": "itsasecret" }\ncat data.json\nvault write secret/password @data.json\n# itsasecret\ncat data.txt\nvault write secret/password value=@data.txt\nvault read secret/hello\nvault read -format=json secret/hello | jq ".data.value" -r\nvault read -field=value secret/password\n'})}),"\n",(0,s.jsx)(n.h2,{id:"approle",children:"approle"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u5148\u4F7F\u7528 ROOT \u767B\u9646\nvault login\n\n# \u53EA\u8BFB\ncat <<EOF | vault policy write secret-read -\npath "secret/*" {\n  capabilities = [ "read" ]\n}\nEOF\n\ncat <<EOF | vault policy write secret-management -\npath "secret/*" {\n  capabilities = [ "create", "read", "update", "delete", "list" ]\n}\nEOF\n\n# \u542F\u7528 approle\nvault auth enable approle\n\n# macOS \u4E0B\u662F\u5927\u5199\n# \u4E5F\u53EF\u4EE5\u4E0D\u9884\u5B9A\u4E49 ROLE_ID\nROLE_ID=$(uuidgen|tr \'[:upper:]\' \'[:lower:]\')\nvault write auth/approle/role/secret-reader role_id=$ROLE_ID\n# \u8D4B\u4E88\u7B56\u7565\nvault write auth/approle/role/secret-reader policies="secret-read"\n# \u521A\u624D\u521B\u5EFA\u7684\u89D2\u8272 ID\nvault read auth/approle/role/secret-reader/role-id\n# secret \u4E0D\u80FD\u67E5\u770B - \u53EF\u4EE5\u4FEE\u6539\nvault read auth/approle/role/secret-reader/secret-id\n# \u4ECE\u65B0\u751F\u6210 SECRET_ID\n# \u5C06\u7ED3\u679C\u66F4\u65B0\u5230\u53D8\u91CF\nSECRET_ID=$(vault write -f auth/approle/role/secret-reader/secret-id -format=json | jq -r \'.data.secret_id\')\n# \u6DFB\u52A0\u5230\u767B\u9646\n# \u4F1A\u751F\u6210 TOKEN - \u91CD\u590D\u64CD\u4F5C\u4F1A\u751F\u6210\u65B0\u7684 Token \u4F46\u4E4B\u524D\u7684\u4E5F\u4F1A\u6709\u6548\nTOKEN=$(vault write --format=json auth/approle/login role_id=$ROLE_ID secret_id=$SECRET_ID | jq -r \'.auth.client_token\')\n\n# \u9A8C\u8BC1 Token \u6709\u6548\nVAULT_TOKEN=$TOKEN vault read auth/token/lookup-self\n\n# \u5199\u5165\u6D4B\u8BD5\u6570\u636E\nvault secrets enable -path=secret kv\nvault kv put secret/test test_password=$ROLE_ID\n\n# \u4F7F\u7528\u8BE5 TOKEN \u67E5\u8BE2\nVAULT_TOKEN=$TOKEN vault kv get -field=test_password secret/test\n\n# \u53EF\u4EE5\u5C1D\u8BD5\u5728\u53E6\u5916\u4E00\u4E2A\u4F1A\u8BDD\u4F7F\u7528 TOKEN \u767B\u9646\nvault login $TOKEN\n'})}),"\n",(0,s.jsx)(n.h2,{id:"vault-agent",children:"vault agent"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u81EA\u52A8\u6388\u6743"}),"\n",(0,s.jsx)(n.li,{children:"\u7F13\u5B58"}),"\n",(0,s.jsx)(n.li,{children:"\u6A21\u677F"}),"\n",(0,s.jsxs)(n.li,{children:["Agent \u914D\u7F6E\u5BF9\u8C61\u5B9A\u4E49 ",(0,s.jsx)(n.a,{href:"https://gopkgs.io/src/github.com/hashicorp/vault/command/agent/config/config.go",children:"config.go"})]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# APP ROLE \u62FF\u5230\u7684\u89D2\u8272\u4FE1\u606F\necho $ROLE_ID > role_id.vault.txt\necho $SECRET_ID > secret_id.vault.txt\n\n# remove_secret_id_file_after_reading - \u9ED8\u8BA4\u4E3A true - secret_id \u8BFB\u53D6\u540E\u4F1A\u88AB\u5220\u9664\ncat <<EOF > agent.json\n{\n  "pid_file": "./vault.pid",\n  "vault": {\n    "address": "$VAULT_ADDR"\n  },\n  "listener": {\n    "tcp": {\n      "address": "0.0.0.0:8200",\n      "tls_disable": true\n    }\n  },\n  "auto_auth": {\n    "method": {\n      "type": "approle",\n      "config": {\n        "role_id_file_path": "role_id.vault.txt",\n        "secret_id_file_path": "secret_id.vault.txt"\n      }\n    },\n    "sink": [\n      {\n        "type": "file",\n        "config": {\n          "path": "./agent-token.file"\n        }\n      }\n    ]\n  },\n  "cache": {\n    "use_auto_auth_token": true\n  }\n}\nEOF\n\nvault agent -config agent.json\n\n# \u4F7F\u7528\u672C\u5730\u548C\u83B7\u53D6\u5230\u7684 Token\nexport VAULT_ADDR=http://127.0.0.1:8200\nVAULT_TOKEN=$(cat agent-token.file) vault read auth/token/lookup-self\n\n# \u767B\u9646\u540E\u5219\u53EF\u4EE5\u4E00\u76F4\u8BBF\u95EE\nvault login $(cat agent-token.file)\nvault read auth/token/lookup-self\n'})}),"\n",(0,s.jsx)(n.h2,{id:"consul-secret",children:"Consul Secret"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u57FA\u4E8E Consul \u7684 ACL \u7B56\u7565\u52A8\u6001\u751F\u6210 Consul API \u7684 Token"}),"\n",(0,s.jsx)(n.li,{children:"\u4F9D\u8D56 global-management \u7684 token"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u5982\u679C\u6CA1\u6709\u914D\u7F6E\u8FC7 token\nconsul acl bootstrap\n\n# \u542F\u7528 consul secret\nvault secrets enable consul\n# \u521B\u5EFA token\nCONSUL_HTTP_TOKEN=d54fe46a-1f57-a589-3583-6b78e334b03b consul acl token create -policy-name=global-management\n# \u4F7F\u7528\u65B0\u521B\u5EFA\u7684 token\nvault write consul/config/access \\\n    address=127.0.0.1:8500 \\\n    token=7652ba4c-0f6e-8e75-5724-5e083d72cfe4\n\n# \u65B0\u589E\u89D2\u8272 - \u5173\u8054\u7B56\u7565\nvault write consul/roles/my-role policy=$(base64 <<< \'key "" { policy = "read" }\')\n# \u89D2\u8272\u5173\u8054\u73B0\u6709\u7B56\u7565\nvault write consul/roles/my-role policies=readonly\n# \u83B7\u53D6\u6388\u6743\u4FE1\u606F\nvault read consul/creds/my-role\n'})}),"\n",(0,s.jsx)(n.h2,{id:"postgresql-\u5B58\u50A8",children:"PostgreSQL \u5B58\u50A8"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'CREATE TABLE vault_kv_store (\n  parent_path TEXT COLLATE "C" NOT NULL,\n  path        TEXT COLLATE "C",\n  key         TEXT COLLATE "C",\n  value       BYTEA,\n  CONSTRAINT pkey PRIMARY KEY (path, key)\n);\n\nCREATE INDEX parent_path_idx ON vault_kv_store (parent_path);\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-hcl",children:'storage "postgresql" {\n  connection_url = "postgres://user123:secret123!@localhost:5432/vault?sslmode=disable"\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u5BC6\u7801\u751F\u6210",children:"\u5BC6\u7801\u751F\u6210"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'vault write sys/plugins/catalog/secrets-gen \\\n  sha_256=$(docker run --rm wener/vault sha256sum /etc/vault/plugins/vault-secrets-gen|cut -d \' \' -f 1) \\\n  command=vault-secrets-gen\n\nvault secrets enable -path=gen -plugin-name=secrets-gen plugin\n\nvault write gen/password length=36 symbols=0\n\nvault write sys/plugins/catalog/secrets-gen \\\n    sha_256="${SHA256}" \\\n    command="vault-secrets-gen"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u914D\u7F6E",children:"\u914D\u7F6E"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.vaultproject.io/docs/configuration/",children:"https://www.vaultproject.io/docs/configuration/"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-hcl",children:'# \u5B58\u50A8\nstorage "consul" {\n  address = "127.0.0.1:8500"\n  path    = "vault"\n  # token   = "abcd1234"\n}\n\nlistener "tcp" {\n  address     = "127.0.0.1:8200"\n  tls_disable = 1\n}\n\nui = true\n\n#telemetry {\n#  statsite_address = "127.0.0.1:8125"\n#  disable_hostname = true\n#}\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"vault server -config=vault.hcl\nexport VAULT_ADDR='http://127.0.0.1:8200'\nvault operator init\n# \u8F93\u5165\u6307\u5B9A\u6B21\u6570 unseal token\nvault operator unseal\n# \u4F7F\u7528 root token \u767B\u9646\nvault login\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"consul.acl.json"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "key_prefix": {\n    "vault/": {\n      "policy": "write"\n    }\n  },\n  "node_prefix": {\n    "": {\n      "policy": "write"\n    }\n  },\n  "service": {\n    "vault": {\n      "policy": "write"\n    }\n  },\n  "agent_prefix": {\n    "": {\n      "policy": "write"\n    }\n  },\n  "session_prefix": {\n    "": {\n      "policy": "write"\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h1,{id:"faq",children:"FAQ"}),"\n",(0,s.jsx)(n.h2,{id:"consul-vs-vault",children:"Consul vs Vault"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u6700\u5927\u7684\u533A\u522B\u662F\u4E00\u4E2A\u5F3A\u8C03\u52A0\u5BC6\u4E00\u4E2A\u5F3A\u8C03\u670D\u52A1\u53D1\u73B0"}),"\n",(0,s.jsx)(n.li,{children:"Consul \u7684\u914D\u7F6E\u662F KV"}),"\n",(0,s.jsx)(n.li,{children:"Vault \u7684\u662F\u76EE\u5F55\u683C\u5F0F - \u4E24\u4E2A\u5F62\u5F0F\u4E0A\u6709\u4E9B\u7C7B\u4F3C"}),"\n"]})]})}function d(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},917776:function(e,n,l){l.d(n,{R:()=>r,x:()=>i});var t=l(7378);let s={},a=t.createContext(s);function r(e){let n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);