"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["63371"],{59151:function(e,r,n){n.r(r),n.d(r,{frontMatter:()=>a,toc:()=>p,default:()=>c,metadata:()=>t,assets:()=>o,contentTitle:()=>i});var t=JSON.parse('{"id":"db/relational/postgresql/pg_prewarm","title":"pg_prewarm","description":"- pg_prewarm","source":"@site/../notes/db/relational/postgresql/pg_prewarm.md","sourceDirName":"db/relational/postgresql","slug":"/db/relational/postgresql/pg_prewarm","permalink":"/notes/db/relational/postgresql/pg_prewarm","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/db/relational/postgresql/pg_prewarm.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1685296509000,"frontMatter":{"title":"pg_prewarm"},"sidebar":"docs","previous":{"title":"pg_cron","permalink":"/notes/db/relational/postgresql/pg_cron"},"next":{"title":"pgadmin4","permalink":"/notes/db/relational/postgresql/pgadmin4"}}'),l=n(86106),s=n(17776);let a={title:"pg_prewarm"},i="pg_prewarm",o={},p=[];function d(e){let r={a:"a",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.header,{children:(0,l.jsx)(r.h1,{id:"pg_prewarm",children:"pg_prewarm"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"https://www.postgresql.org/docs/current/pgprewarm.html",children:"pg_prewarm"})}),"\n"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-sql",children:"CREATE EXTENSION pg_prewarm;\n"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{children:"pg_prewarm(regclass, mode text default 'buffer', fork text default 'main',\n           first_block int8 default null,\n           last_block int8 default null) RETURNS int8\n\nautoprewarm_start_worker() RETURNS void\nautoprewarm_dump_now() RETURNS int8\n"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["mode\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:["read\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"\u540C\u6B65\u8BFB"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:["buffer\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"\u8BFB\u5230 buffer cache"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:["prefetch\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"async os request"}),"\n",(0,l.jsx)(r.li,{children:"\u9700\u8981\u7CFB\u7EDF\u652F\u6301"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"\u540E\u53F0\u8FD0\u884C"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-ini",metastring:'title="postgresql.conf"',children:"shared_preload_libraries = 'pg_prewarm'\n\npg_prewarm.autoprewarm = true\npg_prewarm.autoprewarm_interval = 300s\n"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"autoprewarm.blocks"}),"\n"]})]})}function c(e={}){let{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,l.jsx)(r,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},17776:function(e,r,n){n.d(r,{R:()=>a,x:()=>i});var t=n(7378);let l={},s=t.createContext(l);function a(e){let r=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);