"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["74227"],{64862:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>a,toc:()=>o,default:()=>d,metadata:()=>t,assets:()=>c,contentTitle:()=>l});var t=JSON.parse('{"id":"service/forge/gitea/gitea-conf","title":"\u914D\u7F6E","description":"- docker \u73AF\u5883\u53D8\u91CF\u914D\u7F6E - GITEA{name}","source":"@site/../notes/service/forge/gitea/gitea-conf.md","sourceDirName":"service/forge/gitea","slug":"/service/forge/gitea/conf","permalink":"/notes/service/forge/gitea/conf","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/forge/gitea/gitea-conf.md","tags":[{"inline":true,"label":"Configuration","permalink":"/notes/tags/configuration"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1710413103000,"frontMatter":{"tags":["Configuration"]},"sidebar":"docs","previous":{"title":"Gitea Action","permalink":"/notes/service/forge/gitea/action"},"next":{"title":"Gitea FAQ","permalink":"/notes/service/forge/gitea/faq"}}'),s=i(86106),r=i(17776);let a={tags:["Configuration"]},l="\u914D\u7F6E",c={},o=[{value:"action",id:"action",level:2},{value:"indexer",id:"indexer",level:2}];function E(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u914D\u7F6E",children:"\u914D\u7F6E"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["docker \u73AF\u5883\u53D8\u91CF\u914D\u7F6E - ",(0,s.jsx)(n.code,{children:"GITEA__{section}__{name}"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"GITEA__database__DB_TYPE"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:"APP_NAME=Gitea\nRUN_USER=git\nRUN_MODE=prod\n\n[database]\n# PostgreSQL\nDB_TYPE = postgres\nHOST = RELEASE-NAME-postgresql.default.svc.cluster.local:5432\nNAME = gitea\nPASSWD = gitea\nUSER = gitea\nSCHEMA =\nSSL_MODE=disable ; disable, require, verify-full\n\n# SQLite\nDB_TYPE = sqlite3\nPATH = data/gitea.db\nSQLITE_TIMEOUT = 500\n# https://www.sqlite.org/pragma.html#pragma_journal_mode\n# DELETE | TRUNCATE | PERSIST | MEMORY | WAL | OFF\n# \u63A8\u8350 WAL\nSQLITE_JOURNAL_MODE = DELETE\n\n# \u5176\u4ED6\nITERATE_BUFFER_SIZE = 50\nLOG_SQL = false\nDB_RETRIES = 10\nDB_RETRY_BACKOFF = 3s\nMAX_IDLE_CONNS = 2\nCONN_MAX_LIFETIME = 3s\nMAX_OPEN_CONNS = 0\nAUTO_MIGRATION = true\n\n[service]\n# \u65B0\u6CE8\u518C\u7528\u6237\u5FC5\u987B\u7531\u7BA1\u7406\u5458\u624B\u52A8\u6FC0\u6D3B,\u542F\u7528\u6B64\u9009\u9879\u9700\u53D6\u6D88\nREGISTER_MANUAL_CONFIRM=false\n# \u7981\u7528\u6CE8\u518C\uFF0C\u542F\u7528\u540E\u53EA\u80FD\u7528\u7BA1\u7406\u5458\u6DFB\u52A0\u7528\u6237\nDISABLE_REGISTRATION=false\n# \u662F\u5426\u6240\u6709\u9875\u9762\u90FD\u5FC5\u987B\u767B\u5F55\u540E\u624D\u53EF\u8BBF\u95EE\u3002\nREQUIRE_SIGNIN_VIEW=false\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"GITEA_WORK_DIR"}),"\n",(0,s.jsxs)(n.li,{children:["\u8FC1\u79FB\u6570\u636E\u5E93 ",(0,s.jsx)(n.code,{children:"gitea migrate"}),", ",(0,s.jsx)(n.code,{children:"gitea dump"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://docs.gitea.io/en-us/config-cheat-sheet/",children:"Configuration Cheat Sheet"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.gitea.io/zh-cn/config-cheat-sheet/",children:"\u4E2D\u6587"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/go-gitea/gitea/blob/main/custom/conf/app.example.ini",children:"app.example.ini"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"action",children:"action"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:"[action]\nENABLED=false\n# github -> https://github.com\n# self -> \u5F53\u524D gitea - GITEA__server__ROOT_URL\nDEFAULT_ACTIONS_URL=github\n# minio, XYZ -> storage.XYZ\nSTORAGE_TYPE=local\nMINIO_BASE_PATH=actions_log/\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["DEFAULT_ACTIONS_URL\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u4E0D\u63A8\u8350 self\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u9700\u8981 mirror \u592A\u591A\u4ED3\u5E93"}),"\n",(0,s.jsx)(n.li,{children:"\u9700\u8981 gitea \u516C\u5F00\u8BBF\u95EE"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u63A8\u8350 uses \u5199\u5B8C\u6574 url\uFF0C\u4F8B\u5982: ",(0,s.jsx)(n.a,{href:"https://gitea.com/actions/checkout@v3",children:"https://gitea.com/actions/checkout@v3"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"indexer",children:"indexer"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:"[indexer]\n\nISSUE_INDEXER_TYPE = bleve\nISSUE_INDEXER_PATH = indexers/issues.bleve\n\nISSUE_INDEXER_CONN_STR =\nISSUE_INDEXER_NAME = gitea_issues\n\nSTARTUP_TIMEOUT = 30s\n\n# Repo\n# ==========\nREPO_INDEXER_ENABLED = false\n\n# sources,forks,mirrors,templates\nREPO_INDEXER_REPO_TYPES = sources\n\n# bleve, elasticsearch\nREPO_INDEXER_TYPE = bleve\nREPO_INDEXER_PATH = indexers/repos.bleve\n\n# ES\n# ----------\n# http://elastic:changeme@localhost:9200\nREPO_INDEXER_CONN_STR =\nREPO_INDEXER_NAME = gitea_codes\n\nREPO_INDEXER_INCLUDE =\nREPO_INDEXER_EXCLUDE =\nMAX_FILE_SIZE =\n"})})]})}function d(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(E,{...e})}):E(e)}},17776:function(e,n,i){i.d(n,{R:()=>a,x:()=>l});var t=i(7378);let s={},r=t.createContext(s);function a(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);