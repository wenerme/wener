"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["586770"],{556546:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>c,toc:()=>h,default:()=>u,metadata:()=>s,assets:()=>t,contentTitle:()=>d});var s=JSON.parse('{"id":"os/virt/qemu/qemu-version","title":"QEMU Version","description":"| ver                     | date       |","source":"@site/../notes/os/virt/qemu/qemu-version.md","sourceDirName":"os/virt/qemu","slug":"/os/virt/qemu/version","permalink":"/notes/os/virt/qemu/version","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/os/virt/qemu/qemu-version.md","tags":[{"inline":true,"label":"Version","permalink":"/notes/tags/version"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1667482099000,"frontMatter":{"title":"QEMU Version","tags":["Version"]},"sidebar":"docs","previous":{"title":"QEMU QMP","permalink":"/notes/os/virt/qemu/qmp"},"next":{"title":"QEMU Windows \u5BBF\u4E3B\u673A","permalink":"/notes/os/virt/qemu/windows-host"}}'),r=i(486106),l=i(917776);let c={title:"QEMU Version",tags:["Version"]},d="QEMU Version",t={},h=[{value:"Qemu 7.0",id:"qemu-70",level:2},{value:"Qemu 6.0",id:"qemu-60",level:2},{value:"Qemu 5.2",id:"qemu-52",level:2},{value:"Qemu 5.1",id:"qemu-51",level:2},{value:"Qemu 5.0",id:"qemu-50",level:2},{value:"Qemu 4.2.0",id:"qemu-420",level:2},{value:"Qemu 4.1.0",id:"qemu-410",level:2},{value:"Qemu 4.0.0",id:"qemu-400",level:2},{value:"Qemu 3.1.0",id:"qemu-310",level:2},{value:"Qemu 3.0.0",id:"qemu-300",level:2},{value:"Qemu 2.12",id:"qemu-212",level:2}];function o(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"qemu-version",children:"QEMU Version"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"ver"}),(0,r.jsx)(n.th,{children:"date"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#qemu-70",children:"Qemu 7.0"})}),(0,r.jsx)(n.td,{children:"2020-04-30"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#qemu-60",children:"Qemu 6.0"})}),(0,r.jsx)(n.td,{children:"2020-04-30"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#qemu-50",children:"Qemu 5.0"})}),(0,r.jsx)(n.td,{children:"2020-04-29"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#qemu-420",children:"Qemu 4.2.0"})}),(0,r.jsx)(n.td,{children:"2019-12-13"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#qemu-400",children:"Qemu 4.0.0"})}),(0,r.jsx)(n.td,{children:"2019-04-24"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"#qemu-212",children:"Qemu 2.1.2"})}),(0,r.jsx)(n.td,{children:"2018-04-24"})]})]})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://wiki.qemu.org/Planning",children:"https://wiki.qemu.org/Planning"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://wiki.qemu.org/ChangeLog",children:"https://wiki.qemu.org/ChangeLog"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/airbus-seclab/qemu_blog",children:"https://github.com/airbus-seclab/qemu_blog"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"qemu-70",children:"Qemu 7.0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"x86 - Intel AMX"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://wiki.qemu.org/ChangeLog/7.0",children:"https://wiki.qemu.org/ChangeLog/7.0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://news.ycombinator.com/item?id=31093564",children:"https://news.ycombinator.com/item?id=31093564"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"qemu-60",children:"Qemu 6.0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"tcg \u652F\u6301 macOS ARM"}),"\n",(0,r.jsx)(n.li,{children:"68k virt mahcine"}),"\n",(0,r.jsxs)(n.li,{children:["arm\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ARMv8.1-M Helium arch, Cortex-M55 CPU"}),"\n",(0,r.jsx)(n.li,{children:"ARMv8.4 TTST, SEL2, DIT"}),"\n",(0,r.jsx)(n.li,{children:"ARMv8.5 MemTag"}),"\n",(0,r.jsx)(n.li,{children:"mps3-an524, mps3-an547 board"}),"\n",(0,r.jsx)(n.li,{children:"xlnx-zynqmp, xlnx-versal, sbsa-ref, npcm7xx, sabrelite"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"MIPS Loongson-3 virt machine"}),"\n",(0,r.jsx)(n.li,{children:"virtiofs USE_KILLPRIV_V2"}),"\n",(0,r.jsx)(n.li,{children:"virtio-vga scaling resolution based on client window size"}),"\n",(0,r.jsx)(n.li,{children:"\u5E9F\u5F03 -writeconfig - \u8BED\u6CD5\u53C2\u6570\u7B49\u65E0\u6CD5\u4FDD\u8BC1\u6B63\u786E"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-machine"})," \u65B0\u589E ACPI \u9009\u9879 oem-id, oem-table-id"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-machine x-remote"}),", ",(0,r.jsx)(n.code,{children:"-device x-pci-proxy-dev"})," \u591A\u8FDB\u7A0B QEMU - \u76EE\u524D\u53EA\u652F\u6301 ",(0,r.jsx)(n.code,{children:"lsi53c895"})," SCSI"]}),"\n",(0,r.jsxs)(n.li,{children:["\u652F\u6301\u5C06 usb \u4F20\u8F93\u6570\u636E\u8F6C\u50A8\u5230\u6587\u4EF6 - \u7528\u4E8E wireshark \u5206\u6790 - ",(0,r.jsx)(n.code,{children:"pcap=<file>"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"qemu-52",children:"Qemu 5.2"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["x86 KVM \u5F02\u6B65 page faults - ",(0,r.jsx)(n.code,{children:"-cpu ...,kvm-async-pf-int"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Linux 5.8+"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"NVMe 1.3"}),"\n",(0,r.jsx)(n.li,{children:"SMBIOS OEM \u5B57\u7B26\u4E32\u53EF\u4ECE\u6587\u4EF6\u8BFB\u53D6"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"qemu-51",children:"Qemu 5.1"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"2020-08-11"}),"\n",(0,r.jsxs)(n.li,{children:["RPi \u652F\u6301 USB \u63A7\u5236\u5668\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["guest \u6DFB\u52A0 ",(0,r.jsx)(n.code,{children:"dwc_otg.fiq_fsm_enable=0"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"AMD X86 \u652F\u6301 \u8FC1\u79FB \u5D4C\u5957\u865A\u62DF\u5316"}),"\n",(0,r.jsx)(n.li,{children:"\u652F\u6301 Linux keyring \u4F20\u9012 secret"}),"\n",(0,r.jsx)(n.li,{children:"LUKS keyslot \u7BA1\u7406"}),"\n",(0,r.jsxs)(n.li,{children:["qcow2 \u652F\u6301 zstd - ",(0,r.jsx)(n.code,{children:"compression_type=zstd"})]}),"\n",(0,r.jsx)(n.li,{children:"AVR \u67B6\u6784"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u6DFB\u52A0 keyslot\nqemu-img amend \\\n  --object secret,id=sec0,data=current_password \\\n  --object secret,id=sec1,data=new_password \\\n  --image-opts driver=luks,file.filename=test.luks,key-secret=sec0 \\ #image has to be opened with --image-opts to pass current secret\n-o state=active,new-secret=sec1,[keyslot=1] #keyslot is optional\n# \u79FB\u9664\nqemu-img amend \\\n  --object secret,id=sec0,data=current_password \\\n  --object secret,id=sec1,data=new_password \\\n  --image-opts driver=luks,file.filename=test.luks,key-secret=sec0 \\\n  -o state=inactive,old-secret=sec1\n"})}),"\n",(0,r.jsx)(n.h2,{id:"qemu-50",children:"Qemu 5.0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://www.qemu.org/2020/04/29/qemu-5-0-0/",children:"5.0.0"})," - 2020-04-29"]}),"\n",(0,r.jsxs)(n.li,{children:["virtiofsd - \u6620\u5C04\u4E3B\u673A\u76EE\u5F55\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Linux 5.4 \u652F\u6301 VirtIO-FS"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"D-Bus QEMU \u8FDB\u7A0B Live-Migration"}),"\n",(0,r.jsxs)(n.li,{children:["block\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u652F\u6301\u538B\u7F29\u5907\u4EFD\u955C\u50CF"}),"\n",(0,r.jsx)(n.li,{children:"qemu-img measure \u652F\u6301 LUKS\uFF0C convert \u652F\u6301\u8DF3\u8FC7 zero"}),"\n",(0,r.jsx)(n.li,{children:"qemu-storage-daemon \u652F\u6301\u8BBF\u95EE\u5B58\u50A8\uFF0C\u4E0D\u9700\u8981\u542F\u52A8 VM"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# ./virtiofsd -o vhost_user_socket=/tmp/vhostqemu -o source=$TESTDIR -o cache=always\n\nqemu-system-x86_64 -M pc -cpu host --enable-kvm -smp 2 \\\n  -m 4G -object memory-backend-file,id=mem,size=4G,mem-path=/dev/shm,share=on -numa node,memdev=mem \\\n  -chardev socket,id=char0,path=/tmp/vhostqemu -device vhost-user-fs-pci,queue-size=1024,chardev=char0,tag=myfs \\\n  -chardev stdio,mux=on,id=mon -mon chardev=mon,mode=readline -device virtio-serial-pci -device virtconsole,chardev=mon -vga none -display none \\\n  -drive if=virtio,file=rootfsimage.qcow2\n\nmount -t virtiofs myfs /mnt\n\n# DAX\n#  -device vhost-user-fs-pci,queue-size=1024,chardev=char0,tag=myfs,cache-size=2G\n"})}),"\n",(0,r.jsx)(n.h2,{id:"qemu-420",children:"Qemu 4.2.0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://www.qemu.org/2019/12/13/qemu-4-2-0/",children:"4.2.0"})," - 2019-12-13"]}),"\n",(0,r.jsxs)(n.li,{children:["x86\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["VMX \u53EF\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"-cpu"})," \u542F\u7528\u6216\u505C\u7528"]}),"\n",(0,r.jsx)(n.li,{children:"microvm \u4F7F\u7528 virtio-mmio \u800C\u4E0D\u662F PCI \u4F5C\u4E3A\u6027\u80FD\u57FA\u7EBF\u4F18\u5316"}),"\n",(0,r.jsxs)(n.li,{children:["macOS ",(0,r.jsx)(n.code,{children:"-accel hvf"})," \u7A33\u5B9A"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"qemu-410",children:"Qemu 4.1.0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.qemu.org/2019/08/16/qemu-4-1-0/",children:"https://www.qemu.org/2019/08/16/qemu-4-1-0/"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"qemu-400",children:"Qemu 4.0.0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.qemu.org/2019/04/24/qemu-4-0-0/",children:"https://www.qemu.org/2019/04/24/qemu-4-0-0/"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"qemu-310",children:"Qemu 3.1.0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ARM"}),"\n",(0,r.jsx)(n.li,{children:"qemu-img tool can now generate LUKS-encrypted files through \u2018convert\u2019 command"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.qemu.org/2018/12/12/qemu-3-1-0/",children:"https://www.qemu.org/2018/12/12/qemu-3-1-0/"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"qemu-300",children:"Qemu 3.0.0"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5B8C\u6574\u7684 ARM 7 \u6A21\u62DF"}),"\n",(0,r.jsx)(n.li,{children:"Sparc32"}),"\n",(0,r.jsx)(n.li,{children:"Sparc64"}),"\n",(0,r.jsx)(n.li,{children:"SDL 2"}),"\n",(0,r.jsx)(n.li,{children:"GTK 3"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.qemu.org/2018/08/15/qemu-3-0-0/",children:"https://www.qemu.org/2018/08/15/qemu-3-0-0/"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"qemu-212",children:"Qemu 2.12"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Initial support for Raspberry Pi 3 machine model"}),"\n",(0,r.jsx)(n.li,{children:'Experimental support for two new virtualization accelerators: Apple\'s Hypervisor.framework ("-accel hvf") and Microsoft\'s Windows Hypervisor Platform Extensions ("-accel whpx")'}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-nic"})," \u53D6\u4EE3 ",(0,r.jsx)(n.code,{children:"-net"})," \u53C2\u6570\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-nic user"})," -> ",(0,r.jsx)(n.code,{children:"-net nic -net user"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://wiki.qemu.org/ChangeLog/2.12",children:"ChangeLog/2.12"})}),"\n"]})]})}function u(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},917776:function(e,n,i){i.d(n,{R:()=>c,x:()=>d});var s=i(7378);let r={},l=s.createContext(r);function c(e){let n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);