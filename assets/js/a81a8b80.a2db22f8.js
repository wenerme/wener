"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["15573"],{90383:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>l,toc:()=>a,default:()=>o,metadata:()=>t,assets:()=>c,contentTitle:()=>d});var t=JSON.parse('{"id":"devops/storage/block/iscsi","title":"iSCSI","description":"- ISCSI","source":"@site/../notes/devops/storage/block/iscsi.md","sourceDirName":"devops/storage/block","slug":"/devops/storage/block/iscsi","permalink":"/notes/devops/storage/block/iscsi","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/devops/storage/block/iscsi.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1746498989000,"frontMatter":{"title":"iSCSI"},"sidebar":"docs","previous":{"title":"Fiber Channel","permalink":"/notes/devops/storage/block/fc"},"next":{"title":"LVM","permalink":"/notes/devops/storage/block/lvm"}}'),s=i(86106),r=i(17776);let l={title:"iSCSI"},d="iSCSI",c={},a=[];function h(n){let e={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"iscsi",children:"iSCSI"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/ISCSI",children:"ISCSI"})}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"http://linux-iscsi.org/",children:"linux-iscsi"})," - LIO"]}),"\n",(0,s.jsxs)(e.li,{children:["Archlinux\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/index.php/ISCSI_Initiator",children:"ISCSI Initiator"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["[\u7B80\u4F53\u4E2D\u6587](",(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/index.php/ISCSI",children:"https://wiki.archlinux.org/index.php/ISCSI"})," initiator (\u7B80\u4F53\u4E2D\u6587))"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/index.php/TGT_iSCSI_Target",children:"TGT iSCSI Target"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.alpinelinux.org/wiki/Linux_iSCSI_Target_(TCM)",children:"Linux iSCSI Target (TCM)"})}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://wiki.alpinelinux.org/wiki/High_performance_SCST_iSCSI_Target_on_Linux_software_Raid",children:"High performance SCST iSCSI Target on Linux software Raid"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"SCST deprecated"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"http://stgt.sourceforge.net/",children:"Linux SCSI target framework"})}),"\n",(0,s.jsx)(e.li,{children:"TCM - Target Core module"}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/SCST",children:"https://en.wikipedia.org/wiki/SCST"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://lwn.net/Articles/424004/",children:"A tale of two SCSI targets"})}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/open-iscsi/targetcli-fb",children:"open-iscsi/targetcli-fb"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"A command shell for managing the Linux LIO kernel target"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://pkgs.alpinelinux.org/package/v3.6/community/x86_64/targetcli",children:"https://pkgs.alpinelinux.org/package/v3.6/community/x86_64/targetcli"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://pkgs.alpinelinux.org/package/v3.6/main/x86_64/open-iscsi",children:"https://pkgs.alpinelinux.org/package/v3.6/main/x86_64/open-iscsi"})}),"\n",(0,s.jsx)(e.li,{children:"High performance, transport independent, multi-platform iSCSI initiator"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"port"}),(0,s.jsx)(e.th,{children:"for"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"3260"}),(0,s.jsx)(e.td,{children:"iSCSI"})]})})]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"abbr."}),(0,s.jsx)(e.th,{children:"stand for"}),(0,s.jsx)(e.th,{children:"meaning"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"SCSI"}),(0,s.jsx)(e.td,{children:"Small Computer System Interface"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"iSCSI"}),(0,s.jsx)(e.td,{children:"Internet Small Computer Systems Interface"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"IQN"}),(0,s.jsx)(e.td,{children:"iSCSI Qualified Name"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"LUN"}),(0,s.jsx)(e.td,{children:"Logical Unit Number"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"TCM"}),(0,s.jsx)(e.td,{children:"Target Core Module"}),(0,s.jsx)(e.td,{})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"TGT"}),(0,s.jsx)(e.td,{children:"Target"}),(0,s.jsx)(e.td,{})]})]})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Initiator - \u53D1\u8D77\u7AEF/\u5BA2\u6237\u7AEF"}),"\n",(0,s.jsx)(e.li,{children:"Target - \u76EE\u6807\u7AEF/\u670D\u52A1\u7AEF"}),"\n"]}),"\n",(0,s.jsx)(e.admonition,{type:"caution",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["iSCSI \u4E0D\u652F\u6301\u591A\u4E2A\u8282\u70B9\u5171\u4EAB\u6302\u8F7D - \u56E0\u4E3A\u5E95\u5C42 fs \u4E0D\u652F\u6301\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u4F8B\u5982 ext4, xfs, btrfs, ntfs \u90FD\u662F\u5047\u8BBE\u5355\u4E2A\u64CD\u4F5C\u7CFB\u7EDF\u72EC\u5360\u8BBF\u95EE\u548C\u7BA1\u7406"}),"\n",(0,s.jsx)(e.li,{children:"\u5355\u4E2A\u64CD\u4F5C\u7CFB\u7EDF\u7EF4\u62A4 \u7F13\u5B58\u3001\u5143\u6570\u636E\u3001\u65E5\u5FD7"}),"\n",(0,s.jsx)(e.li,{children:"\u9664\u975E\u4F7F\u7528\u96C6\u7FA4\u6587\u4EF6\u7CFB\u7EDF: GFS2, OCFS2, VMFS"}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"apk add open-iscsi\n\n# iscsiadm -m discovery -t sendtargets -p <target_ip>\n# iscsiadm -m node -T <target_iqn> -p <target_ip> --login\n\niscsiadm -m discovery -t sendtargets -p 192.168.1.100\n# IQN\n# 192.168.1.100:3260,1 iqn.2000-01.com.synology:SYN-NAS.default-target.00000000000\n\nservice iscsid start\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u53D1\u73B0\niscsiadm -m discovery -t sendtargets -p 192.168.1.1\n# \u767B\u9646\niscsiadm --mode node --targetname iqn.2001-05.com.doe:test --portal 192.168.1.1:3260 --login\n"})})]})}function o(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}},17776:function(n,e,i){i.d(e,{R:()=>l,x:()=>d});var t=i(7378);let s={},r=t.createContext(s);function l(n){let e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);