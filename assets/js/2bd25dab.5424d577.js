"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["76400"],{18441:function(n,e,t){t.r(e),t.d(e,{frontMatter:()=>l,toc:()=>c,default:()=>j,metadata:()=>s,assets:()=>h,contentTitle:()=>d});var s=JSON.parse('{"id":"db/relational/postgresql/postgresql-datatype","title":"\u6570\u636E\u7C7B\u578B","description":"|                                 type | alias            | desc                                       |","source":"@site/../notes/db/relational/postgresql/postgresql-datatype.md","sourceDirName":"db/relational/postgresql","slug":"/db/relational/postgresql/datatype","permalink":"/notes/db/relational/postgresql/datatype","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/db/relational/postgresql/postgresql-datatype.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1750997941000,"frontMatter":{"title":"\u6570\u636E\u7C7B\u578B"},"sidebar":"docs","previous":{"title":"PostgreSQL Cookbook","permalink":"/notes/db/relational/postgresql/cookbook"},"next":{"title":"Date","permalink":"/notes/db/relational/postgresql/date"}}'),r=t(86106),i=t(17776);let l={title:"\u6570\u636E\u7C7B\u578B"},d="Postgres \u6570\u636E\u7C7B\u578B",h={},c=[{value:"UUID",id:"uuid",level:2},{value:"OID",id:"oid",level:2},{value:"\u65F6\u95F4\u65E5\u671F",id:"date-time",level:2},{value:"\u4E8C\u8FDB\u5236\u6570\u636E",id:"\u4E8C\u8FDB\u5236\u6570\u636E",level:2},{value:"\u91D1\u989D\u7C7B\u578B",id:"\u91D1\u989D\u7C7B\u578B",level:2},{value:"\u7ECF\u7EAC\u5EA6",id:"\u7ECF\u7EAC\u5EA6",level:2},{value:"ARRAY",id:"array",level:2},{value:"VARCHAR vs TEXT",id:"varchar-vs-text",level:2},{value:"INT vs BIGINT",id:"int-vs-bigint",level:2}];function x(n){let e={a:"a",code:"code",del:"del",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"postgres-\u6570\u636E\u7C7B\u578B",children:"Postgres \u6570\u636E\u7C7B\u578B"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"type"}),(0,r.jsx)(e.th,{children:"alias"}),(0,r.jsx)(e.th,{children:"desc"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"bigint"}),(0,r.jsx)(e.td,{children:"int8"}),(0,r.jsx)(e.td,{children:"\u6709\u7B26\u53F7\u7684\u516B\u5B57\u8282\u6574\u6570"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"bigserial"}),(0,r.jsx)(e.td,{children:"serial8"}),(0,r.jsx)(e.td,{children:"\u81EA\u589E\u7684\u516B\u5B57\u8282\u6574\u6570"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:(0,r.jsx)(e.code,{children:"bit[(n)]"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u56FA\u5B9A\u957F\u5EA6\u7684\u4F4D\u4E32"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:(0,r.jsx)(e.code,{children:"bit varying[(n)]"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"varbit[(n)]"})}),(0,r.jsx)(e.td,{children:"\u53EF\u53D8\u957F\u5EA6\u7684\u4F4D\u4E32"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"boolean"}),(0,r.jsx)(e.td,{children:"bool"}),(0,r.jsx)(e.td,{children:"\u903B\u8F91\u5E03\u5C14\u503C\uFF08\u771F/\u5047\uFF09"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"box"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u5E73\u9762\u4E0A\u7684\u77E9\u5F62\u6846"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"bytea"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u4E8C\u8FDB\u5236\u6570\u636E\uFF08\u201C\u5B57\u8282\u6570\u7EC4\u201D\uFF09"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:(0,r.jsx)(e.code,{children:"character[(n)]"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"char[(n)]"})}),(0,r.jsx)(e.td,{children:"\u56FA\u5B9A\u957F\u5EA6\u7684\u5B57\u7B26\u4E32"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:(0,r.jsx)(e.code,{children:"character varying[(n)]"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"varchar[(n)]"})}),(0,r.jsx)(e.td,{children:"\u53EF\u53D8\u957F\u5EA6\u7684\u5B57\u7B26\u4E32"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"cidr"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"IPv4\u6216IPv6\u7F51\u7EDC\u5730\u5740"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"circle"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u5E73\u9762\u4E0A\u7684\u5706"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"date"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u65E5\u5386\u65E5\u671F\uFF08\u5E74\uFF0C\u6708\uFF0C\u65E5\uFF09"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"double precision"}),(0,r.jsx)(e.td,{children:"float8"}),(0,r.jsx)(e.td,{children:"\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\uFF088\u5B57\u8282\uFF09"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"inet"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"IPv4\u6216IPv6\u4E3B\u673A\u5730\u5740"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"integer"}),(0,r.jsx)(e.td,{children:"int, int4"}),(0,r.jsx)(e.td,{children:"\u6709\u7B26\u53F7\u7684\u56DB\u5B57\u8282\u6574\u6570"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:(0,r.jsx)(e.code,{children:"interval [ fields ][(p)]"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u65F6\u95F4\u8DE8\u5EA6"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"json"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u6587\u672CJSON\u6570\u636E"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"jsonb"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u4E8C\u8FDB\u5236JSON\u6570\u636E\uFF0C\u89E3\u6784\u540E\u7684"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"line"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u5E73\u9762\u4E0A\u7684\u65E0\u9650\u7EBF"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"lseg"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u5E73\u9762\u4E0A\u7684\u7EBF\u6BB5"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"macaddr"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"MAC\uFF08\u5A92\u4F53\u8BBF\u95EE\u63A7\u5236\uFF09\u5730\u5740"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"macaddr8"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"MAC\uFF08\u5A92\u4F53\u8BBF\u95EE\u63A7\u5236\uFF09\u5730\u5740\uFF08EUI-64\u683C\u5F0F\uFF09"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"money"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u8D27\u5E01\u91D1\u989D"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:(0,r.jsx)(e.code,{children:"numeric[(p,s)]"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"decimal[(p,s)]"})}),(0,r.jsx)(e.td,{children:"\u53EF\u9009\u62E9\u7CBE\u5EA6\u7684\u7CBE\u786E\u6570\u5B57"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"path"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u5E73\u9762\u4E0A\u7684\u51E0\u4F55\u8DEF\u5F84"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"pg_lsn"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"PostgreSQL\u65E5\u5FD7\u5E8F\u5217\u53F7"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"pg_snapshot"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u7528\u6237\u7EA7\u4E8B\u52A1ID\u5FEB\u7167"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"point"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u5E73\u9762\u4E0A\u7684\u51E0\u4F55\u70B9"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"polygon"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u5E73\u9762\u4E0A\u7684\u5C01\u95ED\u51E0\u4F55\u8DEF\u5F84"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"real"}),(0,r.jsx)(e.td,{children:"float4"}),(0,r.jsx)(e.td,{children:"\u5355\u7CBE\u5EA6\u6D6E\u70B9\u6570\uFF084\u5B57\u8282\uFF09"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"smallint"}),(0,r.jsx)(e.td,{children:"int2"}),(0,r.jsx)(e.td,{children:"\u6709\u7B26\u53F7\u7684\u4E24\u5B57\u8282\u6574\u6570"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"smallserial"}),(0,r.jsx)(e.td,{children:"serial2"}),(0,r.jsx)(e.td,{children:"\u81EA\u589E\u7684\u4E24\u5B57\u8282\u6574\u6570"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"serial"}),(0,r.jsx)(e.td,{children:"serial4"}),(0,r.jsx)(e.td,{children:"\u81EA\u589E\u7684\u56DB\u5B57\u8282\u6574\u6570"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"text"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u53EF\u53D8\u957F\u5EA6\u7684\u5B57\u7B26\u4E32"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:(0,r.jsx)(e.code,{children:"time[(p)] [without time zone]"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u65F6\u95F4\uFF08\u65E0\u65F6\u533A\uFF09"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:(0,r.jsx)(e.code,{children:"time[(p)] with time zone"})}),(0,r.jsx)(e.td,{children:"timetz"}),(0,r.jsx)(e.td,{children:"\u5305\u542B\u65F6\u533A\u7684\u65F6\u95F4"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:(0,r.jsx)(e.code,{children:"timestamp[(p)] [without time zone]"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u65E5\u671F\u548C\u65F6\u95F4\uFF08\u65E0\u65F6\u533A\uFF09"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:(0,r.jsx)(e.code,{children:"timestamp[(p)] with time zone"})}),(0,r.jsx)(e.td,{children:"timestamptz"}),(0,r.jsx)(e.td,{children:"\u5305\u542B\u65F6\u533A\u7684\u65E5\u671F\u548C\u65F6\u95F4"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"tsquery"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u6587\u672C\u641C\u7D22\u67E5\u8BE2"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"tsvector"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u6587\u672C\u641C\u7D22\u6587\u6863"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:(0,r.jsx)(e.del,{children:"txid_snapshot"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u7528\u6237\u7EA7\u4E8B\u52A1ID\u5FEB\u7167\uFF08\u5DF2\u5F03\u7528\uFF1B\u89C1 pg_snapshot\uFF09"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"uuid"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"\u901A\u7528\u552F\u4E00\u6807\u8BC6\u7B26"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"xml"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"XML\u6570\u636E"})]})]})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- array length\nSELECT array_length(ARRAY[1,2,3], 1);\n-- remove element from array\nSELECT array_remove(ARRAY[1,2,3], 2);\nSELECT array_remove(ARRAY ['A','B','C'], 'B');\n\n-- end of month\nselect to_char(date_trunc('month', '2021-02-27'::date) + interval '1 month - 1 day', 'YYYY-MM-DD');\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.postgresql.org/docs/current/datatype.html",children:"Data Types"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"uuid",children:"UUID"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u539F\u751F\u652F\u6301 ",(0,r.jsx)(e.code,{children:"uuid"})," \u7C7B\u578B - \u5E95\u5C42\u4E3A ",(0,r.jsx)(e.code,{children:"byte[4]"})," - \u6BD4\u5B58\u5B57\u7B26\u4E32\u6548\u7387\u66F4\u9AD8"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"CREATE EXTENSION IF NOT EXISTS pgcrypto;\n-- pg 13 \u540E\u4E0D\u9700\u8981\u6269\u5C55\u4E5F\u80FD\u4F7F\u7528\u8BE5\u51FD\u6570\nSELECT gen_random_uuid();\n"})}),"\n",(0,r.jsx)(e.h2,{id:"oid",children:"OID"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.postgresql.org/docs/current/datatype-oid.html",children:"Object Identifier Types"})}),"\n",(0,r.jsx)(e.li,{children:"regproc"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"date-time",children:"\u65F6\u95F4\u65E5\u671F"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.postgresql.org/docs/current/datatype-datetime.html",children:"Date/Time Types"})}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Name"}),(0,r.jsx)(e.th,{children:"Min"}),(0,r.jsx)(e.th,{children:"Max"}),(0,r.jsx)(e.th,{children:"Resolution"}),(0,r.jsx)(e.th,{children:"Size"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"timestamp"}),(0,r.jsx)(e.td,{children:"4713 BC"}),(0,r.jsx)(e.td,{children:"294276 AD"}),(0,r.jsx)(e.td,{children:"\u5FAE\u79D2"}),(0,r.jsx)(e.td,{children:"8 bytes"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"timestamptz"}),(0,r.jsx)(e.td,{children:"4713 BC"}),(0,r.jsx)(e.td,{children:"294276 AD"}),(0,r.jsx)(e.td,{children:"\u5FAE\u79D2"}),(0,r.jsx)(e.td,{children:"8 bytes"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"date"}),(0,r.jsx)(e.td,{children:"4713 BC"}),(0,r.jsx)(e.td,{children:"5874897 AD"}),(0,r.jsx)(e.td,{children:"\u5929"}),(0,r.jsx)(e.td,{children:"4 bytes"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"time"}),(0,r.jsx)(e.td,{children:"00:00:00"}),(0,r.jsx)(e.td,{children:"24:00:00"}),(0,r.jsx)(e.td,{children:"\u5FAE\u79D2"}),(0,r.jsx)(e.td,{children:"8 bytes"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"timetz"}),(0,r.jsx)(e.td,{children:"00:00:00+1459"}),(0,r.jsx)(e.td,{children:"24:00:00-1459"}),(0,r.jsx)(e.td,{children:"\u5FAE\u79D2"}),(0,r.jsx)(e.td,{children:"12 bytes"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"interval"}),(0,r.jsx)(e.td,{children:"-178000000 years"}),(0,r.jsx)(e.td,{children:"178000000 years"}),(0,r.jsx)(e.td,{children:"\u5FAE\u79D2"}),(0,r.jsx)(e.td,{children:"16 bytes"})]})]})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["interval\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"interval '1 month - 1 day'"})," \u7B49\u4EF7 ",(0,r.jsx)(e.code,{children:"interval '1 month' - interval '1 day'"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- \u65F6\u533A\u7F29\u5199\nselect * from pg_timezone_abbrevs;\n-- \u65F6\u533A\u540D\u5B57\nselect * from pg_timezone_names;\n\n-- unix timestamp -> timestamp\nselect to_timestamp(1633072800);\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-c",children:"/*\n * \u8868\u793A\u62C6\u5206\u540E\u7684 interval\uFF08\u65F6\u95F4\u95F4\u9694\uFF09\u7684\u6570\u636E\u7ED3\u6784\u3002\n *\n * \u51FA\u4E8E\u5386\u53F2\u539F\u56E0\uFF0C\u8BE5\u7ED3\u6784\u4F53\u7684\u8BBE\u8BA1\u53C2\u8003\u4E86\u7528\u4E8E\u65F6\u95F4\u6233\u7684 struct pg_tm\u3002\n * \u4E0E\u65F6\u95F4\u6233\u4E0D\u540C\uFF0Cinterval \u7684\u6708\u548C\u5E74\u5B57\u6BB5\u6CA1\u6709\u7279\u6B8A\u542B\u4E49\uFF1A\u4EC5\u4E3A\u96F6\u6216\u975E\u96F6\u3002\n * \u6CE8\u610F\u5404\u5B57\u6BB5\u53EF\u80FD\u4E3A\u8D1F\u6570\uFF1B\u4F46\u7531\u4E8E\u4ECE struct Interval \u8F6C\u6362\u65F6\u7684\u9664\u6CD5\u8FD0\u7B97\uFF0C\n * \u53EA\u6709 tm_mday \u53EF\u80FD\u4E3A INT_MIN\u3002\u8FD9\u4E00\u70B9\u5F88\u91CD\u8981\uFF0C\u56E0\u4E3A\u67D0\u4E9B\u4EE3\u7801\u8DEF\u5F84\u4E0B\n * \u53EF\u80FD\u9700\u8981\u5BF9\u8FD9\u4E9B\u503C\u53D6\u76F8\u53CD\u6570\u3002\n */\nstruct pg_itm\n{\n  int			tm_usec;   // \u5FAE\u79D2\n  int			tm_sec;    // \u79D2\n  int			tm_min;    // \u5206\u949F\n  int64		tm_hour;   // \u5C0F\u65F6\uFF08\u9700\u8981\u8F83\u5BBD\u7684\u6570\u636E\u7C7B\u578B\uFF09\n  int			tm_mday;   // \u5929\n  int			tm_mon;    // \u6708\n  int			tm_year;   // \u5E74\n};\n\ntypedef int64 Timestamp;\ntypedef int64 TimestampTz;\ntypedef int64 TimeOffset;\n\n/*\n * interval \u7C7B\u578B\u7684\u5B58\u50A8\u7ED3\u6784\u4F53\u3002\n *\n * time \u5B57\u6BB5\u5B58\u50A8\u9664\u5929\u3001\u6708\u3001\u5E74\u4EE5\u5916\u7684\u6240\u6709\u65F6\u95F4\u5355\u4F4D\uFF08\u5982\u79D2\u3001\u5FAE\u79D2\u7B49\uFF09\u3002\n * day \u5B57\u6BB5\u5B58\u50A8\u5929\u6570\uFF0C\u653E\u5728 time \u5B57\u6BB5\u4E4B\u540E\u4EE5\u4FDD\u8BC1\u5185\u5B58\u5BF9\u9F50\u3002\n * month \u5B57\u6BB5\u5B58\u50A8\u6708\u548C\u5E74\uFF0C\u540C\u6837\u653E\u5728 time \u5B57\u6BB5\u4E4B\u540E\u4EE5\u4FDD\u8BC1\u5BF9\u9F50\u3002\n */\ntypedef struct\n{\n  TimeOffset	time;	/* \u9664\u5929\u3001\u6708\u3001\u5E74\u4EE5\u5916\u7684\u6240\u6709\u65F6\u95F4\u5355\u4F4D */\n  int32		day;	/* \u5929\u6570\uFF0C\u7D27\u8DDF\u5728 time \u540E\u9762\u4EE5\u4FDD\u8BC1\u5BF9\u9F50 */\n  int32		month;	/* \u6708\u548C\u5E74\uFF0C\u7D27\u8DDF\u5728 time \u540E\u9762\u4EE5\u4FDD\u8BC1\u5BF9\u9F50 */\n} Interval;\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/postgres/postgres/blob/master/src/include/datatype/timestamp.h",children:"https://github.com/postgres/postgres/blob/master/src/include/datatype/timestamp.h"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u4E8C\u8FDB\u5236\u6570\u636E",children:"\u4E8C\u8FDB\u5236\u6570\u636E"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://wiki.postgresql.org/wiki/BinaryFilesInDB",children:"BinaryFilesInDB"})}),"\n",(0,r.jsx)(e.li,{children:"\u4F7F\u7528 bytea \u6216 text\uFF0C\u90FD\u4F7F\u7528 toast"}),"\n",(0,r.jsx)(e.li,{children:"\u5355\u8BB0\u5F55\u6700\u5927 1G"}),"\n",(0,r.jsx)(e.li,{children:"\u6BCF\u4E2A\u8868\u6700\u591A 40 \u4EBF > 2KB \u7684\u8BB0\u5F55"}),"\n",(0,r.jsx)(e.li,{children:"\u5728\u8BFB\u5199\u65F6\u53EF\u80FD\u9700\u8981\u7F16\u7801\u89E3\u7801"}),"\n",(0,r.jsx)(e.li,{children:"\u5BF9\u5185\u5B58\u8981\u6C42\u8F83\u9AD8\uFF0C\u5373\u4FBF\u6570\u636E\u91CF\u8F83\u5C11"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u91D1\u989D\u7C7B\u578B",children:"\u91D1\u989D\u7C7B\u578B"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5927\u90E8\u5206\u60C5\u51B5\u4F1A\u4F7F\u7528 ",(0,r.jsx)(e.code,{children:"decimal(12,2)"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"decimal"})," \u662F ",(0,r.jsx)(e.code,{children:"numeric"})," \u7684\u522B\u540D"]}),"\n",(0,r.jsxs)(e.li,{children:["\u4E5F\u53EF\u4EE5\u8003\u8651\u76F4\u63A5\u4F7F\u7528 ",(0,r.jsx)(e.code,{children:"integer"})," \u6765\u5B58\u5206"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://www.postgresql.org/docs/current/static/datatype-money.html",children:"money"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u529F\u80FD\u6709\u9650"}),"\n",(0,r.jsxs)(e.li,{children:["\u6BD4 ",(0,r.jsx)(e.code,{children:"numeric"})," \u6027\u80FD\u66F4\u597D"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5386\u53F2\u9057\u7559 - ",(0,r.jsx)(e.strong,{children:"\u4E0D\u8981\u4F7F\u7528"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://stackoverflow.com/q/15726535/1870054",children:"PostgreSQL: Which Datatype should be used for Currency?"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.postgresql.org/docs/current/static/datatype-numeric.html",children:"\u6570\u5B57\u7C7B\u578B"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u7ECF\u7EAC\u5EA6",children:"\u7ECF\u7EAC\u5EA6"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"float8 \u5B58\u50A8\u5355\u5B57\u6BB5"}),"\n",(0,r.jsx)(e.li,{children:"point \u5B58\u50A8\u4E24\u4E2A\u5B57\u6BB5"}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679C\u4F7F\u7528\u4E86 PostGIS \u5219\u7528 geometry \u6216 geography \u7C7B\u578B"}),"\n",(0,r.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://stackoverflow.com/a/8150944/1870054",children:"Which data type for latitude and longitude?"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"array",children:"ARRAY"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.postgresql.org/docs/current/functions-array.html",children:"https://www.postgresql.org/docs/current/functions-array.html"})}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"CREATE TABLE test (\n    id serial PRIMARY KEY,\n    tags text[]\n);\n\n-- filter array[]\nSELECT * FROM test WHERE 'tag' = ANY(tags);\nSELECT * FROM test WHERE tags @> ARRAY['tag1', 'tag2'];\n-- array to string\nSELECT array_to_string('{1,2}'::text[], ',', '');\n\nselect array[1,2,3];\n"})}),"\n",(0,r.jsx)(e.h1,{id:"faq",children:"FAQ"}),"\n",(0,r.jsx)(e.h2,{id:"varchar-vs-text",children:"VARCHAR vs TEXT"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5B58\u50A8\u5B8C\u5168\u76F8\u540C"}),"\n",(0,r.jsx)(e.li,{children:"\u53EA\u662F VARCHAR \u4F1A\u505A\u957F\u5EA6\u9A8C\u8BC1"}),"\n",(0,r.jsx)(e.li,{children:"\u5EFA\u8BAE\u90FD\u4F7F\u7528 TEXT, \u5728\u5E94\u7528\u5C42\u505A\u9650\u5236"}),"\n",(0,r.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://stackoverflow.com/a/4849030/1870054",children:"PostgreSQL: Difference between text and varchar (character varying)"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"int-vs-bigint",children:"INT vs BIGINT"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728 64 \u4F4D\u7684\u670D\u52A1\u5668\u4E0A, \u4E24\u8005\u5360\u7528\u7684\u7A7A\u95F4\u76F8\u540C"}),"\n",(0,r.jsx)(e.li,{children:"\u56E0\u6B64\u5EFA\u8BAE\u4F7F\u7528 bigint"}),"\n"]})]})}function j(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(x,{...n})}):x(n)}},17776:function(n,e,t){t.d(e,{R:()=>l,x:()=>d});var s=t(7378);let r={},i=s.createContext(r);function l(n){let e=s.useContext(i);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);