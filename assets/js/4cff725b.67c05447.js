"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["4075"],{41424:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>l,toc:()=>a,default:()=>h,metadata:()=>t,assets:()=>c,contentTitle:()=>d});var t=JSON.parse('{"id":"web/framework/single-spa-inside","title":"inside single-spa","description":"- app \u9ED8\u8BA4\u6302\u8F7D\u8282\u70B9","source":"@site/../notes/web/framework/single-spa-inside.md","sourceDirName":"web/framework","slug":"/web/framework/single-spa-inside","permalink":"/notes/web/framework/single-spa-inside","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/framework/single-spa-inside.md","tags":[{"inline":true,"label":"Insight","permalink":"/notes/tags/insight"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1666003394000,"frontMatter":{"title":"inside single-spa","tags":["Insight"]},"sidebar":"docs","previous":{"title":"Riot","permalink":"/notes/web/framework/riot"},"next":{"title":"Single SPA","permalink":"/notes/web/framework/single-spa"}}'),i=s(86106),r=s(17776);let l={title:"inside single-spa",tags:["Insight"]},d="\u751F\u547D\u5468\u671F",c={},a=[];function o(n){let e={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"\u751F\u547D\u5468\u671F",children:"\u751F\u547D\u5468\u671F"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["app \u9ED8\u8BA4\u6302\u8F7D\u8282\u70B9\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"single-spa-application:${appName}"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\u5E94\u7528 \u751F\u547D\u5468\u671F\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"load - js \u6267\u884C\u65F6"}),"\n",(0,i.jsx)(e.li,{children:"bootstrap"}),"\n",(0,i.jsx)(e.li,{children:"mount"}),"\n",(0,i.jsx)(e.li,{children:"unmount"}),"\n",(0,i.jsx)(e.li,{children:"update"}),"\n",(0,i.jsxs)(e.li,{children:["unload\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u8C03\u7528 unloadApplication \u65F6\u53D1\u751F"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.admonition,{type:"tip",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"single-spa \u4E0D\u89E3\u51B3 \u6258\u7BA1\u3001\u6784\u5EFA\u3001\u90E8\u7F72 \u95EE\u9898"}),"\n",(0,i.jsx)(e.li,{children:"\u4F18\u5148\u4F7F\u7528\u6846\u67B6\u7EC4\u4EF6 \uFF08\u4F8B\u5982\uFF1A React, Vue, Angular \u7EC4\u4EF6\uFF09 \u800C\u4E0D\u662F single-spa parcels"}),"\n"]})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"singleSpa.registerApplication({\n  name: 'myApp',\n  app: () => import('src/myApp/main.js'),\n  activeWhen: ['/myApp', (location) => location.pathname.startsWith('/some/other/path')],\n  customProps: (name, location) => ({\n    some: 'value',\n  }),\n});\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"function bootstrap(props) {\n  const {\n    name, // The name of the application\n    singleSpa, // The singleSpa instance\n    mountParcel, // Function for manually mounting\n    customProps, // Additional custom information\n  } = props; // Props are given to every lifecycle\n  return Promise.resolve();\n}\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u89E6\u53D1\u65F6\u673A\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"hashchange, popstate \u4E8B\u4EF6"}),"\n",(0,i.jsx)(e.li,{children:"pushState, replaceState"}),"\n",(0,i.jsx)(e.li,{children:"triggerAppChange"}),"\n",(0,i.jsx)(e.li,{children:"checkActivityFunctions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u5E94\u7528\u72B6\u6001"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"state"}),(0,i.jsx)(e.th,{children:"for"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"NOT_LOADED"}),(0,i.jsx)(e.td,{children:"\u8FD8\u672A\u52A0\u8F7D"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"LOADING_SOURCE_CODE"}),(0,i.jsx)(e.td,{children:"\u52A0\u8F7D\u6E90\u7801"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"NOT_BOOTSTRAPPED"}),(0,i.jsx)(e.td,{children:"\u5DF2\u52A0\u8F7D\u6E90\u7801\uFF0C\u672A\u542F\u52A8"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"BOOTSTRAPPING"}),(0,i.jsx)(e.td,{children:"\u542F\u52A8\u4E2D"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"NOT_MOUNTED"}),(0,i.jsx)(e.td,{children:"\u542F\u52A8\uFF0C\u672A\u6302\u8F7D"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"MOUNTING"}),(0,i.jsx)(e.td,{children:"\u6302\u8F7D\u4E2D"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"MOUNTED"}),(0,i.jsx)(e.td,{children:"\u5DF2\u6302\u8F7D"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"UPDATING"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"UNMOUNTING"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"UNLOADING"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"LOAD_ERROR"}),(0,i.jsx)(e.td,{children:"\u6E90\u7801\u52A0\u8F7D\u5931\u8D25"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"SKIP_BECAUSE_BROKEN"}),(0,i.jsx)(e.td,{children:"load,bootstrap,mount,unmount \u5F02\u5E38"})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/single-spa/single-spa/blob/80682e10ec929644d7a50280ea0d43675d31ee56/src/applications/app.helpers.js#L4-L15",children:"src/applications/app.helpers.js#L4-L15"})}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}},17776:function(n,e,s){s.d(e,{R:()=>l,x:()=>d});var t=s(7378);let i={},r=t.createContext(i);function l(n){let e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);