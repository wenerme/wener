"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["54855"],{43054:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>r,toc:()=>o,default:()=>a,metadata:()=>t,assets:()=>h,contentTitle:()=>l});var t=JSON.parse('{"id":"devops/storage/network/syncthing","title":"Syncthing","description":"- syncthing/syncthing","source":"@site/../notes/devops/storage/network/syncthing.md","sourceDirName":"devops/storage/network","slug":"/devops/storage/network/syncthing","permalink":"/notes/devops/storage/network/syncthing","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/devops/storage/network/syncthing.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1756690027000,"frontMatter":{"title":"Syncthing"},"sidebar":"docs","previous":{"title":"SSHFS","permalink":"/notes/devops/storage/network/sshfs"},"next":{"title":"\u5B58\u50A8\u76F8\u5173\u540D\u8BCD","permalink":"/notes/devops/storage/glossary"}}'),i=s(86106),c=s(17776);let r={title:"Syncthing"},l="Syncthing",h={},o=[{value:"\u914D\u7F6E",id:"configuration",level:2}];function d(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,c.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"syncthing",children:"Syncthing"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/syncthing/syncthing",children:"syncthing/syncthing"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"MLP-2.0, Go"}),"\n",(0,i.jsx)(e.li,{children:"Continuous File Synchronization"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.syncthing.net/users/syncthing.html",children:"https://docs.syncthing.net/users/syncthing.html"})}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/MobiusSync/syncthing",children:"MobiusSync/syncthing"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"iOS"}),"\n",(0,i.jsx)(e.li,{children:"free 20MB - \u610F\u4E49\u4E0D\u5927"}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://apps.apple.com/us/app/m%C3%B6bius-sync/id1539203216",children:"https://apps.apple.com/us/app/m%C3%B6bius-sync/id1539203216"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://www.mobiussync.com/faq/",children:"https://www.mobiussync.com/faq/"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Ports\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"8384: Web UI"}),"\n",(0,i.jsx)(e.li,{children:"22000: TCP file transfers"}),"\n",(0,i.jsx)(e.li,{children:"22000: QUIC file transfers"}),"\n",(0,i.jsx)(e.li,{children:"21027: Receive local discovery broadcasts"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"brew install syncthing # macOS brew\n\nST_HOME=$PWD/syncthing\nsyncthing -generate=$ST_HOME\nsyncthing -home=$ST_HOME -paths\nsyncthing -home=$ST_HOME -logfile=$ST_HOME/syncthing.log\n\n# \u53EF\u4EE5\u8003\u8651 --network=host\n# http://localhost:8384/\ndocker run --rm -it \\\n  -p 8384:8384 \\\n  -p 22000:22000/tcp \\\n  -p 22000:22000/udp \\\n  -p 21027:21027/udp \\\n  -v $PWD/syncthing:/var/syncthing \\\n  --hostname=my-syncthing \\\n  --name syncthing syncthing/syncthing:latest\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",metastring:'title="docker-compose.yml"',children:"---\nversion: '3'\nservices:\n  syncthing:\n    image: syncthing/syncthing\n    container_name: syncthing\n    hostname: my-syncthing\n    environment:\n      - PUID=1000\n      - PGID=1000\n    volumes:\n      - ./syncthing:/var/syncthing\n    network_mode: host\n    restart: unless-stopped\n    healthcheck:\n      test: curl -fkLsS -m 2 127.0.0.1:8384/rest/noauth/health | grep -o --color=never OK || exit 1\n      interval: 1m\n      timeout: 10s\n      retries: 3\n"})}),"\n",(0,i.jsx)(e.h2,{id:"configuration",children:"\u914D\u7F6E"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u4F4D\u7F6E\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"$XDG_STATE_HOME/syncthing"}),"\n",(0,i.jsx)(e.li,{children:"$HOME/.local/state/syncthing"}),"\n",(0,i.jsx)(e.li,{children:"$HOME/Library/Application Support/Syncthing"}),"\n",(0,i.jsx)(e.li,{children:"%LOCALAPPDATA%\\Syncthing"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\u914D\u7F6E\u6587\u4EF6\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"config.xml"}),"\n",(0,i.jsx)(e.li,{children:"cert.pem, key.pem"}),"\n",(0,i.jsx)(e.li,{children:"https-cert.pem, https-key.pem"}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"index-*"})}),"\n",(0,i.jsx)(e.li,{children:"syncthing.log"}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"audit-*.log"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.code,{children:"panic-*.log"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-xml",children:'<configuration version="37">\n  <folder></folder>\n  <device></device>\n  <gui></gui>\n  <ldap></ldap>\n  <options></options>\n  <remoteIgnoredDevice></remoteIgnoredDevice>\n  <defaults></defaults>\n</configuration>\n'})})]})}function a(n={}){let{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},17776:function(n,e,s){s.d(e,{R:()=>r,x:()=>l});var t=s(7378);let i={},c=t.createContext(i);function r(n){let e=t.useContext(c);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),t.createElement(c.Provider,{value:e},n.children)}}}]);