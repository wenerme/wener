"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["152261"],{882696:function(n,e,t){t.r(e),t.d(e,{frontMatter:()=>l,toc:()=>o,default:()=>h,metadata:()=>i,assets:()=>a,contentTitle:()=>c});var i=JSON.parse('{"id":"os/archlinux/README","title":"ArchLinux","description":"Tips","source":"@site/../notes/os/archlinux/README.md","sourceDirName":"os/archlinux","slug":"/os/archlinux/","permalink":"/notes/os/archlinux/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/os/archlinux/README.md","tags":[{"inline":true,"label":"OS","permalink":"/notes/tags/os"},{"inline":true,"label":"ArchLinux","permalink":"/notes/tags/arch-linux"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"ArchLinux","tags":["OS","ArchLinux"]},"sidebar":"docs","previous":{"title":"Android x86","permalink":"/notes/os/android/x86"},"next":{"title":"BSD","permalink":"/notes/os/bsd/"}}'),s=t(486106),r=t(917776);let l={title:"ArchLinux",tags:["OS","ArchLinux"]},c="ArchLinux",a={},o=[{value:"Tips",id:"tips",level:2},{value:"Installation Steps",id:"installation-steps",level:2},{value:"Mirror Configuration",id:"mirror-configuration",level:3}];function d(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"archlinux",children:"ArchLinux"})}),"\n",(0,s.jsx)(e.h2,{id:"tips",children:"Tips"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u6838\u5FC3\u7EC4\u4EF6\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/index.php/GRUB",children:"grub"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/index.php/pacman",children:"pacman"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/index.php/systemd",children:"systemd"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/index.php/netctl",children:"netctl"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/index.php/installation_guide",children:"Installation Guide"})}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://www.archlinux.org/news/deprecation-of-net-tools/",children:"Deprecation of net-tools"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u6CA1\u6709 ",(0,s.jsx)(e.code,{children:"ifconfig"}),", \u7528 ",(0,s.jsx)(e.code,{children:"ip addr"})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"iproute2"})," replaces ",(0,s.jsx)(e.code,{children:"net-tools"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/index.php/init",children:"init"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/index.php/Systemd",children:"Systemd"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/index.php/Netctl",children:"Netctl"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://wiki.archlinux.org/index.php/arch_compared_to_other_distributions",children:"Arch compared to other distributions"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"systemctl status\nsystemctl list-units # = systemctl\nsystemctl --failed\n# /usr/lib/systemd/system/ \u548C /etc/systemd/system/\nsystemctl list-unit-files\nsystemctl start unit\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"qemu-img create arch.qcow2 -f qcow2 6g\nqemu-system-x86_64 -m 2g -smp 4 -cdrom archlinux-2018.07.01-x86_64.iso -hda arch.qcow2 -nic user,hostfwd=tcp::2222-:22\n"})}),"\n",(0,s.jsx)(e.h2,{id:"installation-steps",children:"Installation Steps"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# /dev/sda1 /boot 100m\n# /dev/sda2 /\nfdisk /dev/sda\n\nmkfs.ext4 /dev/sda1\nmkfs.ext4 /dev/sda2\n\n# \u6302\u8F7D\u8BBE\u5907\nmount /dev/sda2 /mnt\nmkdir /mnt/boot\nmount /dev/sda1 /mnt/boot\n\n# \u5B89\u88C5\u57FA\u7840\u7CFB\u7EDF\npacstrap /mnt base\n# \u751F\u6210 fstab\ngenfstab -U /mnt >> /mnt/etc/fstab\n\n# \u52A0\u5165\u65B0\u7684 rootfs \u8FDB\u884C\u914D\u7F6E\narch-chroot /mnt\n\n# \u8BBE\u7F6E\u65F6\u533A\nln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n# \u751F\u6210 /etc/adjtime\nhwclock --systohc\n# \u5982\u679C\u9700\u8981\u6DFB\u52A0\u65B0\u7684 locale\n# nano /etc/locale.gen\n\n# \u5982\u679C\u4FEE\u6539\u4E86 mkinitcpio.conf\n# mkinitcpio -p linux\n\n# \u5B89\u88C5 grub \u5F15\u5BFC\u7A0B\u5E8F\npacman -S grub\n# \u5982\u679C\u60F3\u8981\u4F7F\u7528 eth0 \u8FD9\u6837\u7684\u7F51\u7EDC\u8BBE\u5907\u540D\u800C\u4E0D\u662F enps0 \u8FD9\u6837\u7684\n# \u53EF\u4EE5\u5148\u5728 /dev/default/grub \u91CC\u6DFB\u52A0\u5185\u6838\u53C2\u6570 net.ifnames=0\ngrub-mkconfig -o /boot/grub/grub.cfg\ngrub-install /dev/sda\n\n# \u8BBE\u7F6E\u5BC6\u7801\npasswd\n\nexit\numount -R /mnt\nreboot\n"})}),"\n",(0,s.jsx)(e.h3,{id:"mirror-configuration",children:"Mirror Configuration"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"mv /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.backup\necho 'Server = http://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch' > /etc/pacman.d/mirrorlist\n"})})]})}function h(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},917776:function(n,e,t){t.d(e,{R:()=>l,x:()=>c});var i=t(7378);let s={},r=i.createContext(s);function l(n){let e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);