"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["428951"],{994190:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>r,toc:()=>a,default:()=>d,metadata:()=>t,assets:()=>o,contentTitle:()=>c});var t=JSON.parse('{"id":"security/tls/README","title":"TLS","description":"- Cipher suite","source":"@site/../notes/security/tls/README.md","sourceDirName":"security/tls","slug":"/security/tls/","permalink":"/notes/security/tls/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/security/tls/README.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1736623457000,"frontMatter":{"title":"TLS"},"sidebar":"docs","previous":{"title":"ssh-audit","permalink":"/notes/security/ssh-audit"},"next":{"title":"ECH","permalink":"/notes/security/tls/ech"}}'),i=s(486106),l=s(917776);let r={title:"TLS"},c="TLS",o={},a=[{value:"implementations",id:"implementations",level:2},{value:"OCSP",id:"ocsp",level:2},{value:"ocsp stapling",id:"ocsp-stapling",level:2}];function p(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"tls",children:"TLS"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Cipher_suite",children:"Cipher suite"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"TLS 1.3 AEAD"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["HTTPS quality\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.ssllabs.com/ssltest/viewMyClient.html",children:"https://www.ssllabs.com/ssltest/viewMyClient.html"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.howsmyssl.com/",children:"https://www.howsmyssl.com/"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://badssl.com/",children:"https://badssl.com/"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://subtls.pages.dev/",children:"https://subtls.pages.dev/"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"implementations",children:"implementations"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Comparison_of_TLS_implementations",children:"Comparison of TLS implementations"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"ocsp",children:"OCSP"}),"\n",(0,i.jsx)(n.p,{children:"OCSP\u662FOnline Certificate Status Protocol\u7684\u7F29\u5199\uFF0C\u5373\u5728\u7EBF\u8BC1\u4E66\u72B6\u6001\u534F\u8BAE\u3002\u5B83\u662F\u4E00\u79CD\u7528\u4E8E\u9A8C\u8BC1\u6570\u5B57\u8BC1\u4E66\u662F\u5426\u6709\u6548\u7684\u534F\u8BAE\uFF0C\u53EF\u4EE5\u68C0\u67E5\u8BC1\u4E66\u662F\u5426\u88AB\u540A\u9500\u6216\u8FC7\u671F\u3002\u5F53\u5BA2\u6237\u7AEF\u4E0E\u670D\u52A1\u5668\u5EFA\u7ACBTLS/SSL\u8FDE\u63A5\u65F6\uFF0C\u5BA2\u6237\u7AEF\u4F1A\u5411\u8BC1\u4E66\u9881\u53D1\u673A\u6784\uFF08CA\uFF09\u7684OCSP\u670D\u52A1\u5668\u53D1\u9001\u8BF7\u6C42\uFF0C\u4EE5\u83B7\u53D6\u8BC1\u4E66\u7684\u72B6\u6001\u4FE1\u606F\u3002\u5982\u679C\u8BC1\u4E66\u88AB\u540A\u9500\u6216\u8FC7\u671F\uFF0C\u5BA2\u6237\u7AEF\u5C06\u4F1A\u6536\u5230\u4E00\u4E2A\u65E0\u6548\u7684\u8BC1\u4E66\u8B66\u544A\uFF0C\u4ECE\u800C\u4FDD\u62A4\u7528\u6237\u7684\u5B89\u5168\u3002OCSP\u534F\u8BAE\u53EF\u4EE5\u63D0\u9AD8\u8BC1\u4E66\u9A8C\u8BC1\u7684\u6548\u7387\u548C\u5B89\u5168\u6027\uFF0C\u907F\u514D\u4E86\u5BA2\u6237\u7AEF\u9700\u8981\u4E0B\u8F7D\u6574\u4E2A\u8BC1\u4E66\u64A4\u9500\u5217\u8868\uFF08CRL\uFF09\u7684\u95EE\u9898\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# server certificate\nopenssl s_client -servername wener.me -connect wener.me:443 < /dev/null 2>&1 |  sed -n '/-----BEGIN/,/-----END/p' > certificate.pem\n# intermediate certificate\nopenssl s_client -showcerts -servername wener.me -connect wener.me:443 < /dev/null 2>&1 |  sed -n '/-----BEGIN/,/-----END/p' > chain.pem\n# \u53BB\u6389\u7B2C\u4E00\u4E2A server cert\nnano chain.pem\n\n# http://e1.o.lencr.org\n# http://r3.o.lencr.org\n# ocsp.digicert.cn \u767E\u5EA6\nopenssl x509 -noout -ocsp_uri -in certificate.pem\nOCSP_URL=$(openssl x509 -noout -ocsp_uri -in certificate.pem)\n\nopenssl x509 -text -noout -in certificate.pem\n\nopenssl ocsp -issuer chain.pem -cert certificate.pem -text -url $OCSP_URL\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://akshayranganath.github.io/OCSP-Validation-With-Openssl/",children:"https://akshayranganath.github.io/OCSP-Validation-With-Openssl/"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ocsp-lb.apple.com.akadns.net\nocsp-cn-lb.apple.com.akadns.net\nocsp.apple.com.cdn20.com\nocsp.g.aaplimg.com\nocsp.apple.com\nocsp.digicert.com\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ocsp.apple.com.download.ks-cdn.com\nk128-mzstatic.gslb.ksyuncdn.com\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ocsp-stapling",children:"ocsp stapling"}),"\n",(0,i.jsx)(n.p,{children:"OCSP Stapling\uFF08\u4E5F\u79F0\u4E3ATLS Stapling\uFF09\u662F\u4E00\u79CDTLS/SSL\u534F\u8BAE\u7684\u4F18\u5316\u6280\u672F\uFF0C\u5B83\u53EF\u4EE5\u51CF\u5C11\u5BA2\u6237\u7AEF\u4E0E\u8BC1\u4E66\u9881\u53D1\u673A\u6784\uFF08CA\uFF09\u670D\u52A1\u5668\u4E4B\u95F4\u7684\u901A\u4FE1\u6B21\u6570\uFF0C\u63D0\u9AD8\u7F51\u7AD9\u7684\u6027\u80FD\u548C\u5B89\u5168\u6027\u3002"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["HAProxy 2.8\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u652F\u6301\u8BBE\u7F6E ocsp-update on"}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},917776:function(e,n,s){s.d(n,{R:()=>r,x:()=>c});var t=s(7378);let i={},l=t.createContext(i);function r(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);