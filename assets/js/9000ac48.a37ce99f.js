"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["40649"],{72174:function(e,n,l){l.r(n),l.d(n,{frontMatter:()=>r,toc:()=>a,default:()=>h,metadata:()=>o,assets:()=>c,contentTitle:()=>t});var o=JSON.parse('{"id":"service/document/collabora","title":"Collabora Online","description":"- \u670D\u52A1\u7AEF\u8FD0\u884C Libreoffice","source":"@site/../notes/service/document/collabora.md","sourceDirName":"service/document","slug":"/service/document/collabora","permalink":"/notes/service/document/collabora","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/document/collabora.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1712816934000,"frontMatter":{"title":"Collabora Online"},"sidebar":"docs","previous":{"title":"ag-grid","permalink":"/notes/service/document/ag-grid"},"next":{"title":"Document Awesome","permalink":"/notes/service/document/awesome"}}'),i=l(86106),s=l(17776);let r={title:"Collabora Online"},t="Collabora Online",c={},a=[{value:"CODE",id:"code",level:2},{value:"Docker",id:"docker",level:2},{value:"coolmount: Operation not permitted",id:"coolmount-operation-not-permitted",level:2},{value:"Explore The New Version",id:"explore-the-new-version",level:2},{value:"Your Collabora Online server needs updating",id:"your-collabora-online-server-needs-updating",level:2}];function d(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"collabora-online",children:"Collabora Online"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u670D\u52A1\u7AEF\u8FD0\u884C Libreoffice"}),"\n",(0,i.jsx)(n.li,{children:"\u754C\u9762\u6E32\u67D3\u5230\u6D4F\u89C8\u5668\u5BA2\u6237\u7AEF"}),"\n",(0,i.jsx)(n.li,{children:"\u6D4F\u89C8\u5668\u5904\u7406\u83DC\u5355\u3001\u5149\u6807\u3001\u6587\u672C\u9009\u62E9\u7B49"}),"\n",(0,i.jsx)(n.li,{children:"\u5F39\u51FA\u83DC\u5355\u548C\u4FA7\u8FB9\u680F\u4E5F\u662F\u7531\u670D\u52A1\u7AEF\u6E32\u67D3"}),"\n",(0,i.jsxs)(n.li,{children:["Collabora Online CODE \u5B9E\u73B0\u57FA\u4E8E LibreOffice Online LOOL (LOOLWSD)\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"20 \u4EBA\u9650\u5236\uFF0C\u53EF\u81EA\u5DF1\u7F16\u8BD1\u53D6\u6D88\u9650\u5236"}),"\n",(0,i.jsx)(n.li,{children:"\u4E24\u8005\u533A\u522B\u5E76\u4E0D\u5927"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://hub.docker.com/r/libreoffice/online",children:"libreoffice/online"})," \u955C\u50CF"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"Collabora Online Development Edition (CODE)"}),"\n",(0,i.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://sdk.collaboraonline.com/contents.html",children:"https://sdk.collaboraonline.com/contents.html"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# https://www.collaboraoffice.com/code/docker/\n# \u7BA1\u7406\n# http://collabora.localhost/loleaflet/dist/admin/admin.html\n# -v $PWD/loolwsd.xml:/etc/loolwsd/loolwsd.xml\n# -e "extra_params=--o:ssl.enable=false" \u4E0D\u542F\u7528 ssl\n# \u652F\u6301\u591A\u4E2A\u57DF\u540D \'domain=collaboradomain\\\\.tld|nextclouddomain\\\\.tld\'\n# \u57DF\u540D\u4E3A nextcloud \u7684\u57DF\u540D - \u8BBF\u95EE\u8005\u7684\u57DF\u540D\n# \u542F\u52A8\u6BD4\u8F83\u6162 - \u4F1A link \u5F88\u591A\u8D44\u6E90\ndocker run --rm -it \\\n  -p 9980:9980 \\\n  -e "domain=collabora.localhost" \\\n  -e "username=admin" -e "password=S3cRet" \\\n  -e "extra_params=--o:ssl.enable=false --o:allowed_languages=zh_CN" \\\n  --cap-add MKNO \\\n  -e \'dictionaries=zh en\' \\\n  --name collabora collabora/code\n\n# \u62F7\u8D1D\u914D\u7F6E\ndocker cp collabora:/etc/loolwsd/loolwsd.xml loolwsd.xml\n'})}),"\n",(0,i.jsx)(n.h2,{id:"code",children:"CODE"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"https://<DOMAIN>/browser/dist/admin/admin.html"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u7BA1\u7406\u754C\u9762"}),"\n",(0,i.jsx)(n.li,{children:"\u80FD\u770B\u5230\u5185\u5B58\u548C\u5728\u7EBF\u7528\u6237"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"docker",children:"Docker"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://sdk.collaboraonline.com/docs/installation/CODE_Docker_image.html?highlight=acceptable%20wopi%20hosts#setting-the-application-configuration-dynamically-via-environment-variables",children:"https://sdk.collaboraonline.com/docs/installation/CODE_Docker_image.html?highlight=acceptable%20wopi%20hosts#setting-the-application-configuration-dynamically-via-environment-variables"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"coolmount-operation-not-permitted",children:"coolmount: Operation not permitted"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"cap_add: MKNOD"}),"\n",(0,i.jsx)(n.li,{children:"cap_add: SYS_ADMIN"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"explore-the-new-version",children:"Explore The New Version"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5C06 /usr/share/coolwsd/browser/dist/welcome \u6302\u8F7D\u4E3A\u7A7A\u76EE\u5F55"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Nextcloud app - repeatedly showing welcome screen ",(0,i.jsx)(n.a,{href:"https://github.com/CollaboraOnline/online/issues/5854",children:"#5854"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/CollaboraOnline/online/issues/4489",children:"https://github.com/CollaboraOnline/online/issues/4489"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"extra_params: --o:welcome.enable=false"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/nextcloud/richdocuments/issues/1034#issuecomment-726052204",children:"https://github.com/nextcloud/richdocuments/issues/1034#issuecomment-726052204"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/nextcloud/richdocuments/issues/1034#issuecomment-702742995",children:"https://github.com/nextcloud/richdocuments/issues/1034#issuecomment-702742995"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"your-collabora-online-server-needs-updating",children:"Your Collabora Online server needs updating"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Menu/Tools/Options/LibreOffice/Online update options."}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://wiki.documentfoundation.org/UserProfile",children:"https://wiki.documentfoundation.org/UserProfile"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},17776:function(e,n,l){l.d(n,{R:()=>r,x:()=>t});var o=l(7378);let i={},s=o.createContext(i);function r(e){let n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);