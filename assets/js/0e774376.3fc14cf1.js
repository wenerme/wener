"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["349293"],{500027:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>c,toc:()=>d,default:()=>a,metadata:()=>s,assets:()=>t,contentTitle:()=>o});var s=JSON.parse('{"id":"service/document/onlyoffice","title":"ONLYOFFICE","description":"- ONLYOFFICE/CommunityServer","source":"@site/../notes/service/document/onlyoffice.md","sourceDirName":"service/document","slug":"/service/document/onlyoffice","permalink":"/notes/service/document/onlyoffice","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/document/onlyoffice.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1712816934000,"frontMatter":{"title":"ONLYOFFICE"},"sidebar":"docs","previous":{"title":"ODF","permalink":"/notes/service/document/odf"},"next":{"title":"Office Open XML","permalink":"/notes/service/document/ooxml"}}'),l=i(486106),r=i(917776);let c={title:"ONLYOFFICE"},o="ONLYOFFICE",t={},d=[{value:"\u7F16\u8F91\u5668",id:"\u7F16\u8F91\u5668",level:2},{value:"Document Server Docker",id:"document-server-docker",level:2},{value:"\u914D\u7F6E",id:"\u914D\u7F6E",level:3},{value:"Dev",id:"dev",level:2}];function h(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"onlyoffice",children:"ONLYOFFICE"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/ONLYOFFICE/CommunityServer",children:"ONLYOFFICE/CommunityServer"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Apache-2.0, C#"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/ONLYOFFICE/DocumentServer",children:"ONLYOFFICE/DocumentServer"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"AGPL-3.0"}),"\n",(0,l.jsx)(n.li,{children:"server+core+sdkjs+web-apps+dictionaries+sdkjs-plugins"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"\u670D\u52A1\u7AEF\u5C06\u6587\u6863\u8F6C\u6362\u4E3A JSON"}),"\n",(0,l.jsx)(n.li,{children:"\u5BA2\u6237\u7AEF\u662F\u4E00\u4E2A\u5B8C\u6574\u7684 Office \u5957\u4EF6"}),"\n",(0,l.jsx)(n.li,{children:"\u5BA2\u6237\u7AEF\u8D1F\u8D23\u7F16\u8F91\u6587\u6863"}),"\n",(0,l.jsx)(n.li,{children:"\u670D\u52A1\u7AEF\u5408\u5E76 JSON \u518D\u56DE\u4F20"}),"\n",(0,l.jsxs)(n.li,{children:["Community Edition - GNU AGPL v.3\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u793E\u533A\u7248\u9650\u5236 20 \u4E2A\u7528\u6237"}),"\n",(0,l.jsx)(n.li,{children:"\u65E0 White label"}),"\n",(0,l.jsx)(n.li,{children:"\u65E0 Mobile web editors"}),"\n",(0,l.jsx)(n.li,{children:"\u65E0 Adding Content control"}),"\n",(0,l.jsx)(n.li,{children:"\u65E0 Comparing Documents"}),"\n",(0,l.jsx)(n.li,{children:"\u65E0 Sheet Views"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"Developer Edition - Proprietary"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u7F16\u8F91\u5668",children:"\u7F16\u8F91\u5668"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/ONLYOFFICE/DesktopEditors",children:"ONLYOFFICE/DesktopEditors"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"document-server-docker",children:"Document Server Docker"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://helpcenter.onlyoffice.com/server/docker/document/docker-installation.aspx",children:"https://helpcenter.onlyoffice.com/server/docker/document/docker-installation.aspx"})}),"\n",(0,l.jsxs)(n.li,{children:["\u7EC4\u4EF6\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"PostgreSQL"}),"\n",(0,l.jsx)(n.li,{children:"RabbitMQ"}),"\n",(0,l.jsx)(n.li,{children:"Redis"}),"\n",(0,l.jsx)(n.li,{children:"SpellChecker"}),"\n",(0,l.jsx)(n.li,{children:"DocService"}),"\n",(0,l.jsx)(n.li,{children:"FileConverter"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/var/log/onlyoffice"})," Document Server \u65E5\u5FD7"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/var/www/onlyoffice/Data"})," \u8BC1\u4E66"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/var/lib/onlyoffice"})," \u6587\u4EF6\u7F13\u5B58"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/var/lib/postgresql"})," \u6570\u636E\u5E93"]}),"\n",(0,l.jsxs)(n.li,{children:["\u5305\u542B\u7684\u529F\u80FD\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Document Editor"}),"\n",(0,l.jsx)(n.li,{children:"Spreadsheet Editor"}),"\n",(0,l.jsx)(n.li,{children:"Presentation Editor"}),"\n",(0,l.jsx)(n.li,{children:"Documents application for iOS and Android"}),"\n",(0,l.jsx)(n.li,{children:"\u534F\u4F5C\u7F16\u8F91"}),"\n",(0,l.jsx)(n.li,{children:"Hieroglyph support"}),"\n",(0,l.jsx)(n.li,{children:"\u652F\u6301\u683C\u5F0F: DOC, DOCX, TXT, ODT, RTF, ODP, EPUB, ODS, XLS, XLSX, CSV, PPTX, HTML"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u914D\u7F6E\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u53EA\u8981\u914D\u7F6E\u7684 host \u4E0D\u662F localhost \u5C31\u4F1A\u4F7F\u7528\u5916\u90E8\u670D\u52A1\u800C\u4E0D\u662F\u672C\u5730"}),"\n",(0,l.jsxs)(n.li,{children:["mq\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"AMQP_SERVER_URL - AMQP URL"}),"\n",(0,l.jsx)(n.li,{children:"AMQP_SERVER_TYPE - rabbitmq \u6216 activemq"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["pg\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"DB_TYPE = postgres mariadb"}),"\n",(0,l.jsx)(n.li,{children:"DB_HOST"}),"\n",(0,l.jsx)(n.li,{children:"DB_PORT"}),"\n",(0,l.jsx)(n.li,{children:"DB_NAME"}),"\n",(0,l.jsx)(n.li,{children:"DB_USER"}),"\n",(0,l.jsx)(n.li,{children:"DB_PWD"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["redis\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"REDIS_SERVER_HOST"}),"\n",(0,l.jsx)(n.li,{children:"REDIS_SERVER_PORT"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["jwt\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"JWT_ENABLED - \u5F00\u542F jwt secret \u6821\u9A8C"}),"\n",(0,l.jsx)(n.li,{children:"JWT_SECRET - \u7528\u4E8E\u6821\u9A8C jwt token \u7684 secret"}),"\n",(0,l.jsx)(n.li,{children:"JWT_HEADER - jwt \u7684 http \u5934 - \u9ED8\u8BA4 Authorization"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u914D\u7F6E\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6 ",(0,l.jsx)(n.code,{children:"/etc/onlyoffice/documentserver/default.json"})," - \u4E0D\u8981\u7F16\u8F91"]}),"\n",(0,l.jsxs)(n.li,{children:["\u672C\u5730\u914D\u7F6E\u6587\u4EF6 ",(0,l.jsx)(n.code,{children:"/etc/onlyoffice/documentserver/local.json"})]}),"\n",(0,l.jsxs)(n.li,{children:["\u914D\u7F6E\u8BF4\u660E ",(0,l.jsx)(n.a,{href:"https://api.onlyoffice.com/editors/signature/",children:"https://api.onlyoffice.com/editors/signature/"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u63A5\u53E3\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://api.onlyoffice.com/editors/conversionapi",children:"\u6587\u6863\u8F6C\u6362"})," - ",(0,l.jsx)(n.a,{href:"https://documentserver/ConvertService.ashx",children:"https://documentserver/ConvertService.ashx"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://api.onlyoffice.com/editors/documentbuilderapi",children:"\u6587\u6863\u6784\u5EFA"})," - ",(0,l.jsx)(n.a,{href:"https://api.onlyoffice.com/docbuilder/integrationapi/usingdocbuilderfile",children:".docbuilder"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://api.onlyoffice.com/editors/example/nodejs",children:"\u5D4C\u5165\u7F16\u8F91\u5668"})," - ",(0,l.jsx)(n.a,{href:"https://api.onlyoffice.com/editors/config",children:"\u914D\u7F6E"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# CPU 2 GHz RAM 2 GB Swap 4 GB\n# \u955C\u50CF\u7279\u522B\u5927 700MB+\ndocker run --rm -it -p 8088:80 --name ds onlyoffice/documentserver\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u914D\u7F6E",children:"\u914D\u7F6E"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u8FD9\u4E9B\u914D\u7F6E\u90FD\u53EF\u4EE5\u901A\u8FC7\u73AF\u5883\u53D8\u91CF\u914D\u7F6E"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "services": {\n    "CoAuthoring": {\n      "sql": {\n        "type": "postgres",\n        "dbHost": "localhost",\n        "dbPort": "5432",\n        "dbName": "onlyoffice",\n        "dbUser": "onlyoffice",\n        "dbPass": "onlyoffice"\n      },\n      "redis": {\n        "host": "localhost"\n      },\n      "token": {\n        "enable": {\n          "request": {\n            "inbox": false,\n            "outbox": false\n          },\n          "browser": false\n        },\n        "inbox": {\n          "header": "Authorization"\n        },\n        "outbox": {\n          "header": "Authorization"\n        }\n      },\n      "secret": {\n        "inbox": {\n          "string": "secret"\n        },\n        "outbox": {\n          "string": "secret"\n        },\n        "session": {\n          "string": "secret"\n        }\n      }\n    }\n  },\n  "rabbitmq": {\n    "url": "amqp://guest:guest@localhost"\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"dev",children:"Dev"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://api.onlyoffice.com/editors/save",children:"https://api.onlyoffice.com/editors/save"})}),"\n"]})]})}function a(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},917776:function(e,n,i){i.d(n,{R:()=>c,x:()=>o});var s=i(7378);let l={},r=s.createContext(l);function c(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);