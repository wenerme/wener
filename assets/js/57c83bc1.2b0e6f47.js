"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["595070"],{63278:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>l,toc:()=>o,default:()=>p,metadata:()=>i,assets:()=>d,contentTitle:()=>c});var i=JSON.parse('{"id":"web/script/typescript/typescript-version","title":"Typescript Version","description":"- v7 tsgo","source":"@site/../notes/web/script/typescript/typescript-version.md","sourceDirName":"web/script/typescript","slug":"/web/script/typescript/version","permalink":"/notes/web/script/typescript/version","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/script/typescript/typescript-version.md","tags":[{"inline":true,"label":"Version","permalink":"/notes/tags/version"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1772243505000,"frontMatter":{"title":"Typescript Version","tags":["Version"]},"sidebar":"docs","previous":{"title":"TypeScript \u7C7B\u578B\u5B9A\u4E49","permalink":"/notes/web/script/typescript/typing"},"next":{"title":"Virtual DOM","permalink":"/notes/web/script/vdom"}}'),r=s(486106),t=s(917776);let l={title:"Typescript Version",tags:["Version"]},c="Typescript Version",d={},o=[{value:"Typescript 5.8",id:"typescript-58",level:2},{value:"Typescript 5.7",id:"typescript-57",level:2},{value:"Typescript 5.6",id:"typescript-56",level:2},{value:"Typescript 5.5",id:"typescript-55",level:2},{value:"Typescript 5.4",id:"typescript-54",level:2},{value:"Typescript 5.3",id:"typescript-53",level:2},{value:"Typescript 5.2",id:"typescript-52",level:2},{value:"Typescript 5.1",id:"typescript-51",level:2},{value:"Typescript 5.0",id:"typescript-50",level:2},{value:"Typescript 4.9",id:"typescript-49",level:2},{value:"Typescript 4.8",id:"typescript-48",level:2},{value:"Typescript 4.7",id:"typescript-47",level:2},{value:"Typescript 4.6",id:"typescript-46",level:2},{value:"Typescript 4.5",id:"typescript-45",level:2}];function h(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"typescript-version",children:"Typescript Version"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"v7 tsgo"}),"\n",(0,r.jsx)(e.li,{children:"v6 \u8FC7\u5EA6\u7248\u672C"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"version"}),(0,r.jsx)(e.th,{children:"date"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"#typescript-57",children:"Typescript 5.7"})}),(0,r.jsx)(e.td,{children:"2024-11-22"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"#typescript-55",children:"Typescript 5.5"})}),(0,r.jsx)(e.td,{children:"2024-06-20"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"#typescript-54",children:"Typescript 5.4"})}),(0,r.jsx)(e.td,{children:"2024-03-06"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"#typescript-53",children:"Typescript 5.3"})}),(0,r.jsx)(e.td,{children:"2023-11-20"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"#typescript-50",children:"Typescript 5.0"})}),(0,r.jsx)(e.td,{children:"2023-03-14"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"#typescript-49",children:"Typescript 4.9"})}),(0,r.jsx)(e.td,{children:"2022-11-15"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"#typescript-48",children:"Typescript 4.8"})}),(0,r.jsx)(e.td,{children:"2022-08-25"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"#typescript-47",children:"Typescript 4.7"})}),(0,r.jsx)(e.td,{children:"2022-05-24"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"#typescript-46",children:"Typescript 4.6"})}),(0,r.jsx)(e.td,{children:"2022-02-28"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"#typescript-45",children:"Typescript 4.5"})}),(0,r.jsx)(e.td,{children:"2021-11-17"})]})]})]}),"\n",(0,r.jsx)(e.h2,{id:"typescript-58",children:"Typescript 5.8"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--erasableSyntaxOnly"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u56E0\u4E3A Node \u5F00\u59CB\u652F\u6301 strip type \u4E86\uFF0C\u4F46\u662F\u90E8\u5206\u7279\u6027\u5FC5\u987B\u8981\u6C42 transform"}),"\n",(0,r.jsx)(e.li,{children:"\u8FD9\u4E2A flag \u4F1A\u5BF9\u9700\u8981 transform \u7684\u8BED\u6CD5\u62A5\u9519"}),"\n",(0,r.jsxs)(e.li,{children:["\u4E3B\u8981\u5F71\u54CD\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"enum"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"namespace"})}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"tsconfig.json#paths"})," -> ",(0,r.jsx)(e.code,{children:"package.json#imports"})]}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"constructor(private foo: string)"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--module nodenext"})," \u652F\u6301 require"]}),"\n",(0,r.jsxs)(e.li,{children:["\u589E\u52A0 ",(0,r.jsx)(e.code,{children:"--module node18"})]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"typescript-57",children:"Typescript 5.7"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--rewriteRelativeImportExtensions"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u8F85\u52A9 node \u652F\u6301 ts"}),"\n",(0,r.jsxs)(e.li,{children:["\u53EA\u5904\u7406 ",(0,r.jsx)(e.code,{children:"./"}),", ",(0,r.jsx)(e.code,{children:"../"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"./foo.{ts,tsx,mts,cts}"})," -> ",(0,r.jsx)(e.code,{children:"./foo.{js,jsx,mjs,cjs}"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["--target es2024, --lib es2024\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u66F4\u591A SharedArrayBuffer, ArrayBuffer \u65B9\u6CD5"}),"\n",(0,r.jsx)(e.li,{children:"Object.groupBy, Map.groupBy, Promise.withResolvers"}),"\n",(0,r.jsx)(e.li,{children:"Atomics.waitAsync"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://devblogs.microsoft.com/typescript/announcing-typescript-5-7/",children:"https://devblogs.microsoft.com/typescript/announcing-typescript-5-7/"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"typescript-56",children:"Typescript 5.6"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Disallowed Nullish and Truthy Checks\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"eslint:no-constant-binary-expression"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u7531\u4E8E\u540D\u79F0\u78B0\u649E\u539F\u56E0\uFF0C\u5F15\u5165 BuiltinIterator, BuiltinAsyncIterator\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Iterator \u5728\u4E4B\u524D\u88AB\u4F5C\u4E3A\u7C7B\u578B\u5B9A\u4E49"}),"\n",(0,r.jsxs)(e.li,{children:["\u73B0\u5728 js \u6709\u4E86 Iterator - ",(0,r.jsx)(e.a,{href:"https://github.com/tc39/proposal-iterator-helpers",children:"https://github.com/tc39/proposal-iterator-helpers"})]}),"\n",(0,r.jsxs)(e.li,{children:["BuiltinAsyncIterator \u76EE\u524D\u8FD8\u4E0D\u5B58\u5728 ",(0,r.jsx)(e.a,{href:"https://github.com/tc39/proposal-async-iterator-helpers",children:"https://github.com/tc39/proposal-async-iterator-helpers"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"--strictBuiltinIteratorReturn"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"--noUncheckedSideEffectImports"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"--noCheck"})}),"\n",(0,r.jsxs)(e.li,{children:["region-prioritized diagnostics / region-prioritized checking\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4F18\u5316\u7C7B\u578B\u68C0\u6D4B\u6027\u80FD"}),"\n",(0,r.jsx)(e.li,{children:"\u66F4\u597D\u7684\u7F16\u8F91\u4F53\u9A8C"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"typescript-55",children:"Typescript 5.5"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Inferred Type Predicates/\u7C7B\u578B\u63A8\u65AD\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["filter \u80FD\u591F narrow \u7C7B\u578B\u4E86\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"all.filter(v => v !== undefined)"})," \u8FD4\u56DE\u7684\u6570\u7EC4\u503C\u4E0D\u4E3A undefined"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["Control Flow Narrowing for Constant Indexed Accesses\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u80FD\u628A ",(0,r.jsx)(e.code,{children:'typeof obj[key] === "string"'})," \u8FD9\u6837\u68C0\u6D4B\u7684\u7ED3\u679C\u5E26\u5230\u4E4B\u540E\u8BBF\u95EE\uFF0C\u4EE5\u524D\u9700\u8981\u628A ",(0,r.jsx)(e.code,{children:"obj[key]"})," \u63D0\u53D6\u4E3A\u53D8\u91CF"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"Regular Expression Syntax Checking/\u6B63\u5219\u8868\u8FBE\u5F0F\u8BED\u6CD5\u68C0\u67E5"}),"\n",(0,r.jsx)(e.li,{children:"\u589E\u52A0\u65B0\u7684 Set \u65B9\u6CD5\u5B9A\u4E49 - union, intersection, difference, symmetricDifference, isSubsetOf, isSupersetOf, isDisjointFrom"}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"--isolatedDeclarations"})}),"\n",(0,r.jsxs)(e.li,{children:["tsconfig.json \u914D\u7F6E\u652F\u6301 ",(0,r.jsx)(e.code,{children:"${configDir}"})," \u53D8\u91CF\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u89E3\u51B3\u5728 extends \u91CC\u914D\u7F6E\u8DEF\u5F84\u7684\u65F6\u5019\u80FD\u6B63\u786E\u5F15\u7528 \u8DEF\u5F84"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"// \u4E4B\u524D\u8FD4\u56DE boolean\n// \u73B0\u5728\u8FD4\u56DE x is NonNullable<T>\nconst isNonNullish = <T>(x: T) => x != null;\n"})}),"\n",(0,r.jsx)(e.h2,{id:"typescript-54",children:"Typescript 5.4"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u589E\u52A0 ",(0,r.jsx)(e.code,{children:"NoInfer"})," \u7528\u4E8E\u63D0\u793A ts \u4E0D\u4ECE\u67D0\u4E2A\u7C7B\u578B\u53C2\u6570\u63A8\u5BFC\u7C7B\u578B"]}),"\n",(0,r.jsx)(e.li,{children:"\u589E\u52A0\u5B9A\u4E49 Object.groupBy, Map.groupBy"}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--moduleResolution=bundler"})," \u652F\u6301\u4F7F\u7528 require"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"module=preserve \u9690\u542B"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "moduleResolution": "bundler",\n  "esModuleInterop": true,\n  "resolveJsonModule": true\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"// \u5B9A\u4E49\u652F\u6301\u7684 import \u5C5E\u6027\ninterface ImportAttributes {\n  type: 'json';\n}\n\n// \u652F\u6301\u7C7B\u578B\u68C0\u67E5\nimport * as ns from 'foo' with { type: 'not-json' }; // \u4F1A\u62A5\u9519 type\n"})}),"\n",(0,r.jsx)(e.h2,{id:"typescript-53",children:"Typescript 5.3"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["--isolatedDeclarations \u63D0\u5347\u6784\u5EFA\u901F\u5EA6\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/microsoft/TypeScript/issues/47947",children:"#47947"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/microsoft/TypeScript/pull/53463#issuecomment-1660720127",children:"53463"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"\u652F\u6301 Import Attributes"}),"\n",(0,r.jsxs)(e.li,{children:["resolution-mode\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:'/// <reference types="pkg" resolution-mode="import" />'})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:'import type { TypeFromImport } from "pkg" with { "resolution-mode": "import" };'})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"switch (true)"})," Narrowing\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u591A\u4E2A case \u9488\u5BF9\u540C\u4E00\u4E2A\u53D8\u91CF\u65F6\u80FD\u591F\u6B63\u786E\u7684 narrow \u7C7B\u578B"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"//  Import Attributes\nimport obj from './something.json' with { type: 'json' };\nconst obj = await import('./something.json', {\n  with: { type: 'json' },\n});\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://devblogs.microsoft.com/typescript/announcing-typescript-5-3/",children:"https://devblogs.microsoft.com/typescript/announcing-typescript-5-3/"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"typescript-52",children:"Typescript 5.2"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"using"})," - Declarations and Explicit Resource Management\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Symbol.dispose"}),"\n",(0,r.jsx)(e.li,{children:"Symbol.asyncDispose"}),"\n",(0,r.jsx)(e.li,{children:"DisposableStack"}),"\n",(0,r.jsx)(e.li,{children:"AsyncDisposableStack"}),"\n",(0,r.jsx)(e.li,{children:"SuppressedError"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["Decorator Metadata\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Decorator \u7684 context \u652F\u6301 context.metadata"}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"Symbol.metadata"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://devblogs.microsoft.com/typescript/announcing-typescript-5-2/",children:"https://devblogs.microsoft.com/typescript/announcing-typescript-5-2/"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"typescript-51",children:"Typescript 5.1"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6CA1\u6709\u8FD4\u56DE\u9ED8\u8BA4\u8FD4\u56DE undefined"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"function f4(): undefined {\n  // \u53EF\u4EE5\u4E0D\u8FD4\u56DE\n}\n\n// setter getter \u7C7B\u578B\u53EF\u4EE5\u4E0D\u4E00\u6837\ninterface Serializer {\n  set value(v: string | number | boolean);\n  get value(): string;\n}\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://devblogs.microsoft.com/typescript/announcing-typescript-5-1/",children:"https://devblogs.microsoft.com/typescript/announcing-typescript-5-1/"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"typescript-50",children:"Typescript 5.0"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u652F\u6301 decorator\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4E0D\u9700\u8981 ",(0,r.jsx)(e.code,{children:"--experimentalDecorators"})]}),"\n",(0,r.jsxs)(e.li,{children:["\u4E0D\u652F\u6301 ",(0,r.jsx)(e.code,{children:"--emitDecoratorMetadata"})]}),"\n",(0,r.jsx)(e.li,{children:"\u4E0D\u652F\u6301 \u53C2\u6570 decorator"}),"\n",(0,r.jsx)(e.li,{children:"\u652F\u6301\u7C7B\u578B\u68C0\u6D4B"}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://2ality.com/2022/10/javascript-decorators.html",children:"https://2ality.com/2022/10/javascript-decorators.html"})}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/tc39/proposal-decorators",children:"tc39/proposal-decorators"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5F53\u524D\u7684\u4FEE\u9970\u5668\u63D0\u6848"}),"\n",(0,r.jsx)(e.li,{children:"stage 3"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/tc39/proposal-decorator-metadata",children:"tc39/proposal-decorator-metadata"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5173\u4E8E metadata \u7684 \u63D0\u6848"}),"\n",(0,r.jsx)(e.li,{children:"stage 2"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"\u652F\u6301 const \u4FEE\u9970 \u7C7B\u578B\u53C2\u6570 - \u4F20\u5165\u503C\u53EF\u4EE5\u4E0D as const - \u5F97\u5230\u66F4\u7CBE\u786E\u7684\u7C7B\u578B"}),"\n",(0,r.jsxs)(e.li,{children:["--moduleResolution bundler\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4E4B\u524D node16/nodenext \u8981\u6C42 import \u5305\u542B\u540E\u7F00"}),"\n",(0,r.jsx)(e.li,{children:"bundler \u66F4\u597D\u914D\u5408\u73B0\u6709 bundle \u6D41\u7A0B\uFF0C\u53EF\u4EE5\u65E0\u540E\u7F00"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["--allowImportingTsExtensions\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5141\u8BB8 import \u540E\u7F00 .ts, .mts, .tsx"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["--resolvePackageJsonExports\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u8003\u8651 package.json \u7684 exports \u4FE1\u606F"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"--resolvePackageJsonImports"}),"\n",(0,r.jsxs)(e.li,{children:["--allowArbitraryExtensions\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4E4B\u524D import \u672A\u77E5 ext \u65F6\u4F1A\u67E5\u627E ",(0,r.jsx)(e.code,{children:"{basename}.d.{extension}.ts"}),", \u627E\u4E0D\u5230\u5219\u62A5\u9519"]}),"\n",(0,r.jsx)(e.li,{children:"\u5F00\u542F\u540E\u4E0D\u62A5\u9519 - \u5B9E\u9645\u7531 bundler \u5904\u7406"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["--customConditions\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u81EA\u5B9A\u4E49 exports \u7684 condition"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["--verbatimModuleSyntax\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5E9F\u5F03 --importsNotUsedAsValues, --preserveValueImports"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u652F\u6301 ",(0,r.jsx)(e.code,{children:'export * as ns from "module"'})]}),"\n",(0,r.jsx)(e.li,{children:"JSDoc @satisfies, @overload"}),"\n",(0,r.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://devblogs.microsoft.com/typescript/announcing-typescript-5-0-beta/",children:"https://devblogs.microsoft.com/typescript/announcing-typescript-5-0-beta/"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"function loggedMethod<This, Args extends any[], Return>(\n  target: (this: This, ...args: Args) => Return,\n  context: ClassMethodDecoratorContext<This, (this: This, ...args: Args) => Return>,\n) {\n  const methodName = String(context.name);\n\n  function replacementMethod(this: This, ...args: Args): Return {\n    console.log(`LOG: Entering method '${methodName}'.`);\n    const result = target.call(this, ...args);\n    console.log(`LOG: Exiting method '${methodName}'.`);\n    return result;\n  }\n\n  return replacementMethod;\n}\n\nclass Person {\n  name: string;\n  constructor(/* \u4E0D\u652F\u6301\u53C2\u6570 \u4FEE\u9970 @inject*/ name: string) {\n    this.name = name;\n  }\n\n  @loggedMethod\n  greet() {\n    console.log(`Hello, my name is ${this.name}.`);\n  }\n}\n\ntype HasNames = { readonly names: string[] };\nfunction getNamesExactly<T extends HasNames>(arg: T): T['names'] {\n  return arg.names;\n}\n// 5.0 \u4E4B\u524D\n// \u7C7B\u578B\u4E3A readonly [\"Alice\", \"Bob\", \"Eve\"]\n// \u4E0D\u52A0 const \u7C7B\u578B\u4E3A string[]\nconst names2 = getNamesExactly({ names: ['Alice', 'Bob', 'Eve'] } as const);\n\n// 5.0 \u652F\u6301 const \u4FEE\u9970 \u7C7B\u578B\u53C2\u6570\n// \u786E\u4FDD\u5F97\u5230\u66F4\u7CBE\u786E\u7684\u7C7B\u578B - \u4E0D\u518D\u9700\u8981 as const\ntype HasNames = { names: readonly string[] };\nfunction getNamesExactly<const T extends HasNames>(arg: T): T['names'] {\n  //                       ^^^^^\n  return arg.names;\n}\nconst names = getNamesExactly({ names: ['Alice', 'Bob', 'Eve'] });\n"})}),"\n",(0,r.jsx)(e.h2,{id:"typescript-49",children:"Typescript 4.9"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"satisfies"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u7C7B\u4F3C\u4E8E as const \u4F46\u53EF\u4EE5\u8981\u6C42\u6EE1\u8DB3\u7ED9\u5B9A\u7C7B\u578B"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"accessor"})," \u751F\u6210 getter \u548C setter"]}),"\n",(0,r.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://devblogs.microsoft.com/typescript/announcing-typescript-4-9/",children:"https://devblogs.microsoft.com/typescript/announcing-typescript-4-9/"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"class Person {\n  accessor name: string;\n\n  constructor(name: string) {\n    this.name = name;\n  }\n}\n\nclass Person {\n  // \u751F\u6210\n  #__name: string;\n\n  get name() {\n    return this.#__name;\n  }\n  set name(value: string) {\n    this.#__name = name;\n  }\n\n  constructor(name: string) {\n    this.name = name;\n  }\n}\n"})}),"\n",(0,r.jsx)(e.h2,{id:"typescript-48",children:"Typescript 4.8"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-diff",children:"- type NonNullable<T> = T extends null | undefined ? never : T;\n+ type NonNullable<T> = T & {};\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://devblogs.microsoft.com/typescript/announcing-typescript-4-8/"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"typescript-47",children:"Typescript 4.7"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:"\u652F\u6301 ESM"})}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:'"type": "module"'}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"js \u652F\u6301 TLA"}),"\n",(0,r.jsxs)(e.li,{children:["\u76F8\u5BF9\u8DEF\u5F84 import \u9700\u8981\u5305\u542B\u540E\u7F00 ",(0,r.jsx)(e.code,{children:'import "./foo"'})," -> ",(0,r.jsx)(e.code,{children:'import "./foo.js"'})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"--moduleResolution node16, nodenext"}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:".cts"})," \u4F5C\u4E3A commonjs \u5904\u7406"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:".mts"})," \u4F5C\u4E3A module \u5904\u7406"]}),"\n",(0,r.jsxs)(e.li,{children:["\u7C7B\u578B\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Control-Flow Analysis for Bracketed Element Access\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"obj[key]"})," \u589E\u5F3A key \u7684\u8BC6\u522B"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["Improved Function Inference in Objects and Methods\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u589E\u5F3A\u51FD\u6570\u53C2\u6570\u7684\u7C7B\u578B\u63A8\u5BFC"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",metastring:'title="tsconfig.json"',children:'{\n  "compilerOptions": {\n    // esm\n    "module": "node16",\n    // \u65B0\u589E\n    // import "./foo" -> ./foo.ios.ts, ./foo.native.ts, ./foo.ts\n    "moduleSuffixes": [".ios", ".native", ""]\n  }\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  // \u80FD\u8BC6\u522B\n  "type": "module",\n  "exports": {\n    // \u80FD\u8BC6\u522B\n    ".": {\n      "import": "./esm/index.js",\n      // \u652F\u6301 - \u9ED8\u8BA4\u57FA\u4E8E import - ./esm/index.d.ts\n      "types": "./types/index.d.ts",\n      "require": "./commonjs/index.cjs"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:'// \u65B0\u589E resolution-mode\n/// <reference types="pkg" resolution-mode="require" />\n/// <reference types="pkg" resolution-mode="import" />\n\ntype FirstIfString<T> =\n  // \u652F\u6301 extends \u9650\u5B9A infer\n  T extends [infer S extends string, ...unknown[]] ? S : never;\n\n// \u652F\u6301 in out \u9650\u5B9A\n// \u5F71\u54CD\u7C7B\u578B\u5339\u914D\u4E0A\u4E0B\u754C\u9650\ntype Getter<out T> = () => T;\ntype Setter<in T> = (value: T) => void;\ninterface State<in out T> {\n  get: () => T;\n  set: (value: T) => void;\n}\n'})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://devblogs.microsoft.com/typescript/announcing-typescript-4-7/",children:"Announcing TypeScript 4.7"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"typescript-46",children:"Typescript 4.6"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"target es2022"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"class Base {\n  // ...\n}\n\nclass Derived extends Base {\n  someProperty = true;\n\n  constructor() {\n    // \u5141\u8BB8 - \u4F46\u4E0D\u80FD\u5F15\u7528 this\n    doSomeStuff();\n    super();\n  }\n}\n"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://devblogs.microsoft.com/typescript/announcing-typescript-4-6/",children:"Announcing TypeScript 4.6"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"typescript-45",children:"Typescript 4.5"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Awaited \u7C7B\u578B"}),"\n",(0,r.jsxs)(e.li,{children:["lib \u652F\u6301 node_modules - \u9ED8\u8BA4\u67E5\u627E ",(0,r.jsx)(e.code,{children:"@typescript/lib-*"})," - \u4E4B\u524D\u662F bundle \u5185\u7F6E\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.npmjs.com/package/@types/web",children:"@types/web"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"--module es2022 - \u652F\u6301 top-level await"}),"\n",(0,r.jsxs)(e.li,{children:["import \u540D\u5B57 type \u4FEE\u9970\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:'import { someFunc, type BaseType } from "./some-module.js";'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"Template String Types as Discriminants"}),"\n",(0,r.jsx)(e.li,{children:"Tail-Recursion Elimination on Conditional Types"}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"--preserveValueImports"})," - \u7528\u4E8E\u65E0\u6CD5\u68C0\u6D4B\u5BFC\u5165\u662F\u5426\u88AB\u4F7F\u7528\u7684\u573A\u666F - eval, \u5176\u4ED6\u8BED\u8A00"]}),"\n",(0,r.jsx)(e.li,{children:"Private Field Presence Checks"}),"\n",(0,r.jsx)(e.li,{children:"Import Assertions"}),"\n",(0,r.jsx)(e.li,{children:"Const Assertions and Default Type Arguments in JSDoc"}),"\n",(0,r.jsx)(e.li,{children:"Faster Load Time with realpathSync.native"}),"\n",(0,r.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://devblogs.microsoft.com/typescript/announcing-typescript-4-5",children:"Announcing TypeScript 4.5"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "dependencies": {\n    // dom \u91CD\u5B9A\u5411\n    "@typescript/lib-dom": "npm:@types/web"\n  }\n}\n'})})]})}function p(n={}){let{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(h,{...n})}):h(n)}},917776:function(n,e,s){s.d(e,{R:()=>l,x:()=>c});var i=s(7378);let r={},t=i.createContext(r);function l(n){let e=i.useContext(t);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);