"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["62253"],{58025:function(e,s,n){n.r(s),n.d(s,{frontMatter:()=>c,toc:()=>h,default:()=>a,metadata:()=>i,assets:()=>d,contentTitle:()=>l});var i=JSON.parse('{"id":"web/dev/bundle/swc","title":"swc","description":"- swc-project/swc","source":"@site/../notes/web/dev/bundle/swc.md","sourceDirName":"web/dev/bundle","slug":"/web/dev/bundle/swc","permalink":"/notes/web/dev/bundle/swc","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/dev/bundle/swc.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1730187174000,"frontMatter":{"title":"swc"},"sidebar":"docs","previous":{"title":"snowpack","permalink":"/notes/web/dev/bundle/snowpack"},"next":{"title":"edge-runtime","permalink":"/notes/web/dev/edge-runtime"}}'),t=n(86106),r=n(17776);let c={title:"swc"},l="swc",d={},h=[{value:"swcrc",id:"swcrc",level:2},{value:"Plugins",id:"plugins",level:2},{value:"keepImportAssertions",id:"keepimportassertions",level:2},{value:"file extension",id:"file-extension",level:2},{value:"swc vs esbuild",id:"swc-vs-esbuild",level:2},{value:"strip-leading-paths",id:"strip-leading-paths",level:2}];function o(e){let s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"swc",children:"swc"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://github.com/swc-project/swc",children:"swc-project/swc"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Speedy Web Compiler"}),"\n",(0,t.jsx)(s.li,{children:"Rust-based platform for the Web"}),"\n",(0,t.jsx)(s.li,{children:"\u5F00\u53D1\u8005\u88AB vercel \u6536\u7F16"}),"\n",(0,t.jsx)(s.li,{children:"\u65E9\u671F\u5B9A\u4F4D\u662F compiler - bundling & minifition not ready"}),"\n",(0,t.jsxs)(s.li,{children:["swcpack - bundle\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u5F00\u53D1\u8005\u73B0\u5728\u4E13\u6CE8\u4E8E Vercel \u7684 Turbopack\uFF0C\u56E0\u6B64 swcpack \u5F00\u53D1\u5E76\u4E0D\u6D3B\u8DC3\uFF0C\u4E0D\u63A8\u8350\u4F7F\u7528\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://swc.rs/docs/benchmarks",children:"https://swc.rs/docs/benchmarks"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u6027\u80FD\u4E0A\u548C esbuild \u5DEE\u8DDD\u5E76\u4E0D\u5927"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\u53C2\u8003\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://kdy1.dev/2022-1-26-porting-tsc-to-go",children:"https://kdy1.dev/2022-1-26-porting-tsc-to-go"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://kdy1.dev/2022-10-27-open-sourcing-stc",children:"https://kdy1.dev/2022-10-27-open-sourcing-stc"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/dudykr/stc",children:"https://github.com/dudykr/stc"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://swc.rs/playground",children:"https://swc.rs/playground"})}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://github.com/swc-project/swc-node",children:"swc-project/swc-node"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"~ts-node"}),"\n",(0,t.jsx)(s.li,{children:"\u4E0D\u5EFA\u8BAE\u4F7F\u7528"}),"\n",(0,t.jsxs)(s.li,{children:["Cannot find module ts\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/swc-project/swc-node/pull/744",children:"https://github.com/swc-project/swc-node/pull/744"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/swc-project/swc-node/issues/710",children:"https://github.com/swc-project/swc-node/issues/710"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"pnpm i -D @swc/cli @swc/core\n\npnpm swc ./src/main.ts -o ./dist/main.js\n\n# swc + esbuild/tsx - \u652F\u6301 emitDecoratorMetadata, \u5229\u7528 esbuild \u7684 bundle \u80FD\u529B\npnpm swc ./src/ -d ./dist/out\npnpm tsx ./dist/out/main.ts\n"})}),"\n",(0,t.jsx)(s.h2,{id:"swcrc",children:"swcrc"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n  "$schema": "https://json.schemastore.org/swcrc",\n  "jsc": {\n    "parser": {\n      "syntax": "ecmascript",\n      "jsx": false,\n      "dynamicImport": false,\n      "privateMethod": false,\n      "functionBind": false,\n      "exportDefaultFrom": false,\n      "exportNamespaceFrom": false,\n      "decorators": false,\n      "decoratorsBeforeExport": false,\n      "topLevelAwait": false,\n      "importMeta": false\n    },\n    "transform": null,\n    "target": "es5",\n    "loose": false,\n    "externalHelpers": false,\n    // Requires v1.2.50 or upper and requires target to be es2016 or upper.\n    "keepClassNames": false\n  },\n  "minify": false,\n  // \u4F9D\u8D56 browserslist\n  "env": {\n    "targets": {\n      "chrome": "79"\n    },\n    "mode": "entry",\n    "coreJs": "3.22"\n  }\n}\n'})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://swc.rs/docs/configuration/swcrc",children:"https://swc.rs/docs/configuration/swcrc"})}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"plugins",children:"Plugins"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://plugins.swc.rs/",children:"https://plugins.swc.rs/"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u67E5\u770B\u7248\u672C"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/swc-project/plugins",children:"swc-project/plugins"})}),"\n"]}),"\n",(0,t.jsx)(s.h1,{id:"faq",children:"FAQ"}),"\n",(0,t.jsx)(s.h2,{id:"keepimportassertions",children:"keepImportAssertions"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/swc-project/swc/issues/7923",children:"https://github.com/swc-project/swc/issues/7923"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/TypeStrong/ts-node/issues/2056",children:"https://github.com/TypeStrong/ts-node/issues/2056"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"https://github.com/swc-project/swc/issues/5616",children:"https://github.com/swc-project/swc/issues/5616"})}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"file-extension",children:"file extension"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"/notes/web/dev/bundle/faq#js-extension",children:"js extension"})}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"swc-vs-esbuild",children:"swc vs esbuild"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["esbuild\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"production ready"}),"\n",(0,t.jsx)(s.li,{children:"\u4E0D\u80FD bundle systemjs,amd"}),"\n",(0,t.jsx)(s.li,{children:"\u4E0D\u652F\u6301 emitDecoratorMetadata"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["swc\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"compiler \u529F\u80FD\u5B8C\u5907"}),"\n",(0,t.jsx)(s.li,{children:"\u80FD bundle \u66F4\u591A\u683C\u5F0F"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"strip-leading-paths",children:"strip-leading-paths"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# dist/src -> dist\nnpx swc ./src -d dist --strip-leading-paths\n"})})]})}function a(e={}){let{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},17776:function(e,s,n){n.d(s,{R:()=>c,x:()=>l});var i=n(7378);let t={},r=i.createContext(t);function c(e){let s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);