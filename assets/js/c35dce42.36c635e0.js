"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["219193"],{361030:function(n,e,t){t.r(e),t.d(e,{frontMatter:()=>s,toc:()=>c,default:()=>h,metadata:()=>r,assets:()=>d,contentTitle:()=>i});var r=JSON.parse('{"id":"web/editor/markdoc","title":"MarkDoc","description":"- markdoc/markdoc","source":"@site/../notes/web/editor/markdoc.md","sourceDirName":"web/editor","slug":"/web/editor/markdoc","permalink":"/notes/web/editor/markdoc","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/editor/markdoc.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1654595483000,"frontMatter":{"title":"MarkDoc"},"sidebar":"docs","previous":{"title":"Low Code Awesome","permalink":"/notes/web/editor/low-code/awesome"},"next":{"title":"markdown-it","permalink":"/notes/web/editor/markdown-it"}}'),a=t(486106),o=t(917776);let s={title:"MarkDoc"},i="MarkDoc",d={},c=[{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5",level:2},{value:"Why not MDX",id:"why-not-mdx",level:2}];function l(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"markdoc",children:"MarkDoc"})}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.a,{href:"https://github.com/markdoc/markdoc",children:"markdoc/markdoc"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"by Stripe"}),"\n",(0,a.jsx)(e.li,{children:"CommonMark \u8D85\u96C6 - \u53D6\u6D88\u7F29\u8FDB\u4EE3\u7801\u5757\u8BED\u6CD5\u3001\u53D6\u6D88 setext heading"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.li,{children:"\u540E\u7F00 mdoc"}),"\n",(0,a.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["parser ",(0,a.jsx)(e.a,{href:"https://github.com/markdown-it/markdown-it",children:"markdown-it/markdown-it"})]}),"\n",(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:"https://markdoc.io/sandbox",children:"https://markdoc.io/sandbox"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-bash",children:"npm add @markdoc/markdoc\n"})}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["\u5185\u7F6E nodes - ",(0,a.jsx)(e.a,{href:"https://markdoc.io/docs/nodes#built-in-nodes",children:"https://markdoc.io/docs/nodes#built-in-nodes"})]}),"\n",(0,a.jsx)(e.li,{children:"\u5185\u7F6E tags - if, else, table, partial"}),"\n",(0,a.jsx)(e.li,{children:"\u5185\u7F6E\u51FD\u6570 - equals, and, or, not, default, debug"}),"\n"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:"import Markdoc from '@markdoc/markdoc';\n\nconst source = `\n---\ntitle: Doc title\n---\n\n# {% $markdoc.frontmatter.title %} {% #overview %}\n\n{% callout type=\"check\" %}\n  More content\n{% /callout %}\n`;\n\nconst ast = Markdoc.parse(source);\nconst content = Markdoc.transform(ast, {\n  nodes: {\n    heading: {\n      render: 'Heading',\n      attributes: {\n        id: { type: String },\n        level: { type: Number },\n      },\n    },\n  },\n  tags: {\n    callout: {\n      render: 'Callout',\n      attributes: {\n        title: {\n          type: String,\n          description: 'The title displayed at the top of the callout',\n        },\n      },\n    },\n  },\n  variables: {\n    author: {\n      name: 'Wener',\n    },\n  },\n  functions: {\n    includes: {\n      transform(parameters, config) {\n        const [array, value] = Object.values(parameters);\n\n        return Array.isArray(array) ? array.includes(value) : false;\n      },\n    },\n  },\n  partials: {\n    'header.md': Markdoc.parse(`# My header`),\n  },\n});\n\n// toHTML\nconst html = Markdoc.renderers.html(content);\n// React\nconst children = Markdoc.renderers.react(content, React, { components });\n"})}),"\n",(0,a.jsx)(e.h2,{id:"\u8BED\u6CD5",children:"\u8BED\u6CD5"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-markdoc",children:'\x3c!-- Tag+\u5C5E\u6027 --\x3e\n{% callout type="check" %}\n  More content\n{% /callout %}\n\n{% image src="" /%}\n\n\x3c!-- Annotation --\x3e\n# Header {% #custom-id %}\n# Heading {% .custom-class-name-here %}\n\n\x3c!-- \u53D8\u91CF --\x3e\n{% $variable %}\n{% $markdoc.frontmatter.title %}\n\n\x3c!-- \u51FD\u6570 --\x3e\n# {% titleCase($markdoc.frontmatter.title) %}\n\n{% if equals(1, 2) %}\nShow the password\n{% /if %}\n\n{% tag title=uppercase($key) /%}\n'})}),"\n",(0,a.jsx)(e.h1,{id:"faq",children:"FAQ"}),"\n",(0,a.jsx)(e.h2,{id:"why-not-mdx",children:"Why not MDX"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["MDX\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"\u5141\u8BB8\u4EFB\u610F JS - docs as code"}),"\n",(0,a.jsx)(e.li,{children:"\u5141\u8BB8\u4EFB\u610F\u4EE3\u7801\u5BFC\u81F4\u6700\u7EC8\u4F1A\u8FC7\u5EA6\u590D\u6742"}),"\n",(0,a.jsxs)(e.li,{children:["\u8981\u6C42\u8BED\u6CD5\u4E25\u683C\u6B63\u786E - \u9519\u8BEF\u65E0\u6CD5\u7F16\u8BD1 - \u4F8B\u5982: \u4E0D\u5141\u8BB8\u5355\u72EC\u5B58\u5728 ",(0,a.jsx)(e.code,{children:"<"})," - \u4F1A\u5BFC\u81F4\u89E3\u6790\u9519\u8BEF"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(e.li,{children:["Markdoc\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsx)(e.li,{children:"\u9650\u5B9A\u5141\u8BB8\u7684 tag - docs as data"}),"\n",(0,a.jsx)(e.li,{children:"declarative"}),"\n",(0,a.jsx)(e.li,{children:"\u9488\u5BF9\u6587\u6863\u4E66\u5199"}),"\n",(0,a.jsx)(e.li,{children:"\u5141\u8BB8\u4E00\u5B9A\u7684\u9519\u8BEF\u8BED\u6CD5"}),"\n"]}),"\n"]}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(l,{...n})}):l(n)}},917776:function(n,e,t){t.d(e,{R:()=>s,x:()=>i});var r=t(7378);let a={},o=r.createContext(a);function s(n){let e=r.useContext(o);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:s(n.components),r.createElement(o.Provider,{value:e},n.children)}}}]);