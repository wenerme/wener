"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["86256"],{54356:function(n,e,t){t.r(e),t.d(e,{frontMatter:()=>l,toc:()=>d,default:()=>h,metadata:()=>i,assets:()=>o,contentTitle:()=>c});var i=JSON.parse('{"id":"howto/network/tinc-transparency-proxy","title":"\u5982\u4F55\u57FA\u4E8E TINC \u5B9E\u73B0\u900F\u660E\u4EE3\u7406","description":"\u573A\u666F","source":"@site/../notes/howto/network/tinc-transparency-proxy.md","sourceDirName":"howto/network","slug":"/howto/network/tinc-transparency-proxy","permalink":"/notes/howto/network/tinc-transparency-proxy","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/howto/network/tinc-transparency-proxy.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1639029574000,"frontMatter":{"id":"tinc-transparency-proxy","title":"\u5982\u4F55\u57FA\u4E8E TINC \u5B9E\u73B0\u900F\u660E\u4EE3\u7406","date":"2019-12-13T00:00:00.000Z"},"sidebar":"docs","previous":{"title":"\u5982\u4F55\u914D\u7F6E TINC \u5B9E\u73B0\u591A\u8DEF\u5BB9\u707E\uFF1F","permalink":"/notes/howto/network/tinc-multi-path-failover"},"next":{"title":"\u5982\u4F55\u901A\u8FC7 Ansible \u6765\u7BA1\u7406 AlpineLinux \uFF1F","permalink":"/notes/howto/ops/alpine-admin-ansible"}}'),r=t(86106),s=t(17776);let l={id:"tinc-transparency-proxy",title:"\u5982\u4F55\u57FA\u4E8E TINC \u5B9E\u73B0\u900F\u660E\u4EE3\u7406",date:new Date("2019-12-13T00:00:00.000Z")},c,o={},d=[{value:"\u573A\u666F",id:"\u573A\u666F",level:2},{value:"\u539F\u7406",id:"\u539F\u7406",level:2}];function a(n){let e={code:"code",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h2,{id:"\u573A\u666F",children:"\u573A\u666F"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://www.plantuml.com/plantuml/svg/SoWkIImgISaluKh9J2zABCXGS5UevihBJqcDBiv8B4YrJSglq2akgSn9jKtBpCb9JT59pi_9Bx8jAKhCAov8B4hDAz41IK14bPITd5nStPoKOhaWXaM3J2fEBR0rZENYIaykKD2rKoXApKciZCv9J4hDiRLvsjFwOk-Qf_qJxO0ACeiX2l9BIrABO2fUxfxnOjsI5zlNFv-o4QW8h1jJbOKU21he6vc0r82bG8eAai7MmcrRCktvtealkfgUD-sqIIhIjpCqq3C4GGEWBg3jC7MUmG7wB_PFU35XwTEfRM25pwTiVR9_uUE6nXUDKrusp08odY_V_RHh1Sn5C9rFTgnzldivn0Rz44y_PqpBZ24SIoCzGpCBiELWPwC4exE5gvcpfHBCAp3J8Q6W3_J3qzRD-k6PRfdePc6OvERcxE9Y13I9go0PPioppkvdStRf0_tqecKYkd8tIsSJeF9QBeVKl1HWmW00",alt:""})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u900F\u660E\u4EE3\u7406"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5728\u8DEF\u7531\u4E0A\u914D\u7F6E IP \u6BB5\u7684\u4E0B\u4E00\u8DF3\u4E3A\u4E2D\u7EE7\u8282\u70B9\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4E2D\u7EE7\u8282\u70B9\u901A\u8FC7 TINC \u8FDB\u884C IP \u6BB5\u8F6C\u53D1\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5C06\u8BF7\u6C42\u8F6C\u53D1\u5230\u4F4D\u4E8E\u5916\u90E8 TINC \u8282\u70B9"}),"\n",(0,r.jsx)(e.li,{children:"\u5B9E\u73B0\u5C40\u57DF\u7F51\u5185\u900F\u660E\u4EE3\u7406"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"\u4F8B\u5982 \u4E0A\u56FE\u4E2D\uFF0C\u5F53 \u624B\u673A/\u7535\u8111 \u8BBF\u95EE 8.8.8.0/24 \u7F51\u6BB5\u65F6\uFF0C\u7F51\u7EDC\u51FA\u53E3\u4E3A\u5916\u7F51\u8282\u70B9\u51FA\u53E3"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u4F7F\u7528\u573A\u666F"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["TINC \u4E2D\u7EE7\u8282\u70B9\u4F5C\u4E3A\u6865\u63A5\uFF0C\u6253\u901A\u4E0D\u540C\u7F51\u7EDC\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4F8B\u5982 Kubernates \u96C6\u7FA4\u4E2D\u4F7F\u7528 TINC \u8FDB\u884C\u6865\u63A5\u4E91\u4E0A\u4E91\u4E0B\u7F51\u7EDC"}),"\n",(0,r.jsx)(e.li,{children:"\u4F8B\u5982 Docker \u4F7F\u7528 TINC \u4F5C\u4E3A\u57FA\u7840\u7F51\u7EDC\uFF0C\u901A\u8FC7\u4E2D\u7EE7\u5B9E\u73B0\u6240\u6709\u7684\u5BB9\u5668\u5185\u90E8\u670D\u52A1\u8BBF\u95EE"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"\u5916\u90E8 IP \u4E3A VIP \u5B9E\u73B0\u9AD8\u53EF\u7528\u7684\u4EE3\u7406\u8BBF\u95EE"}),"\n",(0,r.jsx)(e.li,{children:"\u4E3A\u66F4\u667A\u80FD\u7684\u52A8\u6001\u8DEF\u7531\u505A\u94FA\u57AB"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u4F18\u52BF"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5B89\u5168 - \u4E0D\u9700\u8981\u66B4\u9732\u4EFB\u4F55\u989D\u5916\u7684\u5916\u90E8\u7AEF\u53E3\uFF0C\u4E00\u5207\u90FD\u4F7F\u7528 TINC \u5185\u90E8\u7F51\u7EDC"}),"\n",(0,r.jsx)(e.li,{children:"\u7EC4\u7F51\u7075\u6D3B - \u4EFB\u610F\u80FD\u52A0\u5165 TINC \u7684\u8282\u70B9\u3001\u4EFB\u610F\u6709\u8F6C\u53D1\u80FD\u529B\u7684\u7CFB\u7EDF"}),"\n",(0,r.jsx)(e.li,{children:"\u7F51\u7EDC\u4FBF\u643A - \u4E2D\u7EE7\u8282\u70B9\u53EF\u80FD\u5C31\u662F\u4E00\u4E2A\u6811\u8393\u6D3E"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u539F\u7406",children:"\u539F\u7406"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4E2D\u7EE7\u8282\u70B9\u662F\u4E00\u4E2A TINC \u7F51\u7EDC\u4E2D\u7684\u8282\u70B9\uFF0C\u4E0E\u5176\u5B83\u8282\u70B9\u76F8\u5F53\u4E8E\u662F\u6709\u4E00\u6761\u76F4\u8FDE\u7684\u7F51\u7EBF\uFF0C\u901A\u8FC7\u8FD9\u6761\u7F51\u7EBF\u8FDB\u884C\u5185\u90E8\u7684\u5305\u8F6C\u53D1"}),"\n",(0,r.jsxs)(e.li,{children:["IP \u8DEF\u7531\u5C31\u662F\u9010\u4E2A\u627E\u4E0B\u4E00\u8DF3\u7684\u5730\u5740\uFF0C\u8FD9\u91CC\u505A\u7684\u4E8B\u60C5\u5C31\u662F\u5C06\u90E8\u5206\u7F51\u6BB5\u7684\u4E0B\u4E00\u8DF3\u5730\u5740\u505A\u4E86\u4FEE\u6539\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["macOS ",(0,r.jsx)(e.code,{children:"route add -host 8.8.8.8 -interface tun0"})]}),"\n",(0,r.jsxs)(e.li,{children:["Linux ",(0,r.jsx)(e.code,{children:"ip ro add 8.8.8.8 via 10.1.1.10"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"\u8DEF\u7531\u5668\u90FD\u652F\u6301\u9759\u6001\u8DEF\u7531\u8868\uFF0C\u914D\u5408\u8DEF\u7531\u9759\u6001\u8DEF\u7531\u8868\u5C31\u80FD\u5B9E\u73B0\u65E0\u4FB5\u5165\u7684\u900F\u660E\u4EE3\u7406"}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}},17776:function(n,e,t){t.d(e,{R:()=>l,x:()=>c});var i=t(7378);let r={},s=i.createContext(r);function l(n){let e=i.useContext(s);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),i.createElement(s.Provider,{value:e},n.children)}}}]);