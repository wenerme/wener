"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["38458"],{53762:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>l,toc:()=>a,default:()=>h,metadata:()=>r,assets:()=>d,contentTitle:()=>c});var r=JSON.parse('{"id":"web/script/lib/js-lib-version","title":"JS Lib Version","description":"- TanStack Query/react-query v5","source":"@site/../notes/web/script/lib/js-lib-version.md","sourceDirName":"web/script/lib","slug":"/web/script/lib/js-lib-version","permalink":"/notes/web/script/lib/js-lib-version","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/script/lib/js-lib-version.md","tags":[{"inline":true,"label":"Version","permalink":"/notes/tags/version"},{"inline":true,"label":"FAQ","permalink":"/notes/tags/faq"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1708697175000,"frontMatter":{"tags":["Version","FAQ"]},"sidebar":"docs","previous":{"title":"JS Library FAQ","permalink":"/notes/web/script/lib/js-lib-faq"},"next":{"title":"jsdom","permalink":"/notes/web/script/lib/jsdom"}}'),i=s(86106),t=s(17776);let l={tags:["Version","FAQ"]},c="JS Lib Version",d={},a=[{value:"Patches",id:"patches",level:2},{value:"swc \u5347\u7EA7\u540E\u5BFC\u81F4 build \u591A\u4E86\u4E00\u5C42\u76EE\u5F55",id:"swc-\u5347\u7EA7\u540E\u5BFC\u81F4-build-\u591A\u4E86\u4E00\u5C42\u76EE\u5F55",level:3}];function o(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"js-lib-version",children:"JS Lib Version"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["TanStack Query/react-query v5\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://tanstack.com/query/v5/docs/framework/react/guides/migrating-to-v5",children:"Migrating to TanStack Query v5"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/trpc/trpc/issues/4218",children:"trpc#4218"})," v11"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["react v18\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://react.dev/blog/2022/03/08/react-18-upgrade-guide",children:"How to Upgrade to React 18"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["trpc\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://trpc.io/docs/migrate-from-v10-to-v11",children:"v10 -> v11"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["MikroORM v6\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://mikro-orm.io/blog/mikro-orm-6-released",children:"v6 Released"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://mikro-orm.io/docs/upgrading-v5-to-v6",children:"Upgrading from v5 to v6"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Node 18.12+, TS v5+"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"BaseEntity<E,'id'>"})," -> ",(0,i.jsx)(n.code,{children:"BaseEntity"})," \u79FB\u9664 \u7C7B\u578B\u53C2\u6570"]}),"\n",(0,i.jsx)(n.li,{children:"UseRequestContext -> CreateRequestContext, EnsureRequestContext"}),"\n",(0,i.jsxs)(n.li,{children:["OptionalProps \u53EF\u7528 Opt \u7C7B\u578B\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"fullName: string & Opt = '';"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u4E5F\u53EF\u4EE5 ",(0,i.jsx)(n.code,{children:"Opt<string>"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@Property({ hidden: true, nullable: true }) password?: string & Hidden;"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u4E5F\u53EF\u4EE5 ",(0,i.jsx)(n.code,{children:"Hidden<string>"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["PrimaryKeyType,PrimaryKeyType -> PrimaryKeyProp\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4FEE\u6539\u540E\u7684 PrimaryKeyProp \u53EA\u9700\u8981\u5236\u5B9A key"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"RequestContext.createAsync"})," -> ",(0,i.jsx)(n.code,{children:"RequestContext.create"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onUpdateIntegrity"})," -> ",(0,i.jsx)(n.code,{children:"updateRule"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"reflect-metadata v0.2"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"patches",children:"Patches"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"mailto:ts-node@11.0.0-beta.1.patch",children:"ts-node@11.0.0-beta.1.patch"})})}),"\n",(0,i.jsx)(n.p,{children:"ts-node \u517C\u5BB9\u65B0\u7248\u672C swc"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:"diff --git a/dist/transpilers/swc.js b/dist/transpilers/swc.js\nindex c334bd3b18b292c3f865639dca4080ff3dfe53e8..26c37e4b45177554f4a79e311775dab3e9085a59 100644\n--- a/dist/transpilers/swc.js\n+++ b/dist/transpilers/swc.js\n@@ -167,7 +167,7 @@ function createSwcOptions(compilerOptions, nodeModuleEmitKind, swcInstance, swcD\n                         : {}),\n                 }\n                 : undefined,\n-            swcrc: false,\n+            swcrc: true,\n             jsc: {\n                 externalHelpers: importHelpers,\n                 parser: {\n"})}),"\n",(0,i.jsx)(n.h1,{id:"faq",children:"FAQ"}),"\n",(0,i.jsx)(n.h3,{id:"swc-\u5347\u7EA7\u540E\u5BFC\u81F4-build-\u591A\u4E86\u4E00\u5C42\u76EE\u5F55",children:"swc \u5347\u7EA7\u540E\u5BFC\u81F4 build \u591A\u4E86\u4E00\u5C42\u76EE\u5F55"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# dist/src -> dist\nnpx swc ./src -d dist --strip-leading-paths\n"})})]})}function h(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},17776:function(e,n,s){s.d(n,{R:()=>l,x:()=>c});var r=s(7378);let i={},t=r.createContext(i);function l(e){let n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);