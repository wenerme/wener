"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["41669"],{74027:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>a,toc:()=>o,default:()=>h,metadata:()=>i,assets:()=>l,contentTitle:()=>r});var i=JSON.parse('{"id":"service/api/nacos","title":"nacos","description":"- \u975E Java \u7684 SDK \u8D28\u91CF\u5F88\u4F4E","source":"@site/../notes/service/api/nacos.md","sourceDirName":"service/api","slug":"/service/api/nacos","permalink":"/notes/service/api/nacos","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/api/nacos.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1699003495000,"frontMatter":{"title":"nacos"},"sidebar":"docs","previous":{"title":"JSON-RPC","permalink":"/notes/service/api/jsonrpc"},"next":{"title":"OpenAPI","permalink":"/notes/service/api/openapi/"}}'),c=s(86106),t=s(17776);let a={title:"nacos"},r="nacos",l={},o=[{value:"Deploy",id:"deploy",level:2},{value:"No DataSource set",id:"no-datasource-set",level:2},{value:"\u5FD8\u8BB0\u5BC6\u7801",id:"\u5FD8\u8BB0\u5BC6\u7801",level:2}];function d(n){let e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"nacos",children:"nacos"})}),"\n",(0,c.jsx)(e.admonition,{type:"caution",children:(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["\u975E Java \u7684 SDK \u8D28\u91CF\u5F88\u4F4E\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u4E0D\u4E00\u5B9A\u652F\u6301 auth\uFF0C\u56E0\u6B64\u53EF\u80FD\u76F4\u63A5\u7528\u4E0D\u4E86"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:["Java SDK\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["grpc \u4E0D\u652F\u6301 https - ",(0,c.jsx)(e.code,{children:"UNAVAILABLE: Network closed for unknown reason"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"GrpcClient \u5199\u6B7B usePlaintext"}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://github.com/alibaba/nacos/issues/7842",children:"#7842"})}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.li,{children:"v2 \u65E0 http client"}),"\n",(0,c.jsxs)(e.li,{children:["nacos.server.grpc.port.offset=1000\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"grpc \u7AEF\u53E3\u504F\u79FB\u91CF"}),"\n",(0,c.jsx)(e.li,{children:"8848 + 1000 = 9848"}),"\n",(0,c.jsx)(e.li,{children:"\u53EF\u80FD\u9700\u8981\u4FEE\u6539"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"https://github.com/alibaba/nacos",children:"alibaba/nacos"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"dynamic Naming And COnfiguration Service"}),"\n",(0,c.jsx)(e.li,{children:"\u670D\u52A1\u53D1\u73B0\u3001\u914D\u7F6E\u7BA1\u7406\u3001\u670D\u52A1\u7BA1\u7406"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"https://github.com/alibaba/nacos/blob/master/distribution/conf/application.properties",children:"https://github.com/alibaba/nacos/blob/master/distribution/conf/application.properties"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"server.servlet.contextPath=/nacos"}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"https://github.com/alibaba/nacos/blob/master/distribution/bin/startup.sh",children:"https://github.com/alibaba/nacos/blob/master/distribution/bin/startup.sh"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsxs)(e.li,{children:["embedded\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"-DembeddedStorage=true"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.li,{children:"JAVA_OPT"}),"\n",(0,c.jsxs)(e.li,{children:["MODE=standalone\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"-Xms512m -Xmx512m -Xmn256m -Dnacos.standalone=true"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"http://127.0.0.1:8848/nacos/",children:"http://127.0.0.1:8848/nacos/"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"nacos:nacos"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://github.com/alibaba/nacos/blob/develop/api/src/main/proto/nacos_grpc_service.proto",children:"https://github.com/alibaba/nacos/blob/develop/api/src/main/proto/nacos_grpc_service.proto"})}),"\n",(0,c.jsxs)(e.li,{children:["MySQL\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://github.com/alibaba/nacos/blob/develop/distribution/conf/mysql-schema.sql",children:"https://github.com/alibaba/nacos/blob/develop/distribution/conf/mysql-schema.sql"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-http-request",children:"### \u6CE8\u518C\nPOST http://127.0.0.1:8848/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&ip=20.18.7.10&port=8080\n\n### \u670D\u52A1\u53D1\u73B0\nPOST http://127.0.0.1:8848/nacos/v1/ns/instance/list?serviceName=nacos.naming.serviceName\n\n### \u53D1\u5E03\u914D\u7F6E\nPOST http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&group=test&content=helloWorld\n\n### \u83B7\u53D6\u914D\u7F6E\nPOST http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&group=test\n"})}),"\n",(0,c.jsx)(e.h2,{id:"deploy",children:"Deploy"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://nacos.io/zh-cn/docs/quick-start-docker.html",children:"https://nacos.io/zh-cn/docs/quick-start-docker.html"})}),"\n",(0,c.jsxs)(e.li,{children:[(0,c.jsx)(e.a,{href:"https://github.com/nacos-group/nacos-docker",children:"nacos-group/nacos-docker"}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"\u53EF\u4EE5\u914D\u7F6E JAVA_OPT"}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(e.li,{children:(0,c.jsx)(e.a,{href:"https://github.com/nacos-group/nacos-k8s",children:"nacos-group/nacos-k8s"})}),"\n"]}),"\n",(0,c.jsx)(e.h1,{id:"faq",children:"FAQ"}),"\n",(0,c.jsx)(e.h2,{id:"no-datasource-set",children:"No DataSource set"}),"\n",(0,c.jsx)(e.p,{children:"\u53EF\u80FD\u662F\u6CA1\u5EFA\u8868"}),"\n",(0,c.jsx)(e.h2,{id:"\u5FD8\u8BB0\u5BC6\u7801",children:"\u5FD8\u8BB0\u5BC6\u7801"}),"\n",(0,c.jsx)(e.pre,{children:(0,c.jsx)(e.code,{className:"language-sql",children:"UPDATE users\nSET `password` = '$2a$10$eSH9UR8RJ2s8VV9mHPPkB.PhOeVaIGBLNAgQEVx3f.y9zK8svGYJW'\nWHERE `username` = 'nacos'\n"})}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"jerryjin666"}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,c.jsx)(e,{...n,children:(0,c.jsx)(d,{...n})}):d(n)}},17776:function(n,e,s){s.d(e,{R:()=>a,x:()=>r});var i=s(7378);let c={},t=i.createContext(c);function a(n){let e=i.useContext(t);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:a(n.components),i.createElement(t.Provider,{value:e},n.children)}}}]);