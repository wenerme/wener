"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["89505"],{34668:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>t,toc:()=>o,default:()=>a,metadata:()=>s,assets:()=>d,contentTitle:()=>c});var s=JSON.parse('{"id":"web/web-faq","title":"Web FAQ","description":"BOM vs DOM","source":"@site/../notes/web/web-faq.md","sourceDirName":"web","slug":"/web/faq","permalink":"/notes/web/faq","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/web-faq.md","tags":[{"inline":true,"label":"FAQ","permalink":"/notes/tags/faq"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1747727311000,"frontMatter":{"title":"Web FAQ","tags":["FAQ"]},"sidebar":"docs","previous":{"title":"Web Awesome","permalink":"/notes/web/awesome"},"next":{"title":"vitals","permalink":"/notes/web/vitals"}}'),l=i(86106),r=i(17776);let t={title:"Web FAQ",tags:["FAQ"]},c="Web FAQ",d={},o=[{value:"BOM vs DOM",id:"bom-vs-dom",level:2},{value:"Headers",id:"headers",level:2},{value:"global",id:"global",level:2},{value:"trailing slash",id:"trailing-slash",level:2},{value:"Content SecurityPolicy",id:"content-securitypolicy",level:2},{value:"web worker vs serviceWorker vs worklet",id:"web-worker-vs-serviceworker-vs-worklet",level:2},{value:"\u56FE\u7247\u61D2\u52A0\u8F7D",id:"\u56FE\u7247\u61D2\u52A0\u8F7D",level:2},{value:"HTTP Headers",id:"http-headers",level:2},{value:"websocket",id:"websocket",level:3},{value:"\u83B7\u53D6\u5F53\u524D\u811A\u672C\u5BF9\u8C61",id:"\u83B7\u53D6\u5F53\u524D\u811A\u672C\u5BF9\u8C61",level:2},{value:"sessionStorage vs localStorage",id:"sessionstorage-vs-localstorage",level:2},{value:"origin",id:"origin",level:2},{value:"window \u4E8B\u4EF6",id:"window-\u4E8B\u4EF6",level:2},{value:"websocket auth",id:"websocket-auth",level:2},{value:"cross-origin vs. same-site",id:"cross-origin-vs-same-site",level:2},{value:"Possible side-effect in debug-evaluate",id:"possible-side-effect-in-debug-evaluate",level:2},{value:"passive event listener",id:"passive-event-listener",level:2},{value:"Failed to execute &#39;postMessage&#39; on &#39;DOMWindow&#39;: The target origin provided does not match the recipient window&#39;s origin",id:"failed-to-execute-postmessage-on-domwindow-the-target-origin-provided-does-not-match-the-recipient-windows-origin",level:2},{value:"slug",id:"slug",level:2},{value:"crossOrigin",id:"crossorigin",level:2},{value:"rel",id:"rel",level:2},{value:"URL.createObjectURL",id:"urlcreateobjecturl",level:2}];function h(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"web-faq",children:"Web FAQ"})}),"\n",(0,l.jsx)(n.h2,{id:"bom-vs-dom",children:"BOM vs DOM"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["BOM - Browser Object Model\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6D4F\u89C8\u5668\u73AF\u5883"}),"\n",(0,l.jsx)(n.li,{children:"window, navigator, screen, location, history"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["DOM - Document Object Model\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6587\u6863\u5185\u5BB9\u548C\u7ED3\u6784"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"headers",children:"Headers"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["X-Response-Time\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5355\u4F4D ms"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"X-Powered-By"}),"\n",(0,l.jsx)(n.li,{children:"X-AspNet-Version"}),"\n",(0,l.jsx)(n.li,{children:"X-Frame-Options"}),"\n",(0,l.jsx)(n.li,{children:"Server-Timing"}),"\n",(0,l.jsx)(n.li,{children:"X-API-Key"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"global",children:"global"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["globalThis\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"ECMAScript 2020"}),"\n",(0,l.jsx)(n.li,{children:"Chrome 71"}),"\n",(0,l.jsx)(n.li,{children:"NodeJS 12"}),"\n",(0,l.jsx)(n.li,{children:"Safari 12.1"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"global - Node.js"}),"\n",(0,l.jsx)(n.li,{children:"self - Web Worker"}),"\n",(0,l.jsx)(n.li,{children:"window - Browser"}),"\n",(0,l.jsx)(n.li,{children:"this - iife \u73AF\u5883"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"trailing-slash",children:"trailing slash"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://github.com/slorber/trailing-slash-guide",children:"slorber/trailing-slash-guide"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"content-securitypolicy",children:"Content SecurityPolicy"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:"<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self'; img-src https://*; child-src 'none';\" />\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"default-src 'self'; script-src 'none'; sandbox;"})}),"\n",(0,l.jsx)(n.li,{children:"Mitigating cross-site scripting"}),"\n",(0,l.jsx)(n.li,{children:"Mitigating packet sniffing attacks"}),"\n",(0,l.jsx)(n.li,{children:"XSS"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP",children:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://content-security-policy.com/",children:"https://content-security-policy.com/"})}),"\n",(0,l.jsxs)(n.li,{children:["Content-Security-Policy\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy",children:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"web-worker-vs-serviceworker-vs-worklet",children:"web worker vs serviceWorker vs worklet"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Worklets\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6D4F\u89C8\u5668\u5904\u7406 pipeline hook"}),"\n",(0,l.jsx)(n.li,{children:"\u5229\u7528\u6D4F\u89C8\u5668\u5E95\u5C42\u673A\u5236 - styling, layout, audio"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://drafts.css-houdini.org/css-animation-worklet/",children:"CSS Animation Worklet API"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://drafts.css-houdini.org/css-layout-api-1/#layout-worklet",children:"Layout Worklet"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Service workers\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6D4F\u89C8\u5668 \u7F51\u7EDC\u7684\u4EE3\u7406"}),"\n",(0,l.jsx)(n.li,{children:"\u62E6\u622A\u8BF7\u6C42\uFF0C\u91CD\u5B9A\u5411\u5230\u7F13\u5B58\uFF0C\u5B9E\u73B0\u79BB\u7EBF\u8BBF\u95EE\u80FD\u529B"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Web workers\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u591A\u7EBF\u7A0B"}),"\n",(0,l.jsx)(n.li,{children:"\u901A\u7528"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// web worker\nconst myWorker = new Worker('worker.js');\nmyWorker.postMessage('Hello!');\nmyWorker.onmessage = function (e) {\n  console.log(e.data);\n};\n\n// serviceWorker\nnavigator.serviceWorker.register('/service-worker.js');\n\n// worklet\nCSS.paintWorklet.addModule('myWorklet.js');\n"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{}),(0,l.jsx)(n.th,{children:"Web Workers"}),(0,l.jsx)(n.th,{children:"Service Workers"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Instances"}),(0,l.jsx)(n.td,{children:"Many per tab"}),(0,l.jsx)(n.td,{children:"One for all tabs"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Lifespan"}),(0,l.jsx)(n.td,{children:"Same as tab"}),(0,l.jsx)(n.td,{children:"Independent"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Intended use"}),(0,l.jsx)(n.td,{children:"Parallelism"}),(0,l.jsx)(n.td,{children:"Offline support"})]})]})]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://html5workertest.com/",children:"https://html5workertest.com/"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u56FE\u7247\u61D2\u52A0\u8F7D",children:"\u56FE\u7247\u61D2\u52A0\u8F7D"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<img loading="lazy" src="https://" />\n'})}),"\n",(0,l.jsx)(n.h2,{id:"http-headers",children:"HTTP Headers"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:'sec-ch-ua: " Not;A Brand";v="99", "Google Chrome";v="91", "Chromium";v="91"\nsec-ch-ua-mobile: ?0\nSec-Fetch-Dest: empty\nSec-Fetch-Mode: cors\nSec-Fetch-Site: same-site\n'})}),"\n",(0,l.jsx)(n.h3,{id:"websocket",children:"websocket"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits\nSec-WebSocket-Key: R9DINzhe/9zYRFOjZEd41A==\nSec-WebSocket-Protocol: sip\nSec-WebSocket-Version: 13\nUpgrade: websocket\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u83B7\u53D6\u5F53\u524D\u811A\u672C\u5BF9\u8C61",children:"\u83B7\u53D6\u5F53\u524D\u811A\u672C\u5BF9\u8C61"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"document.currentScript"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-html",children:'<script data-option="value" src="lib.js"><\/script>\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",metastring:'title="lib.js"',children:"console.log(document.currentScript.dataset.option);\n"})}),"\n",(0,l.jsx)(n.h2,{id:"sessionstorage-vs-localstorage",children:"sessionStorage vs localStorage"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["sessionStorage\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"tab/window \u7EAC\u5EA6 - \u5173\u95ED\u5219\u6E05\u7406"}),"\n",(0,l.jsx)(n.li,{children:"\u65B0 tab/window \u4F1A copy \u5185\u5BB9"}),"\n",(0,l.jsx)(n.li,{children:"\u4FEE\u6539\u4E92\u76F8\u4E0D\u5F71\u54CD"}),"\n",(0,l.jsx)(n.li,{children:"\u9650\u5236 5 MB"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["localStorage\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"origin \u7EAC\u5EA6 - \u6301\u4E45\u5316"}),"\n",(0,l.jsx)(n.li,{children:"\u4FEE\u6539\u53EF\u8DE8 tab \u4F20\u9012"}),"\n",(0,l.jsx)(n.li,{children:"\u53EF\u76D1\u542C\u53D8\u5316"}),"\n",(0,l.jsx)(n.li,{children:"10 MB per origin"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// \u76D1\u542C localStorage\nwindow.addEventListener('storage', (e) => console.log(e));\n"})}),"\n",(0,l.jsx)(n.h2,{id:"origin",children:"origin"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u6D4F\u89C8\u5668\u5B89\u5168\u9694\u79BB\u7684\u4E00\u4E2A\u7EAC\u5EA6"}),"\n",(0,l.jsx)(n.li,{children:"schema+host - \u4E0D\u5305\u542B\u8DEF\u5F84"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Glossary/Origin",children:"https://developer.mozilla.org/en-US/docs/Glossary/Origin"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"location.origin;\n"})}),"\n",(0,l.jsx)(n.h2,{id:"window-\u4E8B\u4EF6",children:"window \u4E8B\u4EF6"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers",children:"https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"websocket-auth",children:"websocket auth"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"cookie - \u6700\u7B80\u5355"}),"\n",(0,l.jsx)(n.li,{children:"\u534F\u8BAE\u5185\u6388\u6743"}),"\n",(0,l.jsx)(n.li,{children:"otp \u65B9\u5F0F"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://devcenter.heroku.com/articles/websocket-security",children:"https://devcenter.heroku.com/articles/websocket-security"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"cross-origin-vs-same-site",children:"cross-origin vs. same-site"}),"\n",(0,l.jsx)(n.h2,{id:"possible-side-effect-in-debug-evaluate",children:"Possible side-effect in debug-evaluate"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u53EF\u80FD\u662F console.log \u65F6\u4F20\u5165\u7684\u503C\u5305\u542B\u4E86\u592A\u591A\u4E1C\u897F\uFF0C\u5176\u4E2D\u90E8\u5206\u5728 eval \u65F6\u89E6\u53D1\u4E86\u4E00\u4E9B\u989D\u5916\u7684\u4E8B\u60C5"}),"\n",(0,l.jsx)(n.li,{children:"Chrome \u7684\u68C0\u6D4B\u673A\u5236"}),"\n",(0,l.jsx)(n.li,{children:"\u76EE\u524D Promise reject \u4F1A\u51FA\u73B0\uFF0C\u5373\u4FBF\u65E0 side-effect"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://bugs.chromium.org/p/chromium/issues/detail?id=1246911",children:"https://bugs.chromium.org/p/chromium/issues/detail?id=1246911"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"[Violation] Added non-passive event listener to a scroll-blocking 'touchstart' event. Consider marking event handler as 'passive' to make the page more responsive. See https://www.chromestatus.com/feature/5745543795965952\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"useOnClickOutside \u5904\u7406 touchstart \u65F6\u89E6\u53D1\uFF0C\u9700\u8981\u4F20\u5165 passive \u53C2\u6570"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"passive-event-listener",children:"passive event listener"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4E0D\u7B49\u5F85\u4E8B\u4EF6\u5904\u7406\u5B8C\u6210\uFF0C\u76F4\u63A5\u6267\u884C\u4E0B\u4E00\u4E2A\u4E8B\u4EF6"}),"\n",(0,l.jsx)(n.li,{children:"\u56E0\u6B64 preventDefault \u4E0D\u4F1A\u751F\u6548"}),"\n",(0,l.jsxs)(n.li,{children:["\u5BF9\u4E8E\u6027\u80FD\u5F71\u54CD\u8F83\u5927\u7684 event listener\uFF0C\u53EF\u4EE5\u4F7F\u7528 passive \u4F18\u5316\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4F8B\u5982 scroll\u3001wheel\u3001touchstart\u3001touchmove"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Chrome 51+"}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://github.com/facebook/react/issues/6436",children:"react#6436"})," Support Passive Event Listeners"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"failed-to-execute-postmessage-on-domwindow-the-target-origin-provided-does-not-match-the-recipient-windows-origin",children:"Failed to execute 'postMessage' on 'DOMWindow': The target origin provided does not match the recipient window's origin"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u786E\u4FDD iframe \u5B8C\u5168\u52A0\u8F7D"}),"\n",(0,l.jsx)(n.li,{children:"sandbox=allow-same-origin"}),"\n",(0,l.jsxs)(n.li,{children:["\u5C1D\u8BD5 ",(0,l.jsx)(n.code,{children:"frame.postMessage(\"hello world!\", '*')"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"slug",children:"slug"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4E00\u4E2A\u7B80\u77ED\u800C\u660E\u786E\u7684\u6807\u7B7E"}),"\n",(0,l.jsx)(n.li,{children:"\u8868\u8FBE\u6838\u5FC3\u542B\u4E49"}),"\n",(0,l.jsx)(n.li,{children:"\u7F8E\u5316 URL - \u4EA7\u751F\u66F4\u53CB\u597D\u7684\u8DEF\u5F84"}),"\n",(0,l.jsx)(n.li,{children:"\u901A\u5E38\u662F\u552F\u4E00\u7684 - \u8F85\u52A9\u6807\u8BC6\u6570\u636E"}),"\n",(0,l.jsx)(n.li,{children:"\u53EF\u80FD\u662F\u81EA\u52A8\u8F6C\u5316\u7684\uFF0C\u4E5F\u53EF\u80FD\u662F\u624B\u52A8\u6307\u5B9A"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"crossorigin",children:"crossOrigin"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["crossorigin - \u63A7\u5236 Origin \u5934 \u548C credentials\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["anonymous\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4E0D\u5305\u542B credentials - cookies, x.509 certs, Authorization"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["use-credentials\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5305\u542B credentials"}),"\n",(0,l.jsx)(n.li,{children:"\u670D\u52A1\u7AEF\u901A\u8FC7 Access-Control-Allow-Credentials: true \u63A7\u5236"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"\u5F71\u54CD\u662F\u5426\u5305\u542B Origin \u5934"}),"\n",(0,l.jsx)(n.li,{children:"\u670D\u52A1\u7AEF\u901A\u8FC7 Access-Control-Allow-Origin \u63A7\u5236"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["referrerpolicy - \u63A7\u5236 referrer \u5934\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"no-referrer"}),"\n",(0,l.jsx)(n.li,{children:"no-referrer-when-downgrade - \u53EA\u6709 TLS/HTTPS \u624D\u53D1\u9001 Referer"}),"\n",(0,l.jsx)(n.li,{children:"origin - Referer \u8BBE\u7F6E\u4E3A\u5F53\u524D origin"}),"\n",(0,l.jsx)(n.li,{children:"same-origin - cross-origin \u4E0D\u8BBE\u7F6E Referer"}),"\n",(0,l.jsx)(n.li,{children:"strict-origin - \u4E0D\u5141\u8BB8 https -> http \u7684 origin"}),"\n",(0,l.jsx)(n.li,{children:"origin-when-cross-origin"}),"\n",(0,l.jsx)(n.li,{children:"strict-origin-when-cross-origin"}),"\n",(0,l.jsx)(n.li,{children:"unsafe-url - \u5305\u542B\u8DEF\u5F84\u4FE1\u606F"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u652F\u6301\u7684\u6807\u7B7E img, audio, video, link, script"}),"\n",(0,l.jsxs)(n.li,{children:["script\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u65E0\u6CD5\u4F7F\u7528 window.onerror"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["audio, video, img crossorigin\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u5F71\u54CD\u662F\u5426\u80FD\u591F\u8BBF\u95EE image \u6570\u636E"}),"\n",(0,l.jsx)(n.li,{children:"\u5F71\u54CD canvas \u80FD\u5426\u4F7F\u7528 img"}),"\n",(0,l.jsx)(n.li,{children:"\u6807\u8BB0\u4E3A tainted"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"rel",children:"rel"}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"a \u7B49\u540C\u4E8E area \u6548\u679C"}),"\n",(0,l.jsx)(n.li,{children:"\u652F\u6301\u7684\u6807\u7B7E a, area, link, form"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel",children:"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/rel"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"urlcreateobjecturl",children:"URL.createObjectURL"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["URL.createObjectURL\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"MediaSource, Blob, File -> URL"}),"\n",(0,l.jsx)(n.li,{children:"\u751F\u6210\u4E00\u4E2A URL\uFF0C\u6DFB\u52A0\u5BF9 Object \u7684\u5F15\u7528"}),"\n",(0,l.jsxs)(n.li,{children:["\u6709\u4E9B\u573A\u666F\u521B\u5EFA Object URL \u4E0D\u4E00\u5B9A\u9700\u8981\u5173\u5FC3 revoke\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u4F8B\u5982 \u78C1\u76D8\u4E0A\u7684 File"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.li,{children:"\u8C03\u7528 URL.revokeObjectURL \u4E5F\u4E0D\u4F1A\u7ACB\u5373\u91CA\u653E\u5185\u5B58\uFF0C\u53EA\u662F\u51CF\u5C11 ref \u5F15\u7528"}),"\n"]})]})}function a(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},17776:function(e,n,i){i.d(n,{R:()=>t,x:()=>c});var s=i(7378);let l={},r=s.createContext(l);function t(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);