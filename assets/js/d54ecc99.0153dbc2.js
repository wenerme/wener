"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["65476"],{87529:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>r,toc:()=>a,default:()=>o,metadata:()=>s,assets:()=>d,contentTitle:()=>c});var s=JSON.parse('{"id":"db/schema/README","title":"Service Schema","description":"\u89C4\u5219","source":"@site/../notes/db/schema/README.md","sourceDirName":"db/schema","slug":"/db/schema/","permalink":"/notes/db/schema/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/db/schema/README.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1709694572000,"frontMatter":{"title":"Service Schema"},"sidebar":"docs","previous":{"title":"yugabyte-db","permalink":"/notes/db/relational/yugabytedb"},"next":{"title":"\u641C\u7D22","permalink":"/notes/db/search/"}}'),i=t(86106),l=t(17776);let r={title:"Service Schema"},c="\u6570\u636E\u548C\u7ED3\u6784",d={},a=[{value:"\u89C4\u5219",id:"\u89C4\u5219",level:2},{value:"i18n",id:"i18n",level:2}];function h(e){let n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u6570\u636E\u548C\u7ED3\u6784",children:"\u6570\u636E\u548C\u7ED3\u6784"})}),"\n",(0,i.jsx)(n.h2,{id:"\u89C4\u5219",children:"\u89C4\u5219"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u4E3B\u952E ",(0,i.jsx)(n.code,{children:"tagid_ULID"})," \u6216 ",(0,i.jsx)(n.code,{children:"tagid_UUIDv7"})]}),"\n",(0,i.jsxs)(n.li,{children:["\u8868\u540D\u5355\u6570\u5F62\u5F0F - singularity\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u7279\u6B8A\u60C5\u51B5\u9664\u5916 - users, roles - \u907F\u514D\u51B2\u7A81"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["table prefix over schema\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"wecom.users -> wecom_users"}),"\n",(0,i.jsx)(n.li,{children:"\u628A schema \u4FDD\u7559\u7ED9\u4E1A\u52A1/\u79DF\u6237"}),"\n",(0,i.jsx)(n.li,{children:"\u8BA9 schema \u66F4\u5BB9\u6613\u8FC1\u79FB"}),"\n",(0,i.jsx)(n.li,{children:"\u907F\u514D\u51FA\u9519"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"\u7528 \u8868 \u8BB0\u5F55\u679A\u4E3E"}),"\n",(0,i.jsx)(n.li,{children:"\u7528 \u8868 \u8BB0\u5F55 EntitySchema"}),"\n",(0,i.jsxs)(n.li,{children:["\u670D\u52A1\u5206\u5C42\u4E3A\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Resource - REST, GQL"}),"\n",(0,i.jsx)(n.li,{children:"EntityService - RPC - \u8D70\u7F51\u7EDC"}),"\n",(0,i.jsx)(n.li,{children:"Entity - Native"}),"\n",(0,i.jsx)(n.li,{children:"DB"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"i18n",children:"i18n"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["multi column\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"create table article\n(\n    title    text,\n    title_en text\n);\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["by message id\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"create table message\n(\n    id    text,\n    text  text,\n    en    text,\n    en_US text,\n    cn    text,\n    zh_CN text\n);\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["by jsonb\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'create table message\n(\n    id    text,\n    title jsonb\n);\ninsert into message (id, title)\nvalues (\'help\',\'{"zh_CN":"","en":""}\'::jsonb);\n'})}),"\n"]}),"\n"]})]})}function o(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},17776:function(e,n,t){t.d(n,{R:()=>r,x:()=>c});var s=t(7378);let i={},l=s.createContext(i);function r(e){let n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);