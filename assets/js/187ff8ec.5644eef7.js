"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["643362"],{690339:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>r,toc:()=>d,default:()=>h,metadata:()=>s,assets:()=>a,contentTitle:()=>o});var s=JSON.parse('{"id":"embedded/serial","title":"Serial Console & Communication","description":"Notes on using serial consoles, managing USB-serial devices, and troubleshooting connectivity issues.","source":"@site/../notes/embedded/serial.md","sourceDirName":"embedded","slug":"/embedded/serial","permalink":"/notes/embedded/serial","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/embedded/serial.md","tags":[{"inline":true,"label":"Embedded","permalink":"/notes/tags/embedded"},{"inline":true,"label":"Serial","permalink":"/notes/tags/serial"},{"inline":true,"label":"UART","permalink":"/notes/tags/uart"},{"inline":true,"label":"Linux","permalink":"/notes/tags/linux"},{"inline":true,"label":"macOS","permalink":"/notes/tags/mac-os"},{"inline":true,"label":"Troubleshooting","permalink":"/notes/tags/troubleshooting"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"Serial Console & Communication","tags":["Embedded","Serial","UART","Linux","macOS","Troubleshooting"]},"sidebar":"docs","previous":{"title":"Orange Pi (\u9999\u6A59\u6D3E) Single Board Computers","permalink":"/notes/embedded/sbc/opi/"},"next":{"title":"System on a Chip (SoC) & Microcontrollers","permalink":"/notes/embedded/soc"}}'),t=i(486106),l=i(917776);let r={title:"Serial Console & Communication",tags:["Embedded","Serial","UART","Linux","macOS","Troubleshooting"]},o="Serial Console & Communication",a={},d=[{value:"Documentation &amp; Guides",id:"documentation--guides",level:2},{value:"Common Tools",id:"common-tools",level:2},{value:"Usage Examples",id:"usage-examples",level:2},{value:"Troubleshooting (FAQ)",id:"troubleshooting-faq",level:2},{value:"USB Serial Device Not Showing /dev/tty*",id:"usb-serial-device-not-showing-devtty",level:3},{value:"cu._ vs tty._ on macOS/Unix",id:"cu_-vs-tty_-on-macosunix",level:3},{value:"Resetting a USB Port",id:"resetting-a-usb-port",level:3}];function c(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"serial-console--communication",children:"Serial Console & Communication"})}),"\n",(0,t.jsx)(n.p,{children:"Notes on using serial consoles, managing USB-serial devices, and troubleshooting connectivity issues."}),"\n",(0,t.jsx)(n.h2,{id:"documentation--guides",children:"Documentation & Guides"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://tldp.org/HOWTO/Remote-Serial-Console-HOWTO/",children:"Remote Serial Console HOWTO"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://tldp.org/HOWTO/Serial-Programming-HOWTO/",children:"Serial Programming HOWTO"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://www.tldp.org/HOWTO/Modem-HOWTO-18.html",children:"Modem HOWTO"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://www.linux-usb.org/tools.html",children:"Linux USB Tools"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"common-tools",children:"Common Tools"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"minicom"}),": Classic serial communication program. ",(0,t.jsx)(n.a,{href:"https://linux.die.net/man/1/minicom",children:"Man page"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"screen"}),": Terminal multiplexer often used as a simple serial client."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"stty"}),": Set or display terminal line characteristics. ",(0,t.jsx)(n.a,{href:"https://linux.die.net/man/1/stty",children:"Man page"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"setserial"}),": Configuration tool for serial ports. ",(0,t.jsx)(n.a,{href:"https://linux.die.net/man/1/statserial",children:"Man page"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# Initialize minicom setup\n# If characters display incorrectly, try: LANG="en_US.UTF-8"\nminicom -s\n\n# Connect using screen\nscreen /dev/ttyS0 115200\n# To exit: press Ctrl-A then Ctrl-\\\n\n# View serial port status\nsetserial -g /dev/ttyUSB0\n'})}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting-faq",children:"Troubleshooting (FAQ)"}),"\n",(0,t.jsx)(n.h3,{id:"usb-serial-device-not-showing-devtty",children:"USB Serial Device Not Showing /dev/tty*"}),"\n",(0,t.jsx)(n.p,{children:"If the kernel recognizes the USB device but doesn't attach it to a serial driver, you can try manual intervention."}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check Logs"}),":\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"dmesg | tail\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Force Driver Attachment"}),":\nIf you identify the VID and PID (e.g., ",(0,t.jsx)(n.code,{children:"067b:2303"}),"), you can tell the generic driver to handle it:\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"modprobe usbserial\necho '067b 2303' > /sys/bus/usb-serial/drivers/generic/new_id\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Automate with Udev"}),":\nCreate ",(0,t.jsx)(n.code,{children:"/etc/udev/rules.d/99-ftdi.rules"}),":\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:'ACTION=="add", ATTRS{idVendor}=="067b", ATTRS{idProduct}=="2303", RUN+="/sbin/modprobe ftdi_sio", RUN+="/bin/sh -c \'echo 067b 2303 > /sys/bus/usb-serial/drivers/ftdi_sio/new_id\'"\n'})}),"\nReload udev:\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"udevadm control --reload\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"cu_-vs-tty_-on-macosunix",children:"cu._ vs tty._ on macOS/Unix"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"/dev/tty.*"}),': The "call-in" device. It blocks on ',(0,t.jsx)(n.code,{children:"open()"})," until DCD (Data Carrier Detect) is asserted by hardware (e.g., a modem establishes a connection)."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"/dev/cu.*"}),': The "call-out" device (Call-Unit). It opens immediately regardless of DCD state.']}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Usage"}),": Use ",(0,t.jsx)(n.code,{children:"cu.*"})," for outgoing serial communication (like connecting to an MCU) to avoid hanging on DCD."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"http://stackoverflow.com/questions/8632586",children:"StackOverflow - Difference between tty and cu devices"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"resetting-a-usb-port",children:"Resetting a USB Port"}),"\n",(0,t.jsx)(n.p,{children:"If a device becomes unresponsive, you may need to reset the USB bus or port from the command line."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://askubuntu.com/questions/645/",children:"How to reset a USB device (AskUbuntu)"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},917776:function(e,n,i){i.d(n,{R:()=>r,x:()=>o});var s=i(7378);let t={},l=s.createContext(t);function r(e){let n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);