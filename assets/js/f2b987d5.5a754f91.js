"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["45603"],{26361:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>l,toc:()=>c,default:()=>h,metadata:()=>i,assets:()=>o,contentTitle:()=>a});var i=JSON.parse('{"id":"service/wiki/wikijs","title":"Wiki.js","description":"- Requarks/wiki \u662F\u4EC0\u4E48\uFF1F","source":"@site/../notes/service/wiki/wikijs.md","sourceDirName":"service/wiki","slug":"/service/wiki/wikijs","permalink":"/notes/service/wiki/wikijs","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/wiki/wikijs.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1756017263000,"frontMatter":{"title":"Wiki.js"},"sidebar":"docs","previous":{"title":"Web Clipper","permalink":"/notes/service/wiki/web-clipper"},"next":{"title":"Workflow","permalink":"/notes/service/workflow/"}}'),r=s(86106),t=s(17776);let l={title:"Wiki.js"},a="Wiki.js",o={},c=[{value:"\u914D\u7F6E",id:"\u914D\u7F6E",level:2},{value:"Kubernetes",id:"kubernetes",level:2}];function d(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"wikijs",children:"Wiki.js"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/Requarks/wiki",children:"Requarks/wiki"})," \u662F\u4EC0\u4E48\uFF1F\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"AGPL-3.0"}),"\n",(0,r.jsx)(n.li,{children:"\u652F\u6301 Markdown \u7684 Wiki"}),"\n",(0,r.jsx)(n.li,{children:"\u7C7B\u4F3C\u4E8E\u8BED\u96C0\u4F46\u662F\u652F\u6301 Markdown"}),"\n",(0,r.jsx)(n.li,{children:"\u652F\u6301\u6587\u4EF6\uFF0C\u652F\u6301\u56FE\u7247\uFF0C\u652F\u6301 Git \u540E\u7AEF\uFF0C\u652F\u6301\u641C\u7D22"}),"\n",(0,r.jsx)(n.li,{children:"Nodejs 10.12+"}),"\n",(0,r.jsxs)(n.li,{children:["\u652F\u6301 MySQL, MariaDB, PostgreSQL, MSSQL, SQLite3\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u63A8\u8350\u4F7F\u7528 PostgreSQL"}),"\n",(0,r.jsx)(n.li,{children:"\u591A\u526F\u672C\u53EA\u652F\u6301 PostgreSQL"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\u8981\u6C42\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"2 CPU 1G \u5185\u5B58"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://docs.requarks.io/auth",children:"\u6388\u6743"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"CAS\u3001LDAP/AD\u3001SAML 2.0\u3001Local"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Docker \u5B89\u88C5\n# https://docs.requarks.io/install/docker\n# SQLite \u542F\u52A8\ndocker run --rm -it \\\n  -p 8080:3000 \\\n  -v $PWD/wiki:/data \\\n  -e "DB_TYPE=sqlite" \\\n  -e "DB_FILEPATH=/data/wiki.sqlite" \\\n  --name wiki requarks/wiki:2\n\n# PG \u542F\u52A8\ndocker run -d --restart unless-stopped \\\n  -p 8080:3000 \\\n  -e "DB_TYPE=postgres"\n  -e "DB_HOST=db"\n  -e "DB_PORT=5432"\n  -e "DB_USER=wikijs"\n  -e "DB_PASS=wikijsrocks"\n  -e "DB_NAME=wiki" \\\n  --name wiki requarks/wiki:2\n'})}),"\n",(0,r.jsx)(n.h2,{id:"\u914D\u7F6E",children:"\u914D\u7F6E"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://docs.requarks.io/install/config",children:"Configuration"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/Requarks/wiki/blob/dev/config.sample.yml",children:"config.sample.yml"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"bindIP: 0.0.0.0\nport: 3000\n# error, warn, info, verbose, debug, silly\nlogLevel: info\nuploads:\n  # \u9ED8\u8BA4 5 MB\n  maxFileSize: 5242880\n  maxFiles: 10\n\n# \u79BB\u7EBF\u6A21\u5F0F - \u907F\u514D\u4E0B\u8F7D\u66F4\u65B0\noffline: true\n\n# HA \u6A21\u5F0F - \u9700\u8981 PostgreSQL\nha: true\n\n# \u4E34\u65F6\u6570\u636E\u76EE\u5F55\ndataPath: ./data\n---\ndb:\n  type: postgres\n  host: localhost\n  port: 5432\n  user: wikijs\n  pass: wikijsrocks\n  db: wiki\n  # SQLite\n  # type: sqlite\n  # storage: db.sqlite\n# DB \u8FDE\u63A5\u6C60\npool:\n  min: 2\n  max: 10\n\n---\nssl:\n  enabled: true\n  port: 3443\n  provider: custom\n\n  format: pem\n  key: path/to/key.pem\n  cert: path/to/cert.pem\n  passphrase: null\n  dhparam: null\n\n  # format: pfx\n  # pfx: path/to/cert.pfx\n---\n# ACME\nssl:\n  enabled: true\n  port: 3443\n  provider: letsencrypt\n\n  domain: wiki.yourdomain.com\n  subscriberEmail: admin@example.com\n"})}),"\n",(0,r.jsx)(n.h2,{id:"kubernetes",children:"Kubernetes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/Requarks/wiki/tree/dev/dev/helm",children:"dev/helm"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"values.yaml"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"image:\n  # \u9ED8\u8BA4\u662F latest\n  tag: latest\npostgresql:\n  # \u4F7F\u7528\u5DF2\u6709\u7684\n  enabled: false\n  postgresqlHost:\n  postgresqlPort: 5432\n  postgresqlDatabase: wiki\n  postgresqlUser: postgres\n  postgresqlPassword:\n  # \u5B58\u50A8 Password \u7684 secret\n  existingSecret:\n  secretKey: postgresql-password\n"})})]})}function h(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},17776:function(e,n,s){s.d(n,{R:()=>l,x:()=>a});var i=s(7378);let r={},t=i.createContext(r);function l(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);