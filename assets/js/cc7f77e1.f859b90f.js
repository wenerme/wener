"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["805151"],{864846:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>c,toc:()=>a,default:()=>h,metadata:()=>t,assets:()=>l,contentTitle:()=>d});var t=JSON.parse('{"id":"service/media/imagemagick","title":"ImageMagick","description":"- ImageMagick/ImageMagick","source":"@site/../notes/service/media/imagemagick.md","sourceDirName":"service/media","slug":"/service/media/imagemagick","permalink":"/notes/service/media/imagemagick","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/media/imagemagick.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1756282044000,"frontMatter":{"title":"ImageMagick"},"sidebar":"docs","previous":{"title":"TIFF","permalink":"/notes/service/media/image/tiff"},"next":{"title":"Media Awesome","permalink":"/notes/service/media/awesome"}}'),r=i(486106),s=i(917776);let c={title:"ImageMagick"},d="imagemagick",l={},a=[{value:"Convert",id:"convert",level:2},{value:"Options",id:"options",level:2},{value:"The convert command is deprecated in IMv7, use &quot;magick&quot; instead of &quot;convert&quot; or &quot;magick convert&quot;",id:"the-convert-command-is-deprecated-in-imv7-use-magick-instead-of-convert-or-magick-convert",level:2},{value:"Nonstandard tile width 2556, convert file.",id:"nonstandard-tile-width-2556-convert-file",level:2},{value:"Unknown field with tag ... encountered",id:"unknown-field-with-tag--encountered",level:2}];function o(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"imagemagick",children:"imagemagick"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/ImageMagick/ImageMagick",children:"ImageMagick/ImageMagick"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.imagemagick.org/",children:"https://www.imagemagick.org/"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://www.imagemagick.org/script/formats.php",children:"https://www.imagemagick.org/script/formats.php"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"PNG, JPEG, GIF, HEIC, TIFF, DPX, EXR, WebP, Postscript, PDF, and SVG"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"resize, flip, mirror, rotate, distort, shear and transform images, adjust image colors, apply various special effects, or draw text, lines, polygons, ellipses and B\xe9zier curves."}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u65B0\u7248\u672C ",(0,r.jsx)(n.code,{children:"convert"}),", ",(0,r.jsx)(n.code,{children:"magick convert"})," \u547D\u4EE4\u88AB\u5F03\u7528\uFF0C\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"magick"})," \u66FF\u4EE3"]}),"\n"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u6DFB\u52A0 svg \u548C opencl \u652F\u6301\nbrew reinstall imagemagick\n\n# \u5904\u7406 SVG \u4E5F\u53EF\u4EE5\u8003\u8651 inkscape\n# \u4F46\u5728 macos \u4E0B xserver \u663E\u793A\u7684\u4E0D\u592A\u597D\n# brew cask info inkscape\n#\nmagick hd.jpg -resize 1920x1080 hd_1080p.png\nmagick hd.jpg -resize 2048x1080 hd_2k.png\nmagick hd.jpg -resize 2048x hd_w2048.png\n\nmagick hd.jpg -resize 1080x hd_w1080.png\n\nmagick hd.jpg -fuzz 5% -trim +repage -alpha set -bordercolor none -border 48x48 -resize 1080x hd_w1080.png\n\n# \u7167\u7247\u4FDD\u6301\u539F\u672C\u7684\u65B9\u5411\nmagick hd.jpg -auto-orient -resize 1080x hd_w1080.png\n# \u6B63\u65B9\u5F62\nmagic input.jpg -auto-orient -gravity center --corp 1:1 output.png\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u88C1\u526A\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u663E\u8457\u6027 Saliency"}),"\n",(0,r.jsx)(n.li,{children:"\u71B5 Entropy"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u53C2\u6570\u987A\u5E8F"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u8D44\u6E90 -> \u8F93\u5165\u9009\u9879 -> \u8F93\u5165\u6587\u4EF6 -> \u8F93\u51FA\u9009\u9879 -> \u8F93\u51FA\u6587\u4EF6\n"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"command"}),(0,r.jsx)(n.th,{children:"for"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"mogrify"}),(0,r.jsx)(n.td,{children:"\u6279\u91CF\u8F6C\u6362, \u539F\u5730\u4FEE\u6539"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"convert"}),(0,r.jsx)(n.td,{children:"\u8F6C\u6362\u683C\u5F0F"})]})]})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.imagemagick.org/script/mogrify.php",children:"https://www.imagemagick.org/script/mogrify.php"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"convert",children:"Convert"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"http://www.imagemagick.org/script/convert.php",children:"http://www.imagemagick.org/script/convert.php"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# -append \u81EA\u4E0A\u81F3\u4E0B\u5408\u5E76\n# +append \u81EA\u5DE6\u81F3\u53F3\u5408\u5E76\nconvert a.png b.png -append full.png\n\nconvert -resize ${resize}x${resize} -unsharp 1x4\n\nmogrify -resize 16x12 -quality 100 -path ../new-thumbs *.jpg\n\n# \u5408\u5E76 PDF\nconvert -density 150 *.pdf output.pdf\nconvert -density 600 file1.pdf file2.pdf -resize 50% new.pdf\n\n# ghostscript\ngs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -sOutputFile=temp.pdf pdf1.pdf pdf2.pdf\n# PDF Toolkit\npdftk pdf1.pdf pdf2.pdf cat output temp.pdf\n\nmagick mogrify -monitor -format jpg *.HEIC\n"})}),"\n",(0,r.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["-limit type value\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"width, height, area, memory, map, disk, file, thread, throttle, time"}),"\n",(0,r.jsx)(n.li,{children:"\u9ED8\u8BA4 768 files, 3GB of image area, 1.5GiB memory, 3GiB memory map, and 18.45EB of disk"}),"\n",(0,r.jsxs)(n.li,{children:["\u5F53\u524D\u9650\u5236 ",(0,r.jsx)(n.code,{children:"identify -list resource"})]}),"\n",(0,r.jsx)(n.li,{children:"memory - \u9650\u5236\u5185\u5B58\u4E0A\u9650"}),"\n",(0,r.jsx)(n.li,{children:"map - \u9650\u5236\u5185\u5B58\u6620\u5C04\u4E0A\u9650"}),"\n",(0,r.jsx)(n.li,{children:"disk - \u9650\u5236\u78C1\u76D8\u4F7F\u7528\u4E0A\u9650"}),"\n",(0,r.jsx)(n.li,{children:"area - \u9650\u5236\u56FE\u50CF\u533A\u57DF\u4E0A\u9650 - \u8D85\u8FC7\u8FD9\u4E2A\u9650\u5236\u7684\u56FE\u50CF\u5C06\u88AB\u76F4\u63A5\u653E\u5230\u78C1\u76D8\uFF0C\u907F\u514D\u4E00\u5F20\u56FE\u7247\u5C31\u5360\u7528\u8FC7\u591A\u5185\u5B58"}),"\n",(0,r.jsx)(n.li,{children:"thread - \u9650\u5236\u7EBF\u7A0B\u6570"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://imagemagick.org/script/command-line-options.php",children:"https://imagemagick.org/script/command-line-options.php"})}),"\n"]}),"\n",(0,r.jsx)(n.h1,{id:"faq",children:"FAQ"}),"\n",(0,r.jsx)(n.h2,{id:"the-convert-command-is-deprecated-in-imv7-use-magick-instead-of-convert-or-magick-convert",children:'The convert command is deprecated in IMv7, use "magick" instead of "convert" or "magick convert"'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"convert"}),", ",(0,r.jsx)(n.code,{children:"magick convert"})," -> ",(0,r.jsx)(n.code,{children:"magick"})]}),"\n",(0,r.jsx)(n.li,{children:"IM7"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"convert, mogrify, identify, composite -> magick"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"nonstandard-tile-width-2556-convert-file",children:"Nonstandard tile width 2556, convert file."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"TIFF \u7684 tile width \u548C tile length \u4E0D\u662F 16 \u7684\u500D\u6570"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"unknown-field-with-tag--encountered",children:"Unknown field with tag ... encountered"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Unknown field with tag 512 (0x200) encountered.\nUnknown field with tag 513 (0x201) encountered.\nUnknown field with tag 514 (0x202) encountered.\nUnknown field with tag 515 (0x203) encountered.\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"TIFFReadDirectory"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"tag"}),(0,r.jsx)(n.th,{children:"for"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"512"}),(0,r.jsx)(n.td,{children:"JPEGProc"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"513"}),(0,r.jsx)(n.td,{children:"JPEGInterchangeFormat"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"514"}),(0,r.jsx)(n.td,{children:"JPEGInterchangeFormatLength"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"515"}),(0,r.jsx)(n.td,{children:"JPEGRestartInterval"})]})]})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"JPEG-in-TIFF"}),"\n",(0,r.jsx)(n.li,{children:"Accusoft ImageGear.NET"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://help.accusoft.com/ImageGear-Net/v22.1/Windows/HTML/topic367.html",children:"https://help.accusoft.com/ImageGear-Net/v22.1/Windows/HTML/topic367.html"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"identify -verbose file.tif\nexiftool file.tif\n"})})]})}function h(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},917776:function(e,n,i){i.d(n,{R:()=>c,x:()=>d});var t=i(7378);let r={},s=t.createContext(r);function c(e){let n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);