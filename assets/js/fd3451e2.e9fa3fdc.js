"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["60420"],{72511:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>r,toc:()=>o,default:()=>x,metadata:()=>l,assets:()=>d,contentTitle:()=>c});var l=JSON.parse('{"id":"ai/dev/comfyui","title":"ComfyUI","description":"- comfyanonymous/ComfyUI","source":"@site/../notes/ai/dev/comfyui.md","sourceDirName":"ai/dev","slug":"/ai/dev/comfyui","permalink":"/notes/ai/dev/comfyui","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/ai/dev/comfyui.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1758158840000,"frontMatter":{"title":"ComfyUI"},"sidebar":"docs","previous":{"title":"ChatGPT-Next-Web","permalink":"/notes/ai/dev/chatgpt-next-web"},"next":{"title":"CopilotKit","permalink":"/notes/ai/dev/copilotkit"}}'),s=i(86106),t=i(17776);let r={title:"ComfyUI"},c="ComfyUI",d={},o=[{value:"ComfyUI Manager",id:"comfyui-manager",level:2},{value:"Notes",id:"notes",level:2},{value:"ComfyUI Models \u76EE\u5F55\u7ED3\u6784\u8BE6\u89E3",id:"comfyui-models-\u76EE\u5F55\u7ED3\u6784\u8BE6\u89E3",level:3},{value:"API",id:"api",level:2},{value:"\u53C2\u8003",id:"reference",level:2},{value:"ImportError: cannot import name &#39;guidedFilter&#39; from &#39;cv2.ximgproc&#39;",id:"importerror-cannot-import-name-guidedfilter-from-cv2ximgproc",level:2}];function h(n){let e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"comfyui",children:"ComfyUI"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/comfyanonymous/ComfyUI",children:"comfyanonymous/ComfyUI"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Apache-2.0, Python"}),"\n",(0,s.jsx)(e.li,{children:"modular diffusion model GUI, api and backend with a graph/nodes interface"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"\u786E\u4FDD Base Model \u5C3D\u91CF\u4E00\u81F4"}),"\n",(0,s.jsx)(e.li,{children:"\u6709\u4E9B\u6A21\u578B\u5BF9 Base Model \u6709\u8981\u6C42"}),"\n",(0,s.jsxs)(e.li,{children:["Control Net\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"SD 1.5"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"Juggernaut"}),"\n",(0,s.jsxs)(e.li,{children:["\u751F\u4EA7\u90E8\u7F72\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ComfyDeploy"}),"\n",(0,s.jsx)(e.li,{children:"\u53E6\u5B58 (API \u683C\u5F0F)"}),"\n",(0,s.jsx)(e.li,{children:"\u8C03\u7528 /prompt"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/BennyKok/comfyui-deploy",children:"BennyKok/comfyui-deploy"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/Comfy-Org/ComfyUI-Manager",children:"Comfy-Org/ComfyUI-Manager"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://docs.comfy.org/tutorials/",children:"https://docs.comfy.org/tutorials/"})}),"\n",(0,s.jsxs)(e.li,{children:["Transform Your Videos with Professional Quality: WAN-VACE V2V Complete Workflow for ComfyUI ",(0,s.jsx)(e.a,{href:"https://civitai.com/articles/16401",children:"https://civitai.com/articles/16401"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.admonition,{type:"caution",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u53EA\u80FD\u5355\u4E00\u663E\u5361\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/comfyanonymous/ComfyUI/discussions/4139",children:"https://github.com/comfyanonymous/ComfyUI/discussions/4139"})}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"git clone --depth 1 https://github.com/comfyanonymous/ComfyUI ComfyUI\nuv venv --python 3.12\nuv pip install -r requirements.txt\n\n# \u542F\u52A8\n# http://127.0.0.1:8188\nuv run ./main.py\n\n# macOS \u53EF\u80FD\u9700\u8981 nightly \u7248\u672C - \u4E0D\u8FC7\u73B0\u5728\u7684\u7248\u672C\u4E00\u822C\u90FD\u652F\u6301 pytorch \u4E86\n# https://developer.apple.com/metal/pytorch/\nuv pip install --pre torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/nightly/cpu\n\n# cuda\nuv pip install torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/cu121\n#uv pip install torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/cu128\nuv pip install -r requirements.txt\n\n# Nvidia APEX normalization not installed, using PyTorch LayerNorm\nuv pip install xformers\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",metastring:'title="mps.py"',children:'# \u5E94\u8BE5\u8F93\u51FA tensor([1.], device=\'mps:0\')\n\nimport torch\nif torch.backends.mps.is_available():\n    mps_device = torch.device("mps")\n    x = torch.ones(1, device=mps_device)\n    print (x)\nelse:\n    print ("MPS device not found.")\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u6A21\u578B\u4E0B\u8F7D\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://huggingface.co/Comfy-Org",children:"https://huggingface.co/Comfy-Org"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://huggingface.co/Comfy-Org/stable-diffusion-v1-5-archive",children:"https://huggingface.co/Comfy-Org/stable-diffusion-v1-5-archive"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"comfyui-manager",children:"ComfyUI Manager"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"git clone https://github.com/ltdrdata/ComfyUI-Manager custom_nodes/comfyui-manager\nuv pip install -r custom_nodes/comfyui-manager/requirements.txt\nuv pip install pip # \u4F1A\u4F7F\u7528 pip \u5B89\u88C5\u4F9D\u8D56\n\n# \u4EE3\u7406\u8BBF\u95EE\nGITHUB_ENDPOINT=https://mirror.echo.wener.cc \\\n  HF_ENDPOINT=https://hf-mirror.com \\\n  uv run ./main.py\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://raw.githubusercontent.com/ltdrdata/ComfyUI-Manager/main/extension-node-map.json",children:"https://raw.githubusercontent.com/ltdrdata/ComfyUI-Manager/main/extension-node-map.json"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"No module named pip\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u4F7F\u7528 uv \u7684\u65F6\u5019\u4F1A\u51FA\u73B0"}),"\n",(0,s.jsx)(e.h2,{id:"notes",children:"Notes"}),"\n",(0,s.jsxs)(e.p,{children:["\u597D\u7684\uFF0C\u9075\u7167\u60A8\u7684\u8981\u6C42\uFF0C\u8FD9\u91CC\u662F\u7CBE\u7B80\u540E\u7684\u7248\u672C\uFF0C\u4EC5\u5305\u542B",(0,s.jsx)(e.strong,{children:"\u76EE\u5F55"}),"\u548C",(0,s.jsx)(e.strong,{children:"\u4E3B\u8981\u7528\u9014\u8BF4\u660E"}),"\u4E24\u5217\u3002"]}),"\n",(0,s.jsx)(e.h3,{id:"comfyui-models-\u76EE\u5F55\u7ED3\u6784\u8BE6\u89E3",children:"ComfyUI Models \u76EE\u5F55\u7ED3\u6784\u8BE6\u89E3"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{style:{textAlign:"left"},children:"dir"}),(0,s.jsx)(e.th,{style:{textAlign:"left"},children:"for"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"checkpoints"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"\u6838\u5FC3\u57FA\u7840\u6A21\u578B\uFF0C\u4E5F\u53EB\u201C\u5927\u6A21\u578B\u201D\u3002\u8FD9\u662F\u6587\u751F\u56FE\u7684\u8D77\u70B9\uFF0C\u51B3\u5B9A\u4E86\u56FE\u50CF\u751F\u6210\u7684\u57FA\u7840\u98CE\u683C\u548C\u80FD\u529B\u3002\u4F8B\u5982 Stable Diffusion v1.5, SDXL, \u4EE5\u53CA\u793E\u533A\u8BAD\u7EC3\u7684\u5404\u79CD\u6574\u5408\u6A21\u578B\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"loras"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"LoRA \u6A21\u578B\u3002\u8FD9\u4E9B\u662F\u5C0F\u578B\u5FAE\u8C03\u6587\u4EF6\uFF0C\u7528\u4E8E\u5411\u57FA\u7840\u6A21\u578B\u6DFB\u52A0\u7279\u5B9A\u7684\u89D2\u8272\u3001\u753B\u98CE\u3001\u6982\u5FF5\u6216\u670D\u88C5\uFF0C\u7075\u6D3B\u6027\u6781\u9AD8\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"vae"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"VAE  \u6A21\u578B\u3002\u7528\u4E8E\u56FE\u50CF\u7684\u7F16\u7801\u548C\u89E3\u7801\u3002\u72EC\u7ACB\u7684 VAE \u6587\u4EF6\u53EF\u4EE5\u4FEE\u6B63\u56FE\u50CF\u7684\u8272\u5F69\uFF08\u5982\u6539\u5584\u7070\u8499\u8499\u7684\u95EE\u9898\uFF09\u6216\u4FEE\u590D\u624B\u90E8\u7B49\u7EC6\u8282\u95EE\u9898\u3002SDXL \u6A21\u578B\u901A\u5E38\u4E0D\u9700\u8981\u989D\u5916 VAE\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"controlnet"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"ControlNet \u6A21\u578B\u3002\u7528\u4E8E\u7CBE\u786E\u63A7\u5236\u56FE\u50CF\u7684\u751F\u6210\uFF0C\u4F8B\u5982\u901A\u8FC7\u59FF\u52BF\u9AA8\u67B6\u3001\u6DF1\u5EA6\u56FE\u3001\u7EBF\u7A3F\u3001\u4E8C\u7EF4\u7801\u7B49\u6765\u5F15\u5BFC\u6784\u56FE\u548C\u5185\u5BB9\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"upscale_models"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"\u56FE\u50CF\u653E\u5927\u6A21\u578B\u3002\u7528\u4E8E\u201C\u56FE\u50CF\u653E\u5927 (\u6A21\u578B)\u201D\u8282\u70B9\uFF0C\u63D0\u5347\u56FE\u7247\u5206\u8FA8\u7387\u5E76\u4F18\u5316\u7EC6\u8282\u3002\u4F8B\u5982 ESRGAN, SwinIR, 4x-UltraSharp \u7B49\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"embeddings"})}),(0,s.jsxs)(e.td,{style:{textAlign:"left"},children:["\u6587\u672C\u53CD\u6F14 (Textual Inversion) \u5D4C\u5165\uFF0C\u4E5F\u53EB Embedding\u3002\u8FD9\u4E9B\u662F\u6781\u5C0F\u7684\u6587\u4EF6\uFF0C\u901A\u8FC7\u4E00\u4E2A\u5173\u952E\u8BCD\u89E6\u53D1\u7279\u5B9A\u7684\u6982\u5FF5\u3001\u89D2\u8272\u6216\u753B\u98CE\u3002\u5E38\u7528\u4E8E\u8D1F\u9762\u63D0\u793A\u8BCD\uFF08\u5982 ",(0,s.jsx)(e.code,{children:"bad-hands-5"}),"\uFF09\u3002"]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"clip"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"CLIP \u6587\u672C\u7F16\u7801\u5668\u6A21\u578B\u3002\u901A\u5E38 ComfyUI \u4F1A\u81EA\u52A8\u4ECE\u5927\u6A21\u578B\u4E2D\u52A0\u8F7D\uFF0C\u4F46\u4F60\u4E5F\u53EF\u4EE5\u628A\u72EC\u7ACB\u7684 CLIP \u6A21\u578B\u653E\u5728\u8FD9\u91CC\uFF0C\u4F9B\u9AD8\u7EA7\u5DE5\u4F5C\u6D41\u4F7F\u7528\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"clip_vision"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"CLIP Vision \u6A21\u578B\u3002\u7528\u4E8E\u5206\u6790\u56FE\u50CF\u5185\u5BB9\uFF0C\u662F IPAdapter\u3001PhotoMaker \u7B49\u201C\u56FE\u50CF\u63D0\u793A\u201D\u529F\u80FD\u7684\u6838\u5FC3\u7EC4\u4EF6\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"style_models"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"\u98CE\u683C\u6A21\u578B\u3002\u4E3B\u8981\u7528\u4E8E T2I-Adapter\uFF0C\u529F\u80FD\u4E0E ControlNet \u7C7B\u4F3C\uFF0C\u4F46\u66F4\u4FA7\u91CD\u4E8E\u98CE\u683C\u7684\u8FC1\u79FB\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"hypernetworks"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"Hypernetwork \u6A21\u578B\u3002\u4E00\u79CD\u6BD4 LoRA \u66F4\u65E9\u51FA\u73B0\u7684\u5FAE\u8C03\u6280\u672F\uFF0C\u73B0\u5728\u5DF2\u4E0D\u5E38\u7528\uFF0C\u4F46 ComfyUI \u4ECD\u7136\u652F\u6301\u52A0\u8F7D\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"unet"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"U-Net \u6A21\u578B\u3002U-Net \u662F Stable Diffusion \u6A21\u578B\u7684\u6838\u5FC3\u964D\u566A\u7F51\u7EDC\u3002\u666E\u901A\u7528\u6237\u51E0\u4E4E\u4E0D\u4F1A\u7528\u5230\u8FD9\u4E2A\u76EE\u5F55\uFF0C\u4E3B\u8981\u7528\u4E8E\u6A21\u578B\u5F00\u53D1\u548C\u7814\u7A76\uFF0C\u5C06 U-Net \u5355\u72EC\u5206\u79BB\u51FA\u6765\u52A0\u8F7D\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"text_encoders"})}),(0,s.jsxs)(e.td,{style:{textAlign:"left"},children:["\u6587\u672C\u7F16\u7801\u5668\u6A21\u578B\u3002\u4E0E ",(0,s.jsx)(e.code,{children:"unet"})," \u7C7B\u4F3C\uFF0C\u7528\u4E8E\u6A21\u578B\u7814\u7A76\uFF0C\u5141\u8BB8\u5355\u72EC\u52A0\u8F7D\u548C\u66FF\u6362\u6587\u672C\u7F16\u7801\u5668\u90E8\u5206\u3002"]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"photomaker"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"PhotoMaker \u6A21\u578B\u3002\u4E00\u79CD\u4E13\u95E8\u7528\u4E8E\u6839\u636E\u8F93\u5165\u4EBA\u8138\u7167\u7247\u751F\u6210\u7EDF\u4E00\u89D2\u8272\u7684\u6A21\u578B\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"sams"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"SAM (Segment Anything Model) \u6A21\u578B\u3002\u7531 Meta \u5F00\u53D1\u7684\u56FE\u50CF\u5206\u5272\u6A21\u578B\uFF0C\u5728 ComfyUI \u4E2D\u7528\u4E8E\u7CBE\u786E\u5730\u521B\u5EFA\u548C\u5206\u79BB\u906E\u7F69 (Mask)\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"gligen"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"GLIGEN \u6A21\u578B\u3002\u7528\u4E8E\u201C\u9650\u5B9A\u533A\u57DF\u751F\u6210\u201D\uFF0C\u5141\u8BB8\u4F60\u901A\u8FC7\u753B\u6846\u6765\u6307\u5B9A\u67D0\u4E2A\u7269\u4F53\u5728\u56FE\u50CF\u4E2D\u7684\u7279\u5B9A\u4F4D\u7F6E\u548C\u5927\u5C0F\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"diffusers"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"\u7528\u4E8E\u5B58\u653E Hugging Face \u7684 Diffusers \u683C\u5F0F\u6A21\u578B\u3002\u8FD9\u79CD\u683C\u5F0F\u662F\u4E00\u4E2A\u5305\u542B\u591A\u4E2A\u5B50\u76EE\u5F55\u548C\u6587\u4EF6\u7684\u6587\u4EF6\u5939\uFF0C\u800C\u4E0D\u662F\u5355\u4E2A\u6587\u4EF6\u3002ComfyUI \u53EF\u4EE5\u76F4\u63A5\u52A0\u8F7D\u8FD9\u79CD\u683C\u5F0F\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"configs"})}),(0,s.jsxs)(e.td,{style:{textAlign:"left"},children:["\u914D\u7F6E\u6587\u4EF6\u3002\u5B58\u653E\u4E00\u4E9B\u65E7\u7684 ",(0,s.jsx)(e.code,{children:".ckpt"})," \u6A21\u578B\u6240\u9700\u8981\u7684 ",(0,s.jsx)(e.code,{children:".yaml"})," \u914D\u7F6E\u6587\u4EF6\uFF0C\u4EE5\u5E2E\u52A9 ComfyUI \u8BC6\u522B\u5176\u6A21\u578B\u67B6\u6784\uFF08\u5982 v1 \u6216 v2\uFF09\u3002\u73B0\u5728\u7684 ",(0,s.jsx)(e.code,{children:".safetensors"})," \u6A21\u578B\u901A\u5E38\u4E0D\u9700\u8981\u3002"]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"vae_approx"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"VAE \u8FD1\u4F3C\u89E3\u7801\u5668\u6A21\u578B\u3002\u8FD9\u4E9B\u662F\u6781\u5C0F\u7684\u3001\u901F\u5EA6\u6781\u5FEB\u7684\u6A21\u578B\uFF0C\u7528\u4E8E\u5728 KSampler \u91C7\u6837\u8FC7\u7A0B\u4E2D\u751F\u6210\u5FEB\u901F\u9884\u89C8\u56FE\uFF0C\u800C\u4E0D\u662F\u6BCF\u6B21\u90FD\u8C03\u7528\u5B8C\u6574\u7684 VAE\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"onnx"})}),(0,s.jsx)(e.td,{style:{textAlign:"left"},children:"ONNX \u6A21\u578B\u3002\u7528\u4E8E\u5B58\u653E\u5DF2\u8F6C\u6362\u4E3A ONNX (Open Neural Network Exchange) \u683C\u5F0F\u7684\u6A21\u578B\uFF0C\u901A\u5E38\u7528\u4E8E\u5728\u975E NVIDIA \u786C\u4EF6\uFF08\u5982 AMD \u663E\u5361\uFF09\u4E0A\u901A\u8FC7 DirectML \u6216 Olive \u8FDB\u884C\u63A8\u7406\u3002"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{style:{textAlign:"left"},children:(0,s.jsx)(e.code,{children:"diffusion_models"})}),(0,s.jsxs)(e.td,{style:{textAlign:"left"},children:["\u6269\u6563\u6A21\u578B\u7EC4\u4EF6\u3002\u4E00\u4E2A\u66F4\u901A\u7528\u7684\u76EE\u5F55\uFF0C\u7C7B\u4F3C\u4E8E ",(0,s.jsx)(e.code,{children:"unet"}),"\uFF0C\u7528\u4E8E\u5B58\u653E\u6269\u6563\u6A21\u578B\u7684\u67D0\u4E9B\u90E8\u5206\u3002\u4E3B\u8981\u4F9B\u6A21\u578B\u5F00\u53D1\u8005\u4F7F\u7528\u3002"]})]})]})]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"AI Art"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Text2Img"}),"\n",(0,s.jsx)(e.li,{children:"Img2Img"}),"\n",(0,s.jsx)(e.li,{children:"Inpaint"}),"\n",(0,s.jsx)(e.li,{children:"Text2Video"}),"\n",(0,s.jsx)(e.li,{children:"Img2Video"}),"\n",(0,s.jsx)(e.li,{children:"Prompt"}),"\n",(0,s.jsx)(e.li,{children:"Negative Prompt"}),"\n",(0,s.jsx)(e.li,{children:"Upscale"}),"\n",(0,s.jsxs)(e.li,{children:["Depth2Img\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7528\u4E8E\u5C06\u6DF1\u5EA6\u56FE\u8F6C\u6362\u4E3A\u56FE\u50CF"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["ControlNet\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u56FE\u50CF\u7684\u7ED3\u6784\u548C\u5185\u5BB9"}),"\n",(0,s.jsx)(e.li,{children:"\u652F\u6301\u591A\u79CD\u7C7B\u578B\u7684\u8F93\u5165\u56FE\u50CF\uFF0C\u5982\u8FB9\u7F18\u68C0\u6D4B\u3001\u6DF1\u5EA6\u56FE\u7B49"}),"\n",(0,s.jsx)(e.li,{children:"LineArt Depth OpenPose SoftEdge"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["ADetailer\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7528\u4E8E\u7EC6\u5316\u751F\u6210\u56FE\u50CF\u7684\u7EC6\u8282"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["DeForm\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7528\u4E8E\u5BF9\u751F\u6210\u56FE\u50CF\u8FDB\u884C\u5F62\u72B6\u53D8\u5F62"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["ESERGAN\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7528\u4E8E\u8D85\u5206\u8FA8\u7387\u56FE\u50CF\u751F\u6210"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["AnimateDiff\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7528\u4E8E\u751F\u6210\u52A8\u753B\u6548\u679C"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["LoRA\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Low-Rank Adaptation"}),"\n",(0,s.jsx)(e.li,{children:"\u7528\u4E8E\u5FAE\u8C03\u6A21\u578B"}),"\n",(0,s.jsx)(e.li,{children:"\u901A\u8FC7 LoRA \u6765\u63A7\u5236\u751F\u6210\u56FE\u50CF\u7684\u98CE\u683C\u548C\u7279\u5F81"}),"\n",(0,s.jsx)(e.li,{children:"\u7269\u4F53"}),"\n",(0,s.jsx)(e.li,{children:"\u4EFB\u52A1"}),"\n",(0,s.jsx)(e.li,{children:"\u98CE\u683C"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["CFG - Classifier Free Guidance\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u901A\u8FC7 Classifier Free Guidance \u6765\u63A7\u5236\u751F\u6210\u56FE\u50CF\u7684\u591A\u6837\u6027\u548C\u8D28\u91CF"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Textural Inversion / Embeddings\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7C7B\u4F3C Lora"}),"\n",(0,s.jsx)(e.li,{children:"\u6355\u6349\u4E00\u4E9B concept \u7684\u7279\u5F81 - \u4F8B\u5982 \u624B\u6307\u3001\u773C\u775B"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["VAE - Variational Autoencoder\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7528\u4E8E\u56FE\u50CF\u7684\u7F16\u7801\u548C\u89E3\u7801"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u6A21\u578B\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"SD 1.5"}),"\n",(0,s.jsx)(e.li,{children:"LAION 5B"}),"\n",(0,s.jsx)(e.li,{children:"SDXL"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Upscaler\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ESRGAN"}),"\n",(0,s.jsx)(e.li,{children:"SwinIR"}),"\n",(0,s.jsx)(e.li,{children:"4x-UltraSharp"}),"\n",(0,s.jsx)(e.li,{children:"OmniSR"}),"\n",(0,s.jsx)(e.li,{children:"MoSR"}),"\n",(0,s.jsx)(e.li,{children:"DRCT"}),"\n",(0,s.jsx)(e.li,{children:"ADT"}),"\n",(0,s.jsx)(e.li,{children:"DAT"}),"\n",(0,s.jsx)(e.li,{children:"RealPLKSR"}),"\n",(0,s.jsx)(e.li,{children:"SPAN"}),"\n",(0,s.jsx)(e.li,{children:"RGT"}),"\n",(0,s.jsx)(e.li,{children:"HAT"}),"\n",(0,s.jsx)(e.li,{children:"SRFormer"}),"\n",(0,s.jsx)(e.li,{children:"SwiftESRGAN"}),"\n",(0,s.jsx)(e.li,{children:"SPSR"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["KSampler\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7528\u4E8E\u91C7\u6837\u751F\u6210\u56FE\u50CF"}),"\n",(0,s.jsxs)(e.li,{children:["sampler\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"DDIM"}),"\n",(0,s.jsx)(e.li,{children:"PLMS"}),"\n",(0,s.jsx)(e.li,{children:"DPM2 a"}),"\n",(0,s.jsx)(e.li,{children:"DPM2"}),"\n",(0,s.jsx)(e.li,{children:"DPM++ 2S"}),"\n",(0,s.jsx)(e.li,{children:"DPM++ 2M"}),"\n",(0,s.jsx)(e.li,{children:"DPM++ SDE"}),"\n",(0,s.jsx)(e.li,{children:"LMS"}),"\n",(0,s.jsx)(e.li,{children:"Heun"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["scheduler\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Karras"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["3:4\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"384x512"}),"\n",(0,s.jsx)(e.li,{children:"432x576"}),"\n",(0,s.jsx)(e.li,{children:"576x768"}),"\n",(0,s.jsx)(e.li,{children:"768x1024"}),"\n",(0,s.jsx)(e.li,{children:"864x1152"}),"\n",(0,s.jsx)(e.li,{children:"912x1216"}),"\n",(0,s.jsx)(e.li,{children:"1008x1344"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["9:16\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"512x896"}),"\n",(0,s.jsx)(e.li,{children:"576x1024"}),"\n",(0,s.jsx)(e.li,{children:"768x1366"}),"\n",(0,s.jsx)(e.li,{children:"1024x1820"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u8F93\u51FA\u53EF\u4EE5\u5305\u542B\u65E5\u671F"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"%date:yyyy-MM-dd%/ComfyUI\n"})}),"\n",(0,s.jsx)(e.h2,{id:"api",children:"API"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash"})}),"\n",(0,s.jsx)(e.h2,{id:"reference",children:"\u53C2\u8003"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://dreamlook.ai/",children:"https://dreamlook.ai/"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Finetune Stable Diffusion"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://www.rundiffusion.com/",children:"https://www.rundiffusion.com/"})}),"\n",(0,s.jsx)(e.li,{children:"openari.io"}),"\n",(0,s.jsx)(e.li,{children:"youml.com"}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://comfyworkflows.com/",children:"https://comfyworkflows.com/"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://weirdwonderfulai.art/",children:"https://weirdwonderfulai.art/"})}),"\n",(0,s.jsxs)(e.li,{children:["SDXL Tubo model \u2013 ",(0,s.jsx)(e.a,{href:"https://civitai.com/models/215418?modelVersionId=273102",children:"https://civitai.com/models/215418?modelVersionId=273102"})]}),"\n",(0,s.jsxs)(e.li,{children:["SDXL Studio Ghibli LoRA \u2013 ",(0,s.jsx)(e.a,{href:"https://civitai.com/models/137562/studioghibliredmond-studio-ghibli-lora-for-sd-xl",children:"https://civitai.com/models/137562/studioghibliredmond-studio-ghibli-lora-for-sd-xl"})]}),"\n",(0,s.jsxs)(e.li,{children:["SDXL ControlNet LoRA \u2013 ",(0,s.jsx)(e.a,{href:"https://huggingface.co/stabilityai/control-lora/resolve/main/control-LoRAs-rank256/control-lora-canny-rank256.safetensors",children:"https://huggingface.co/stabilityai/control-lora/resolve/main/control-LoRAs-rank256/control-lora-canny-rank256.safetensors"})]}),"\n",(0,s.jsxs)(e.li,{children:["\u4FDD\u6301\u9762\u90E8\u4E00\u81F4\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/lldacing/ComfyUI_PuLID_Flux_ll",children:"lldacing/ComfyUI_PuLID_Flux_ll"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://huggingface.co/guozinan/PuLID/",children:"https://huggingface.co/guozinan/PuLID/"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://www.runcomfy.com/comfyui-workflows/create-consistent-characters-in-comfyui-with-ipadapter-faceid-plus",children:"https://www.runcomfy.com/comfyui-workflows/create-consistent-characters-in-comfyui-with-ipadapter-faceid-plus"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["ADetailer \u4FEE\u590D\u8138\u624B\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/Bing-su/adetailer",children:"https://github.com/Bing-su/adetailer"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"AGPLv3"}),"\n",(0,s.jsx)(e.li,{children:"Auto detecting, masking and inpainting with detection model."}),"\n",(0,s.jsx)(e.li,{children:"inpaint, scribble, lineart, openpose, tile, depth"}),"\n",(0,s.jsxs)(e.li,{children:["detection model - ",(0,s.jsx)(e.a,{href:"https://huggingface.co/Bingsu/adetailer",children:"https://huggingface.co/Bingsu/adetailer"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"face_yolo"}),"\n",(0,s.jsx)(e.li,{children:"person_yolo"}),"\n",(0,s.jsx)(e.li,{children:"mediapipe_face"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://stable-diffusion-art.com/adetailer/",children:"https://stable-diffusion-art.com/adetailer/"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"FaceDetailer"}),"\n",(0,s.jsxs)(e.li,{children:["Hires\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://www.runcomfy.com/comfyui-nodes/ComfyUI-Easy-Use/easy-hiresFix",children:"https://www.runcomfy.com/comfyui-nodes/ComfyUI-Easy-Use/easy-hiresFix"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://comfyanonymous.github.io/ComfyUI_examples/2_pass_txt2img/",children:"https://comfyanonymous.github.io/ComfyUI_examples/2_pass_txt2img/"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://www.reddit.com/r/comfyui/comments/1d42dim/comfyui_sdxl_upscaler_hires_fix/",children:"https://www.reddit.com/r/comfyui/comments/1d42dim/comfyui_sdxl_upscaler_hires_fix/"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/ltdrdata/ComfyUI-Impact-Pack",children:"ltdrdata/ComfyUI-Impact-Pack"})}),"\n"]}),"\n",(0,s.jsx)(e.h1,{id:"faq",children:"FAQ"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"nvcc --version\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"RuntimeError: CUDA error: no kernel image is available for execution on the device\nCUDA kernel errors might be asynchronously reported at some other API call, so the stacktrace below might be incorrect.\nFor debugging consider passing CUDA_LAUNCH_BLOCKING=1\nCompile with `TORCH_USE_CUDA_DSA` to enable device-side assertions.\n"})}),"\n",(0,s.jsx)(e.h2,{id:"importerror-cannot-import-name-guidedfilter-from-cv2ximgproc",children:"ImportError: cannot import name 'guidedFilter' from 'cv2.ximgproc'"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"uv pip uninstall opencv-python opencv-python-headless opencv-contrib-python-headless opencv-contrib-python\nuv pip install opencv-python opencv-python-headless opencv-contrib-python-headless\nuv pip install opencv-contrib-python\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/chflame163/ComfyUI_LayerStyle/issues/5",children:"https://github.com/chflame163/ComfyUI_LayerStyle/issues/5"})}),"\n"]})]})}function x(n={}){let{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}},17776:function(n,e,i){i.d(e,{R:()=>r,x:()=>c});var l=i(7378);let s={},t=l.createContext(s);function r(n){let e=l.useContext(t);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),l.createElement(t.Provider,{value:e},n.children)}}}]);