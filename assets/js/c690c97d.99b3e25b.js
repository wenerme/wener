"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["187539"],{235177:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>t,toc:()=>d,default:()=>h,metadata:()=>i,assets:()=>c,contentTitle:()=>o});var i=JSON.parse('{"id":"service/api/grpc/grpc-faq","title":"gRPC FAQ","description":"- \u4E0D\u652F\u6301 Prefix","source":"@site/../notes/service/api/grpc/grpc-faq.md","sourceDirName":"service/api/grpc","slug":"/service/api/grpc/faq","permalink":"/notes/service/api/grpc/faq","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/api/grpc/grpc-faq.md","tags":[{"inline":true,"label":"FAQ","permalink":"/notes/tags/faq"},{"inline":true,"label":"Limits","permalink":"/notes/tags/limits"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1733281920000,"frontMatter":{"title":"gRPC FAQ","tags":["FAQ","Limits"]},"sidebar":"docs","previous":{"title":"gRPC CLI","permalink":"/notes/service/api/grpc/cli"},"next":{"title":"grpc-gateway","permalink":"/notes/service/api/grpc/gateway"}}'),s=r(486106),l=r(917776);let t={title:"gRPC FAQ",tags:["FAQ","Limits"]},o="gRPC FAQ",c={},d=[{value:"Limits",id:"limits",level:2},{value:"proto3 optional",id:"proto3-optional",level:2},{value:"Trailer",id:"trailer",level:2},{value:"transport: Error while dialing reading server HTTP response: unexpected EOF",id:"transport-error-while-dialing-reading-server-http-response-unexpected-eof",level:2}];function a(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"grpc-faq",children:"gRPC FAQ"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u4E0D\u652F\u6301 Prefix\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/grpc/grpc-web/issues/702",children:"grpc/grpc-web#702"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/grpc/grpc-dotnet/issues/110",children:"grpc/grpc-dotnet#110"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Support gRPC over HTTP/3 ",(0,s.jsx)(n.a,{href:"https://github.com/grpc/grpc/issues/19126",children:"grpc#19126"})]}),"\n",(0,s.jsxs)(n.li,{children:["gRPC tunneling ",(0,s.jsx)(n.a,{href:"https://github.com/grpc/grpc/issues/14101",children:"grpc#14101"})]}),"\n"]})}),"\n",(0,s.jsx)(n.h2,{id:"limits",children:"Limits"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8BF7\u6C42 Message \u9ED8\u8BA4\u6700\u5927 4MB"}),"\n",(0,s.jsx)(n.li,{children:"\u54CD\u5E94 Message \u9ED8\u8BA4\u65E0\u9650\u5236"}),"\n",(0,s.jsxs)(n.li,{children:["Web/ConnectRPC\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u652F\u6301 Server Streaming"}),"\n",(0,s.jsx)(n.li,{children:"\u4E0D\u652F\u6301 Client Streaming"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["HTTP Header\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Cloudflare 32 KB, \u5355\u4E2A 16 KB\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Pages ",(0,s.jsx)(n.a,{href:"https://developers.cloudflare.com/pages/configuration/headers/",children:"https://developers.cloudflare.com/pages/configuration/headers/"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Apache - 8K"}),"\n",(0,s.jsx)(n.li,{children:"Nginx - 4K-8K"}),"\n",(0,s.jsx)(n.li,{children:"IIS - 8K-16K"}),"\n",(0,s.jsx)(n.li,{children:"Tomcat - 8K \u2013 48K"}),"\n",(0,s.jsx)(n.li,{children:"Node (<13) - 8K; (>13) - 16K"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/grpc/proposal",children:"grpc/proposal"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"proto3-optional",children:"proto3 optional"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["optional \u4F1A\u8FD4\u56DE zero value\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u65E0\u6CD5\u533A\u5206\u7A7A\u503C \u548C optional"}),"\n",(0,s.jsx)(n.li,{children:"\u53EF\u4EE5\u4F7F\u7528\u989D\u5916\u7684 has \u65B9\u6CD5\u6765\u5224\u65AD\u662F\u5426\u5B58\u5728"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["proto v3.15 - 2020-04-23 \u589E\u52A0 optional\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["v3.12-v3.14 \u4F7F\u7528 ",(0,s.jsx)(n.code,{children:"--experimental_allow_proto3_optional"})]}),"\n",(0,s.jsx)(n.li,{children:"\u5E95\u5C42\u4F7F\u7528 oneof \u5B9E\u73B0"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u6298\u4E2D\u65B9\u6848\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4F7F\u7528 oneof"}),"\n",(0,s.jsx)(n.li,{children:"\u4F7F\u7528 google.protobuf.FieldMask"}),"\n",(0,s.jsxs)(n.li,{children:["\u4F7F\u7528 Message \u7C7B\u578B - \u8FD8\u662F\u4F1A\u4F7F\u7528 pointer - \u4F8B\u5982 ",(0,s.jsx)(n.code,{children:"google.protobuf.StringValue"})," \u66FF\u4EE3 string"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Missing value/null support for scalar value types in proto 3 ",(0,s.jsx)(n.a,{href:"https://github.com/protocolbuffers/protobuf/issues/1606",children:"protocolbuffers/protobuf#1606"})]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/golang/protobuf/issues/15",children:"golang/protobuf#15"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/protocolbuffers/protobuf/blob/main/docs/field_presence.md",children:"protobuf/docs/field_presence.md"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/edgedb/edgedb-go/issues/150",children:"edgedb-go#150"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"trailer",children:"Trailer"}),"\n",(0,s.jsx)(n.p,{children:"gRPC \u5B9E\u73B0\u4F9D\u8D56 HTTP Trailer \u80FD\u529B\uFF0C\u7C7B\u4F3C longpulling\u3002"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://carlmastrangelo.com/blog/why-does-grpc-insist-on-trailers",children:"Why Does gRPC Insist on Trailers?"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Trailer",children:"Headers/Trailer"})}),"\n",(0,s.jsxs)(n.li,{children:["fetch \u4E0D\u652F\u6301 trailer ",(0,s.jsx)(n.a,{href:"https://github.com/whatwg/fetch/issues/981",children:"fetch#981"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u56E0\u6B64 web \u4E0D\u652F\u6301\u76F4\u63A5\u4F7F\u7528 grpc"}),"\n",(0,s.jsx)(n.li,{children:"deno \u4E0D\u652F\u6301 grpc - \u5B9E\u73B0\u4E86 fetch"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"transport-error-while-dialing-reading-server-http-response-unexpected-eof",children:"transport: Error while dialing reading server HTTP response: unexpected EOF"}),"\n",(0,s.jsx)(n.p,{children:"plaintext"})]})}function h(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},917776:function(e,n,r){r.d(n,{R:()=>t,x:()=>o});var i=r(7378);let s={},l=i.createContext(s);function t(e){let n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);