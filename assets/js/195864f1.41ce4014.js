"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["66240"],{54480:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>l,toc:()=>d,default:()=>a,metadata:()=>i,assets:()=>c,contentTitle:()=>o});var i=JSON.parse('{"id":"web/framework/remix/README","title":"Remix","description":"- remix-run/remix","source":"@site/../notes/web/framework/remix/README.md","sourceDirName":"web/framework/remix","slug":"/web/framework/remix/","permalink":"/notes/web/framework/remix/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/framework/remix/README.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1725936322000,"frontMatter":{"title":"Remix"},"sidebar":"docs","previous":{"title":"remax","permalink":"/notes/web/framework/remax"},"next":{"title":"Remix FAQ","permalink":"/notes/web/framework/remix/faq"}}'),t=r(86106),s=r(17776);let l={title:"Remix"},o="Remix",c={},d=[{value:"routes",id:"routes",level:2},{value:"remix.config.js",id:"remixconfigjs",level:2},{value:"vite",id:"vite",level:2}];function x(e){let n={a:"a",admonition:"admonition",code:"code",del:"del",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"remix",children:"Remix"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/remix-run/remix",children:"remix-run/remix"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u57FA\u4E8E React \u7684\u5F00\u53D1\u6846\u67B6"}),"\n",(0,t.jsx)(n.li,{children:"\u5185\u7F6E form \u5904\u7406"}),"\n",(0,t.jsx)(n.li,{children:"\u7C7B\u4F3C NextJS"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"loader -> Compoent -> action"}),"\n",(0,t.jsxs)(n.li,{children:["serverBuildTarget\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u9ED8\u8BA4 node-cjs"}),"\n",(0,t.jsx)(n.li,{children:"arc, cloudflare-pages, cloudflare-workers, deno, netlify, node-cjs, vercel,"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://remix.run/blog/remix-vs-next",children:"https://remix.run/blog/remix-vs-next"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["HMR \u6709\u95EE\u9898\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/remix-run/remix/issues/7466",children:"#7466"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.del,{children:(0,t.jsx)(n.a,{href:"https://github.com/remix-run/remix/issues/1601",children:"#1601"})})}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u6846\u67B6\u8026\u5408\u7A0B\u5EA6: ",(0,t.jsx)(n.del,{children:"remix > nextjs > vite"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"nextjs 13 - \u589E\u52A0\u4E86 app\u3001server action \u540E\u590D\u6742\u5EA6\u5927\u5927\u63D0\u5347"}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm add @remix-run/node @remix-run/react @remix-run/serve\nnpm add -D @remix-run/dev\n\nnpx create-remix@latest\n\n\nnpx @remix-run/dev routes --config vite.remix.config.ts\n# \u53EA\u60F3\u7528 remix \u7684 filebase routing \u7ED3\u6784\npnpm dlx @remix-run/dev routes --config vite.remix.config.ts --json\n"})}),"\n",(0,t.jsx)(n.h2,{id:"routes",children:"routes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"app/root.tsx - \u9876\u5C42 layout"}),"\n",(0,t.jsx)(n.li,{children:"\u8DEF\u7531\u89C4\u5219 app/routes"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"SEGMENT.tsx"})," \u6216 \u76EE\u5F55 ",(0,t.jsx)(n.code,{children:"SEGMENT/_index.tsx"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"A.B.tsx"})," \u6216\u8005 ",(0,t.jsx)(n.code,{children:"A/B.tsx"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"$var"})," - \u8DEF\u5F84\u4E0A\u53D8\u91CF"]}),"\n",(0,t.jsxs)(n.li,{children:["exports - Route Module\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"loader - \u5728 GET \u8BF7\u6C42\u65F6\u6267\u884C"}),"\n",(0,t.jsx)(n.li,{children:"action - \u5728 DELETE, PATCH, POST, PUT \u8BF7\u6C42\u65F6\u6267\u884C"}),"\n",(0,t.jsx)(n.li,{children:"clientLoader"}),"\n",(0,t.jsx)(n.li,{children:"clientAction"}),"\n",(0,t.jsx)(n.li,{children:"default - \u7EC4\u4EF6"}),"\n",(0,t.jsx)(n.li,{children:"headers"}),"\n",(0,t.jsx)(n.li,{children:"meta"}),"\n",(0,t.jsx)(n.li,{children:"links"}),"\n",(0,t.jsx)(n.li,{children:"ErrorBoundary"}),"\n",(0,t.jsx)(n.li,{children:"handle - \u8DEF\u7531\u5143\u6570\u636E\u4FE1\u606F"}),"\n",(0,t.jsx)(n.li,{children:"HydrateFallback - \u5728 clientLoader \u65F6\u663E\u793A"}),"\n",(0,t.jsx)(n.li,{children:"shouldRevalidate"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"*.client.tsx"}),",",(0,t.jsx)(n.code,{children:"*.server.tsx"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"export async function loader({ request }) {\n  return getProjects();\n}\n\nexport async function action({ request }) {\n  const form = await request.formData();\n  return createProject({ title: form.get('title') });\n}\n\nexport default function Projects() {\n  const projects = useLoaderData();\n  const { state } = useTransition();\n  const busy = state === 'submitting';\n\n  return (\n    <div>\n      {projects.map((project) => (\n        <Link to={project.slug}>{project.title}</Link>\n      ))}\n\n      <Form method='post'>\n        <input name='title' />\n        <button type='submit' disabled={busy}>\n          {busy ? 'Creating...' : 'Create New Project'}\n        </button>\n      </Form>\n    </div>\n  );\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\u53C2\u8003"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["app/routes.ts\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:'import { type RoutesConfig, route, layout, index } from "@react-router/dev/routes";'})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/brookslybrand/route-convention-evolution",children:"brookslybrand/route-convention-evolution"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Add support for routes.ts ",(0,t.jsx)(n.a,{href:"https://github.com/remix-run/react-router/pull/11773",children:"remix-run/react-router#11773"})]}),"\n",(0,t.jsx)(n.li,{children:"@react-router/dev"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://remix.run/docs/en/main/discussion/routes",children:"https://remix.run/docs/en/main/discussion/routes"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://remix.run/docs/en/main/file-conventions/routes",children:"https://remix.run/docs/en/main/file-conventions/routes"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://interactive-remix-routing-v2.netlify.app/",children:"https://interactive-remix-routing-v2.netlify.app/"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/kiliman/remix-flat-routes",children:"kiliman/remix-flat-routes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"v1 \u7684 routing \u7ED3\u6784"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/kiliman/remix-flat-routes/discussions/39",children:"kiliman/remix-flat-routes#39"})," Deprecate remix-flat-routes in favor of remix-hybrid-routes"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"v1 \u548C v2 \u7684 routing \u6709\u5F88\u5927\u7684\u4E0D\u540C"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"remixconfigjs",children:"remix.config.js"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://remix.run/docs/en/main/file-conventions/remix-config",children:"https://remix.run/docs/en/main/file-conventions/remix-config"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"vite",children:"vite"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/remix-run/remix/tree/main/templates/unstable-vite",children:"https://github.com/remix-run/remix/tree/main/templates/unstable-vite"})}),"\n"]})]})}function a(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(x,{...e})}):x(e)}},17776:function(e,n,r){r.d(n,{R:()=>l,x:()=>o});var i=r(7378);let t={},s=i.createContext(t);function l(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);