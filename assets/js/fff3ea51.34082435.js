"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["59867"],{69574:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>i,toc:()=>o,default:()=>c,metadata:()=>t,assets:()=>m,contentTitle:()=>a});var t=JSON.parse('{"id":"os/linux/shell/rename","title":"rename","description":"- util-linux - rename - c \u7248\u672C","source":"@site/../notes/os/linux/shell/rename.md","sourceDirName":"os/linux/shell","slug":"/os/linux/shell/rename","permalink":"/notes/os/linux/shell/rename","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/os/linux/shell/rename.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1714721203000,"frontMatter":{"title":"rename"},"sidebar":"docs","previous":{"title":"proot","permalink":"/notes/os/linux/shell/proot"},"next":{"title":"sed","permalink":"/notes/os/linux/shell/sed"}}'),s=r(86106),l=r(17776);let i={title:"rename"},a="rename",m={},o=[{value:"\u6279\u91CF\u91CD\u547D\u540D",id:"\u6279\u91CF\u91CD\u547D\u540D",level:2}];function d(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"rename",children:"rename"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["util-linux - rename - c \u7248\u672C\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://man7.org/linux/man-pages/man1/rename.1.html",children:"rename.1"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"renameutils"}),"\n",(0,s.jsx)(n.li,{children:"perl \u7248\u672C - \u652F\u6301\u6B63\u5219"}),"\n",(0,s.jsx)(n.li,{children:"zsh - zmv"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# C \u7248\u672C - util-linux\n# ==========\n# from to files\nrename .htm .html *.htm\nrename .txt '' *.txt\n\n\n# qmv, qcp, imv, icp, deurlname\n# https://www.nongnu.org/renameutils/\nbrew install renameutils\n\n# Perl \u7248\u672C\n# macOSrename\nbrew install rename\n\nrename 'y/a-z/A-Z/' *\nrename 's/\\.txt$//' *.txt\n# s01e01 -> S01E01\nrename -v 's/s(\\d+)e(\\d+)/S\\1E\\2/' *.ass\n# \u30101997\u301105\u8721\u7B14\u5C0F\u65B0 -> \u8721\u7B14\u5C0F\u65B0 (1997)\nrename -nv 's/\u3010(\\d+)\u3011.*?\u8721\u7B14\u5C0F\u65B0/\u8721\u7B14\u5C0F\u65B0 (\\1)'\n# \u63D0\u53D6\u96C6 \u4E3A\u5B8C\u6574\u540D\u5B57\nrename -nv 's/^.*?\\[(\\d+)\\].*?(-thumb.jpg|[.]\\w+)$/\u80DC\u8005\u5373\u662F\u6B63\u4E49.S01E$1$2/' '[\u80DC\u8005\u5373\u662F\u6B63\u4E49]'*\n\n# \u8721\u7B14\u5C0F\u65B0.abc.mkv -> /Volumes/Movie/\u8721\u7B14\u5C0F\u65B0.abc/\u8721\u7B14\u5C0F\u65B0.abc.mkv\nls \u8721\u7B14\u5C0F\u65B0*.{mkv,mp4} | xargs -I {} -n 1 sh -c 'f=\"{}\";mkdir -p \"/Volumes/Movie/${f%.*}\";mv \"$f\" \"/Volumes/Movie/${f%.*}\"'\n\n# zsh\nzmv 'image(*.png)' '$1'\nzmv -w 'image*.png' '$1.png'\n\n# mmv\nmmv \"image*.png\" \"#1.png\"\n\n# for loop\nfor i in image*jpg\ndo\n  mv -v \"$i\" \"$(echo \"$i\" | sed -e 's/^\\.\\/image//' - )\"\ndone\n\n# \u8C03\u6574\u5267\u96C6\u540D\u5B57 [Name][01].mkv -> Name.S01E01.mkv\necho \"[Name][01].mkv\" | sed -re 's/\\[([^]]+)\\]\\[([^]]+)\\](.*?)/\\1.S01E\\2\\3/' -\n\n#\nfor i in \\[*\\]\\[*\\]*\ndo\n  mv -v \"$i\" \"$(echo \"$i\" | sed -re 's/\\[([^]]+)\\]\\[([^]]+)\\](.*?)/\\1.S01E\\2\\3/' - )\"\ndone\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u6279\u91CF\u91CD\u547D\u540D",children:"\u6279\u91CF\u91CD\u547D\u540D"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u6B63\u5219\nfind . -type f | perl -pe \'print $_; s/input/output/\' | xargs -d "\\n" -n2 mv\n\n# \u53BB\u6389\u5355\u5F15\u53F7 - escape \u6BD4\u8F83\u590D\u6742\nfind . -type f | grep "[\']" | perl -pe "print \\$_; s/\'//g" | xargs -d "\\n" -n2 mv\n\n# \u7535\u89C6\u5267\u7B2CN\u96C6 -> \u7535\u89C6\u5267 N\n# echo - dry run\nfind . -type f | perl -pe \'print $_; s/\u7B2C(\\d+)\u96C6/ \\1/\' | xargs -d "\\n" -n2 echo mv\n# \u7535\u89C6\u5267.01.mp4 -> \u7535\u89C6\u5267.EP01.mp4\nfind . -type f | perl -pe \'print $_; s/[.](\\d+)[.]/.EP\\1./\' | xargs -d "\\n" -n2 echo mv\n'})})]})}function c(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},17776:function(e,n,r){r.d(n,{R:()=>i,x:()=>a});var t=r(7378);let s={},l=t.createContext(s);function i(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);