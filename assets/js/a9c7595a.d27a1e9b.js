"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["80100"],{55125:function(e,n,o){o.r(n),o.d(n,{frontMatter:()=>a,toc:()=>p,default:()=>l,metadata:()=>s,assets:()=>c,contentTitle:()=>i});var s=JSON.parse('{"id":"os/macos/macos-codesign","title":"macOS Code Sign","description":"","source":"@site/../notes/os/macos/macos-codesign.md","sourceDirName":"os/macos","slug":"/os/macos/codesign","permalink":"/notes/os/macos/codesign","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/os/macos/macos-codesign.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1736623457000,"frontMatter":{"title":"macOS Code Sign"},"sidebar":"docs","previous":{"title":"macOS Core Foundation","permalink":"/notes/os/macos/cf"},"next":{"title":"macOS FAQ","permalink":"/notes/os/macos/faq"}}'),t=o(86106),r=o(17776);let a={title:"macOS Code Sign"},i="Code Sign",c={},p=[];function d(e){let n={code:"code",h1:"h1",header:"header",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"code-sign",children:"Code Sign"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'# \u67E5\u770B\u6240\u6709\u8BC1\u4E66\nsecurity find-identity -v -p codesigning\n# 0 valid identities found - \u8BF4\u660E\u6CA1\u6709\n\n# \u7B7E\u540D\ncodesign --deep --force --verify --verbose --sign "Your Developer ID" YourApp.app\ncodesign --verify --verbose YourApp.app # \u9A8C\u8BC1\nspctl --assess --verbose YourApp.app    # \u68C0\u67E5 Gatekeeper \u662F\u5426\u63A5\u53D7\u7B7E\u540D\n\n# \u4F7F\u7528 xcrun altool \u4E0A\u4F20\u5E94\u7528\u8FDB\u884C\u516C\u8BC1\nxcrun altool --notarize-app -f YourApp.zip --primary-bundle-id "com.yourcompany.yourapp" --username "your@apple.com" --password "app-specific-password"\n# \u5C06\u516C\u8BC1\u4FE1\u606F\u9644\u52A0\u5230 .app \u6587\u4EF6\u4E0A\nxcrun stapler staple YourApp.app\n\n# SelfSign\ncodesign --deep --force --verify --verbose --sign "SelfSignedDeveloper" YourApp.app\n'})})]})}function l(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},17776:function(e,n,o){o.d(n,{R:()=>a,x:()=>i});var s=o(7378);let t={},r=s.createContext(t);function a(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);