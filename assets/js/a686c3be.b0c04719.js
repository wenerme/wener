"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["954022"],{807633:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>r,toc:()=>o,default:()=>a,metadata:()=>t,assets:()=>c,contentTitle:()=>d});var t=JSON.parse('{"id":"web/style/css/css-in-js","title":"CSS in JS","description":"CSS in JS \u672C\u8EAB\u662F\u975E\u5E38\u9EBB\u70E6\u7684\u4E8B\u60C5\uFF0C\u9700\u8981\u8003\u8651\u7684\u95EE\u9898","source":"@site/../notes/web/style/css/css-in-js.md","sourceDirName":"web/style/css","slug":"/web/style/css/in-js","permalink":"/notes/web/style/css/in-js","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/style/css/css-in-js.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"CSS in JS"},"sidebar":"docs","previous":{"title":"CSS Fragmentation","permalink":"/notes/web/style/css/fragmentation"},"next":{"title":"Layout","permalink":"/notes/web/style/css/layout"}}'),i=s(486106),l=s(917776);let r={title:"CSS in JS"},d="CSS in JS",c={},o=[{value:"Styled Snippets",id:"styled-snippets",level:2}];function h(n){let e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"css-in-js",children:"CSS in JS"})}),"\n",(0,i.jsxs)(e.admonition,{type:"tip",children:[(0,i.jsx)(e.p,{children:"CSS in JS \u672C\u8EAB\u662F\u975E\u5E38\u9EBB\u70E6\u7684\u4E8B\u60C5\uFF0C\u9700\u8981\u8003\u8651\u7684\u95EE\u9898"}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u4EC0\u4E48\u73AF\u5883\u4F7F\u7528\uFF1F\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"React, Vue, Next.js, Babel"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\u4EC0\u4E48\u573A\u666F\u4F7F\u7528\uFF1F\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4E3B\u9898\u3001\u5E94\u7528\u3001\u7EC4\u4EF6\u5E93"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"\u662F\u5426\u9700\u8981\u652F\u6301\u4E0A\u4E0B\u6587\uFF1F"}),"\n",(0,i.jsx)(e.li,{children:"\u600E\u4E48\u57FA\u4E8E\u72B6\u6001\u8FDB\u884C\u6837\u5F0F\u63A7\u5236\uFF1F"}),"\n",(0,i.jsxs)(e.li,{children:["\u4F7F\u7528 css in js \u600E\u4E48\u4E0E postcss \u96C6\u6210\uFF1F\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u4F8B\u5982: styled-jsx, styled \u600E\u4E48\u4F7F\u7528 tailwindcss\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u901A\u5E38\u4F7F\u7528 babel \u62BD\u53D6\uFF0C\u4F46\u76EE\u524D babel \u5DF2\u7ECF\u88AB\u9010\u6E10\u66FF\u4EE3"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"\u5927\u591A css in js \u90FD\u4E0D\u6613\u4E0E postcss \u96C6\u6210\uFF0C\u5982\u679C\u786E\u5B9A\u9700\u8981\u652F\u6301 postcss\uFF0C\u53EF\u4EE5\u7B5B\u9009\u6389\u5927\u534A"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"Build time or Runtime css processing ?"}),"\n",(0,i.jsxs)(e.li,{children:["\u662F\u5426\u9700\u8981 parse css ?\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5BF9\u8C61\u8FD8\u662F\u5B57\u7B26\u4E32\uFF1F"}),"\n"]}),"\n"]}),"\n"]}),(0,i.jsx)(e.p,{children:"\u603B\u4E0D\u4F1A\u9519\u7684\u9009\u62E9"}),(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u662F\u57FA\u4E8E pesudo \u6216 ",(0,i.jsx)(e.code,{children:"data-*"})," \u63A7\u5236\u72B6\u6001\u6837\u5F0F"]}),"\n",(0,i.jsx)(e.li,{children:"\u5C3D\u91CF\u4F7F\u7528 css module"}),"\n",(0,i.jsx)(e.li,{children:"\u907F\u514D\u4F7F\u7528 scss, less \u7B49 flavor"}),"\n",(0,i.jsx)(e.li,{children:"stick to tailwindcss"}),"\n",(0,i.jsx)(e.li,{children:"stick to postcss"}),"\n"]})]}),"\n",(0,i.jsx)(e.admonition,{type:"caution",children:(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"emotion, styled \u4F9D\u8D56\u73AF\u5883\u652F\u6301 - \u6CE8\u5165 Root Registry"}),"\n",(0,i.jsx)(e.li,{children:"css module \u9700\u8981 bundler \u652F\u6301 - \u5E94\u7528\u4E00\u822C\u6CA1\u95EE\u9898\uFF0C\u4F5C\u4E3A\u5E93\u4F1A\u6709\u95EE\u9898"}),"\n"]})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"name"}),(0,i.jsx)(e.th,{children:"size/gzip"}),(0,i.jsx)(e.th,{children:"postcss"}),(0,i.jsx)(e.th,{children:"ZeroRT"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.a,{href:"./emotion.md",children:"@emotion/styled"})}),(0,i.jsx)(e.td,{children:"11kB,5kB"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.a,{href:"./styled-components.md",children:"styled-components"})}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.a,{href:"../react/styled-jsx.md",children:"styled-jsx"})}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u2705(babel)"}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.a,{href:"https://github.com/vanilla-extract-css/vanilla-extract",children:"@vanilla-extract/css"})}),(0,i.jsx)(e.td,{children:"72kB,24kB"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u2705"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"@linaria/core"}),(0,i.jsx)(e.td,{children:"698B,434B"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{children:"\u2705"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"@linaria/react"}),(0,i.jsx)(e.td,{children:"5.6kB,2.8kB"}),(0,i.jsx)(e.td,{}),(0,i.jsx)(e.td,{})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:(0,i.jsx)(e.a,{href:"https://github.com/cristianbote/goober",children:"goober"})}),(0,i.jsx)(e.td,{children:"2.5kB,1.3kB"}),(0,i.jsx)(e.td,{children:"\u274C"}),(0,i.jsx)(e.td,{})]})]})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["vanilla-extract\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Zero-runtime Stylesheets-in-TypeScript"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"styled \u73B0\u5728\u662F\u4E3B\u8981\u652F\u6301\u7684\u5F62\u5F0F\uFF0C\u65E9\u671F\u7531 styled-components \u5B9E\u73B0\uFF0C\u73B0\u5728\u5927\u591A\u90FD\u4EE5 styled \u4E3A\u6807\u51C6\u63A5\u53E3\u3002"}),"\n",(0,i.jsxs)(e.li,{children:["emotion\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://www.npmjs.com/package/@swc/plugin-emotion",children:"@swc/plugin-emotion"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"styled-components \u73B0\u5728\u4F7F\u7528 emotion"}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/facebook/stylex",children:"facebook/stylex"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"MIT, Flow"}),"\n",(0,i.jsx)(e.li,{children:"\u9759\u6001\u751F\u6210"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["goober\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u8C03\u7528 setup \u8BBE\u7F6E\u73AF\u5883 - ",(0,i.jsx)(e.code,{children:"setup(React.createElement,/*prefixer,theme,forwardProps*/)"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/MicheleBertoli/css-in-js",children:"React: CSS in JS techniques comparison"})}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/callstack/linaria",children:"callstack/linaria"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Zero-runtime CSS in JS library"}),"\n",(0,i.jsx)(e.li,{children:"\u4F9D\u8D56 babel"}),"\n",(0,i.jsx)(e.li,{children:"@emotion/is-prop-valid"}),"\n",(0,i.jsx)(e.li,{children:"@linaria/core"}),"\n",(0,i.jsx)(e.li,{children:"@emotion/memoize"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["polished\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"CSS in JS \u7684\u8F85\u52A9\u5E93"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Compile Time CSS in JS\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://compiledcssinjs.com/",children:"Compiled"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://vanilla-extract.style/",children:"vanilla-extract"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://linaria.dev/",children:"Linaria"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/wix/stylable",children:"wix/stylable"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://dev.to/srmagura/why-were-breaking-up-wiht-css-in-js-4g9b",children:"Why We're Breaking Up with CSS-in-JS"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://medium.com/@perezpriego7/css-evolution-from-css-sass-bem-css-modules-to-styled-components-d4c1da3a659b",children:"CSS Evolution"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://medium.com/building-crowdriff/styled-components-to-use-or-not-to-use-a6bb4a7ffc21",children:"Styled Components: To Use or Not to Use?"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://hashnode.com/post/css-modules-vs-styled-components-ciz2g9dt7000h7c535j35rbfu",children:"CSS Modules vs Styled Components"})}),"\n",(0,i.jsxs)(e.li,{children:["css \u9884\u5904\u7406: ",(0,i.jsx)(e.a,{href:"https://github.com/thysultan/stylis.js",children:"stylis.js"})]}),"\n",(0,i.jsxs)(e.li,{children:["native \u8F6C\u6362\u903B\u8F91: ",(0,i.jsx)(e.a,{href:"https://github.com/styled-components/css-to-react-native",children:"css-to-react-native"})]}),"\n",(0,i.jsxs)(e.li,{children:["\u4F20\u5165 css \u63A8\u8350: ",(0,i.jsx)(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape",children:"MDN: CSS.escape"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/styled-components/babel-plugin-styled-components",children:"babel-plugin-styled-components"}),": \u89E3\u51B3 SSR \u65F6\u7684 HTML attribute mismatch \u95EE\u9898\u3002"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"styled-snippets",children:"Styled Snippets"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:'// \u4E24\u4E2A && \u4F18\u5148\u7EA7\u66F4\u9AD8\uFF0C\u8986\u76D6\u5168\u5C40\nconst Thing = styled.div`\n  && {\n    color: blue;\n  }\n`\n\nconst GlobalStyle = createGlobalStyle`\n  div${Thing} {\n    color: red;\n  }\n`\n\n// @keyframes \u4E0D\u4F1A\u88AB\u9650\u5B9A\u5728\u5355\u4E2A\u7EC4\u4EF6 - \u53EF\u4EE5\u901A\u8FC7 keyframes\n// Create the keyframes\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n// Here we create a component that will rotate everything we pass in over two seconds\nconst Rotate = styled.div`\n  display: inline-block;\n  animation: ${rotate} 2s linear infinite;\n  padding: 2rem 1rem;\n  font-size: 1.2rem;\n`;\n\n\n// \u901A\u8FC7 props \u8BBF\u95EE\u4E3B\u9898\nconst Button = styled.button`\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border-radius: 3px;\n  /* Color the border and text with theme.main */\n  color: ${props => props.theme.main};\n  border: 2px solid ${props => props.theme.main};\n`;\n// \u9ED8\u8BA4\u4E3B\u9898\nButton.defaultProps = {\n  theme: {\n    main: "palevioletred"\n  }\n}\n// \u5B9A\u4E49\u4E3B\u9898\nconst theme = {\n  main: "mediumseagreen"\uFF0C\n\n  fg: "palevioletred",\n  bg: "white",\n};\n\n// \u4F7F\u7528\u51FD\u6570\u8C03\u6574\u4E3B\u9898\nconst invertTheme = ({ fg, bg }) => ({\n  fg: bg,\n  bg: fg\n});\n\n// \u4F7F\u7528\u4E3B\u9898\nrender(\n  <div>\n    <Button>Normal</Button>\n    <ThemeProvider theme={theme}>\n      <Button>Themed</Button>\n\n      <ThemeProvider theme={invertTheme}>\n        <Button>Inverted Theme</Button>\n      </ThemeProvider>\n    </ThemeProvider>\n  </div>\n);\n'})})]})}function a(n={}){let{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}},917776:function(n,e,s){s.d(e,{R:()=>r,x:()=>d});var t=s(7378);let i={},l=t.createContext(i);function r(n){let e=t.useContext(l);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),t.createElement(l.Provider,{value:e},n.children)}}}]);