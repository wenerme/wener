"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["43327"],{26541:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>d,toc:()=>a,default:()=>h,metadata:()=>t,assets:()=>o,contentTitle:()=>l});var t=JSON.parse('{"id":"web/framework/nestjs/nestjs-zod","title":"NestJS Zod","description":"zod-plugins","source":"@site/../notes/web/framework/nestjs/nestjs-zod.md","sourceDirName":"web/framework/nestjs","slug":"/web/framework/nestjs/zod","permalink":"/notes/web/framework/nestjs/zod","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/framework/nestjs/nestjs-zod.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1693463269000,"frontMatter":{"title":"NestJS Zod"},"sidebar":"docs","previous":{"title":"NestJS Version","permalink":"/notes/web/framework/nestjs/version"},"next":{"title":"NextJS","permalink":"/notes/web/framework/nextjs/"}}'),i=s(86106),r=s(17776);let d={title:"NestJS Zod"},l="NestJS Zod",o={},a=[{value:"zod-plugins",id:"zod-plugins",level:2},{value:"nestjs-zod",id:"nestjs-zod-1",level:2}];function c(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"nestjs-zod",children:"NestJS Zod"})}),"\n",(0,i.jsx)(n.h2,{id:"zod-plugins",children:"zod-plugins"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/anatine/zod-plugins",children:"anatine/zod-plugins"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u80FD\u6B63\u5E38\u5904\u7406 Query \u53C2\u6570"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["@anatine/zod-openapi\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u53EA\u4F9D\u8D56 ts-deepmerge"}),"\n",(0,i.jsx)(n.li,{children:"\u4EE3\u7801\u91CF\u5C11"}),"\n",(0,i.jsxs)(n.li,{children:["\u4E3A ZodSchema patch \u4E86 openapi \u65B9\u6CD5\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u7B49\u540C\u4E8E ",(0,i.jsx)(n.code,{children:"extendApi(this, metadata)"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u63D0\u4F9B\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"generateSchema"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"extenndApi"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5408\u5E76 metaOpenApi \u5C5E\u6027"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["@anatine/zod-nestjs\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"patchNestjsSwagger"}),"\n",(0,i.jsx)(n.li,{children:"createZodDto"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm add openapi3-ts zod @anatine/zod-openapi @anatine/zod-nestjs\n"})}),"\n",(0,i.jsx)(n.h2,{id:"nestjs-zod-1",children:"nestjs-zod"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/risen228/nestjs-zod",children:"risen228/nestjs-zod"})}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Query \u53C2\u6570\u6CA1\u751F\u6210\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/risen228/nestjs-zod/issues/23",children:"https://github.com/risen228/nestjs-zod/issues/23"})}),"\n",(0,i.jsx)(n.li,{children:"\u53EA\u80FD\u7528 DTO - \u4F46\u5B9A\u4E49\u7684\u989D\u5916\u53C2\u6570\u4F1A\u88AB filter\uFF0C\u83B7\u53D6\u4E0D\u5230"}),"\n",(0,i.jsxs)(n.li,{children:["\u989D\u5916\u7684\u53C2\u6570\u53EF\u4EE5\u8003\u8651 ",(0,i.jsx)(n.code,{children:"@ApiParam({ name: 'id', schema: paramsSchema.properties.id })"})]}),"\n",(0,i.jsxs)(n.li,{children:["\u6216\u8005\u63A7\u5236 ",(0,i.jsx)(n.code,{children:"@UsePipes(ZodValidationPipe)"})," \u4F5C\u7528\u8303\u56F4"]}),"\n"]}),"\n"]}),"\n"]})})]})}function h(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},17776:function(e,n,s){s.d(n,{R:()=>d,x:()=>l});var t=s(7378);let i={},r=t.createContext(i);function d(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);