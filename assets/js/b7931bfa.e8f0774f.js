"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["63309"],{24837:function(n,s,r){r.r(s),r.d(s,{frontMatter:()=>l,toc:()=>h,default:()=>x,metadata:()=>e,assets:()=>t,contentTitle:()=>c});var e=JSON.parse('{"id":"security/crypto/password","title":"\u5BC6\u7801\u52A0\u5BC6\u65B9\u5F0F","description":"- \u9ED8\u8BA4\u9009\u62E9 bcrypt","source":"@site/../notes/security/crypto/password.md","sourceDirName":"security/crypto","slug":"/security/crypto/password","permalink":"/notes/security/crypto/password","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/security/crypto/password.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1729056347000,"frontMatter":{"title":"\u5BC6\u7801\u52A0\u5BC6\u65B9\u5F0F"},"sidebar":"docs","previous":{"title":"hashcat","permalink":"/notes/security/crypto/hashcat"},"next":{"title":"PGP","permalink":"/notes/security/crypto/pgp"}}'),i=r(86106),d=r(17776);let l={title:"\u5BC6\u7801\u52A0\u5BC6\u65B9\u5F0F"},c="\u5BC6\u7801\u52A0\u5BC6\u65B9\u5F0F",t={},h=[{value:"argon2",id:"argon2",level:2},{value:"\u5E93",id:"library",level:2},{value:"\u5E38\u89C1\u670D\u52A1\u52A0\u5BC6\u7B97\u6CD5",id:"\u5E38\u89C1\u670D\u52A1\u52A0\u5BC6\u7B97\u6CD5",level:2},{value:"Gitea",id:"gitea",level:3},{value:"OpenLDAP",id:"openldap",level:3},{value:"ApacheDirectory Server",id:"apachedirectory-server",level:3},{value:"Gitlab",id:"gitlab",level:3},{value:"Key stretching",id:"key-stretching",level:2},{value:"argon2 vs bcrypt vs scrypt vs pkdf2",id:"argon2-vs-bcrypt-vs-scrypt-vs-pkdf2",level:2},{value:"\u7834\u89E3\u65F6\u95F4",id:"crack-time",level:2}];function a(n){let s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"\u5BC6\u7801\u52A0\u5BC6\u65B9\u5F0F",children:"\u5BC6\u7801\u52A0\u5BC6\u65B9\u5F0F"})}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u9ED8\u8BA4\u9009\u62E9 bcrypt"}),"\n"]})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["KDF - Key Derivation Function - \u5BC6\u94A5\u6D3E\u751F\u51FD\u6570\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"PBKDF2 - Password-Based Key Derivation Function 2 - \u57FA\u4E8E\u5BC6\u7801\u7684\u5BC6\u94A5\u6D3E\u751F\u51FD\u6570 2"}),"\n",(0,i.jsx)(s.li,{children:"bcrypt - Blowfish-based Adaptive Cryptographic Hash Function - \u57FA\u4E8E Blowfish \u7684\u81EA\u9002\u5E94\u5BC6\u7801\u54C8\u5E0C\u51FD\u6570"}),"\n",(0,i.jsx)(s.li,{children:"argon2 - Argon2 - Argon2 \u5BC6\u7801\u54C8\u5E0C\u51FD\u6570"}),"\n",(0,i.jsx)(s.li,{children:"scrypt - \u7528\u4E8E\u5BC6\u7801\u54C8\u5E0C\u7684\u5185\u5B58\u5BC6\u96C6\u578B\u5BC6\u94A5\u6D3E\u751F\u51FD\u6570"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["PHF - Password Hashing Function - \u5BC6\u7801\u54C8\u5E0C\u51FD\u6570\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"scrypt - \u7528\u4E8E\u5BC6\u7801\u54C8\u5E0C\u7684\u5185\u5B58\u5BC6\u96C6\u578B\u5BC6\u94A5\u6D3E\u751F\u51FD\u6570"}),"\n",(0,i.jsx)(s.li,{children:"sha256_crypt - SHA-256 Crypt - SHA-256 \u5BC6\u7801"}),"\n",(0,i.jsx)(s.li,{children:"sha512_crypt - SHA-512 Crypt - SHA-512 \u5BC6\u7801"}),"\n",(0,i.jsx)(s.li,{children:"md5_crypt - MD5 Crypt - MD5 \u5BC6\u7801"}),"\n",(0,i.jsx)(s.li,{children:"sha1_crypt - SHA-1 Crypt - SHA-1 \u5BC6\u7801"}),"\n",(0,i.jsx)(s.li,{children:"bcrypt - Blowfish-based Adaptive Cryptographic Hash Function - \u57FA\u4E8E Blowfish \u7684\u81EA\u9002\u5E94\u5BC6\u7801\u54C8\u5E0C\u51FD\u6570"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["MCF - Modular Crypt Format - \u6A21\u5757\u5316\u5BC6\u7801\u683C\u5F0F\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Deprecated (as of 2016) in favor of the PHC String Format"}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://github.com/ademarre/binary-mcf",children:"https://github.com/ademarre/binary-mcf"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://passlib.readthedocs.io/en/stable/modular_crypt_format.html",children:"https://passlib.readthedocs.io/en/stable/modular_crypt_format.html"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["PHC String Format - Password Hashing Competition String Format\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://github.com/P-H-C/phc-string-format/blob/master/phc-sf-spec.md",children:"https://github.com/P-H-C/phc-string-format/blob/master/phc-sf-spec.md"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://man7.org/linux/man-pages/man3/crypt.3.html",children:"https://man7.org/linux/man-pages/man3/crypt.3.html"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"$<id>[$v=<version>][$<param>=<value>(,<param>=<value>)*][$<salt>[$<hash>]]\n"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Scheme ID"}),(0,i.jsx)(s.th,{children:"Schema"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"1"}),(0,i.jsx)(s.td,{children:"MD5 / md5_crypt"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"2a"}),(0,i.jsx)(s.td,{children:"Blowfish / bcrypt"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"2b"}),(0,i.jsx)(s.td,{children:"\u517C\u5BB9 2a"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"2x"}),(0,i.jsx)(s.td,{children:"\u517C\u5BB9 2a"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"2y"}),(0,i.jsx)(s.td,{children:"\u517C\u5BB9 2a"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"3"}),(0,i.jsx)(s.td,{children:"NTHASH / bsd_nthash"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"5"}),(0,i.jsx)(s.td,{children:"SHA-256 / sha256_crypt"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"6"}),(0,i.jsx)(s.td,{children:"SHA-512 / sha512_crypt"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"md5"}),(0,i.jsx)(s.td,{children:"Solaris MD5 / sun_md5_crypt"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"sha1"}),(0,i.jsx)(s.td,{children:"PBKDF1 with SHA-1 / sha1_crypt"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"argon2d"}),(0,i.jsx)(s.td,{rowSpan:"3",children:"argon2"})]}),(0,i.jsx)(s.tr,{children:(0,i.jsx)(s.td,{children:"argon2i"})}),(0,i.jsx)(s.tr,{children:(0,i.jsx)(s.td,{children:"argon2id"})}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"pbkdf2"}),(0,i.jsx)(s.td,{children:"PBKDF2 with SHA-1 / pbkdf2_sha1"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"pbkdf2-sha256"}),(0,i.jsx)(s.td,{children:"pbkdf2_sha256"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"pbkdf2-sha512"}),(0,i.jsx)(s.td,{children:"pbkdf2_sha512"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"scram"}),(0,i.jsx)(s.td,{children:"scram"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"p5k2"}),(0,i.jsx)(s.td,{children:"cta_pbkdf2_sha1, dlitz_pbkdf2_sha1"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"scrypt"}),(0,i.jsx)(s.td,{children:"\u4F7F\u7528\u5185\u5B58\u5BC6\u96C6\u578B\u5BC6\u94A5\u5BFC\u51FA\u51FD\u6570\u7684\u5BC6\u7801\u54C8\u5E0C\u7B97\u6CD5"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"bcrypt"}),(0,i.jsx)(s.td,{children:"\u4F7F\u7528 Blowfish \u52A0\u5BC6\u7B97\u6CD5\u7684\u5BC6\u7801\u54C8\u5E0C\u7B97\u6CD5"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"apr1"}),(0,i.jsx)(s.td,{children:"apr_md5_crypt / Apache htdigest"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"P, H"}),(0,i.jsx)(s.td,{children:"phpass"})]})]})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# \u4E0D\u662F\u6240\u6709 mkpasswd \u90FD\u652F\u6301 rounds \u548C -m\nmkpasswd --rounds 1000 -m sha-512 --salt $(head -c 40 /dev/random | base64 | sed -e 's/+/./g' | cut -b 10-25) 'password'\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["1 / md5 - ",(0,i.jsx)(s.code,{children:"$1$salt$checksum"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["salt - ",(0,i.jsx)(s.code,{children:"[./0-9A-Za-z]{0,8}"})]}),"\n",(0,i.jsx)(s.li,{children:"checksum - 22, 128bit"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["5 / sha256 - ",(0,i.jsx)(s.code,{children:"$5$rounds=rounds$salt$checksum"})]}),"\n",(0,i.jsx)(s.li,{children:"des_crypt"}),"\n",(0,i.jsxs)(s.li,{children:["bsdi_crypt\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"_"})," \u524D\u7F00"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["sha\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"rounds"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"argon2",children:"argon2"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["argon2 schema\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["m - \u5185\u5B58 - 1 - ",(0,i.jsx)(s.code,{children:"(2^32)-1"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"WebApp - 64Mib"}),"\n",(0,i.jsx)(s.li,{children:"\u654F\u611F\u6570\u636E\u79BB\u7EBF - 1Gib"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"t - \u8FED\u4EE3"}),"\n",(0,i.jsx)(s.li,{children:"p - \u5E76\u884C - 1 - 255"}),"\n",(0,i.jsx)(s.li,{children:"keyid - 0-8 bytes, b64 0-11 char"}),"\n",(0,i.jsx)(s.li,{children:"data - 0-32 bytes, b64 0-43 char"}),"\n",(0,i.jsx)(s.li,{children:"salt - 8-48 bytes, b64 11-64 char"}),"\n",(0,i.jsx)(s.li,{children:"hash - 16-64 bytes, b64 22-86 char - \u9ED8\u8BA4 32 bytes 43 char"}),"\n",(0,i.jsx)(s.li,{children:"\u63A8\u8350 argon2id"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"\u53C2\u6570 salt, memory cost, time cos, parallelism factor, hash length"}),"\n",(0,i.jsx)(s.li,{children:"Argon2d\uFF08\u6570\u636E\u4F9D\u8D56\uFF09\uFF1A\u8FD9\u4E2A\u53D8\u4F53\u4F7F\u7528\u6570\u636E\u4F9D\u8D56\u7684\u5185\u5B58\u8BBF\u95EE\u6A21\u5F0F\uFF0C\u4F7F\u5F97\u5B83\u5177\u6709\u8F83\u5F3A\u7684\u62B5\u6297\u4FA7\u4FE1\u9053\u653B\u51FB\u80FD\u529B\u3002\u4F46\u662F\uFF0C\u7531\u4E8E\u5176\u6570\u636E\u4F9D\u8D56\u6027\uFF0C\u5B83\u53EF\u80FD\u5BF9\u65F6\u95F4\u7A7A\u95F4\u6743\u8861\u653B\u51FB\uFF08TMTO\uFF09\u8F83\u4E3A\u654F\u611F\u3002Argon2d \u9002\u7528\u4E8E\u9700\u8981\u8F83\u9AD8\u6297\u4FA7\u4FE1\u9053\u653B\u51FB\u80FD\u529B\u7684\u573A\u666F\uFF0C\u4F46\u4E0D\u9700\u8981\u8003\u8651 TMTO \u653B\u51FB\u7684\u60C5\u51B5\u3002"}),"\n",(0,i.jsxs)(s.li,{children:["Argon2i\uFF08\u6570\u636E\u72EC\u7ACB\uFF09\uFF1A\u8FD9\u4E2A\u53D8\u4F53\u4F7F\u7528\u6570\u636E\u72EC\u7ACB\u7684\u5185\u5B58\u8BBF\u95EE\u6A21\u5F0F\uFF0C\u4F7F\u5176\u5BF9\u65F6\u95F4\u7A7A\u95F4\u6743\u8861\u653B\u51FB\u5177\u6709\u8F83\u597D\u7684\u62B5\u6297\u80FD\u529B\u3002\u4F46\u662F\uFF0C\u76F8\u5BF9\u4E8E Argon2d\uFF0C\u5B83\u7684\u6297\u4FA7\u4FE1\u9053\u653B\u51FB\u80FD\u529B\u8F83\u5F31\u3002Argon2i \u9002\u7528\u4E8E\u9700\u8981\u8003\u8651 TMTO \u653B\u51FB\u62B5\u6297\u80FD\u529B\uFF0C\u4F46\u6297\u4FA7\u4FE1\u9053\u653B\u51FB\u80FD\u529B\u8981\u6C42\u8F83\u4F4E\u7684\u573A\u666F\u3002\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u5BC6\u7801\u573A\u666F"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"Argon2id\uFF08\u6DF7\u5408\uFF09\uFF1A\u8FD9\u4E2A\u53D8\u4F53\u662F Argon2d \u548C Argon2i \u7684\u6DF7\u5408\uFF0C\u7ED3\u5408\u4E86\u5B83\u4EEC\u7684\u4F18\u70B9\u3002\u5B83\u9996\u5148\u4F7F\u7528\u6570\u636E\u72EC\u7ACB\u7684\u5185\u5B58\u8BBF\u95EE\u6A21\u5F0F\uFF08\u7C7B\u4F3C\u4E8E Argon2i\uFF09\uFF0C\u7136\u540E\u5728\u540E\u7EED\u7684\u8FC7\u7A0B\u4E2D\u5207\u6362\u4E3A\u6570\u636E\u4F9D\u8D56\u7684\u5185\u5B58\u8BBF\u95EE\u6A21\u5F0F\uFF08\u7C7B\u4F3C\u4E8E Argon2d\uFF09\u3002\u8FD9\u79CD\u65B9\u6CD5\u65E2\u63D0\u4F9B\u4E86\u8F83\u5F3A\u7684\u6297\u4FA7\u4FE1\u9053\u653B\u51FB\u80FD\u529B\uFF0C\u53C8\u5177\u6709\u8F83\u597D\u7684\u62B5\u6297\u65F6\u95F4\u7A7A\u95F4\u6743\u8861\u653B\u51FB\u80FD\u529B\u3002Argon2id \u662F\u4E00\u79CD\u901A\u7528\u7684\u5BC6\u7801\u54C8\u5E0C\u65B9\u6848\uFF0C\u9002\u7528\u4E8E\u5927\u591A\u6570\u573A\u666F\u3002"}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://github.com/P-H-C/phc-string-format/blob/master/phc-sf-spec.md",children:"https://github.com/P-H-C/phc-string-format/blob/master/phc-sf-spec.md"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"PHC - Password Hashing Competition"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://argon2.online/",children:"https://argon2.online/"})}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"library",children:"\u5E93"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["argon2\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://github.com/ranisalt/node-argon2",children:"ranisalt/node-argon2"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"npm argon2"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["bcrypt\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"npm - bcryptjs"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"crypto-js"}),"\n",(0,i.jsx)(s.li,{children:"crypto-browserify"}),"\n",(0,i.jsx)(s.li,{children:"crypt -> scrypt"}),"\n",(0,i.jsxs)(s.li,{children:["SpringSecurity\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html",children:"https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://w3c.github.io/webappsec-change-password-url/",children:"https://w3c.github.io/webappsec-change-password-url/"})}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"\u5E38\u89C1\u670D\u52A1\u52A0\u5BC6\u7B97\u6CD5",children:"\u5E38\u89C1\u670D\u52A1\u52A0\u5BC6\u7B97\u6CD5"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"$algorithm$[cost]$[salt][hash]"})}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"gitea",children:"Gitea"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"PASSWORD_HASH_ALGO=pbkdf2"})}),"\n",(0,i.jsx)(s.li,{children:"\u53EF\u9009 argon2, pbkdf2, pbkdf2_v1, pbkdf2_hi, scrypt, bcrypt"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"\u53EF\u4EE5\u7ED9\u53C2\u6570"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"argon2$<time>$<memory>$<threads>$<key-length>\nbcrypt$<cost>\npbkdf2$<iterations>$<key-length>\nscrypt$<n>$<r>$<p>$<key-length>\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"\u9ED8\u8BA4\u4E3A"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"argon2: argon2$2$65536$8$50\nbcrypt: bcrypt$10\npbkdf2: pbkdf2$50000$50\npbkdf2_v1: pbkdf2$10000$50\npbkdf2_v2: pbkdf2$50000$50\npbkdf2_hi: pbkdf2$320000$50\nscrypt: scrypt$65536$16$2$50\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://docs.gitea.io/en-us/administration/config-cheat-sheet/",children:"https://docs.gitea.io/en-us/administration/config-cheat-sheet/"})}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"openldap",children:"OpenLDAP"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"userPassword: {SSHA}DkMTwBl+a/3DQTxCYEApdUtNXGgdUac3\nuserPassword: {CRYPT}aUihad99hmev6\nuserPassword: {CRYPT}$1$czBJdDqS$TmkzUAb836oMxg/BmIwN.1\nuserPassword: {MD5}Xr4ilOzQ4PCOq3aQ0qbuaQ==\nuserPassword: {SMD5}4QWGWZpj9GCmfuqEvm8HtZhZS6E=\nuserPassword: {SMD5}g2/J/7D5EO6+oPdklp5p8YtNFk4=\nuserPassword: {SHA}5en6G6MezRroT3XKqkdPOmY/BfQ=\n\nuserPassword: {SASL}username@realm\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"OpenLDAP \u5185\u7F6E"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"MD5"}),"\n",(0,i.jsx)(s.li,{children:"SMD5 - MD5 + Salt"}),"\n",(0,i.jsx)(s.li,{children:"SHA - SHA-1"}),"\n",(0,i.jsx)(s.li,{children:"SSHA - SHA1 + Salt"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Pass-Through authentication"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"CRYPT"}),"\n",(0,i.jsx)(s.li,{children:"SASL - Cyrus SASL"}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.openldap.org/doc/admin25/security.html",children:"https://www.openldap.org/doc/admin25/security.html"})}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"apachedirectory-server",children:"ApacheDirectory Server"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"SHA, SSHA, SHA-{256,384,512}, SSHA-{256,384,512}, MD5, SMD5, crypt, PLAIN"}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://directory.apache.org/apacheds/advanced-ug/4.1.1.2-name-password-authn.html",children:"https://directory.apache.org/apacheds/advanced-ug/4.1.1.2-name-password-authn.html"})}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"gitlab",children:"Gitlab"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"bcrypt - \u9ED8\u8BA4 - Stretching 10"}),"\n",(0,i.jsx)(s.li,{children:"PBKDF2 + SHA512 - 20,000"}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://docs.gitlab.com/ee/security/password_storage.html",children:"https://docs.gitlab.com/ee/security/password_storage.html"})}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"key-stretching",children:"Key stretching"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Key_stretching",children:"https://en.wikipedia.org/wiki/Key_stretching"})}),"\n"]}),"\n",(0,i.jsx)(s.h1,{id:"faq",children:"FAQ"}),"\n",(0,i.jsx)(s.h2,{id:"argon2-vs-bcrypt-vs-scrypt-vs-pkdf2",children:"argon2 vs bcrypt vs scrypt vs pkdf2"}),"\n",(0,i.jsx)(s.admonition,{type:"caution",children:(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"argon2 \u548C scrypt \u4F1A\u7528\u975E\u5E38\u591A\u7684\u5185\u5B58"}),"\n"]})}),"\n",(0,i.jsx)(s.p,{children:"\u5728\u9879\u76EE\u4E2D\u9009\u62E9\u5BC6\u7801\u54C8\u5E0C\u7B97\u6CD5\u65F6\uFF0C\u4E3B\u8981\u8003\u8651\u4EE5\u4E0B\u56E0\u7D20\uFF1A\u5B89\u5168\u6027\u3001\u6027\u80FD\u3001\u53EF\u7528\u6027\u548C\u793E\u533A\u652F\u6301\u3002\u4EE5\u4E0B\u662F\u5173\u4E8E Argon2\u3001bcrypt\u3001scrypt \u548C PBKDF2 \u7684\u7B80\u8981\u6BD4\u8F83\uFF1A"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\u5B89\u5168\u6027\uFF1A\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Argon2\uFF1A\u76EE\u524D\u88AB\u8BA4\u4E3A\u662F\u6700\u5B89\u5168\u7684\u5BC6\u7801\u54C8\u5E0C\u7B97\u6CD5\u3002\u5B83\u8D62\u5F97\u4E86\u5BC6\u7801\u54C8\u5E0C\u7ADE\u8D5B\uFF08PHC\uFF09\uFF0C\u5E76\u4E14\u5177\u6709\u5F88\u597D\u7684\u5185\u5B58\u5BC6\u96C6\u5EA6\uFF0C\u62B5\u6297\u4FA7\u4FE1\u9053\u653B\u51FB\u548C\u65F6\u95F4-\u7A7A\u95F4\u6743\u8861\u653B\u51FB\u3002"}),"\n",(0,i.jsx)(s.li,{children:"bcrypt\uFF1A\u4E5F\u662F\u4E00\u79CD\u5B89\u5168\u7684\u5BC6\u7801\u54C8\u5E0C\u7B97\u6CD5\uFF0C\u4F46\u76F8\u8F83\u4E8E Argon2\uFF0C\u5B83\u7684\u5185\u5B58\u5BC6\u96C6\u5EA6\u8F83\u4F4E\uFF0C\u62B5\u6297\u4FA7\u4FE1\u9053\u653B\u51FB\u548C\u65F6\u95F4-\u7A7A\u95F4\u6743\u8861\u653B\u51FB\u7684\u80FD\u529B\u8F83\u5F31\u3002"}),"\n",(0,i.jsx)(s.li,{children:"scrypt\uFF1A\u8BBE\u8BA1\u4E3A\u5185\u5B58\u5BC6\u96C6\u578B\u7B97\u6CD5\uFF0C\u4EE5\u62B5\u6297\u5927\u89C4\u6A21\u5B9A\u5236\u786C\u4EF6\u653B\u51FB\u3002\u5B83\u7684\u5B89\u5168\u6027\u4F18\u4E8E bcrypt\uFF0C\u4F46\u4ECD\u7136\u4F4E\u4E8E Argon2\u3002"}),"\n",(0,i.jsx)(s.li,{children:"PBKDF2\uFF1A\u76F8\u5BF9\u4E8E\u5176\u4ED6\u4E09\u79CD\u7B97\u6CD5\uFF0CPBKDF2 \u7684\u5B89\u5168\u6027\u6700\u4F4E\uFF0C\u56E0\u4E3A\u5B83\u6CA1\u6709\u9488\u5BF9 GPU \u6216 ASIC \u653B\u51FB\u7684\u5185\u5B58\u5BC6\u96C6\u7279\u6027\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\u6027\u80FD\uFF1A\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Argon2\u3001bcrypt \u548C scrypt \u7684\u6027\u80FD\u53EF\u4EE5\u901A\u8FC7\u8C03\u6574\u53C2\u6570\uFF08\u5982\u5185\u5B58\u3001\u8FED\u4EE3\u6B21\u6570\u7B49\uFF09\u6765\u63A7\u5236\u3002\u4F60\u53EF\u4EE5\u6839\u636E\u9879\u76EE\u7684\u9700\u6C42\u548C\u786C\u4EF6\u8D44\u6E90\u8C03\u6574\u8FD9\u4E9B\u53C2\u6570\u3002"}),"\n",(0,i.jsx)(s.li,{children:"PBKDF2 \u6027\u80FD\u4E3B\u8981\u53D6\u51B3\u4E8E\u8FED\u4EE3\u6B21\u6570\uFF0C\u4F46\u4E0E\u5176\u4ED6\u7B97\u6CD5\u76F8\u6BD4\uFF0C\u5B83\u5728\u73B0\u4EE3\u786C\u4EF6\u4E0A\u7684\u6027\u80FD\u76F8\u5BF9\u8F83\u5DEE\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\u53EF\u7528\u6027\uFF1A\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"\u5927\u591A\u6570\u7F16\u7A0B\u8BED\u8A00\u548C\u6846\u67B6\u90FD\u652F\u6301\u8FD9\u56DB\u79CD\u54C8\u5E0C\u7B97\u6CD5\uFF0C\u4F46\u5728\u67D0\u4E9B\u60C5\u51B5\u4E0B\uFF0CArgon2 \u7684\u652F\u6301\u53EF\u80FD\u4E0D\u5982\u5176\u4ED6\u7B97\u6CD5\u5E7F\u6CDB\u3002\u5728\u9009\u62E9\u7B97\u6CD5\u65F6\uFF0C\u9700\u8981\u786E\u4FDD\u6240\u9009\u7B97\u6CD5\u5728\u9879\u76EE\u4F7F\u7528\u7684\u6280\u672F\u6808\u4E2D\u53EF\u7528\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\u793E\u533A\u652F\u6301\uFF1A\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Argon2\u3001bcrypt \u548C scrypt \u90FD\u62E5\u6709\u76F8\u5BF9\u5E7F\u6CDB\u7684\u793E\u533A\u652F\u6301\uFF0C\u800C\u4E14\u8FD9\u4E9B\u7B97\u6CD5\u5DF2\u7ECF\u5F97\u5230\u4E86\u5B89\u5168\u7814\u7A76\u4EBA\u5458\u7684\u5BA1\u67E5\u548C\u63A8\u8350\u3002PBKDF2 \u4E5F\u5F97\u5230\u4E86\u4E00\u5B9A\u7684\u652F\u6301\uFF0C\u4F46\u76F8\u5BF9\u8F83\u5F31\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"\u7EFC\u5408\u8003\u8651\u4E0A\u8FF0\u56E0\u7D20\uFF0CArgon2\uFF08\u5C24\u5176\u662F Argon2id \u53D8\u4F53\uFF09\u901A\u5E38\u662F\u9996\u9009\u7B97\u6CD5\uFF0C\u56E0\u4E3A\u5B83\u5728\u5B89\u5168\u6027\u548C\u6027\u80FD\u65B9\u9762\u8868\u73B0\u6700\u4F73\u3002\u5982\u679C\u9879\u76EE\u4E2D Argon2 \u7684\u652F\u6301\u6709\u9650\uFF0C\u53EF\u4EE5\u8003\u8651\u4F7F\u7528 bcrypt \u6216 scrypt\u3002PBKDF2 \u5E94\u8BE5\u4F5C\u4E3A\u6700\u540E\u7684\u9009\u62E9\uFF0C\u4EC5\u5728\u5176\u4ED6\u9009\u9879\u4E0D\u53EF\u7528\u65F6\u4F7F\u7528\u3002"}),"\n",(0,i.jsx)(s.h2,{id:"crack-time",children:"\u7834\u89E3\u65F6\u95F4"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"password count"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"n"}),(0,i.jsx)(s.th,{children:"num"}),(0,i.jsx)(s.th,{children:"alpha"}),(0,i.jsx)(s.th,{children:"alphanum"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"6"}),(0,i.jsx)(s.td,{children:"10^6"}),(0,i.jsx)(s.td,{children:"52^6"}),(0,i.jsx)(s.td,{children:"62^6"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"7"}),(0,i.jsx)(s.td,{children:"10^7"}),(0,i.jsx)(s.td,{children:"52^7"}),(0,i.jsx)(s.td,{children:"62^7"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"8"}),(0,i.jsx)(s.td,{children:"10^8"}),(0,i.jsx)(s.td,{children:"52^8"}),(0,i.jsx)(s.td,{children:"62^8"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"9"}),(0,i.jsx)(s.td,{children:"10^9"}),(0,i.jsx)(s.td,{children:"52^9"}),(0,i.jsx)(s.td,{children:"62^9"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"10"}),(0,i.jsx)(s.td,{children:"10^10"}),(0,i.jsx)(s.td,{children:"52^10"}),(0,i.jsx)(s.td,{children:"62^10"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"11"}),(0,i.jsx)(s.td,{children:"10^11"}),(0,i.jsx)(s.td,{children:"52^11"}),(0,i.jsx)(s.td,{children:"62^11"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"12"}),(0,i.jsx)(s.td,{children:"10^12"}),(0,i.jsx)(s.td,{children:"52^12"}),(0,i.jsx)(s.td,{children:"62^12"})]})]})]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Nvidia RTX 4090 hashcat 164 GH/s, 164\u4EBF\u6B21/\u79D2"}),"\n",(0,i.jsx)(s.li,{children:"bcrypt"}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://specopssoft.com/blog/hashing-algorithm-cracking-bcrypt-passwords/",children:"https://specopssoft.com/blog/hashing-algorithm-cracking-bcrypt-passwords/"})}),"\n"]})]})}function x(n={}){let{wrapper:s}={...(0,d.R)(),...n.components};return s?(0,i.jsx)(s,{...n,children:(0,i.jsx)(a,{...n})}):a(n)}},17776:function(n,s,r){r.d(s,{R:()=>l,x:()=>c});var e=r(7378);let i={},d=e.createContext(i);function l(n){let s=e.useContext(d);return e.useMemo(function(){return"function"==typeof n?n(s):{...s,...n}},[s,n])}function c(n){let s;return s=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),e.createElement(d.Provider,{value:s},n.children)}}}]);