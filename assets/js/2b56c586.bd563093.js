"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["62241"],{42327:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>r,toc:()=>p,default:()=>o,metadata:()=>c,assets:()=>a,contentTitle:()=>l});var c=JSON.parse('{"id":"web/script/typescript/typescript-namespace","title":"TypeScript Namespace","description":"1. namespace \u662F TypeScript \u7279\u6709\u7684\u4E00\u79CD\u7EC4\u7EC7\u4EE3\u7801\u7684\u65B9\u5F0F\u3002","source":"@site/../notes/web/script/typescript/typescript-namespace.md","sourceDirName":"web/script/typescript","slug":"/web/script/typescript/namespace","permalink":"/notes/web/script/typescript/namespace","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/script/typescript/typescript-namespace.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1729657938000,"frontMatter":{"title":"TypeScript Namespace"},"sidebar":"docs","previous":{"title":"Typescript FAQ","permalink":"/notes/web/script/typescript/faq"},"next":{"title":"tsconfig.json","permalink":"/notes/web/script/typescript/tsconfig"}}'),i=s(86106),t=s(17776);let r={title:"TypeScript Namespace"},l="TypeScript Namespace",a={},p=[];function d(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"typescript-namespace",children:"TypeScript Namespace"})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"namespace \u662F TypeScript \u7279\u6709\u7684\u4E00\u79CD\u7EC4\u7EC7\u4EE3\u7801\u7684\u65B9\u5F0F\u3002"}),"\n",(0,i.jsx)(n.li,{children:"namespace \u672C\u8D28\u4E0A\u662F\u5168\u5C40\u547D\u540D\u7A7A\u95F4\u4E2D\u7684\u547D\u540D JavaScript \u5BF9\u8C61\u3002"}),"\n",(0,i.jsxs)(n.li,{children:["\u63A8\u8350\u4F7F\u7528 ",(0,i.jsx)(n.code,{children:"namespace"})," \u800C\u4E0D\u662F ",(0,i.jsx)(n.code,{children:"module"}),", \u907F\u514D\u548C ES6 \u7684 module \u6DF7\u6DC6\u3002\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"module XXX {}"})," -> ",(0,i.jsx)(n.code,{children:"namespace XXX {}"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5F53\u5B58\u5728\u540C\u540D\uFF0C\u4F46\u4E0D\u540C\u4E0A\u4E0B\u6587\u7684\u65F6\u5019\uFF0C\u4F7F\u7528 namespace \u975E\u5E38\u4FBF\u6377\u3002\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u4F8B\u5982: \u9879\u76EE\u91CC\u6709\u4E24\u4E2A ",(0,i.jsx)(n.code,{children:"useResourceId"}),", \u589E\u52A0 namespace \u53D8\u6210 ",(0,i.jsx)(n.code,{children:"FormContext.useResourceId"}),", ",(0,i.jsx)(n.code,{children:"ResourceContext.useResourceId"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"\u5982\u679C\u524D\u7AEF\u5173\u6CE8 bundle size \u5219\u4E0D\u63A8\u8350\u5728\u4E00\u4E2A namespace \u91CC\u653E\u592A\u591A\u5185\u5BB9 - \u65E0\u6CD5 tree shaking"}),"\n",(0,i.jsxs)(n.li,{children:["\u540E\u7AEF\u590D\u6742\u7ED3\u6784\u672C\u8EAB\u4F1A\u5B58\u5728 namespace \u7684\u6982\u5FF5\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4F8B\u5982: Java \u7684 package, C# \u7684 namespace"}),"\n",(0,i.jsxs)(n.li,{children:["\u4F8B\u5982: ",(0,i.jsx)(n.code,{children:"GameEngine.Render.Core.renderShape"}),", namepsace \u63D0\u4F9B\u4E86\u66F4\u597D\u7684\u7EC4\u7EC7\u4EE3\u7801\u7684\u65B9\u5F0F"]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["ESBuild, Rollup, Parcel \u4E0D\u652F\u6301 namespace tree shaking\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u63A8\u8350\u4F7F\u7528 ESM \u7684 ",(0,i.jsx)(n.code,{children:"import * as Module"})," \u4EE3\u66FF - \u652F\u6301 tree shaking"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/evanw/esbuild/issues/3077",children:"https://github.com/evanw/esbuild/issues/3077"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://esbuild.github.io/try/#YgAwLjI0LjAALS1idW5kbGUgLS1mb3JtYXQ9ZXNtAGUAZW50cnkuanMAaW1wb3J0IHtYfSBmcm9tICcuL2ZpbGUnOwppbXBvcnQgKiBhcyBYMiBmcm9tICcuL2ZpbGUyJzsKY29uc3QgQXBwID0gKCk9PnsKY29uc29sZS5sb2coWC5BLFgyLkEpCn0KCkFwcCgpAABmaWxlLnRzAGV4cG9ydCBuYW1lc3BhY2UgWCB7CmV4cG9ydCBjb25zdCBBID0gMQpleHBvcnQgY29uc3QgQiA9IDI7CmV4cG9ydCBmdW5jdGlvbiBGKCl7fQp9AABmaWxlMi50cwBleHBvcnQgY29uc3QgQSA9IDEKZXhwb3J0IGNvbnN0IEIgPSAyOwpleHBvcnQgZnVuY3Rpb24gWEYoKXt9",children:"playground"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["namespace is out-of-date syntax ",(0,i.jsx)(n.a,{href:"https://github.com/sinclairzx81/typebox/issues/408",children:"https://github.com/sinclairzx81/typebox/issues/408"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export namespace A {\n  export const B = 1;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u6216"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export module A {\n  export const B = 1;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"\u7B49\u540C\u4E8E"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export var A;\n(function (A) {\n  A.B = 1;\n})(A || (A = {}));\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"namespace \u53EF\u80FD\u4F1A\u6709 tree shaking \u7684\u95EE\u9898, \u53EF\u4EE5\u907F\u514D\u5355\u4E2A namespace \u5185\u5BB9\u8FC7\u591A"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"export * as name"})," \u672C\u8D28\u4E5F\u662F namespace \u4E00\u79CD\u65B9\u5F0F\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u4E5F\u662F\u4F1A\u6709 tree shaking \u7684\u95EE\u9898"]}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Namespace \u66FF\u4EE3\u5199\u6CD5"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u7EC4\u7EC7 utils"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:"title='utils.ts'",children:"export { foo } from './foo';\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:"title='index.ts'",children:"// \u66B4\u9732\u4E3A\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u8FD9\u79CD\u573A\u666F\u53EF\u76F4\u63A5\u4F7F\u7528 namespace\nexport * as utils from './utils';\n\n// \u4F7F\u7528\u65F6\u4F5C\u4E3A namespace\uFF0C\u6BCF\u6B21\u65F6\u90FD\u8981\u8FD9\u6837\u5B9A\u4E49\nimport * as utils from './utils';\n"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u5355\u4F8B\u5BF9\u8C61"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"class _Helper {\n  foo() {}\n}\n\nexport const Helper = new _Helper();\n\n// \u6216\u8005\n\nexport class Helper2 {\n  static foo() {}\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Namespace"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u5F53\u529F\u80FD\u66F4\u591A\u7684\u65F6\u5019\uFF0C\u66F4\u597D\u7EC4\u7EC7\u4EE3\u7801"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export namespace Helper {\n  export function foo() {}\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["namespace\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6CA1\u6709\u88AB deprecated"}),"\n",(0,i.jsx)(n.li,{children:"\u53E6\u5916\u7684\u4E00\u79CD\u7EC4\u7EC7\u4EE3\u7801\u7684\u65B9\u5F0F"}),"\n",(0,i.jsx)(n.li,{children:"\u53EF\u4EE5\u7528\u6765\u7EC4\u7EC7\u590D\u6742\u7684\u5355\u6587\u4EF6"}),"\n",(0,i.jsx)(n.li,{children:"\u53EF\u4EE5\u7528\u6765\u5B9E\u73B0 singletone \u7684\u5DE5\u5177\u7C7B"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5927\u591A\u65F6\u5019\u63A8\u8350\u4F7F\u7528 es module \u800C\u4E0D\u662F\u7528 namespace\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"module \u4F9D\u8D56 module loader/runtime/cjs/esm - \u73B0\u4EE3\u73AF\u5883\u90FD\u6709"}),"\n",(0,i.jsx)(n.li,{children:"ECMAScript 2015+ / ES6+"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"namespace \u6307\u4EE3 internal modules"}),"\n",(0,i.jsxs)(n.li,{children:["TypeScript 1.5+\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"module X"})," = ",(0,i.jsx)(n.code,{children:"namespace X"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.typescriptlang.org/docs/handbook/namespaces-and-modules.html",children:"https://www.typescriptlang.org/docs/handbook/namespaces-and-modules.html"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.typescriptlang.org/docs/handbook/namespaces.html",children:"https://www.typescriptlang.org/docs/handbook/namespaces.html"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/babel/babel/issues/8244",children:"https://github.com/babel/babel/issues/8244"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/microsoft/TypeScript/issues/30994",children:"https://github.com/microsoft/TypeScript/issues/30994"})}),"\n"]})]})}function o(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},17776:function(e,n,s){s.d(n,{R:()=>r,x:()=>l});var c=s(7378);let i={},t=c.createContext(i);function r(e){let n=c.useContext(t);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),c.createElement(t.Provider,{value:n},e.children)}}}]);