"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["63054"],{5487:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>a,toc:()=>c,default:()=>h,metadata:()=>l,assets:()=>i,contentTitle:()=>t});var l=JSON.parse('{"id":"java/build/gradle/README","title":"Gradle","description":"- Userguide","source":"@site/../notes/java/build/gradle/README.md","sourceDirName":"java/build/gradle","slug":"/java/build/gradle/","permalink":"/notes/java/build/gradle/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/java/build/gradle/README.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1708697175000,"frontMatter":{"title":"Gradle"},"sidebar":"docs","previous":{"title":"google-java-format","permalink":"/notes/java/build/google-java-format"},"next":{"title":"Gradle FAQ","permalink":"/notes/java/build/gradle/faq"}}'),d=r(86106),s=r(17776);let a={title:"Gradle"},t="Gradle",i={},c=[{value:"env",id:"env",level:2},{value:"gradle.properties",id:"gradleproperties",level:2},{value:"daemon",id:"daemon",level:2},{value:"cache",id:"cache",level:2}];function o(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"gradle",children:"Gradle"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://docs.gradle.org/current/userguide/userguide.html",children:"Userguide"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://guides.gradle.org/building-java-9-modules/",children:"Building Java 9 Modules"})}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.a,{href:"https://sagioto.github.io/maven2gradle/",children:"maven 2 gradle"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u8F6C\u6362 dependency"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://gradle.org/releases/",children:"https://gradle.org/releases/"})}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"sdk install gradle 8.0.1 # for SDKMAN\nbrew install gradle      # for macOS\n\n# wrapper \u5347\u7EA7\n./gradlew wrapper --gradle-version=8.0.1 --distribution-type=bin\n\n# https://docs.gradle.org/current/userguide/build_init_plugin.html\n# \u751F\u6210\u57FA\u672C\u914D\u7F6E\n# --type pom,java-application,java-library,scala-library,groovy-library,basic\ngradle init\n\n# \u5237\u65B0\u4F9D\u8D56\n./gradlew build --refresh-dependencies\n# \u4EE3\u7406\n./gradlew -Dhttp.proxyHost=127.0.0.1 -Dhttp.proxyPort=1234 -Dhttps.proxyHost=127.0.0.1 -Dhttps.proxyPort=1234 build\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"gradle.properties"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ini",children:"# \u4EE3\u7406\u914D\u7F6E\nsystemProp.http.proxyHost=127.0.0.1\nsystemProp.http.proxyPort=1234\nsystemProp.https.proxyHost=127.0.0.1\nsystemProp.https.proxyPort=1234\n\n# \u5982\u679C\u9700\u8981\u6388\u6743\n# http.proxyUser=usernameProxy\n# http.proxyPassword=yourPassoword\n"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-groovy",children:'// https://docs.gradle.org/current/userguide/declaring_repositories.html\nmavenCentral()\nmaven {\n    url "http://maven.aliyun.com/nexus/content/groups/public"\n}\n'})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-groovy",children:'// build.gradle or settings.gradle\nrepositories {\n  maven {\n    url "http://repo1.mycompany.com/maven2"\n  }\n  maven {\n    url "http://repo2.mycompany.com/maven2"\n  }\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"env",children:"env"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"env"}),(0,d.jsx)(n.th,{children:"default"}),(0,d.jsx)(n.th,{children:"for"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"GRADLE_HOME"}),(0,d.jsx)(n.td,{}),(0,d.jsx)(n.td,{children:"\u5B89\u88C5\u76EE\u5F55"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"GRADLE_USER_HOME"}),(0,d.jsx)(n.td,{children:"~/.gradle"}),(0,d.jsx)(n.td,{children:"\u7528\u6237\u76EE\u5F55"})]})]})]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Windows\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["GRADLE_USER_HOME=",(0,d.jsx)(n.code,{children:"C:\\Users\\<USERNAME>\\.gradle"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-txt",metastring:"title=GRADLE_USER_HOME",children:"\u251C\u2500\u2500 caches\n\u2502   \u251C\u2500\u2500 4.8\n\u2502   \u251C\u2500\u2500 4.9\n\u2502   \u251C\u2500\u2500 \u22EE\n\u2502   \u251C\u2500\u2500 jars-3\n\u2502   \u2514\u2500\u2500 modules-2\n\u251C\u2500\u2500 daemon\n\u2502   \u251C\u2500\u2500 \u22EE\n\u2502   \u251C\u2500\u2500 4.8\n\u2502   \u2514\u2500\u2500 4.9\n\u251C\u2500\u2500 init.d\n\u2502   \u2514\u2500\u2500 my-setup.gradle\n\u251C\u2500\u2500 jdks\n\u2502   \u251C\u2500\u2500 \u22EE\n\u2502   \u2514\u2500\u2500 jdk-14.0.2+12\n\u251C\u2500\u2500 wrapper\n\u2502   \u2514\u2500\u2500 dists\n\u2502       \u251C\u2500\u2500 \u22EE\n\u2502       \u251C\u2500\u2500 gradle-4.8-bin\n\u2502       \u251C\u2500\u2500 gradle-4.9-all\n\u2502       \u2514\u2500\u2500 gradle-4.9-bin\n\u2514\u2500\u2500 gradle.properties\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://docs.gradle.org/current/userguide/directory_layout.html",children:"https://docs.gradle.org/current/userguide/directory_layout.html"})}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"gradleproperties",children:"gradle.properties"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://docs.gradle.org/current/userguide/build_environment.html",children:"https://docs.gradle.org/current/userguide/build_environment.html"})}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-ini",children:"org.gradle.daemon=true\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["GRADLE_OPTS\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"-Dorg.gradle.daemon=false"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"daemon",children:"daemon"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"./gradlew -d --no-daemon\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://docs.gradle.org/8.0.1/userguide/gradle_daemon.html",children:"https://docs.gradle.org/8.0.1/userguide/gradle_daemon.html"})}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"cache",children:"cache"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"gradle --build-cache compileJava\ngradle --build-cache compileJava -Dorg.gradle.caching.debug=true\n\nls ~/.gradle/caches/build-cache-1/\n\ngradle clean\n"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-properties",metastring:"title=gradle.properties",children:"org.gradle.caching=true\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u8FDC\u7A0B\u7F13\u5B58"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-groovy",children:"buildCache {\n    remote(HttpBuildCache) {\n        url = 'https://example.com:8123/cache/'\n        credentials {\n            username = 'build-cache-user-name'\n            password = 'build-cache-password'\n        }\n    }\n}\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://docs.gradle.org/current/userguide/build_cache.html",children:"https://docs.gradle.org/current/userguide/build_cache.html"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},17776:function(e,n,r){r.d(n,{R:()=>a,x:()=>t});var l=r(7378);let d={},s=l.createContext(d);function a(e){let n=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:a(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);