"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["70215"],{33530:function(n,e,t){t.r(e),t.d(e,{frontMatter:()=>a,toc:()=>c,default:()=>p,metadata:()=>o,assets:()=>l,contentTitle:()=>u});var o=JSON.parse('{"id":"languages/python/uv","title":"uv","description":"- astral-sh/uv","source":"@site/../notes/languages/python/uv.md","sourceDirName":"languages/python","slug":"/languages/python/uv","permalink":"/notes/languages/python/uv","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/languages/python/uv.md","tags":[{"inline":true,"label":"Package Manager","permalink":"/notes/tags/package-manager"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1757294976000,"frontMatter":{"tags":["Package Manager"]},"sidebar":"docs","previous":{"title":"Python Reference","permalink":"/notes/languages/python/ref"},"next":{"title":"\u6B63\u5219\u8868\u8FBE\u5F0F","permalink":"/notes/languages/regexp"}}'),r=t(86106),s=t(17776);let a={tags:["Package Manager"]},u="uv",l={},c=[{value:"No module named &#39;setuptools&#39;",id:"no-module-named-setuptools",level:2}];function i(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"uv",children:"uv"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/astral-sh/uv",children:"astral-sh/uv"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Apache-2.0, MIT, Rust"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'curl -LsSf https://astral.sh/uv/install.sh | sh\nbrew install uv # macOS Homebrew\npip install uv\n# ~/.local/bin\npipx install uv\nexport PATH="$HOME/.local/bin:$PATH"\n\nuv init example\ncd example\nuv add ruff\nuv run ruff check\nuv sync\n\n# Python \u7248\u672C\u7BA1\u7406\nuv python install 3.10 3.11 3.12\nuv venv --python 3.11 # \u6309\u9700\u4E0B\u8F7D\nuv run --python pypy@3.8 -- python --version\nuv python pin 3.12 # \u56FA\u5B9A .python-version\n\nuv pip\nuv venv\n\nuv pip sync pyproject.toml\nuv pip compile pyproject.toml -o requirements.lock\nuv pip sync requirements.lock\n'})}),"\n",(0,r.jsx)(e.h1,{id:"faq",children:"FAQ"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"uv sync --extra cpu\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-toml",children:'# \u53EF\u9009\u4F9D\u8D56\u7EC4\n[project.optional-dependencies]\ncpu = [\n    "torch==2.8.0+cpu",\n    "torchvision==0.23.0+cpu",\n    "torchaudio==2.8.0+cpu",\n]\ncu128 = [\n    "torch==2.8.0+cu128",\n    "torchvision==0.23.0+cu128",\n    "torchaudio==2.8.0+cu128",\n]\n\n# \u5305\u7D22\u5F15 / \u6E90\n[[tool.uv.index]]\nname = "pytorch-cpu"\nurl = "https://download.pytorch.org/whl/cpu"\n# \u4E13\u7528\nexplicit = true\n\n[[tool.uv.index]]\nname = "pytorch-cu128"\nurl = "https://download.pytorch.org/whl/cu128"\nexplicit = true\n\n# \u5173\u8054 \u5305 <-> Index\n[tool.uv.sources]\ntorch = [\n	{ index = "pytorch-cpu", extra = "cpu" }, # \u6761\u4EF6\u63A7\u5236\n	{ index = "pytorch-cu128", extra = "cu128" },\n]\ntorchvision = [\n	{ index = "pytorch-cpu", extra = "cpu" },\n	{ index = "pytorch-cu128", extra = "cu128" },\n]\n\n[tool.uv]\nindex-url = "https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple"\n# \u4E92\u65A5\nconflicts = [[\n	{ extra = "cpu" },\n	{ extra = "cu128" },\n]]\n\n\n\n'})}),"\n",(0,r.jsx)(e.h2,{id:"no-module-named-setuptools",children:"No module named 'setuptools'"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"uv pip install setuptools\n"})})]})}function p(n={}){let{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(i,{...n})}):i(n)}},17776:function(n,e,t){t.d(e,{R:()=>a,x:()=>u});var o=t(7378);let r={},s=o.createContext(r);function a(n){let e=o.useContext(s);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function u(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),o.createElement(s.Provider,{value:e},n.children)}}}]);