"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["84486"],{59837:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>l,toc:()=>d,default:()=>h,metadata:()=>i,assets:()=>o,contentTitle:()=>c});var i=JSON.parse('{"id":"web/script/typescript/typescript-faq","title":"Typescript FAQ","description":"- \u90E8\u5206\u7C7B\u578B\u53C2\u6570\u63A8\u5BFC #26242","source":"@site/../notes/web/script/typescript/typescript-faq.md","sourceDirName":"web/script/typescript","slug":"/web/script/typescript/faq","permalink":"/notes/web/script/typescript/faq","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/script/typescript/typescript-faq.md","tags":[{"inline":true,"label":"FAQ","permalink":"/notes/tags/faq"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1759022422000,"frontMatter":{"tags":["FAQ"]},"sidebar":"docs","previous":{"title":"enum","permalink":"/notes/web/script/typescript/enum"},"next":{"title":"TypeScript Namespace","permalink":"/notes/web/script/typescript/namespace"}}'),t=s(86106),r=s(17776);let l={tags:["FAQ"]},c="Typescript FAQ",o={},d=[{value:"null",id:"null",level:2},{value:"tsconfig.tsbuildinfo",id:"tsconfigtsbuildinfo",level:2},{value:"type vs interface",id:"type-vs-interface",level:2},{value:"enum vs union",id:"enum-vs-union",level:2},{value:"\u4E3A\u6BCF\u4E2A\u65B9\u6CD5\u6DFB\u52A0\u4E00\u4E2A\u53C2\u6570",id:"\u4E3A\u6BCF\u4E2A\u65B9\u6CD5\u6DFB\u52A0\u4E00\u4E2A\u53C2\u6570",level:2},{value:"Expected 3 type arguments, but got 1",id:"expected-3-type-arguments-but-got-1",level:2},{value:"\u7BAD\u5934\u51FD\u6570\u4F7F\u7528\u6CDB\u578B\u53C2\u6570",id:"\u7BAD\u5934\u51FD\u6570\u4F7F\u7528\u6CDB\u578B\u53C2\u6570",level:2},{value:"Path alias",id:"path-alias",level:2},{value:"ts-node",id:"ts-node",level:3},{value:"I \u63A5\u53E3\u547D\u540D\u524D\u7F00",id:"i-\u63A5\u53E3\u547D\u540D\u524D\u7F00",level:2},{value:"DEV",id:"dev",level:2},{value:"\u4F7F\u7528 pnpm \u5B89\u88C5\uFF0CTypescript \u62A5\u7C7B\u578B\u9519\u8BEF",id:"\u4F7F\u7528-pnpm-\u5B89\u88C5typescript-\u62A5\u7C7B\u578B\u9519\u8BEF",level:2},{value:"Types of property &#39;propTypes&#39; are incompatible",id:"types-of-property-proptypes-are-incompatible",level:2},{value:"method-signature-style",id:"method-signature-style",level:2},{value:"as const",id:"as-const",level:2},{value:"bundle/rollup d.ts",id:"bundlerollup-dts",level:2},{value:"Module &#39;wechat4u&#39; resolves to an untyped module at , which cannot be augmented.",id:"module-wechat4u-resolves-to-an-untyped-module-at--which-cannot-be-augmented",level:2},{value:"TS6133: &#39;React&#39; is declared but its value is never read.",id:"ts6133-react-is-declared-but-its-value-is-never-read",level:2},{value:"SyntaxError: This experimental syntax requires enabling one of the following parser plugin(s): &quot;decorators&quot;, &quot;decorators-legacy&quot;.",id:"syntaxerror-this-experimental-syntax-requires-enabling-one-of-the-following-parser-plugins-decorators-decorators-legacy",level:2},{value:"mixin",id:"mixin",level:2},{value:"Polymorphic React Props",id:"polymorphic-react-props",level:2},{value:"NullableOptional",id:"nullableoptional",level:2},{value:"SyntaxError: A type-only import can specify a default import or named bindings, but not both",id:"syntaxerror-a-type-only-import-can-specify-a-default-import-or-named-bindings-but-not-both",level:2},{value:"TS2742",id:"ts2742",level:2}];function a(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"typescript-faq",children:"Typescript FAQ"})}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u90E8\u5206\u7C7B\u578B\u53C2\u6570\u63A8\u5BFC ",(0,t.jsx)(n.a,{href:"https://github.com/microsoft/TypeScript/issues/26242",children:"#26242"})]}),"\n",(0,t.jsxs)(n.li,{children:["monorepo \u7C7B\u578B\u95EE\u9898 ",(0,t.jsx)(n.a,{href:"https://github.com/microsoft/TypeScript/issues/25376",children:"TypeScript#25376"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u76EE\u524D\u5C31 npm monorepo \u5DE5\u4F5C\u76F8\u5BF9\u6B63\u5E38"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["interface \u5B9A\u4E49 static\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"abstract static"})," ",(0,t.jsx)(n.a,{href:"https://github.com/microsoft/TypeScript/issues/34516",children:"TypeScript#34516"})]}),"\n",(0,t.jsxs)(n.li,{children:["specifying interface implements clauses ",(0,t.jsx)(n.a,{href:"https://github.com/microsoft/TypeScript/issues/33892",children:"#33892"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["typescript \u6CA1\u6709 ESM\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u76F4\u63A5 import \u4F1A\u6709\u95EE\u9898, \u591A\u4E00\u5C42 default"}),"\n",(0,t.jsxs)(n.li,{children:["Provide TypeScript as an ESM ",(0,t.jsx)(n.a,{href:"https://github.com/microsoft/TypeScript/issues/32949",children:"#32949"})]}),"\n",(0,t.jsxs)(n.li,{children:["Use ESM for our executables ",(0,t.jsx)(n.a,{href:"https://github.com/microsoft/TypeScript/issues/51440",children:"#51440"})]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html",children:"https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"null",children:"null"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["\u7528 ",(0,t.jsx)(n.code,{children:"undefined"})," . \u4E0D\u8981\u7528 ",(0,t.jsx)(n.code,{children:"null"})," ."]}),"\n",(0,t.jsx)(n.p,{children:"-- Coding Guidelines for Contributors to TypeScript."}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["undefined\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u65E0\u503C\uFF0C\u4E0D\u80FD\u88AB\u5E8F\u5217\u5316"}),"\n",(0,t.jsx)(n.li,{children:"not been assigned a value"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["null\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6709\u503C\uFF0C\u503C\u4E3A null\uFF0C\u80FD\u5E8F\u5217\u5316"}),"\n",(0,t.jsx)(n.li,{children:"\u53EF\u4EE5\u4FDD\u6301 object \u7684 key \u5B58\u5728"}),"\n",(0,t.jsx)(n.li,{children:"intentional absence"}),"\n",(0,t.jsx)(n.li,{children:"resource not ready"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"foo == null"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u4F1A\u5339\u914D ",(0,t.jsx)(n.code,{children:"null"})," \u548C ",(0,t.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://2ality.com/2021/01/undefined-null-revisited.html",children:"https://2ality.com/2021/01/undefined-null-revisited.html"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/Microsoft/TypeScript/wiki/Coding-guidelines#null-and-undefined",children:"https://github.com/Microsoft/TypeScript/wiki/Coding-guidelines#null-and-undefined"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/urql-graphql/urql/issues/792",children:"https://github.com/urql-graphql/urql/issues/792"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"tsconfigtsbuildinfo",children:"tsconfig.tsbuildinfo"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"--incremental"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"type-vs-interface",children:"type vs interface"}),"\n",(0,t.jsx)(n.p,{children:"\u5EFA\u8BAE\u4F18\u5148 interface"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u66F4\u76F4\u89C2 - \u5199\u6CD5\u548C\u529F\u80FD\u4E0A"}),"\n",(0,t.jsx)(n.li,{children:"\u5BF9\u719F\u6089\u5176\u4ED6\u8BED\u8A00\u7684\u4EBA\u6765\u8BF4\u66F4\u597D\u7406\u89E3"}),"\n",(0,t.jsxs)(n.li,{children:["\u5F31\u4E8E ",(0,t.jsx)(n.code,{children:"type"})," - \u907F\u514D\u592A\u590D\u6742"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"type"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Type alias"}),"\n",(0,t.jsx)(n.li,{children:"\u53EF\u4EE5\u8868\u793A\u4EFB\u610F\u7C7B\u578B"}),"\n",(0,t.jsx)(n.li,{children:"\u652F\u6301 union\u3001mapped type\u3001conditional type\u3001tuple"}),"\n",(0,t.jsxs)(n.li,{children:["\u9690\u542B ",(0,t.jsx)(n.code,{children:"Record<PropertyKey, unknown>"})]}),"\n",(0,t.jsx)(n.li,{children:"type \u5B9A\u4E49\u540E\u5C31\u4E0D\u53EF\u53D8\u4E86"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"interface"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u53EF\u4EE5 extends - \u4F1A\u6BD4 type ",(0,t.jsx)(n.code,{children:"&"})," \u5FEB\u4E00\u70B9"]}),"\n",(0,t.jsxs)(n.li,{children:["\u540C\u540D\u4F1A\u505A\u5408\u5E76\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u901A\u5E38\u662F\u4E0D\u5E0C\u671B\u7684\u7ED3\u679C"}),"\n",(0,t.jsx)(n.li,{children:"\u53EF\u4EE5\u4F5C\u4E3A\u6269\u5C55\u70B9\uFF0C\u5E93\u63D0\u4F9B\u5B9A\u4E49\u7C7B\u578B\u7684\u80FD\u529B"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#differences-between-type-aliases-and-interfaces",children:"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#differences-between-type-aliases-and-interfaces"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5EFA\u8BAE\u4F18\u5148 interface"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.totaltypescript.com/type-vs-interface-which-should-you-use",children:"https://www.totaltypescript.com/type-vs-interface-which-should-you-use"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://dev.to/afzalimdad9/stop-using-typescript-interfaces-1lc2",children:"Stop Using TypeScript Interfaces"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"enum-vs-union",children:"enum vs union"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["enum\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6709\u7C7B\u578B\uFF0C\u4E0D\u80FD\u76F4\u63A5\u8D4B\u503C"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"union"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// \u53EF\u4EE5\u904D\u5386\u7684 ENUM\nconst permissions = ['read', 'write', 'execute'] as const;\ntype Permission = (typeof permissions)[number];\n\n// \u4F7F\u7528 ENUM \u4E14\u53EF\u4EE5\u904D\u5386\u7684\u65B9\u5F0F\nenum Permission {\n  Read = 'r',\n  Write = 'w',\n  Execute = 'x',\n}\n\nconst Permission = {\n  Read: 'r',\n  Write: 'w',\n  Execute: 'x',\n} as const;\ntype Permission = (typeof Permission)[keyof typeof Permission];\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["jsonschema \u4E5F\u6709\u8FD9\u4E2A\u95EE\u9898\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"enum \u662F\u6570\u7EC4\uFF0C\u4E0D\u80FD\u6709 title"}),"\n",(0,t.jsx)(n.li,{children:"oneOf/anyOf \u53EF\u4EE5\u6709 title - union"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://stackoverflow.com/a/60041791/1870054",children:"https://stackoverflow.com/a/60041791/1870054"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u4E3A\u6BCF\u4E2A\u65B9\u6CD5\u6DFB\u52A0\u4E00\u4E2A\u53C2\u6570",children:"\u4E3A\u6BCF\u4E2A\u65B9\u6CD5\u6DFB\u52A0\u4E00\u4E2A\u53C2\u6570"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://stackoverflow.com/a/49479117/1870054",children:"https://stackoverflow.com/a/49479117/1870054"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"expected-3-type-arguments-but-got-1",children:"Expected 3 type arguments, but got 1"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"TS 5.0 \u4E0D\u652F\u6301\u90E8\u5206\u53C2\u6570\u63A8\u5BFC"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://stackoverflow.com/a/55754981/1870054",children:"https://stackoverflow.com/a/55754981/1870054"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/Microsoft/TypeScript/issues/10571",children:"#10571"}),"\nAllow skipping some generics when calling a function with multiple generics"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/Microsoft/TypeScript/issues/26242",children:"#26242"}),"\nPartial Type Argument Inference"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u7BAD\u5934\u51FD\u6570\u4F7F\u7528\u6CDB\u578B\u53C2\u6570",children:"\u7BAD\u5934\u51FD\u6570\u4F7F\u7528\u6CDB\u578B\u53C2\u6570"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"arrow function use generic type parameter"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const identity = <T>(value: T): T[] => {\n  return [value];\n};\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// TSX\nconst identity = <T,>(arg: T): T => arg;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"path-alias",children:"Path alias"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u63A8\u8350 ",(0,t.jsx)(n.code,{children:"@/*"})," -> ",(0,t.jsx)(n.code,{children:"src/*"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7B80\u5355\u597D\u914D\u7F6E"}),"\n",(0,t.jsx)(n.li,{children:"\u9002\u7528\u4E8E\u5927\u591A\u573A\u666F"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"\u5C3D\u91CF\u4FDD\u6301\u4F7F\u7528\u76F8\u540C\u7684 alias \u4F4D\u7F6E\uFF0C\u8BA9\u4EE3\u7801\u5938\u9879\u76EE\u7C98\u8D34\u590D\u5236\u65B9\u4FBF"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:'title="tsconfig.json"',children:'{\n  "compilerOptions": {\n    "baseUrl": ".",\n    "paths": {\n      "@/*": ["src/*"]\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'title="vite.config.ts"',children:"import { defineConfig } from 'vitest/config';\n\nexport default defineConfig({\n  test: {\n    alias: {\n      '@/': new URL('./src/', import.meta.url).pathname,\n    },\n  },\n});\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:'title=".swcrc"',children:'{\n  "jsc": {\n    "baseUrl": "./",\n    "paths": {\n      "@/*": ["@/*"]\n    }\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/module-alias",children:"https://www.npmjs.com/package/module-alias"})}),"\n",(0,t.jsxs)(n.li,{children:["self link\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["PNPM\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://pnpm.io/aliases",children:"https://pnpm.io/aliases"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/pnpm/pnpm/issues/6316",children:"https://github.com/pnpm/pnpm/issues/6316"})}),"\n",(0,t.jsxs)(n.li,{children:["dependencies ",(0,t.jsx)(n.code,{children:'"src": "workspace:web@^"'})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://yarnpkg.com/configuration/yarnrc#nmSelfReferences",children:"https://yarnpkg.com/configuration/yarnrc#nmSelfReferences"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["nextjs\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/vercel/turbo/discussions/620",children:"https://github.com/vercel/turbo/discussions/620"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"ts-node",children:"ts-node"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["esm \u6709\u95EE\u9898 ",(0,t.jsx)(n.a,{href:"https://github.com/TypeStrong/ts-node/discussions/1450#discussion-3563207",children:"https://github.com/TypeStrong/ts-node/discussions/1450#discussion-3563207"})]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm add -D tsconfig-paths\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "ts-node": {\n    "require": ["tsconfig-paths/register"]\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/TypeStrong/ts-node#paths-and-baseurl",children:"https://github.com/TypeStrong/ts-node#paths-and-baseurl"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"i-\u63A5\u53E3\u547D\u540D\u524D\u7F00",children:"I \u63A5\u53E3\u547D\u540D\u524D\u7F00"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u89C9\u5F97\u9700\u8981\u7528\u7684\u65F6\u5019\u5C31\u7528\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7C7B\u548C\u63A5\u53E3\u540C\u65F6\u5B58\u5728"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"\u5982\u679C\u53EA\u6709\u63A5\u53E3\u6CA1\u6709\u5B9E\u73B0\u65F6\uFF0C\u4E0D\u8981\u52A0\u524D\u7F00"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// user.ts\n// IUserService \u4EC5\u63D0\u4F9B\u7ED9\u4F7F\u7528\u65B9\nexport class UserService implements IUserService {}\nexport interface IUserService {}\n\n// index.ts\n// \u5BF9\u5916\u53EA\u66B4\u9732\u63A5\u53E3\uFF0C\u907F\u514D import \u7684\u65F6\u5019\u5BFC\u5165\u6E90\u7801\u589E\u52A0 bundle\nexport { type IUserService } from 'user.ts';\n\n// client.ts\nimport type { IUserService } from 'server';\n// \u5BA2\u6237\u7AEF\u4E0D\u9700\u8981 bundle \u6E90\u7801\nconst svc = getService<IUserService>('user');\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://stackoverflow.com/a/41967120/1870054",children:"https://stackoverflow.com/a/41967120/1870054"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"dev",children:"DEV"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'title="types.d.ts"',children:"declare var __DEV__: boolean;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u4F7F\u7528-pnpm-\u5B89\u88C5typescript-\u62A5\u7C7B\u578B\u9519\u8BEF",children:"\u4F7F\u7528 pnpm \u5B89\u88C5\uFF0CTypescript \u62A5\u7C7B\u578B\u9519\u8BEF"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5C1D\u8BD5 preserveSymlinks"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "preserveSymlinks": true\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/microsoft/TypeScript/issues/29808",children:"https://github.com/microsoft/TypeScript/issues/29808"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"types-of-property-proptypes-are-incompatible",children:"Types of property 'propTypes' are incompatible"}),"\n",(0,t.jsx)(n.h2,{id:"method-signature-style",children:"method-signature-style"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"interface Example {\n  // method shorthand syntax\n  func(arg: string): number;\n\n  // regular property with function type\n  func: (arg: string) => number;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"method args - bivariant"}),"\n",(0,t.jsx)(n.li,{children:"function args - contravariant"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/microsoft/TypeScript/pull/18654",children:"https://github.com/microsoft/TypeScript/pull/18654"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"as-const",children:"as const"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"const assertions"}),"\n",(0,t.jsxs)(n.li,{children:["\u4E0D\u4F1A\u8BA9\u7C7B\u578B\u53D8\u5BBD - ",(0,t.jsx)(n.code,{children:"'hello'"})," \u4E0D\u4F1A\u53D8\u4E3A ",(0,t.jsx)(n.code,{children:"string"})]}),"\n",(0,t.jsx)(n.li,{children:"\u90FD\u662F readyonly"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions",children:"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html#const-assertions"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"bundlerollup-dts",children:"bundle/rollup d.ts"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/Swatinem/rollup-plugin-dts",children:"rollup-plugin-dts"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4E0D\u652F\u6301 path"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/wessberg/rollup-plugin-ts",children:"rollup-plugin-ts"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/timocov/dts-bundle-generator",children:"timocov/dts-bundle-generator"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/Microsoft/TypeScript/issues/4433",children:"https://github.com/Microsoft/TypeScript/issues/4433"})}),"\n",(0,t.jsxs)(n.li,{children:["bun bundle \u903B\u8F91\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u90FD\u662F d.ts \u597D\u5904\u7406\u4E9B"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/oven-sh/bun/blob/main/packages/bun-types/scripts/bundle.ts",children:"https://github.com/oven-sh/bun/blob/main/packages/bun-types/scripts/bundle.ts"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"The inferred type of '' cannot be named without a reference to sequelize"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/microsoft/TypeScript/issues/42873",children:"TypeScript#42873"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# tsconfig \u53EF\u4EE5\u8C03\u6574\u4E3A include \u9700\u8981\u7684\u5185\u5BB9\npnpm tsc -p ./tsconfig.json --noEmit false --emitDeclarationOnly true --declaration true --outDir ./dist/types\n\n# \u76F4\u63A5\u751F\u6210\npnpm tsc --target ESNext --jsx preserve --declaration --strict --pretty --out ./dist/server.js --module system --moduleResolution node --emitDeclarationOnly ./src/server/routers/_app.ts\n"})}),"\n",(0,t.jsx)(n.h2,{id:"module-wechat4u-resolves-to-an-untyped-module-at--which-cannot-be-augmented",children:"Module 'wechat4u' resolves to an untyped module at , which cannot be augmented."}),"\n",(0,t.jsx)(n.p,{children:"\u5C06\u6240\u6709\u7684\u7C7B\u578B\u5B9A\u4E49\u90FD\u653E\u5728 declare module \u91CC"}),"\n",(0,t.jsx)(n.h2,{id:"ts6133-react-is-declared-but-its-value-is-never-read",children:"TS6133: 'React' is declared but its value is never read."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"jsx: react"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/microsoft/TypeScript/issues/41882",children:"https://github.com/microsoft/TypeScript/issues/41882"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"syntaxerror-this-experimental-syntax-requires-enabling-one-of-the-following-parser-plugins-decorators-decorators-legacy",children:'SyntaxError: This experimental syntax requires enabling one of the following parser plugin(s): "decorators", "decorators-legacy".'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"export default {\n  importOrderParserPlugins: ['typescript', 'decorators-legacy'],\n};\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/trivago/prettier-plugin-sort-imports/issues/120",children:"https://github.com/trivago/prettier-plugin-sort-imports/issues/120"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"mixin",children:"mixin"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.typescriptlang.org/docs/handbook/mixins.html",children:"https://www.typescriptlang.org/docs/handbook/mixins.html"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"polymorphic-react-props",children:"Polymorphic React Props"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import * as React from \"react\";\n\ntype BoxProps<E extends ElementType> = Omit<ComponentProps<E>, 'as'> & {\n  as?: E;\n};\n\nconst Box = <E extends ElementType = 'div'>({ as, ...props }: BoxProps<E>) => {\n  const TagName = as || 'div';\n  return <TagName {...props} />;\n};\n\ntype PolymorphicProps<P extends { as?: T }, T extends React.ElementType> = P &\n  Omit<React.ComponentPropsWithoutRef<T>, keyof P>;\n\ntype ButtonProps<T extends React.ElementType> = PolymorphicProps<\n  {\n    as?: T;\n    icon?: React.ReactNode;\n    children?: React.ReactNode;\n  },\n  T\n>;\n\nfunction Button<T extends React.ElementType = \"button\">({\n  as,\n  ...props\n}: ButtonProps<T>\n) {\n  const Component = as || \"button\";\n  return <Component {...props} />;\n}\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAKjgQwM5wEoFNkGN4BmUEIcARFDvmQNwBQdMAnmFnAAoQA2TI0YAC2C52xMKgA87OFgAeMLADsAJugDeKVAH4AXHAAqcAL4AaAzPlLVmKjAB0AUS5YQSmPpZYAfHAC8HOAAyOjg4AHkQYBgJbDx7AGESSEU3UQhxAHUogQgAVxhsAgl9LzMAaywmCAIOL3pGTzgAIXyYCEU08WKLBRV0WPxHZ1dFd0b-AHIAI1b2iZ9-Th4+KEFhTskQuDUt0LRdA3pQ0OF2g4H7C4A5CGUsI+PcIS5lSkVz2ztr2-ut0y39HQ6gwCLlFPhgO1mrNFN05L1rBchi43B5WH5yDMYG1FGQvAAKHZ7VAmLZ2clgMSoOhGPQtbHtDbFLx0ACU2y2uHaqHgiXA7TcGLQcAAPiLMTDaFtKDBclBFHAJHzkoK1OS7JT0qgjHAAPTAowMYCjLBQAh4NgAZVwlGQkUUAHN6TiNhzQq5UKhkA6sHoeVBjQ76Ia6KDwTBIQrrbb7U6YYS4B6vT7jHpozhY87GVT2US4DK5QqJFicXBmKxfGQS+0yHB2vEuMIyr41Pj2b4fMhnLB8UnvVhWUYvA2m4msABCCS66uKA1G-mwbZwZUC0YbMxOFGjNFsHVEEhwCa2-ATerlthNCCyJkOHpWdCbkZjVgLcKRaIrlJrqkSBylQ9oPMQRupoBwOMG9RcooPLNFeGK-nefRwI+qLjIeyjAAAbvMCZoGY6qauIqawdeP5-u2Ph5lBMH6N6Vx2mw-jCmK6FYae0pYLK8qKrRDr0a42wEVSOr6hBDChmCEJQgAgmAYBtiBBbcfiuyKiyxzHBIWazgAkigpDIHAM5Ttp6kaYq2maJWyC1gIlAEJWup4npdooHAjaKGUJkwmZGlaTCcB2VgDlkE5XguaQigQPAhkeWUZioBAgX2XAwDoFFMVwJhXbAMocCEd5DKzqpoT+UVVlqOmdqBtpOp9j6lYABJYFwXBJQA7tALy1vqJUWQF9VYE1LVtXAnVQN14X6XAGVuagNoZoGRkBYlY6ev2qXpdFbnZY2eUFbqpl9VpcFBQ5Ey6hdvmaZeshWRMyATMlwW+BdV3Hbd90Ydhz3nZdvV+QDcCssGDBAA",children:"Playground"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"nullableoptional",children:"NullableOptional"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"type RequiredKeys<T> = {\n  [K in keyof T]-?: {} extends { [P in K]: T[K] } ? never : K;\n}[keyof T];\n\ntype OptionalKeys<T> = {\n  [K in keyof T]-?: {} extends { [P in K]: T[K] } ? K : never;\n}[keyof T];\n\ntype PickRequired<T> = Pick<T, RequiredKeys<T>>;\n\ntype PickOptional<T> = Pick<T, OptionalKeys<T>>;\n\ntype Nullable<T> = {\n  [P in keyof T]: T[P] | null;\n};\n\ntype NullableOptional<T> = PickRequired<T> & Nullable<PickOptional<T>>;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"syntaxerror-a-type-only-import-can-specify-a-default-import-or-named-bindings-but-not-both",children:"SyntaxError: A type-only import can specify a default import or named bindings, but not both"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import type React, { type ReactNode } from 'react';\n"})}),"\n",(0,t.jsx)(n.h2,{id:"ts2742",children:"TS2742"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u5F53\u4F7F declaration:true \u65F6\u4F1A\u8981\u6C42"}),"\n",(0,t.jsxs)(n.li,{children:["\u5F53 composite:true \u65F6, \u5F3A\u5236\u8981\u6C42 declaration:true\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7528\u4E8E\u914D\u5408 references \u4F7F\u7528"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"TS2742: The inferred type of X cannot be named without a reference to Y. This is likely not portable. A type annotation is necessary."}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},17776:function(e,n,s){s.d(n,{R:()=>l,x:()=>c});var i=s(7378);let t={},r=i.createContext(t);function l(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);