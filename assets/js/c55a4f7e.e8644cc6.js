"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["162348"],{882234:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>c,toc:()=>o,default:()=>h,metadata:()=>r,assets:()=>a,contentTitle:()=>l});var r=JSON.parse('{"id":"hardware/sbc/rpi/benchmarking","title":"Raspberry Pi Benchmarking & System Diagnostics","description":"Guidelines and tools for monitoring Raspberry Pi health, investigating performance throttling, and performing stress tests.","source":"@site/../notes/hardware/sbc/rpi/benchmarking.md","sourceDirName":"hardware/sbc/rpi","slug":"/hardware/sbc/rpi/benchmarking","permalink":"/notes/hardware/sbc/rpi/benchmarking","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/hardware/sbc/rpi/benchmarking.md","tags":[{"inline":true,"label":"Hardware","permalink":"/notes/tags/hardware"},{"inline":true,"label":"RaspberryPi","permalink":"/notes/tags/raspberry-pi"},{"inline":true,"label":"Diagnostics","permalink":"/notes/tags/diagnostics"},{"inline":true,"label":"Benchmarking","permalink":"/notes/tags/benchmarking"},{"inline":true,"label":"StressTesting","permalink":"/notes/tags/stress-testing"},{"inline":true,"label":"vcgencmd","permalink":"/notes/tags/vcgencmd"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"Raspberry Pi Benchmarking & System Diagnostics","tags":["Hardware","RaspberryPi","Diagnostics","Benchmarking","StressTesting","vcgencmd"]},"sidebar":"docs","previous":{"title":"Raspberry Pi (\u6811\u8393\u6D3E) Overview & Getting Started","permalink":"/notes/hardware/sbc/rpi/"},"next":{"title":"Raspberry Pi Sensors & Components (\u4F20\u611F\u5668\u4E0E\u5143\u5668\u4EF6)","permalink":"/notes/hardware/sbc/rpi/elements"}}'),i=s(486106),t=s(917776);let c={title:"Raspberry Pi Benchmarking & System Diagnostics",tags:["Hardware","RaspberryPi","Diagnostics","Benchmarking","StressTesting","vcgencmd"]},l="Raspberry Pi Benchmarking & Diagnostics",a={},o=[{value:"System Diagnostics with <code>vcgencmd</code>",id:"system-diagnostics-with-vcgencmd",level:2},{value:"Investigating Throttling",id:"investigating-throttling",level:3},{value:"CPU Stress Testing",id:"cpu-stress-testing",level:2},{value:"1. <code>cpuburn-arm</code>",id:"1-cpuburn-arm",level:3},{value:"2. <code>stress-ng</code>",id:"2-stress-ng",level:3},{value:"GPU Stress Testing",id:"gpu-stress-testing",level:2},{value:"<code>gpu-burn</code> (CUDA only)",id:"gpu-burn-cuda-only",level:3},{value:"Real-time Monitoring Script",id:"real-time-monitoring-script",level:2},{value:"Resources",id:"resources",level:2}];function d(e){let n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"raspberry-pi-benchmarking--diagnostics",children:"Raspberry Pi Benchmarking & Diagnostics"})}),"\n",(0,i.jsx)(n.p,{children:"Guidelines and tools for monitoring Raspberry Pi health, investigating performance throttling, and performing stress tests."}),"\n",(0,i.jsxs)(n.h2,{id:"system-diagnostics-with-vcgencmd",children:["System Diagnostics with ",(0,i.jsx)(n.code,{children:"vcgencmd"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"vcgencmd"})," utility allows you to query various pieces of information from the Raspberry Pi's GPU firmware."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.raspberrypi.org/documentation/raspbian/applications/vcgencmd.md",children:"Official vcgencmd Documentation"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://elinux.org/RPI_vcgencmd_usage",children:"RPi vcgencmd Usage Guide (eLinux)"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"investigating-throttling",children:"Investigating Throttling"}),"\n",(0,i.jsx)(n.p,{children:"If your Pi feels slow, it might be due to thermal or voltage issues."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"vcgencmd get_throttled\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Status Code Breakdown (Hex Bitmask)"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0x1"}),": Under-voltage detected (at the moment)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0x2"}),": ARM frequency capped (at the moment)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0x4"}),": Currently throttled."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0x10000"}),": Under-voltage has occurred since last boot."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0x20000"}),": ARM frequency capped has occurred since last boot."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"0x40000"}),": Throttling has occurred since last boot."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.em,{children:["Example: ",(0,i.jsx)(n.code,{children:"0x50005"})," means under-voltage and throttling are active now and have occurred previously."]})}),"\n",(0,i.jsx)(n.h2,{id:"cpu-stress-testing",children:"CPU Stress Testing"}),"\n",(0,i.jsxs)(n.h3,{id:"1-cpuburn-arm",children:["1. ",(0,i.jsx)(n.code,{children:"cpuburn-arm"})]}),"\n",(0,i.jsx)(n.p,{children:"Designed to generate maximum heat by intensively utilizing ARM instructions."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/ssvb/cpuburn-arm",children:"ssvb/cpuburn-arm"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Assembly, MIT"}),"\n",(0,i.jsx)(n.li,{children:"Optimized CPU stress testing for various ARM architectures (A53, A8, etc.)."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Example for RPi 3/4 (Cortex-A53/A72)\nwget https://raw.githubusercontent.com/ssvb/cpuburn-arm/master/cpuburn-a53.S\ngcc -o cpuburn-a53 cpuburn-a53.S\n./cpuburn-a53\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"2-stress-ng",children:["2. ",(0,i.jsx)(n.code,{children:"stress-ng"})]}),"\n",(0,i.jsx)(n.p,{children:"A comprehensive tool to stress various system components."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install tools\nsudo apt-get install -y stress-ng htop\n\n# Run a heavy stress test for 60 seconds\nstress-ng --cpu $(nproc) --vm $(nproc) --vm-bytes 500M --io $(nproc) --timeout 60\n"})}),"\n",(0,i.jsx)(n.h2,{id:"gpu-stress-testing",children:"GPU Stress Testing"}),"\n",(0,i.jsxs)(n.h3,{id:"gpu-burn-cuda-only",children:[(0,i.jsx)(n.code,{children:"gpu-burn"})," (CUDA only)"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Note: This is specifically for CUDA-enabled devices; standard Raspberry Pi GPUs (VideoCore) require different tools like GLMark2."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/wilicc/gpu-burn",children:"wilicc/gpu-burn"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"C++, BSD-2-Clause"}),"\n",(0,i.jsx)(n.li,{children:"Multi-GPU CUDA stress test tool."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"real-time-monitoring-script",children:"Real-time Monitoring Script"}),"\n",(0,i.jsx)(n.p,{children:"Run this loop while stress testing to monitor clock speeds and temperatures:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'while true; do\n  for v in "measure_clock arm" "measure_clock gpu" measure_temp get_throttled; do\n    /opt/vc/bin/vcgencmd $v\n  done\n  sleep 2\ndone\n'})}),"\n",(0,i.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://lambdalabs.com/blog/perform-gpu-and-cpu-stress-testing-on-linux/",children:"Perform GPU and CPU Stress Testing on Linux"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.geeks3d.com/20190930/raspberry-pi-4-vs-raspberry-pi-3-cpu-and-gpu-benchmarks/",children:"RPi 4 vs RPi 3 Benchmarks"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},917776:function(e,n,s){s.d(n,{R:()=>c,x:()=>l});var r=s(7378);let i={},t=r.createContext(i);function c(e){let n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);