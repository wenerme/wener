"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["34813"],{48102:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>o,toc:()=>c,default:()=>h,metadata:()=>i,assets:()=>a,contentTitle:()=>r});var i=JSON.parse('{"id":"software/krita","title":"krita","description":"- \u4FEE\u6539\u8BED\u8A00","source":"@site/../notes/software/krita.md","sourceDirName":"software","slug":"/software/krita","permalink":"/notes/software/krita","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/software/krita.md","tags":[{"inline":true,"label":"Image Editor","permalink":"/notes/tags/image-editor"},{"inline":true,"label":"Digital Painting","permalink":"/notes/tags/digital-painting"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1756017263000,"frontMatter":{"title":"krita","tags":["Image Editor","Digital Painting"]},"sidebar":"docs","previous":{"title":"IINA","permalink":"/notes/software/iina"},"next":{"title":"lossless-cut","permalink":"/notes/software/lossless-cut"}}'),t=s(86106),l=s(17776);let o={title:"krita",tags:["Image Editor","Digital Painting"]},r="krita",a={},c=[{value:"krita-ai-diffusion",id:"krita-ai-diffusion",level:2},{value:"Error: Internal assertion failed [Edit models do not support upscaling]",id:"error-internal-assertion-failed-edit-models-do-not-support-upscaling",level:3}];function d(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"krita",children:"krita"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u4FEE\u6539\u8BED\u8A00\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Settings -> Switch Application Language"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"krita-ai-diffusion",children:"krita-ai-diffusion"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u64CD\u4F5C\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"\u4E0B\u8F7D zip"}),"\n",(0,t.jsx)(n.li,{children:"\u5DE5\u5177 -> \u811A\u672C -> \u4ECE\u6587\u4EF6\u5B89\u88C5\u811A\u672C"}),"\n",(0,t.jsx)(n.li,{children:"\u8BBE\u7F6E -> \u9762\u677F\u5217\u8868 -> AI Image Generation"}),"\n",(0,t.jsxs)(n.li,{children:["Configuration -> \u81EA\u5B9A\u4E49\u670D\u52A1\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["ComfyUI URL: ",(0,t.jsx)(n.a,{href:"http://localhost:8188",children:"http://localhost:8188"})]}),"\n",(0,t.jsx)(n.li,{children:"ComfyUI API Key: \u4F60\u7684 ComfyUI API Key"}),"\n",(0,t.jsxs)(n.li,{children:["ComfyUI \u9700\u8981\u7684 nodes ",(0,t.jsx)(n.a,{href:"https://docs.interstice.cloud/comfyui-setup",children:"https://docs.interstice.cloud/comfyui-setup"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["ControlNet preprocessors ",(0,t.jsx)(n.a,{href:"https://github.com/Fannovel16/comfyui_controlnet_aux",children:"https://github.com/Fannovel16/comfyui_controlnet_aux"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"comfyui_controlnet_aux"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["IP-Adapter ",(0,t.jsx)(n.a,{href:"https://github.com/cubiq/ComfyUI_IPAdapter_plus",children:"https://github.com/cubiq/ComfyUI_IPAdapter_plus"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"ComfyUI_IPAdapter_plus"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["External Tooling Nodes ",(0,t.jsx)(n.a,{href:"https://github.com/Acly/comfyui-tooling-nodes",children:"https://github.com/Acly/comfyui-tooling-nodes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"comfyui-tooling-nodes"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Inpaint Nodes ",(0,t.jsx)(n.a,{href:"https://github.com/Acly/comfyui-inpaint-nodes",children:"https://github.com/Acly/comfyui-inpaint-nodes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"comfyui-inpaint-nodes"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/Acly/krita-ai-diffusion",children:"Acly/krita-ai-diffusion"})}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.interstice.cloud/models/",children:"https://docs.interstice.cloud/models/"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Common models (required):\nOmniSR Superscale (OmniSR_X2_DIV2K.safetensors, OmniSR_X3_DIV2K.safetensors, OmniSR_X4_DIV2K.safetensors)\nNMKD Superscale (4x_NMKD-Superscale-SP_178000_G.pth)\nOmniSR Superscale (OmniSR_X2_DIV2K.safetensors, OmniSR_X3_DIV2K.safetensors, OmniSR_X4_DIV2K.safetensors)\nCLIP Vision (clip-vision_vit-h.safetensors)\nMAT Inpaint (MAT_Places512_G_fp16.safetensors)\nOmniSR Superscale (OmniSR_X2_DIV2K.safetensors, OmniSR_X3_DIV2K.safetensors, OmniSR_X4_DIV2K.safetensors)"}),"\n",(0,t.jsx)(n.p,{children:"Detected base models:\nSD 1.5: missing ControlNet Unblur, Hyper-SD LoRA (SD1.5), ControlNet Inpaint, IP-Adapter (SD1.5)\nSD XL: missing Hyper-SD LoRA (SDXL), Fooocus Inpaint, IP-Adapter (SDXL), Fooocus Inpaint\nSD 3: missing clip_g, Diffusion model checkpoint\nFlux: missing Diffusion model checkpoint\nFlux Kontext: missing Diffusion model checkpoint\nIllustrious: models found\nChroma: missing Diffusion model checkpoint"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# curl -LO https://github.com/Acly/krita-ai-diffusion/raw/refs/heads/main/scripts/download_models.py\n# uv run ./download_models.py --all ./\n\n# Minimal\ncurl --create-dirs -L -o models/clip_vision/clip-vision_vit-h.safetensors https://huggingface.co/h94/IP-Adapter/resolve/main/models/image_encoder/model.safetensors\n\ncurl --create-dirs -L -o models/upscale_models/4x_NMKD-Superscale-SP_178000_G.pth https://huggingface.co/gemasai/4x_NMKD-Superscale-SP_178000_G/resolve/main/4x_NMKD-Superscale-SP_178000_G.pth\ncurl --create-dirs -L -o models/upscale_models/OmniSR_X2_DIV2K.safetensors https://huggingface.co/Acly/Omni-SR/resolve/main/OmniSR_X2_DIV2K.safetensors\ncurl --create-dirs -L -o models/upscale_models/OmniSR_X3_DIV2K.safetensors https://huggingface.co/Acly/Omni-SR/resolve/main/OmniSR_X3_DIV2K.safetensors\ncurl --create-dirs -L -o models/upscale_models/OmniSR_X4_DIV2K.safetensors https://huggingface.co/Acly/Omni-SR/resolve/main/OmniSR_X4_DIV2K.safetensors\n\ncurl --create-dirs -L -o models/inpaint/MAT_Places512_G_fp16.safetensors https://huggingface.co/Acly/MAT/resolve/main/MAT_Places512_G_fp16.safetensors\n\n# Optional\ncurl --create-dirs -L -o models/upscale_models/HAT_SRx4_ImageNet-pretrain.pth https://huggingface.co/Acly/hat/resolve/main/HAT_SRx4_ImageNet-pretrain.pth\ncurl --create-dirs -L -o models/upscale_models/Real_HAT_GAN_sharper.pth https://huggingface.co/Acly/hat/resolve/main/Real_HAT_GAN_sharper.pth\n\n# SDXL\n# RealVis (SDXL - Photography)\ncurl --create-dirs --remote-name-all -L \\\n  -C- -o models/checkpoints/RealVisXL_V5.0_fp16.safetensors https://huggingface.co/SG161222/RealVisXL_V5.0/resolve/main/RealVisXL_V5.0_fp16.safetensors \\\n  -C- -o models/ipadapter/ip-adapter_sdxl_vit-h.safetensors https://huggingface.co/h94/IP-Adapter/resolve/main/sdxl_models/ip-adapter_sdxl_vit-h.safetensors \\\n  -C- -o models/loras/Hyper-SDXL-8steps-CFG-lora.safetensors https://huggingface.co/ByteDance/Hyper-SD/resolve/main/Hyper-SDXL-8steps-CFG-lora.safetensors \\\n  -C- -o models/inpaint/fooocus_inpaint_head.pth https://huggingface.co/lllyasviel/fooocus_inpaint/resolve/main/fooocus_inpaint_head.pth \\\n  -C- -o models/inpaint/inpaint_v26.fooocus.patch https://huggingface.co/lllyasviel/fooocus_inpaint/resolve/main/inpaint_v26.fooocus.patch\n\n# ZavyChroma (SDXL - Artwork)\ncurl --create-dirs --remote-name-all -L \\\n  -C- -o models/checkpoints/zavychromaxl_v80.safetensors https://huggingface.co/misri/zavychromaxl_v80/resolve/main/zavychromaxl_v80.safetensors\n\n# Flux dev kontext\n# https://github.com/Acly/krita-ai-diffusion/discussions/1176\n# https://github.com/Acly/krita-ai-diffusion/releases/tag/v1.36.0\n# -C- -o models/vae/ae.safetensors  https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/blob/main/split_files/vae/ae.safetensors\ncurl -L \\\n  -C- -o models/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors \\\n  -C- -o models/text_encoders/clip_l.safetensors https://huggingface.co/comfyanonymous/flux_text_encoders/blob/main/clip_l.safetensors \\\n  -C- -o models/text_encoders/t5xxl_fp8_e4m3fn_scaled.safetensors https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"t5xxl_fp8_e4m3fn.safetensors"}),"\n",(0,t.jsx)(n.li,{children:"t5xxl_fp8_e4m3fn_scaled.safetensors"}),"\n",(0,t.jsxs)(n.li,{children:["scaled\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u7CBE\u5EA6\u66F4\u9AD8"}),"\n",(0,t.jsx)(n.li,{children:"\u517C\u5BB9\u6027\u66F4\u5F31"}),"\n",(0,t.jsx)(n.li,{children:"\u66F4\u6162"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Stable Diffusion 1.5\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"2022-10"}),"\n",(0,t.jsx)(n.li,{children:"512x512"}),"\n",(0,t.jsx)(n.li,{children:"work well for x768"}),"\n",(0,t.jsx)(n.li,{children:"\u66F4\u5C11 VRAM\u3001\u66F4\u5C0F\u3001\u793E\u533A\u5185\u5BB9\u591A\u3001control \u6A21\u578B\u591A"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Stable Diffusion XL\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"2023-07"}),"\n",(0,t.jsx)(n.li,{children:"1024x1024"}),"\n",(0,t.jsx)(n.li,{children:"\u8D28\u91CF\u66F4\u9AD8"}),"\n",(0,t.jsx)(n.li,{children:"prompt \u7406\u89E3\u66F4\u597D"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Illustrious/NoobAI\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u57FA\u4E8E SDXL"}),"\n",(0,t.jsx)(n.li,{children:"anime-focused"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"error-internal-assertion-failed-edit-models-do-not-support-upscaling",children:"Error: Internal assertion failed [Edit models do not support upscaling]"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4FEE\u6539\u4E0B refine \u6A21\u578B"}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},17776:function(e,n,s){s.d(n,{R:()=>o,x:()=>r});var i=s(7378);let t={},l=i.createContext(t);function o(e){let n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);