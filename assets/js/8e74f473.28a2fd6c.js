"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["507448"],{462214:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>d,toc:()=>a,default:()=>h,metadata:()=>s,assets:()=>c,contentTitle:()=>t});var s=JSON.parse('{"id":"os/linux/admin/fs","title":"Linux \u6587\u4EF6\u7CFB\u7EDF\u4E0E\u8BBE\u5907\u7BA1\u7406","description":"linux-filesystem-device-management}","source":"@site/../notes/os/linux/admin/fs.md","sourceDirName":"os/linux/admin","slug":"/os/linux/admin/fs","permalink":"/notes/os/linux/admin/fs","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/os/linux/admin/fs.md","tags":[{"inline":true,"label":"Linux","permalink":"/notes/tags/linux"},{"inline":true,"label":"Admin","permalink":"/notes/tags/admin"},{"inline":true,"label":"Filesystem","permalink":"/notes/tags/filesystem"},{"inline":true,"label":"Device","permalink":"/notes/tags/device"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"Linux \u6587\u4EF6\u7CFB\u7EDF\u4E0E\u8BBE\u5907\u7BA1\u7406","tags":["Linux","Admin","Filesystem","Device"]},"sidebar":"docs","previous":{"title":"Linux Admin","permalink":"/notes/os/linux/admin/"},"next":{"title":"Logging","permalink":"/notes/os/linux/admin/log"}}'),l=i(486106),r=i(917776);let d={title:"Linux \u6587\u4EF6\u7CFB\u7EDF\u4E0E\u8BBE\u5907\u7BA1\u7406",tags:["Linux","Admin","Filesystem","Device"]},t="Linux \u6587\u4EF6\u7CFB\u7EDF\u4E0E\u8BBE\u5907\u7BA1\u7406 {#linux-filesystem-device-management}",c={},a=[{value:"\u6700\u540E\u767B\u5F55\u4FE1\u606F (Last Login)",id:"last-login",level:2},{value:"\u6302\u8F7D\u4E0E\u5171\u4EAB (Mounts &amp; Shares)",id:"mounts-shares",level:2},{value:"\u65E5\u5FD7\u6587\u4EF6 (Logs)",id:"logs",level:2},{value:"\u8BBE\u5907\u8282\u70B9 (Device Nodes)",id:"device-nodes",level:2},{value:"\u663E\u5361\u4E0E GPU (GPU)",id:"gpu",level:2},{value:"\u6742\u9879 (Misc)",id:"misc",level:2}];function o(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"linux-filesystem-device-management",children:"Linux \u6587\u4EF6\u7CFB\u7EDF\u4E0E\u8BBE\u5907\u7BA1\u7406"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/etc"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/usr/local/bin"})," \u672C\u5730\u7F16\u8BD1"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"last-login",children:"\u6700\u540E\u767B\u5F55\u4FE1\u606F (Last Login)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/var/log/lastlog"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"lastlog(8)"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"pam_lastlog(8)"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"last"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"mounts-shares",children:"\u6302\u8F7D\u4E0E\u5171\u4EAB (Mounts & Shares)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/etc/dfs/sharetab"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/etc/mtab"})," -> ",(0,l.jsx)(n.code,{children:"/proc/mounts"})]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/etc/motd"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# \u6DFB\u52A0\u6700\u8FD1\u7684\u4E00\u6761 mount \u5230 fstab\nsudo tail -1 /etc/mtab | sudo tee -a /etc/fstab\n"})}),"\n",(0,l.jsx)(n.h2,{id:"logs",children:"\u65E5\u5FD7\u6587\u4EF6 (Logs)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/var/log/messages"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/var/log/dmesg"})}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/var/log/pods/NAMESPACE_POD"})," - kubelet/containerd Pod \u65E5\u5FD7\u76EE\u5F55"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"device-nodes",children:"\u8BBE\u5907\u8282\u70B9 (Device Nodes)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/dev/zram"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Linux 3.14+"}),"\n",(0,l.jsx)(n.li,{children:"\u5185\u5B58\u4E2D\u7684\u538B\u7F29\u5757\u8BBE\u5907 (compressed block device in RAM)"}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.kernel.org/doc/html/latest/admin-guide/blockdev/zram.html",children:"zram: Compressed RAM-based block devices"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Zram",children:"Zram - Wikipedia"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"gpu",children:"\u663E\u5361\u4E0E GPU (GPU)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/dev/dri/by-path/"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/dev/dri/card0"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/dev/dri/renderD128"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"apk add inxi\ninxi -Gx\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",metastring:'title="aspeed"',children:"sudo dmesg | grep AST\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"ast 0000:03:00.0: [drm] AST 2400 detected\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"lspci -vvv -s 03:00.0\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:'language-title="ASRock',metastring:'AST2400"',children:"03:00.0 VGA compatible controller: ASPEED Technology, Inc. ASPEED Graphics Family (rev 30) (prog-if 00 [VGA controller])\n        Subsystem: ASRock Incorporation Device 2000\n        Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr+ Stepping- SERR+ FastB2B- DisINTx-\n        Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=medium >TAbort- <TAbort- <MAbort- >SERR- <PERR- INTx-\n        Latency: 0\n        Interrupt: pin A routed to IRQ 17\n        Region 0: Memory at de000000 (32-bit, non-prefetchable) [size=16M]\n        Region 1: Memory at df000000 (32-bit, non-prefetchable) [size=128K]\n        Region 2: I/O ports at d000 [size=128]\n        Expansion ROM at 000c0000 [virtual] [disabled] [size=128K]\n        Capabilities: [40] Power Management version 3\n                Flags: PMEClk- DSI- D1+ D2+ AuxCurrent=375mA PME(D0+,D1+,D2+,D3hot+,D3cold+)\n                Status: D0 NoSoftRst- PME-Enable- DSel=0 DScale=0 PME-\n        Capabilities: [50] MSI: Enable- Count=1/4 Maskable- 64bit+\n                Address: 0000000000000000  Data: 0000\n        Kernel driver in use: ast\n"})}),"\n",(0,l.jsx)(n.h2,{id:"misc",children:"\u6742\u9879 (Misc)"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"~/.dircolors"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"/etc/DIR_COLORS"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.code,{children:"LS_COLORS"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},917776:function(e,n,i){i.d(n,{R:()=>d,x:()=>t});var s=i(7378);let l={},r=s.createContext(l);function d(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);