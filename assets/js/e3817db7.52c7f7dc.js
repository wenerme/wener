"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["10239"],{1156:function(n,e,r){r.r(e),r.d(e,{frontMatter:()=>c,toc:()=>h,default:()=>x,metadata:()=>s,assets:()=>l,contentTitle:()=>d});var s=JSON.parse('{"id":"devops/infra/cfengine","title":"CFEngine","description":"- Agent","source":"@site/../notes/devops/infra/cfengine.md","sourceDirName":"devops/infra","slug":"/devops/infra/cfengine","permalink":"/notes/devops/infra/cfengine","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/devops/infra/cfengine.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1737815601000,"frontMatter":{"title":"CFEngine"},"sidebar":"docs","previous":{"title":"Boundary","permalink":"/notes/devops/infra/boundary"},"next":{"title":"Cloud Init","permalink":"/notes/devops/infra/cloud-init"}}'),t=r(86106),i=r(17776);let c={title:"CFEngine"},d="CFEngine",l={},h=[];function o(n){let e={a:"a",code:"code",del:"del",h1:"h1",header:"header",hr:"hr",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"cfengine",children:"CFEngine"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Agent\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"cf-agent"}),"\n",(0,t.jsx)(e.li,{children:"cf-promises"}),"\n",(0,t.jsx)(e.li,{children:"cf-runagent"}),"\n",(0,t.jsx)(e.li,{children:"cf-know"}),"\n",(0,t.jsx)(e.li,{children:"cf-report"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["Daemon\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"cf-execd"}),"\n",(0,t.jsx)(e.li,{children:"cf-serverd"}),"\n",(0,t.jsx)(e.li,{children:"cf-monitord"}),"\n"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"bin"}),(0,t.jsx)(e.th,{children:"for"})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-agent"}),(0,t.jsx)(e.td,{children:"\u8FDE\u63A5 cf-serverd"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-check"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-execd"}),(0,t.jsx)(e.td,{children:"cron, 5min, \u8C03\u5EA6 cf-agent"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-key"}),(0,t.jsx)(e.td,{children:"\u751F\u6210\u5BC6\u94A5\u3002"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-monitord"}),(0,t.jsx)(e.td,{children:"\u76D1\u63A7\u4FE1\u606F\u91C7\u6837\uFF0C\u5B66\u4E60\u6B63\u5E38\u72B6\u6001\u3002"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-net"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-promises"}),(0,t.jsx)(e.td,{children:"\u9A8C\u8BC1 Promise\uFF0C\u786E\u4FDD\u6709\u6548\u3002"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-runagent"}),(0,t.jsx)(e.td,{children:"\u8FDC\u7A0B\u6267\u884C cf-agent"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-secret"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-serverd"}),(0,t.jsx)(e.td,{children:"\u5206\u53D1 policy & data"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-support"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-upgrade"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"rpmvercmp"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"---"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.del,{children:"cf-know"})}),(0,t.jsx)(e.td,{children:"\u77E5\u8BC6\u4FE1\u606F\u6A21\u578B\uFF0C\u6784\u5EFA\u548C\u5206\u6790\u77E5\u8BC6\u7F51\u7EDC\u3002"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:(0,t.jsx)(e.del,{children:"cf-report"})}),(0,t.jsx)(e.td,{children:"\u4FE1\u606F\u63D0\u53D6\uFF0C\u663E\u793A\u4E3A\u53EF\u8BFB\u3002"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-hub"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-net"}),(0,t.jsx)(e.td,{})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"cf-reactor"}),(0,t.jsx)(e.td,{})]})]})]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://docs.cfengine.com/docs/master/reference-components.html",children:"https://docs.cfengine.com/docs/master/reference-components.html"})}),"\n",(0,t.jsxs)(e.li,{children:["promise\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"a statement, written in plain text using the CFEngine language, that describes the desired state of a system."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["policy\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"a collection of one or more related promises, which is executed every time the cf-agent runs."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# https://pkgs.alpinelinux.org/contents?branch=edge&name=cfengine&arch=x86_64&repo=community\napk add cfengine cfengine-masterfiles\n\nrsync -a /var/lib/cfengine/masterfiles/ /var/lib/cfengine/inputs/\n\n# 5308/tcp, 44244/udp\ncf-serverd --no-fork --verbose\n\n\ncf-agent --bootstrap --policy-server 172.16.100.134\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"/var/lib/cfengine"}),"\n",(0,t.jsx)(e.li,{children:"/var/cfengine/"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["/masterfiles\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Policy repository"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["/inputs\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Cached policy repository  on CFEngine client"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["/outputs\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Directory where cf-agent creates its output files."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["/ppkeys\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Directory used to store encrypted public/private keys for CFEngine client/server network communications."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["/reports\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Directory used to store reports generated by cf-report ."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["/lib\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Directory to store shared objects and dependencies that are in the bundled packages."}),"\n"]}),"\n"]}),"\n"]})]})}function x(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(o,{...n})}):o(n)}},17776:function(n,e,r){r.d(e,{R:()=>c,x:()=>d});var s=r(7378);let t={},i=s.createContext(t);function c(n){let e=s.useContext(i);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:c(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);