"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["100613"],{966536:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>l,toc:()=>a,default:()=>c,metadata:()=>t,assets:()=>d,contentTitle:()=>o});var t=JSON.parse('{"id":"os/ubuntu/ubuntu","title":"Ubuntu Tips & Tricks","description":"ubuntu-tips-tricks}","source":"@site/../notes/os/ubuntu/ubuntu.md","sourceDirName":"os/ubuntu","slug":"/os/ubuntu/","permalink":"/notes/os/ubuntu/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/os/ubuntu/ubuntu.md","tags":[{"inline":true,"label":"Linux","permalink":"/notes/tags/linux"},{"inline":true,"label":"Ubuntu","permalink":"/notes/tags/ubuntu"},{"inline":true,"label":"Tips","permalink":"/notes/tags/tips"},{"inline":true,"label":"Docker","permalink":"/notes/tags/docker"},{"inline":true,"label":"GUI","permalink":"/notes/tags/gui"},{"inline":true,"label":"Network","permalink":"/notes/tags/network"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"Ubuntu Tips & Tricks","tags":["Linux","Ubuntu","Tips","Docker","GUI","Network"]},"sidebar":"docs","previous":{"title":"Ubuntu Versions","permalink":"/notes/os/ubuntu/version"},"next":{"title":"\u865A\u62DF\u5316","permalink":"/notes/os/virt/"}}'),i=s(486106),r=s(917776);let l={title:"Ubuntu Tips & Tricks",tags:["Linux","Ubuntu","Tips","Docker","GUI","Network"]},o="Ubuntu Tips & Tricks {#ubuntu-tips-tricks}",d={},a=[{value:"Setup &amp; Configuration",id:"setup-configuration",level:2},{value:"Sudo Proxy",id:"sudo-proxy",level:3},{value:"Network Interface Naming",id:"network-interface-naming",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"GUI &amp; Desktop",id:"gui-desktop",level:2},{value:"Disable GUI Boot",id:"disable-gui-boot",level:3},{value:"Maintenance",id:"maintenance",level:2},{value:"Password Recovery",id:"password-recovery",level:3},{value:"Remove Old Kernels",id:"remove-old-kernels",level:3},{value:"Legacy Network Config (interfaces)",id:"legacy-network-config",level:2},{value:"FAQ",id:"faq",level:2}];function u(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"ubuntu-tips-tricks",children:"Ubuntu Tips & Tricks"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://wiki.ubuntu.com/Releases",children:"Releases - Ubuntu Wiki"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"http://wiki.ubuntu.org.cn/UbuntuSkills",children:"Ubuntu Skills - Ubuntu Chinese Wiki"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"http://mirrors.aliyun.com/ubuntu-releases/",children:"Aliyun Mirror"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"setup-configuration",children:"Setup & Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Generate Locale\nlocale-gen zh_CN.UTF-8\n\n# Update Repositories\nsudo apt-get update\nsudo apt-get upgrade\nsudo apt-get dist-upgrade\n\n# Clean up\nsudo apt-get clean\nsudo apt-get autoremove\n"})}),"\n",(0,i.jsx)(n.h3,{id:"sudo-proxy",children:"Sudo Proxy"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"sudo"})," sanitizes environment variables. To keep proxy settings:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"visudo"})," and add to ",(0,i.jsx)(n.code,{children:"Defaults env_reset"}),":\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'Defaults env_keep = "http_proxy https_proxy ftp_proxy DISPLAY XAUTHORITY"\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"network-interface-naming",children:"Network Interface Naming"}),"\n",(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"iface"})," is not ",(0,i.jsx)(n.code,{children:"eth0"})," (e.g., ",(0,i.jsx)(n.code,{children:"enp0s1"}),") and you want to revert to ",(0,i.jsx)(n.code,{children:"eth0"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Remove ",(0,i.jsx)(n.code,{children:"biosdevname"}),":\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo apt-get remove biosdevname\nsudo update-initramfs -u\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Or edit ",(0,i.jsx)(n.code,{children:"/etc/default/grub"}),":\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'GRUB_CMDLINE_LINUX_DEFAULT="net.ifnames=0 biosdevname=0"\n'})}),"\nThen ",(0,i.jsx)(n.code,{children:"sudo update-grub"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Remember to update ",(0,i.jsx)(n.code,{children:"/etc/network/interfaces"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Boot logs: ",(0,i.jsx)(n.code,{children:"/var/log/boot.log"}),", ",(0,i.jsx)(n.code,{children:"/var/log/dmesg"})]}),"\n",(0,i.jsxs)(n.li,{children:["Journal: ",(0,i.jsx)(n.code,{children:"journalctl -b"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"gui-desktop",children:"GUI & Desktop"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"http://www.tldp.org/HOWTO/XWindow-User-HOWTO/runningx.html",children:"Running X - TLDP"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Minimal Desktop\nsudo apt-get install --no-install-recommends ubuntu-desktop\n\n# VNC Setup (XFCE)\nsudo apt install xfce4 xfce4-goodies tightvncserver\nvncserver\nvncserver -kill :1\n\n# ~/.vnc/xstartup\n#!/bin/bash\nxrdb $HOME/.Xresources\nstartxfce4 &\n"})}),"\n",(0,i.jsx)(n.h3,{id:"disable-gui-boot",children:"Disable GUI Boot"}),"\n",(0,i.jsxs)(n.p,{children:["Edit ",(0,i.jsx)(n.code,{children:"/etc/default/grub"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'GRUB_CMDLINE_LINUX_DEFAULT="text"\n# Previously "quiet splash"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Update grub: ",(0,i.jsx)(n.code,{children:"sudo update-grub"})]}),"\n",(0,i.jsx)(n.p,{children:"Systemd:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sudo systemctl set-default multi-user.target\n"})}),"\n",(0,i.jsx)(n.h2,{id:"maintenance",children:"Maintenance"}),"\n",(0,i.jsx)(n.h3,{id:"password-recovery",children:"Password Recovery"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Hold ",(0,i.jsx)(n.code,{children:"Shift"})," during boot to enter GRUB."]}),"\n",(0,i.jsx)(n.li,{children:"Select Recovery Mode -> Root shell."}),"\n",(0,i.jsxs)(n.li,{children:["Remount RW: ",(0,i.jsx)(n.code,{children:"mount -rw -o remount /"})]}),"\n",(0,i.jsxs)(n.li,{children:["Reset password: ",(0,i.jsx)(n.code,{children:"passwd user"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"remove-old-kernels",children:"Remove Old Kernels"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"uname -r\ndpkg --list | grep linux-image\n# sudo apt-get purge linux-image-x.x.x.x-generic\nsudo update-grub2\n"})}),"\n",(0,i.jsx)(n.h2,{id:"legacy-network-config",children:"Legacy Network Config (interfaces)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"/etc/network/interfaces"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"auto lo eth0\niface lo inet loopback\n\n# Static IP\niface eth0 inet static\naddress 192.168.1.101\nnetmask 255.255.255.0\ngateway 192.168.1.1\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Define nameservers in ",(0,i.jsx)(n.code,{children:"/etc/resolv.conf"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://fwupd.org",children:"Updating Firmware in Linux - fwupd.org"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://askubuntu.com/a/254585",children:"Remove Old Kernels - AskUbuntu"})}),"\n"]})]})}function c(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},917776:function(e,n,s){s.d(n,{R:()=>l,x:()=>o});var t=s(7378);let i={},r=t.createContext(i);function l(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);