"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["13972"],{67630:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>l,toc:()=>d,default:()=>p,metadata:()=>s,assets:()=>c,contentTitle:()=>o});var s=JSON.parse('{"id":"devops/kubernetes/app/k8s-metric","title":"Kubernetes Metrics & Monitoring","description":"- Kubernetes Monitoring Reference","source":"@site/../notes/devops/kubernetes/app/k8s-metric.md","sourceDirName":"devops/kubernetes/app","slug":"/devops/kubernetes/app/k8s-metric","permalink":"/notes/devops/kubernetes/app/k8s-metric","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/devops/kubernetes/app/k8s-metric.md","tags":[{"inline":true,"label":"DevOps","permalink":"/notes/tags/dev-ops"},{"inline":true,"label":"Kubernetes","permalink":"/notes/tags/kubernetes"},{"inline":true,"label":"Monitoring","permalink":"/notes/tags/monitoring"},{"inline":true,"label":"Metrics","permalink":"/notes/tags/metrics"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"Kubernetes Metrics & Monitoring","tags":["DevOps","Kubernetes","Monitoring","Metrics"]},"sidebar":"docs","previous":{"title":"Consul","permalink":"/notes/devops/kubernetes/app/k8s-consul"},"next":{"title":"Minio","permalink":"/notes/devops/kubernetes/app/k8s-minio"}}'),t=r(486106),i=r(917776);let l={title:"Kubernetes Metrics & Monitoring",tags:["DevOps","Kubernetes","Monitoring","Metrics"]},o="Kubernetes Metrics & Monitoring",c={},d=[{value:"Built-in Metrics Interfaces",id:"built-in-metrics-interfaces",level:2}];function a(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"kubernetes-metrics--monitoring",children:"Kubernetes Metrics & Monitoring"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://mp.weixin.qq.com/s/7lDC26iwxZUEO-lrHrP1qw",children:"Kubernetes Monitoring Reference"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"built-in-metrics-interfaces",children:"Built-in Metrics Interfaces"}),"\n",(0,t.jsxs)(n.p,{children:["Kubernetes \u751F\u6001\u7684\u7EC4\u4EF6\u90FD\u4F1A\u63D0\u4F9B ",(0,t.jsx)(n.code,{children:"/metrics"})," \u63A5\u53E3\u4EE5\u63D0\u4F9B\u81EA\u76D1\u63A7\uFF0C\u8FD9\u91CC\u5217\u4E0B\u6211\u4EEC\u6B63\u5728\u4F7F\u7528\u7684\uFF1A"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"cAdvisor"}),": \u96C6\u6210\u5728 Kubelet \u4E2D\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"kubelet"}),":\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"10255"}),": \u4E3A\u975E\u8BA4\u8BC1\u7AEF\u53E3"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"10250"}),": \u4E3A\u8BA4\u8BC1\u7AEF\u53E3\u3002"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"apiserver"})," (",(0,t.jsx)(n.code,{children:"6443"}),"): \u5173\u5FC3\u8BF7\u6C42\u6570\u3001\u5EF6\u8FDF\u7B49\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"scheduler"})," (",(0,t.jsx)(n.code,{children:"10251"}),"): \u7AEF\u53E3\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"controller-manager"})," (",(0,t.jsx)(n.code,{children:"10252"}),"): \u7AEF\u53E3\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"etcd"}),": \u5982 etcd \u5199\u5165\u8BFB\u53D6\u5EF6\u8FDF\u3001\u5B58\u50A8\u5BB9\u91CF\u7B49\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Docker"}),": \u9700\u8981\u5F00\u542F experimental \u5B9E\u9A8C\u7279\u6027\uFF0C\u914D\u7F6E metrics-addr\uFF0C\u5982\u5BB9\u5668\u521B\u5EFA\u8017\u65F6\u7B49\u6307\u6807\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"kube-proxy"})," (",(0,t.jsx)(n.code,{children:"10249"}),"): \u9ED8\u8BA4 127 \u66B4\u9732\u3002\u5916\u90E8\u91C7\u96C6\u65F6\u53EF\u4EE5\u4FEE\u6539\u4E3A 0.0.0.0 \u76D1\u542C\uFF0C\u4F1A\u66B4\u9732\uFF1A\u5199\u5165 iptables \u89C4\u5219\u7684\u8017\u65F6\u7B49\u6307\u6807\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"kube-state-metrics"}),": Kubernetes \u5B98\u65B9\u9879\u76EE\uFF0C\u91C7\u96C6 Pod\u3001Deployment \u7B49\u8D44\u6E90\u7684\u5143\u4FE1\u606F\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"node-exporter"}),": Prometheus \u5B98\u65B9\u9879\u76EE\uFF0C\u91C7\u96C6\u673A\u5668\u6307\u6807\u5982 CPU\u3001\u5185\u5B58\u3001\u78C1\u76D8\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"blackbox_exporter"}),": Prometheus \u5B98\u65B9\u9879\u76EE\uFF0C\u7F51\u7EDC\u63A2\u6D4B\uFF0CDNS\u3001ping\u3001http \u76D1\u63A7\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"process-exporter"}),": \u91C7\u96C6\u8FDB\u7A0B\u6307\u6807\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"NVIDIA Exporter"}),": \u6211\u4EEC\u6709 GPU \u4EFB\u52A1\uFF0C\u9700\u8981 GPU \u6570\u636E\u76D1\u63A7\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"node-problem-detector (NPD)"}),": \u51C6\u786E\u7684\u8BF4\u4E0D\u662F Exporter\uFF0C\u4F46\u4E5F\u4F1A\u76D1\u6D4B\u673A\u5668\u72B6\u6001\uFF0C\u4E0A\u62A5\u8282\u70B9\u5F02\u5E38\u6253 taint\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5E94\u7528\u5C42 Exporter"}),": MySQL\u3001Nginx\u3001MQ \u7B49\uFF0C\u770B\u4E1A\u52A1\u9700\u6C42\u3002"]}),"\n"]})]})}function p(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},917776:function(e,n,r){r.d(n,{R:()=>l,x:()=>o});var s=r(7378);let t={},i=s.createContext(t);function l(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);