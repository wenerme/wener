"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["46406"],{99824:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>o,toc:()=>c,default:()=>p,metadata:()=>t,assets:()=>a,contentTitle:()=>l});var t=JSON.parse('{"id":"service/forge/drone/drone-pipeline","title":"Drone Pipeline","description":"- \u5B9A\u4E49 name: clone \u7684 step \u53EF\u81EA\u5B9A\u4E49 clone \u6B65\u9AA4","source":"@site/../notes/service/forge/drone/drone-pipeline.md","sourceDirName":"service/forge/drone","slug":"/service/forge/drone/pipeline","permalink":"/notes/service/forge/drone/pipeline","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/forge/drone/drone-pipeline.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1675652392000,"frontMatter":{"title":"Drone Pipeline"},"sidebar":"docs","previous":{"title":"drone","permalink":"/notes/service/forge/drone/"},"next":{"title":"Drone Runner","permalink":"/notes/service/forge/drone/runner"}}'),i=r(86106),s=r(17776);let o={title:"Drone Pipeline"},l="Drone Pipeline",a={},c=[];function d(e){let n={a:"a",code:"code",h1:"h1",header:"header",li:"li",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"drone-pipeline",children:"Drone Pipeline"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5B9A\u4E49 name: clone \u7684 step \u53EF\u81EA\u5B9A\u4E49 clone \u6B65\u9AA4"}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.drone.io/pipeline/environment/reference/",children:"https://docs.drone.io/pipeline/environment/reference/"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"kind: pipeline\ntype: docker\nname: default\n\nclone:\n  retries: 3\n\ntrigger:\n  branch: # include: [], exclude: []\n    - master\n  event:\n    - push\n  ref:\n    - refs/heads/master\n    - refs/heads/**\n    - refs/pull/*/head\n  repo:\n  status:\n  target:\n  cron:\n  action:\n\nplatform:\n  os: linux\n  arch: amd64\n  version:\nworkspace:\n  path: /src\n\n# label\nnode: {}\n\nsteps:\n  - name: build\n    image: golang\n    environment:\n      GOOS: linux\n      GOARCH: amd64\n    # http://plugins.drone.io/\n    settings: {}\n    commands:\n      - go build\n      - go test\n    # fail, fail-fast, fast, always, ignore\n    failure: ignore\n    # \u53EF\u4EE5\u540E\u53F0\u6267\u884C - \u5FFD\u7565\u7ED3\u679C\n    detach: false\n    privileged: false\n    when:\n      branch:\n        - master\n\n  - name: notify\n    image: plugins/slack\n    settings:\n      webhook: https://hooks.slack.com/services\n    when:\n      status:\n        - failure\n        - success\n"})})]})}function p(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},17776:function(e,n,r){r.d(n,{R:()=>o,x:()=>l});var t=r(7378);let i={},s=t.createContext(i);function o(e){let n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);