"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["28838"],{34800:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>c,toc:()=>p,default:()=>a,metadata:()=>o,assets:()=>i,contentTitle:()=>l});var o=JSON.parse('{"id":"web/script/js/js-prototype","title":"JavaScript Prototype","description":"- proto vs prototype vs constructor vs class","source":"@site/../notes/web/script/js/js-prototype.md","sourceDirName":"web/script/js","slug":"/web/script/js/prototype","permalink":"/notes/web/script/js/prototype","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/script/js/js-prototype.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1711354531000,"frontMatter":{"title":"JavaScript Prototype"},"sidebar":"docs","previous":{"title":"Pattern","permalink":"/notes/web/script/js/pattern"},"next":{"title":"JS References","permalink":"/notes/web/script/js/ref"}}'),r=n(86106),s=n(17776);let c={title:"JavaScript Prototype"},l="JavaScript Prototype",i={},p=[];function d(e){let t={a:"a",code:"code",del:"del",h1:"h1",header:"header",li:"li",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"javascript-prototype",children:"JavaScript Prototype"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"__proto__"})," vs ",(0,r.jsx)(t.code,{children:"prototype"})," vs ",(0,r.jsx)(t.code,{children:"constructor"})," vs ",(0,r.jsx)(t.code,{children:"class"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"__proto__"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"\u51B3\u5B9A\u4E86\u5BF9\u8C61\u7EE7\u627F\u5173\u7CFB"}),"\n",(0,r.jsxs)(t.li,{children:["\u901A\u5E38\u663E\u793A\u4E3A ",(0,r.jsx)(t.code,{children:"[[Prototype]]"})]}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"Object.getPrototypeOf()"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"Object.setPrototypeOf()"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.code,{children:"Object.create(__proto__)"})}),"\n",(0,r.jsxs)(t.li,{children:["\u5BF9\u8C61\u521D\u59CB\u5316\u65F6 ",(0,r.jsx)(t.code,{children:"{__proto__:{}}"})," \u7684\u5199\u6CD5\u662F \u63A8\u8350\u7684\u3001\u6807\u51C6\u5316\u7684\u3001\u4F18\u5316\u4E86\u7684"]}),"\n",(0,r.jsxs)(t.li,{children:["\u5F53\u8BBF\u95EE\u4E00\u4E2A\u5BF9\u8C61\u7684\u5C5E\u6027\u65F6,\u5982\u679C\u8FD9\u4E2A\u5B9E\u4F8B\u4E0A\u6CA1\u6709\u627E\u5230,\u5C31\u4F1A\u67E5\u627E ",(0,r.jsx)(t.code,{children:"__proto__"})," \u6307\u5411\u7684\u539F\u578B\u5BF9\u8C61\u4E0A\u662F\u5426\u6709\u8BE5\u5C5E\u6027"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"Object.prototype.__proto__ "}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.strong,{children:"\u4E0D\u662F\u6807\u51C6"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.del,{children:"\u5DF2\u5F03\u7528"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.li,{children:"Reflect.getPrototypeOf()"}),"\n",(0,r.jsx)(t.li,{children:"Reflect.setPrototypeOf()"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"constructor"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\u4E0E ",(0,r.jsx)(t.code,{children:"__proto__"})," \u4E00\u6837\u5B9A\u4E49\u7EE7\u627F\u5173\u7CFB"]}),"\n",(0,r.jsx)(t.li,{children:"\u5F88\u5FEB\u3001\u5F15\u64CE\u6709\u4F18\u5316"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"class"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"\u5B9A\u4E49\u7EE7\u627F\u5173\u7CFB"}),"\n",(0,r.jsx)(t.li,{children:"\u53EF\u8BFB\u6027\u66F4\u9AD8"}),"\n",(0,r.jsx)(t.li,{children:"\u652F\u6301\u79C1\u6709\u5C5E\u6027"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"prototype"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"\u5B9A\u4E49\u4E86\u7EE7\u627F\u5185\u5BB9"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"// \u8F93\u51FA 3\n// \u4F1A\u8C03\u7528 __proto__ \u4E0A\u7684 c\nconsole.log({ a: 1, b: 2, __proto__: { c: 3 } }.c);\n\n//\nconst knowns = new Map([\n  [Object, 'Object'],\n  [Function, 'Function'],\n  [Array, 'Array'],\n  [Object.prototype, 'Object.prototype'],\n  [Function.prototype, 'Function.prototype'],\n  [Array.prototype, 'Array.prototype'],\n]);\nconsole.log(knowns.get(Object.getPrototypeOf({})));\n\n// true\nObject.getPrototypeOf({}) === Object.prototype;\nObject.getPrototypeOf([]) === Array.prototype;\nObject.getPrototypeOf(/a/) === RegExp.prototype;\n\nfunction Constructor() {}\n// ---\x3e Constructor.prototype ---\x3e Object.prototype ---\x3e null\nObject.getPrototypeOf(new Constructor()) === Constructor.prototype;\n\n// \u4E0D\u8981\u8FD9\u6837\u505A\n// monkey patching\nArray.prototype.myMethod = function () {};\n\n// Object \u6CA1\u6709\u4E0A\u7EA7\u7EE7\u627F\u5BF9\u8C61\n// null\nObject.getPrototypeOf({}).__proto__;\n// Array \u7684\u4E0A\u7EA7\u7EE7\u627F\u5BF9\u8C61\u662F Object\nObject.getPrototypeOf([]).__proto__ === Object.prototype;\nArray.prototype.__proto__ === Object.prototype;\n\n//\nclass Clazz1 {}\nclass Clazz2 extends Clazz1 {}\n// \u9ED8\u8BA4 constructor - \u6CA1\u6709\u4FEE\u6539\nconsole.assert(typeof Clazz1 === 'function');\nconsole.assert(Clazz1.constructor === Function);\nconsole.assert(Clazz2.constructor === Function);\nconsole.assert(Clazz2.__proto__ === Clazz1);\nconsole.assert(Object.getPrototypeOf(Clazz2) === Clazz1);\nconsole.assert(Object.getPrototypeOf(Clazz1) === Function.prototype);\nconsole.assert(new Clazz2().constructor === Clazz2);\n\n\n"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Inheritance_and_the_prototype_chain",children:"Inheritance and the prototype chain"})}),"\n"]})]})}function a(e={}){let{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},17776:function(e,t,n){n.d(t,{R:()=>c,x:()=>l});var o=n(7378);let r={},s=o.createContext(r);function c(e){let t=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);