"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["92698"],{46628:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>t,toc:()=>d,default:()=>o,metadata:()=>l,assets:()=>c,contentTitle:()=>a});var l=JSON.parse('{"id":"devops/infra/ansible/ansible-awx","title":"Ansible AWX","description":"- \u662F\u4EC0\u4E48","source":"@site/../notes/devops/infra/ansible/ansible-awx.md","sourceDirName":"devops/infra/ansible","slug":"/devops/infra/ansible/awx","permalink":"/notes/devops/infra/ansible/awx","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/devops/infra/ansible/ansible-awx.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1693463269000,"frontMatter":{"title":"Ansible AWX"},"sidebar":"docs","previous":{"title":"\u963F\u91CC\u4E91","permalink":"/notes/devops/infra/ansible/alicloud"},"next":{"title":"Ansible for Cloud","permalink":"/notes/devops/infra/ansible/cloud"}}'),i=s(86106),r=s(17776);let t={title:"Ansible AWX"},a="Ansible AWX",c={},d=[{value:"awxkit",id:"awxkit",level:2},{value:"\u5B89\u88C5",id:"\u5B89\u88C5",level:2},{value:"\u6838\u5FC3\u6982\u5FF5",id:"\u6838\u5FC3\u6982\u5FF5",level:2},{value:"\u81EA\u5B9A\u4E49\u51ED\u8BC1\u7C7B\u578B",id:"\u81EA\u5B9A\u4E49\u51ED\u8BC1\u7C7B\u578B",level:3},{value:"Ansible \u521B\u5EFA\u5220\u9664",id:"ansible-\u521B\u5EFA\u5220\u9664",level:4},{value:"\u6267\u884C\u73AF\u5883",id:"\u6267\u884C\u73AF\u5883",level:2},{value:"\u6700\u4F73\u5B9E\u8DF5",id:"\u6700\u4F73\u5B9E\u8DF5",level:2},{value:"awx-manager",id:"awx-manager",level:2}];function h(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"ansible-awx",children:"Ansible AWX"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u662F\u4EC0\u4E48\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u57FA\u4E8E Ansible \u7684 Web \u7BA1\u7406\u5E73\u53F0\u3001REST API"}),"\n",(0,i.jsx)(e.li,{children:"\u63D0\u4F9B\u4EFB\u52A1\u6267\u884C\u5F15\u64CE\uFF0C\u9879\u76EE\u7BA1\u7406\uFF0C\u7528\u6237\u6743\u9650\u7BA1\u7406"}),"\n",(0,i.jsxs)(e.li,{children:["AWX -> ",(0,i.jsx)(e.a,{href:"https://github.com/ansible/awx/commit/5c6895e6065a81f4483dfb6bc7650706f8866e1e",children:"AnsibleWorks"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/ansible/awx",children:"ansible/awx"})}),"\n",(0,i.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.ansible.com/ansible-tower/latest/html/userguide/overview.html",children:"\u7528\u6237\u624B\u518C"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.ansible.com/ansible-tower/latest/html/administration/index.html",children:"\u7BA1\u7406\u6587\u6863"})}),"\n",(0,i.jsxs)(e.li,{children:["Ansible ",(0,i.jsx)(e.a,{href:"https://www.redhat.com/en/resources/awx-and-ansible-tower-datasheet",children:"AWX vs Tower"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"AWX \u662F\u5FEB\u901F\u5F00\u53D1\u7684\u4E0A\u6E38"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/ansible/awx-operator",children:"ansible/awx-operator"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\u6CE8\u610F\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Ansible \u4E5F\u53EF\u4EE5\u64CD\u4F5C Tower/AWX"}),"\n",(0,i.jsx)(e.li,{children:"\u4F1A\u81EA\u52A8\u4E0B\u8F7D requirements.yml \u4E2D\u7684\u4F9D\u8D56"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\u7279\u6027\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u652F\u6301\u5916\u90E8\u6388\u6743 - LDAP\u3001SAML 2.0\u3001OAuth\u3001RADIUS"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"awxkit",children:"awxkit"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.ansible.com/ansible-tower/latest/html/towercli/index.html",children:"AWX Command Line Interface"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.ansible.com/ansible-tower/latest/html/towercli/authentication.html",children:"\u6388\u6743"})}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"pip3 install awxkit\n\n# \u76F4\u63A5\u4F7F\u7528\u8D26\u53F7\u5BC6\u7801\nawx --conf.host https://awx.example.org \\\n    --conf.username joe --conf.password secret \\\n    --conf.insecure \\\n    users list\n\n# \u767B\u9646\nexport TOWER_HOST=https://awx.example.org\n# \u4F1A\u751F\u6210 token\n$(TOWER_USERNAME=alice TOWER_PASSWORD=secret awx login -f human)\nawx config\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u5BFC\u5165 ssh\nawx credentials create --credential_type 'Machine' \\\n    --name 'My SSH Key' --user 'alice' \\\n    --inputs '{\"username\": \"server-login\", \"ssh_key_data\": \"@~/.ssh/id_rsa\"}'\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u5B89\u88C5",children:"\u5B89\u88C5"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/ansible/awx/blob/devel/INSTALL.md",children:"\u5B89\u88C5\u6587\u6863"})}),"\n",(0,i.jsxs)(e.li,{children:["\u7CFB\u7EDF\u8981\u6C42\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"2 CPU 4G \u5185\u5B58 20G \u786C\u76D8"}),"\n",(0,i.jsx)(e.li,{children:"PostgreSQL 10+"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\u652F\u6301\u5B89\u88C5\u65B9\u5F0F\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Docker Compose\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["ansible ",(0,i.jsx)(e.a,{href:"https://github.com/ansible/awx/tree/devel/installer",children:"playbook"})]}),"\n",(0,i.jsx)(e.li,{children:"\u4F1A\u542F\u52A8 PostgreSQL \u548C Redis"}),"\n",(0,i.jsxs)(e.li,{children:["\u5B9E\u9645\u542F\u52A8\u914D\u7F6E\u6A21\u677F ",(0,i.jsx)(e.a,{href:"https://github.com/ansible/awx/tree/devel/installer/roles/local_docker/templates",children:"local_docker/templates"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Kubernetes\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["stable/postgresql\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"PG \u4F1A\u90E8\u7F72\u4E3A sts"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["HELM\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/AdWerx/charts/tree/master/awx",children:"AdWerx/charts/awx"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"OpenShift"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\u914D\u7F6E\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"pg_hostname - \u5982\u679C\u4F7F\u7528\u5916\u90E8 pg \u5219\u914D\u7F6E\u5916\u90E8\u4E3B\u673A"}),"\n",(0,i.jsx)(e.li,{children:"docker_registry - \u81EA\u5B9A\u4E49\u955C\u50CF\u4ED3\u5E93"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"VER=$(curl https://api.github.com/repos/ansible/awx/tags -s | jq '.[0].name' -r)\ncurl -LC- -o ansible-awx-$VER.tar.gz https://github.com/ansible/awx/archive/$VER.tar.gz\ntar xvfz ansible-awx-$VER.tar.gz\n# \u5B89\u88C5\ncd awx-$VER/installer\n\n# \u5B89\u88C5\u6240\u9700\u6A21\u5757\npip3 install docker docker-compose\n\n# \u9700\u8981\u63D0\u524D\u914D\u7F6E\u597D inventory\ncode inventory\n# \u9ED8\u8BA4\u4F1A\u5B58\u50A8\u5230 ~/.awx\n# \u542F\u52A8\u540E\u53EF\u767B\u9646 http://localhost/#/login\nansible-playbook -i inventory install.yml\n# \u786E\u8BA4\u5B89\u88C5\u65E5\u5FD7\ndocker logs -f awx_task\n\n# \u547D\u4EE4\u884C\npip3 install awxkit\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"inventory"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ini",children:"# \u7BA1\u7406\u5458\u8D26\u53F7\u5BC6\u7801\nadmin_user=awx\nadmin_password=awx\n\n# DB\npg_hostname=postgresql\npg_port=5432\npg_username=awx\npg_password=awx\npg_database=awx\npg_sslmode=prefer\n\n# \u521B\u5EFA\u5C55\u793A\u7528\u7684\u6570\u636E\ncreate_preload_data=True\n\n# \u7528\u4E8E\u52A0\u5BC6\u6388\u6743\u4FE1\u606F\u7684\u5BC6\u94A5\nsecret_key=00000000-0000-0000-0000-000000000000\nbroadcast_websocket_secret=00000000-0000-0000-0000-000000000000\n\n# Kubernetes - \u53EF\u9009\nkubernetes_context=default\nkubernetes_namespace=awx\nkubernetes_web_svc_type=ClusterIP\nkubernetes_ingress_hostname=awx.example.com\n# \u81EA\u5B9A\u4E49\u6CE8\u89E3 - \u542F\u7528 ACME\nkubernetes_ingress_annotations={'cert-manager.io/cluster-issuer': 'letsencrypt'}\nkubernetes_ingress_tls_secret=awx-ingress-cert\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u6838\u5FC3\u6982\u5FF5",children:"\u6838\u5FC3\u6982\u5FF5"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Project - \u9879\u76EE\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u9700\u8981\u5B58\u50A8 - Git\u3001SVN\u3001Mercurial\u3001\u672C\u5730\u76EE\u5F55\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u9ED8\u8BA4\u672C\u5730\u76EE\u5F55 ",(0,i.jsx)(e.code,{children:"/var/lib/awx/projects"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"Playbooks \u7684\u7EC4\u5408"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Job Template - \u4EFB\u52A1\u6A21\u677F\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u914D\u7F6E\u597D\u7684\u53EF\u6267\u884C\u4EFB\u52A1"}),"\n",(0,i.jsx)(e.li,{children:"\u5305\u542B playbook\u3001inventory\u3001\u53D8\u91CF \u7B49"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Job - \u4EFB\u52A1\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u4E00\u6B21\u6267\u884C"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Inventories - \u4ED3\u5E93\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u652F\u6301\u4ECE\u9879\u76EE git \u5BFC\u5165"}),"\n",(0,i.jsx)(e.li,{children:"\u4F7F\u7528 ansible-inventory \u5DE5\u5177"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Credential - \u51ED\u8BC1\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6240\u6709\u6D89\u53CA\u5230\u8BA4\u8BC1\u76F8\u5173\u7684\u4FE1\u606F"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://docs.ansible.com/ansible-tower/latest/html/userguide/credential_types.html",children:"Credential Type"})," - \u51ED\u8BC1\u7C7B\u578B\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u81EA\u5B9A\u4E49\u51ED\u8BC1"}),"\n",(0,i.jsxs)(e.li,{children:["\u7528\u4E8E\u6CE8\u5165\u4E0A\u4E0B\u6587\u4FE1\u606F\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u73AF\u5883\u53D8\u91CF"}),"\n",(0,i.jsx)(e.li,{children:"Ansible \u989D\u5916\u53D8\u91CF"}),"\n",(0,i.jsxs)(e.li,{children:["\u6587\u4EF6\u6A21\u677F - \u4F8B\u5982\u751F\u6210 ",(0,i.jsx)(e.code,{children:".ini"})," \u6216 ",(0,i.jsx)(e.code,{children:".conf"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\u5355\u4E2A\u4EFB\u52A1\u6A21\u7248\u6BCF\u79CD\u51ED\u8BC1\u7C7B\u578B\u53EA\u80FD\u6709 ",(0,i.jsx)(e.strong,{children:"\u4E00\u4E2A"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"Orgnization - \u7EC4\u7EC7"}),"\n",(0,i.jsx)(e.li,{children:"User - \u7528\u6237"}),"\n",(0,i.jsx)(e.li,{children:"Team - \u56E2\u961F"}),"\n",(0,i.jsx)(e.li,{children:"Instance - \u5B9E\u4F8B"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"\u81EA\u5B9A\u4E49\u51ED\u8BC1\u7C7B\u578B",children:"\u81EA\u5B9A\u4E49\u51ED\u8BC1\u7C7B\u578B"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5206\u4E3A\u8F93\u5165\u914D\u7F6E\u548C\u6CE8\u5165\u914D\u7F6E"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u8F93\u5165\u914D\u7F6E"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:'# \u5B57\u6BB5\u5B9A\u4E49\nfields:\n  - type: string\n    id: username\n    label: Username\n  - id: password\n    # \u7C7B\u578B\n    type: string\n    # string \u652F\u6301 choices\n    # "choices": ["A", "B", "C"]\n    label: Password\n    secret: true\n# \u5FC5\u586B\u5B57\u6BB5\nrequired:\n  - username\n  - password\n'})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u6CE8\u5165\u914D\u7F6E"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"# \u6587\u4EF6\u6A21\u677F\nfile:\n  template: |-\n    [mycloud]\n    token={{ api_token }}\n# \u73AF\u5883\u53D8\u91CF\nenv:\n  THIRD_PARTY_CLOUD_API_TOKEN: '{{ api_token }}'\n  # \u6587\u4EF6\u7684\u7EDD\u5BF9\u8DEF\u5F84\n  MY_CLOUD_INI_FILE: '{{ tower.filename }}'\n# Ansible \u53D8\u91CF\nextra_vars:\n  some_extra_var: '{{ username }}:{{ password }}'\n\n---\n# \u591A\u4E2A\u6587\u4EF6\nfile:\n  template.cert_file: |-\n    [mycert]\n    {{ cert }}\n  template.key_file: |-\n    [mykey]\n    {{ key }}\nenv:\n  # \u591A\u4E2A\u6587\u4EF6\u7684\u8DEF\u5F84\n  MY_CERT_INI_FILE: '{{ tower.filename.cert_file }}'\n  MY_KEY_INI_FILE: '{{ tower.filename.key_file }}'\n"})}),"\n",(0,i.jsx)(e.h4,{id:"ansible-\u521B\u5EFA\u5220\u9664",children:"Ansible \u521B\u5EFA\u5220\u9664"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"pip install ansible-tower-cli\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"- tower_credential_type:\n    name: Nexus\n    description: Credentials type for Nexus\n    kind: cloud\n    inputs: \"{{ lookup('file', 'tower_credential_inputs_nexus.json') }}\"\n    injectors: { 'extra_vars': { 'nexus_credential': 'test' } }\n    state: present\n    validate_certs: false\n\n- tower_credential_type:\n    name: Nexus\n    state: absent\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u6267\u884C\u73AF\u5883",children:"\u6267\u884C\u73AF\u5883"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://docs.ansible.com/ansible-tower/latest/html/administration/external_execution_envs.html",children:"Execution Environments"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u5B9E\u4F8B\u7EC4\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u7EE7\u627F\u5173\u7CFB Job Template > Inventory > Organization"}),"\n",(0,i.jsx)(e.li,{children:"\u542F\u52A8\u7684 AWX \u4F1A\u5173\u8054\u5230\u5B9E\u4F8B\u7EC4"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\u5BB9\u5668\u7EC4 - \u4E34\u65F6\u8FD0\u884C\u73AF\u5883\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"K8S Pod"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Docker \u542F\u52A8\u7684 awx_task \u662F CentOS\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["HOME=/var/lib/awx\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["projects/ - \u9879\u76EE\u76EE\u5F55\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"_ID__NAME/ - \u9879\u76EE\u76EE\u5F55 - \u4F8B\u5982 git"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["/var/log/tower/ - \u65E5\u5FD7\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"callback_receiver.log"}),"\n",(0,i.jsx)(e.li,{children:"dispatcher.log"}),"\n",(0,i.jsx)(e.li,{children:"management_playbooks.log"}),"\n",(0,i.jsx)(e.li,{children:"rsyslog.err"}),"\n",(0,i.jsx)(e.li,{children:"task_system.log"}),"\n",(0,i.jsx)(e.li,{children:"tower.log"}),"\n",(0,i.jsx)(e.li,{children:"tower_rbac_migrations.log"}),"\n",(0,i.jsx)(e.li,{children:"tower_system_tracking_migrations.log"}),"\n",(0,i.jsx)(e.li,{children:"wsbroadcast.log"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"\u65E5\u5FD7\u4F7F\u7528 rsyslog - \u53EF\u4EE5\u805A\u5408"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"/api/v2/metrics - \u6307\u6807\u76D1\u63A7"}),"\n",(0,i.jsxs)(e.li,{children:["\u9ED8\u8BA4 venv - /var/lib/awx/venv/ansible\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u53EF\u4FEE\u6539"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u6700\u4F73\u5B9E\u8DF5",children:"\u6700\u4F73\u5B9E\u8DF5"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5EFA\u8BAE Job \u9694\u79BB"}),"\n",(0,i.jsxs)(e.li,{children:["\u8F93\u51FA\u7684 Json ",(0,i.jsx)(e.code,{children:"https://<tower server name>/api/v2/jobs/<job_id>/job_events/"})]}),"\n",(0,i.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.ansible.com/ansible-tower/latest/html/administration/security_best_practices.html",children:"Security Best Practices"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.ansible.com/ansible-tower/latest/html/administration/tipsandtricks.html",children:"Tower Tips and Tricks"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.ansible.com/ansible-tower/3.7.3/html/userguide/credential_plugins.html",children:"\u51ED\u8BC1\u7BA1\u7406"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# venv \u5B89\u88C5\u65F6\u5EFA\u8BAE umask 0022\nsource /var/lib/awx/venv/ansible/bin/activate\numask 0022\npip install --upgrade pywinrm\ndeactivate\n"})}),"\n",(0,i.jsx)(e.h2,{id:"awx-manager",children:"awx-manager"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.ansible.com/ansible-tower/latest/html/administration/tower-manage.html",children:"https://docs.ansible.com/ansible-tower/latest/html/administration/tower-manage.html"})}),"\n"]})]})}function o(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}},17776:function(n,e,s){s.d(e,{R:()=>t,x:()=>a});var l=s(7378);let i={},r=l.createContext(i);function t(n){let e=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);