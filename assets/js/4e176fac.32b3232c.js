"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["479483"],{17826:function(e,n,r){r.r(n),r.d(n,{frontMatter:()=>s,toc:()=>d,default:()=>h,metadata:()=>t,assets:()=>c,contentTitle:()=>i});var t=JSON.parse('{"id":"web/framework/electron/electron-faq","title":"Electron FAQ","description":"- ASAR","source":"@site/../notes/web/framework/electron/electron-faq.md","sourceDirName":"web/framework/electron","slug":"/web/framework/electron/faq","permalink":"/notes/web/framework/electron/faq","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/framework/electron/electron-faq.md","tags":[{"inline":true,"label":"FAQ","permalink":"/notes/tags/faq"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1702003754000,"frontMatter":{"title":"Electron FAQ","tags":["FAQ"]},"sidebar":"docs","previous":{"title":"Electron Dev","permalink":"/notes/web/framework/electron/dev"},"next":{"title":"Form","permalink":"/notes/web/framework/form"}}'),o=r(486106),l=r(917776);let s={title:"Electron FAQ",tags:["FAQ"]},i="Electron FAQ",c={},d=[{value:"\u65E0\u8FB9\u63A7\u7A97\u53E3\u5076\u5C14\u65E0\u6CD5\u62D6\u52A8",id:"\u65E0\u8FB9\u63A7\u7A97\u53E3\u5076\u5C14\u65E0\u6CD5\u62D6\u52A8",level:2},{value:"\u5982\u4F55\u68C0\u6D4B\u8FD0\u884C\u5728 electron",id:"\u5982\u4F55\u68C0\u6D4B\u8FD0\u884C\u5728-electron",level:2},{value:"BrowserView vs webview",id:"browserview-vs-webview",level:2},{value:"Chrome \u6269\u5C55\u652F\u6301\u60C5\u51B5",id:"chrome-\u6269\u5C55\u652F\u6301\u60C5\u51B5",level:2},{value:"Failed to fetch extension, trying 4 more times",id:"failed-to-fetch-extension-trying-4-more-times",level:2},{value:"ExtensionLoadWarning: Warnings loading extension at",id:"extensionloadwarning-warnings-loading-extension-at",level:2},{value:"\u5B89\u5168\u76F8\u5173\u95EE\u9898",id:"\u5B89\u5168\u76F8\u5173\u95EE\u9898",level:2},{value:"Electron Helper (Renderer) CoreText note: Client requested name &quot;.PingFangSC-Semibold&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].",id:"electron-helper-renderer-coretext-note-client-requested-name-pingfangsc-semibold-it-will-get-times-roman-rather-than-the-intended-font-all-system-ui-font-access-should-be-through-proper-apis-such-as-ctfontcreateuifontforlanguage-or-nsfont-systemfontofsize",level:2},{value:"Extension server error: Object not found: top&quot;",id:"extension-server-error-object-not-found-top",level:2},{value:"partition vs session",id:"partition-vs-session",level:2},{value:"electron Failed to load URL: with error: ERR_UNKNOWN_URL_SCHEME",id:"electron-failed-to-load-url-with-error-err_unknown_url_scheme",level:2}];function a(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"electron-faq",children:"Electron FAQ"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"ASAR"}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Electronn 28 \u652F\u6301 ESM"}),"\n"]})}),"\n",(0,o.jsx)(n.h2,{id:"\u65E0\u8FB9\u63A7\u7A97\u53E3\u5076\u5C14\u65E0\u6CD5\u62D6\u52A8",children:"\u65E0\u8FB9\u63A7\u7A97\u53E3\u5076\u5C14\u65E0\u6CD5\u62D6\u52A8"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\u76EE\u524D\u65E0\u89E3\uFF0C\u7F29\u653E\u4E00\u4E0B\u53EF\u4EE5\u62D6\u52A8"}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/electron/electron/issues/21621",children:"electron/electron#21621"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u5982\u4F55\u68C0\u6D4B\u8FD0\u884C\u5728-electron",children:"\u5982\u4F55\u68C0\u6D4B\u8FD0\u884C\u5728 electron"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"window && window.process && window.process.type;\n\nprocess.versions['electron'];\n\n// Electron/\nnavigator.userAgent;\n\n// \u5982\u679C contextBridge.exposeInMainWorld\nglobalThis.electron;\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/electron/electron/issues/2288",children:"electron/electron#2288"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"browserview-vs-webview",children:"BrowserView vs webview"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["BrowserWindow - \u7528\u4E8E\u66FF\u4EE3 webview \u6807\u7B7E\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Electron \u63A5\u53E3 - \u975E DOM - \u4F4D\u7F6E\u76F8\u5BF9\u4E8E\u7236\u7A97\u53E3\uFF0C\u9700\u8981\u81EA\u884C\u7BA1\u7406"}),"\n",(0,o.jsx)(n.li,{children:"\u4E0D\u5F00\u542F\u989D\u5916\u6E32\u67D3\u8FDB\u7A0B - \u4E3B\u8FDB\u7A0B\u63A7\u5236"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["webview - \u4E0D\u63A8\u8350\u4F7F\u7528\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"html tag - \u597D\u4F7F\u7528\uFF0C\u597D\u5E03\u5C40"}),"\n",(0,o.jsx)(n.li,{children:"\u989D\u5916\u6E32\u67D3\u8FDB\u7A0B - out-of-process iframe - \u6240\u6709\u901A\u8BAF\u90FD\u662F IPC"}),"\n",(0,o.jsx)(n.li,{children:"\u901F\u5EA6\u6162\u4E8E iframe"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://www.electronjs.org/docs/tutorial/web-embeds",children:"web-embeds"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"chrome-\u6269\u5C55\u652F\u6301\u60C5\u51B5",children:"Chrome \u6269\u5C55\u652F\u6301\u60C5\u51B5"}),"\n",(0,o.jsx)(n.p,{children:"\u652F\u6301\u90E8\u5206\u6269\u5C55"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://www.electronjs.org/docs/api/extensions",children:"Chrome \u6269\u5C55\u652F\u6301"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"failed-to-fetch-extension-trying-4-more-times",children:"Failed to fetch extension, trying 4 more times"}),"\n",(0,o.jsx)(n.p,{children:"\u6700\u597D\u542F\u52A8\u65F6\u5F00\u4EE3\u7406\uFF0C\u6BD4\u5982\u4E00\u822C\u4F1A\u52A0\u8F7D react devtool"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"fmkadmapgofadopljbjfkapdkoienihi - React Developer Tools"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'ls "$HOME/Library/Application Support/Electron/extensions/"\n'})}),"\n",(0,o.jsx)(n.h2,{id:"extensionloadwarning-warnings-loading-extension-at",children:"ExtensionLoadWarning: Warnings loading extension at"}),"\n",(0,o.jsx)(n.p,{children:"electron \u9AD8\u7248\u672C \u63D2\u4EF6\u52A0\u8F7D\u5931\u8D25"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/MarshallOfSound/electron-devtools-installer/pull/191",children:"MarshallOfSound/electron-devtools-installer#191"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u5B89\u5168\u76F8\u5173\u95EE\u9898",children:"\u5B89\u5168\u76F8\u5173\u95EE\u9898"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://www.electronjs.org/docs/tutorial/security",children:"https://www.electronjs.org/docs/tutorial/security"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"electron-helper-renderer-coretext-note-client-requested-name-pingfangsc-semibold-it-will-get-times-roman-rather-than-the-intended-font-all-system-ui-font-access-should-be-through-proper-apis-such-as-ctfontcreateuifontforlanguage-or-nsfont-systemfontofsize",children:'Electron Helper (Renderer) CoreText note: Client requested name ".PingFangSC-Semibold", it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].'}),"\n",(0,o.jsx)(n.p,{children:"\u4E0D\u5F71\u54CD\u4F7F\u7528"}),"\n",(0,o.jsx)(n.h2,{id:"extension-server-error-object-not-found-top",children:'Extension server error: Object not found: top"'}),"\n",(0,o.jsx)(n.p,{children:"did-frame-finish-load \u4E4B\u540E \u6253\u5F00 devtool"}),"\n",(0,o.jsx)(n.h2,{id:"partition-vs-session",children:"partition vs session"}),"\n",(0,o.jsx)(n.h2,{id:"electron-failed-to-load-url-with-error-err_unknown_url_scheme",children:"electron Failed to load URL: with error: ERR_UNKNOWN_URL_SCHEME"}),"\n",(0,o.jsx)(n.p,{children:"\u5C1D\u8BD5\u4E0D\u7528 file \u534F\u8BAE \u6216\u8005\u81EA\u884C\u5904\u7406"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"import { protocol } from \"electron\";\n\n\nprotocol.registerFileProtocol('file', (request, cb) => {\n  const url = request.url.replace('file:///', '');\n  const decodedUrl = decodeURIComponent(url);\n  try {\n    return cb(decodedUrl);\n  } catch (error) {\n    console.error('ERROR: registerLocalResourceProtocol: Could not get file path:', error);\n  }\n});\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/electron/electron/issues/23757",children:"https://github.com/electron/electron/issues/23757"})}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},917776:function(e,n,r){r.d(n,{R:()=>s,x:()=>i});var t=r(7378);let o={},l=t.createContext(o);function s(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);