"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["782206"],{262854:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>c,toc:()=>d,default:()=>h,metadata:()=>l,assets:()=>o,contentTitle:()=>t});var l=JSON.parse('{"id":"service/network/proxy/socks","title":"Socks","description":"- socks4","source":"@site/../notes/service/network/proxy/socks.md","sourceDirName":"service/network/proxy","slug":"/service/network/proxy/socks","permalink":"/notes/service/network/proxy/socks","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/network/proxy/socks.md","tags":[{"inline":true,"label":"Protocol","permalink":"/notes/tags/protocol"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1740927882000,"frontMatter":{"tags":["Protocol"]},"sidebar":"docs","previous":{"title":"SNI Reverse Proxy","permalink":"/notes/service/network/proxy/sni-rev-proxy"},"next":{"title":"Stash","permalink":"/notes/service/network/proxy/stash"}}'),r=s(486106),i=s(917776);let c={tags:["Protocol"]},t="Socks",o={},d=[{value:"Socks5",id:"socks5",level:2},{value:"Socks4",id:"socks4",level:2}];function x(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"socks",children:"Socks"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["socks4\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4E0D\u652F\u6301\u8BA4\u8BC1\uFF0C\u53EA\u80FD \u533F\u540D"}),"\n",(0,r.jsx)(e.li,{children:"\u4E0D\u652F\u6301 IPv6"}),"\n",(0,r.jsx)(e.li,{children:"\u4E0D\u652F\u6301 UDP, \u53EA\u652F\u6301 TCP(CONNECT)"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"socks4a"}),"\n",(0,r.jsxs)(e.li,{children:["socks5\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u652F\u6301\u533F\u540D\u3001GSSAPI\u3001\u7528\u6237\u540D\u5BC6\u7801\u8BA4\u8BC1"}),"\n",(0,r.jsx)(e.li,{children:"\u652F\u6301 IPv6"}),"\n",(0,r.jsx)(e.li,{children:"\u652F\u6301 UDP \u5173\u8054(UDP ASSOCIATE), BIND, CONNECT"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://tools.ietf.org/html/rfc1928",children:"RFC 1928"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"SOCKS Protocol Version 5"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://tools.ietf.org/html/rfc1929",children:"RFC 1929"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Username/Password Authentication for SOCKS V5"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://tools.ietf.org/html/rfc1961",children:"RFC 1961"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"GSS-API Authentication Method for SOCKS Version 5"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://tools.ietf.org/html/rfc3089",children:"RFC 3089"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"A SOCKS-based IPv6/IPv4 Gateway Mechanism"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"socks5",children:"Socks5"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u534F\u5546"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"+-----+----------+----------+\n| VER | NMETHODS | METHODS  |\n+-----+----------+----------+\n| 1   |    1     | 1 to 255 |\n+-----+----------+----------+\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"VER: \u7248\u672C\u53F7 (1 \u5B57\u8282\uFF0C\u56FA\u5B9A\u4E3A 5)"}),"\n",(0,r.jsx)(e.li,{children:"NMETHODS: \u652F\u6301\u7684\u8BA4\u8BC1\u65B9\u6CD5\u6570\u91CF (1 \u5B57\u8282)"}),"\n",(0,r.jsxs)(e.li,{children:["METHODS: \u652F\u6301\u7684\u8BA4\u8BC1\u65B9\u6CD5\u5217\u8868 (1 \u5230 255 \u5B57\u8282)\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"0x00: \u4E0D\u9700\u8981\u8BA4\u8BC1"}),"\n",(0,r.jsx)(e.li,{children:"0x01: GSSAPI"}),"\n",(0,r.jsx)(e.li,{children:"0x02: \u7528\u6237\u540D/\u5BC6\u7801\u8BA4\u8BC1"}),"\n",(0,r.jsx)(e.li,{children:"0x03-0x7F: IANA \u5206\u914D"}),"\n",(0,r.jsx)(e.li,{children:"0x80-0xFE: \u79C1\u6709\u65B9\u6CD5\u4FDD\u7559"}),"\n",(0,r.jsx)(e.li,{children:"0xFF: \u65E0\u53EF\u63A5\u53D7\u7684\u65B9\u6CD5"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u8BF7\u6C42"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"+-----+-----+-------+------+----------+----------+\n| VER | CMD |  RSV  | ATYP | DST.ADDR | DST.PORT |\n+-----+-----+-------+------+----------+----------+\n|  1  |  1  | X'00' |  1   | Variable |    2     |\n+-----+-----+-------+------+----------+----------+\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["CMD\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"0x01: CONNECT"}),"\n",(0,r.jsx)(e.li,{children:"0x02: BIND"}),"\n",(0,r.jsx)(e.li,{children:"0x03: UDP ASSOCIATE"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["ATYP (\u5730\u5740\u7C7B\u578B)\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"0x01: IPv4"}),"\n",(0,r.jsx)(e.li,{children:"0x03: \u57DF\u540D"}),"\n",(0,r.jsx)(e.li,{children:"0x04: IPv6"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"socks4",children:"Socks4"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"+----+----+----------+----------+----------+\n| VN | CD | DSTPORT  | DSTIP    | USERID   |\n+----+----+----------+----------+----------+\n| 1  | 1  |    2     |    4     | variable |\n+----+----+----------+----------+----------+\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"VN: \u7248\u672C\u53F7 (1 \u5B57\u8282\uFF0C\u56FA\u5B9A\u4E3A 4)"}),"\n",(0,r.jsxs)(e.li,{children:["CD: \u547D\u4EE4\u4EE3\u7801 (1 \u5B57\u8282)\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"0x01: CONNECT"}),"\n",(0,r.jsx)(e.li,{children:"0x02: BIND"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"DSTPORT: \u76EE\u6807\u7AEF\u53E3 (2 \u5B57\u8282)"}),"\n",(0,r.jsx)(e.li,{children:"DSTIP: \u76EE\u6807 IPv4 \u5730\u5740 (4 \u5B57\u8282)"}),"\n",(0,r.jsx)(e.li,{children:"USERID: \u7528\u6237 ID (\u53D8\u957F\uFF0C\u4EE5 null \u7ED3\u5C3E)"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u54CD\u5E94"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"+----+----+----------+----------+\n| VN | CD | DSTPORT  | DSTIP    |\n+----+----+----------+----------+\n| 1  | 1  |    2     |    4     |\n+----+----+----------+----------+\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["CD: \u54CD\u5E94\u4EE3\u7801\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"0x5A: \u8BF7\u6C42\u901A\u8FC7"}),"\n",(0,r.jsx)(e.li,{children:"0x5B: \u8BF7\u6C42\u88AB\u62D2\u7EDD"}),"\n",(0,r.jsx)(e.li,{children:"0x5C: \u8BF7\u6C42\u5931\u8D25\uFF08\u65E0\u6CD5\u8FDE\u63A5\u5230 identd\uFF09"}),"\n",(0,r.jsx)(e.li,{children:"0x5D: \u8BF7\u6C42\u5931\u8D25\uFF08identd \u7528\u6237 ID \u4E0D\u5339\u914D\uFF09"}),"\n"]}),"\n"]}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(x,{...n})}):x(n)}},917776:function(n,e,s){s.d(e,{R:()=>c,x:()=>t});var l=s(7378);let r={},i=l.createContext(r);function c(n){let e=l.useContext(i);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:c(n.components),l.createElement(i.Provider,{value:e},n.children)}}}]);