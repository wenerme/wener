"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["908890"],{184844:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>t,toc:()=>o,default:()=>g,metadata:()=>l,assets:()=>a,contentTitle:()=>r});var l=JSON.parse('{"id":"ai/ml/huggingface","title":"Hugging Face","description":"- HF_HOME","source":"@site/../notes/ai/ml/huggingface.md","sourceDirName":"ai/ml","slug":"/ai/ml/huggingface","permalink":"/notes/ai/ml/huggingface","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/ai/ml/huggingface.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"Hugging Face"},"sidebar":"docs","previous":{"title":"GGML","permalink":"/notes/ai/ml/gguf"},"next":{"title":"JAX","permalink":"/notes/ai/ml/jax"}}'),s=i(486106),c=i(917776);let t={title:"Hugging Face"},r="Hugging Face",a={},o=[{value:"API",id:"api",level:2},{value:"Cache",id:"cache",level:2},{value:"Inference",id:"inference",level:2},{value:"Notes",id:"notes",level:2},{value:"The model Qwen/Qwen2.5-VL-72B-Instruct is too large to be loaded automatically (146GB &gt; 10GB).",id:"the-model-qwenqwen25-vl-72b-instruct-is-too-large-to-be-loaded-automatically-146gb--10gb",level:2},{value:"You are trying to access a gated repo.",id:"you-are-trying-to-access-a-gated-repo",level:2}];function h(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"hugging-face",children:"Hugging Face"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"HF_HOME"}),"\n",(0,s.jsx)(n.li,{children:"git lfs"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://huggingface.co/pricing",children:"HF Pricing"})}),"\n",(0,s.jsxs)(n.li,{children:["XET Storage\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://huggingface.co/xet-team",children:"huggingface/xet-team"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://xethub.com/",children:"xethub.com"})}),"\n",(0,s.jsx)(n.li,{children:"transfer.xethub.hf.co - CloudFront, \u80FD\u76F4\u8054"}),"\n",(0,s.jsx)(n.li,{children:"cas-server.xethub.hf.co"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://huggingface.co/subscribe/pro",children:"HF Pro"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"$9.00 / month"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"brew install huggingface-cli\npip install huggingface_hub\n\nhuggingface-cli download gpt2 config.json model.safetensors # \u4E0B\u8F7D\u5355\u4E2A\u6587\u4EF6\nhuggingface-cli download Qwen/Qwen2.5-VL-7B-Instruct        # \u4E0B\u8F7D\u6A21\u578B\n\n# ~/.cache/huggingface/stored_tokens\nhuggingface-cli login\nhuggingface-cli whoami\n\n# \u67E5\u770B\u672C\u5730\u7F13\u5B58\u5185\u5BB9\nuvx --from huggingface_hub huggingface-cli scan-cache\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"--repo-type dataset"}),"\n",(0,s.jsx)(n.li,{children:"--repo-type space"}),"\n",(0,s.jsx)(n.li,{children:"--revision v1.1"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://huggingface.co/docs/huggingface_hub/en/package_reference/environment_variables",children:"https://huggingface.co/docs/huggingface_hub/en/package_reference/environment_variables"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"api",children:"API"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://huggingface.co/docs/hub/en/api",children:"HF Hub API"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/huggingface/huggingface.js",children:"huggingface/huggingface.js"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"cache",children:"Cache"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"HF_DATASETS_CACHE"}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"~/.cache/huggingface/hub"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"~/.cache/huggingface/hub/models--<username>--<modelname>/"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"blobs/"}),"\n",(0,s.jsx)(n.li,{children:"refs/"}),"\n",(0,s.jsx)(n.li,{children:"snapshots/"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://huggingface.co/docs/datasets/en/cache",children:"Datasets Cache"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"inference",children:"Inference"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'from huggingface_hub import InferenceClient\n\nclient = InferenceClient(\n  provider="hyperbolic",\n  api_key="hf_",\n)\n\nmessages = [\n  {\n    "role": "user",\n    "content": [\n      {\n        "type": "text",\n        "text": "Describe this image in one sentence."\n      },\n      {\n        "type": "image_url",\n        "image_url": {\n          "url": "https://cdn.britannica.com/61/93061-050-99147DCE/Statue-of-Liberty-Island-New-York-Bay.jpg"\n        }\n      }\n    ]\n  }\n]\n\ncompletion = client.chat.completions.create(\n  model="Qwen/Qwen2.5-VL-72B-Instruct",\n  messages=messages,\n  max_tokens=500,\n)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"config.json"}),"\n",(0,s.jsx)(n.li,{children:"chat_template.json"}),"\n",(0,s.jsx)(n.li,{children:"vocab.json"}),"\n",(0,s.jsx)(n.li,{children:"tokenizer.json"}),"\n",(0,s.jsx)(n.li,{children:"tokenizer_config.json"}),"\n"]}),"\n",(0,s.jsx)(n.h1,{id:"faq",children:"FAQ"}),"\n",(0,s.jsx)(n.h2,{id:"the-model-qwenqwen25-vl-72b-instruct-is-too-large-to-be-loaded-automatically-146gb--10gb",children:"The model Qwen/Qwen2.5-VL-72B-Instruct is too large to be loaded automatically (146GB > 10GB)."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"InferenceClient \u6307\u5B9A Provider"}),"\n",(0,s.jsx)(n.li,{children:"serverless inference API,"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"you-are-trying-to-access-a-gated-repo",children:"You are trying to access a gated repo."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\u540C\u610F Model \u6761\u6B3E"}),"\n",(0,s.jsx)(n.li,{children:"\u751F\u6210 Token"}),"\n",(0,s.jsx)(n.li,{children:"HF \u767B\u5F55"}),"\n",(0,s.jsx)(n.li,{children:"\u4E0B\u8F7D\u6A21\u578B"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Please enable access to public gated repositories in your fine-grained token settings to view this repository\n\nWe couldn't connect to 'https://huggingface.co' to load this file\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8C03\u6574 Token \u6743\u9650"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://huggingface.co/docs/hub/en/models-gated#access-gated-models-as-a-user",children:"Access Gated Models"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"from huggingface_hub import login\nlogin()\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Jupyter Notebook"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:"from huggingface_hub import notebook_login\nnotebook_login()\n"})})]})}function g(e={}){let{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},917776:function(e,n,i){i.d(n,{R:()=>t,x:()=>r});var l=i(7378);let s={},c=l.createContext(s);function t(e){let n=l.useContext(c);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(c.Provider,{value:n},e.children)}}}]);