"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["73917"],{98216:function(n,e,l){l.r(e),l.d(e,{frontMatter:()=>t,toc:()=>d,default:()=>h,metadata:()=>i,assets:()=>c,contentTitle:()=>a});var i=JSON.parse('{"id":"languages/lua/lua-version","title":"Lua \u7248\u672C","description":"- LuaJIT \u505C\u7559\u5728 5.1","source":"@site/../notes/languages/lua/lua-version.md","sourceDirName":"languages/lua","slug":"/languages/lua/version","permalink":"/notes/languages/lua/version","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/languages/lua/lua-version.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1621756378000,"frontMatter":{"title":"Lua \u7248\u672C"},"sidebar":"docs","previous":{"title":"Lua Awesome","permalink":"/notes/languages/lua/awesome"},"next":{"title":"luau","permalink":"/notes/languages/lua/luau"}}'),s=l(86106),r=l(17776);let t={title:"Lua \u7248\u672C"},a="Lua \u7248\u672C",c={},d=[{value:"5.4",id:"54",level:2},{value:"5.3",id:"53",level:2}];function u(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"lua-\u7248\u672C",children:"Lua \u7248\u672C"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"LuaJIT \u505C\u7559\u5728 5.1"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"54",children:"5.4"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u5B9E\u73B0\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u65B0\u7684 GC"}),"\n",(0,s.jsx)(e.li,{children:"math.random \u65B0\u5B9E\u73B0"}),"\n",(0,s.jsx)(e.li,{children:"\u544A\u8B66\u7CFB\u7EDF"}),"\n",(0,s.jsx)(e.li,{children:"utf8 codepoint \u652F\u6301\u5230 2^31"}),"\n",(0,s.jsx)(e.li,{children:"allocation function allowed to fail when shrinking a memory block"}),"\n",(0,s.jsx)(e.li,{children:"debug information about function arguments and returns"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u8BED\u8A00\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"const \u53D8\u91CF"}),"\n",(0,s.jsx)(e.li,{children:"userdata can have multiple user values"}),"\n",(0,s.jsx)(e.li,{children:"\u65B0\u7684 for \u6570\u5B57\u5FAA\u73AF\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.li,{children:"to-be-closed variables"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u5E93\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"string.gmatch \u53C2\u6570 init \u53EF\u9009"}),"\n",(0,s.jsxs)(e.li,{children:["string.format \u65B0\u589E ",(0,s.jsx)(e.code,{children:"%p"})]}),"\n",(0,s.jsx)(e.li,{children:"string-to-number coercions moved to the string library"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["C API\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u65B0\u589E\u51FD\u6570 lua_resetthread coroutine.close"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://www.lua.org/manual/5.4/readme.html#changes",children:"Changes"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://news.ycombinator.com/item?id=23686297",children:"HN"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"53",children:"5.3"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u5B9E\u73B0\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6574\u6570\u9ED8\u8BA4 64 \u4F4D"}),"\n",(0,s.jsx)(e.li,{children:"official support for 32-bit numbers"}),"\n",(0,s.jsx)(e.li,{children:"bitwise operators"}),"\n",(0,s.jsx)(e.li,{children:"\u57FA\u7840 utf-8 \u652F\u6301"}),"\n",(0,s.jsx)(e.li,{children:"functions for packing and unpacking values"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u8BED\u8A00\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"userdata can have any Lua value as uservalue"}),"\n",(0,s.jsx)(e.li,{children:"floor division"}),"\n",(0,s.jsx)(e.li,{children:"more flexible rules for some metamethods"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Libraries\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ipairs and the table library respect metamethods"}),"\n",(0,s.jsx)(e.li,{children:"strip option in string.dump"}),"\n",(0,s.jsx)(e.li,{children:"table library respects metamethods"}),"\n",(0,s.jsxs)(e.li,{children:["\u65B0\u65B9\u6CD5\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"table.move"}),"\n",(0,s.jsx)(e.li,{children:"string.pack"}),"\n",(0,s.jsx)(e.li,{children:"string.unpack"}),"\n",(0,s.jsx)(e.li,{children:"string.packsize"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["C API\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"simpler API for continuation functions in C"}),"\n",(0,s.jsx)(e.li,{children:"lua_gettable and similar functions return type of resulted value"}),"\n",(0,s.jsx)(e.li,{children:"strip option in lua_dump"}),"\n",(0,s.jsxs)(e.li,{children:["\u65B0\u65B9\u6CD5\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"lua_geti"}),"\n",(0,s.jsx)(e.li,{children:"lua_seti"}),"\n",(0,s.jsx)(e.li,{children:"lua_isyieldable"}),"\n",(0,s.jsx)(e.li,{children:"lua_numbertointeger"}),"\n",(0,s.jsx)(e.li,{children:"lua_rotate"}),"\n",(0,s.jsx)(e.li,{children:"lua_stringtonumber"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"Lua standalone interpreter"}),"\n",(0,s.jsxs)(e.li,{children:["\u53EF\u7528\u4E8E\u8BA1\u7B97\u5668 - \u4E0D\u518D\u9700\u8981\u6DFB\u52A0 ",(0,s.jsx)(e.code,{children:"="})," \u524D\u7F00"]}),"\n",(0,s.jsx)(e.li,{children:"arg table available to all code"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://www.lua.org/manual/5.3/readme.html#changes",children:"Changes"})}),"\n"]}),"\n"]}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}},17776:function(n,e,l){l.d(e,{R:()=>t,x:()=>a});var i=l(7378);let s={},r=i.createContext(s);function t(n){let e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);