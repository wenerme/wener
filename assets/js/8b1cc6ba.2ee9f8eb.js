"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["52266"],{6580:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>t,toc:()=>h,default:()=>j,metadata:()=>l,assets:()=>d,contentTitle:()=>c});var l=JSON.parse('{"id":"dev/testing/README","title":"\u6D4B\u8BD5","description":"- QPS=VU/RT","source":"@site/../notes/dev/testing/README.md","sourceDirName":"dev/testing","slug":"/dev/testing/","permalink":"/notes/dev/testing/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/dev/testing/README.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1758385208000,"frontMatter":{"title":"\u6D4B\u8BD5"},"sidebar":"docs","previous":{"title":"\u6A21\u677F","permalink":"/notes/dev/tech/template"},"next":{"title":"ab","permalink":"/notes/dev/testing/ab"}}'),s=i(86106),r=i(17776);let t={title:"\u6D4B\u8BD5"},c="\u6D4B\u8BD5",d={},h=[{value:"\u6D4B\u8BD5\u7C7B\u578B",id:"\u6D4B\u8BD5\u7C7B\u578B",level:2},{value:"avg vs median",id:"avg-vs-median",level:2}];function x(n){let e={a:"a",admonition:"admonition",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u6D4B\u8BD5",children:"\u6D4B\u8BD5"})}),"\n",(0,s.jsx)(e.admonition,{type:"tip",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"QPS=VU/RT"}),"\n",(0,s.jsx)(e.li,{children:"VU=QPS\xd7RT"}),"\n",(0,s.jsx)(e.li,{children:"RT=VU/QPS"}),"\n"]})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"QPS=Concurrency/ResponseTime"}),"\n",(0,s.jsx)(e.li,{children:"Concurrency=VU - Virtual User"}),"\n",(0,s.jsx)(e.li,{children:"ResponseTime=Latency"}),"\n",(0,s.jsx)(e.li,{children:"e.g. 1000/100ms = 10 QPS"}),"\n",(0,s.jsxs)(e.li,{children:["\u53CD\u4E4B:\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"3000/0.5=6000 VU - \u671F\u671B QPS 3000, latency 0.5ms, \u9700\u8981 6000 \u5E76\u53D1"}),"\n",(0,s.jsx)(e.li,{children:"1500/0.5=3000 VU - \u671F\u671B QPS 1500, latency 0.5ms, \u9700\u8981 3000 \u5E76\u53D1"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"DAU - Daily Active User - \u65E5\u6D3B\u8DC3\u7528\u6237 - \u65E5\u6D3B"}),"\n",(0,s.jsxs)(e.li,{children:["DAU -> UV - \u65E5\u6D3B\u8DC3\u7528\u6237\u63A8\u5BFC\u5E76\u53D1\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5CF0\u503C\u65F6\u95F4\u6BB5"}),"\n",(0,s.jsx)(e.li,{children:"\u5355\u6B21\u65F6\u5E38"}),"\n",(0,s.jsx)(e.li,{children:"\u4F7F\u7528\u95F4\u9694"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["UX -> RT - \u7528\u6237\u4F53\u9A8C\u51B3\u5B9A\u54CD\u5E94\u65F6\u95F4\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u533A\u5206\u4E1A\u52A1\u573A\u666F\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u5373\u65F6\u54CD\u5E94(<100ms)\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u641C\u7D22\u81EA\u52A8\u8865\u5168\u3001\u6309\u94AE\u70B9\u51FB\u53CD\u9988\u7B49\u4EA4\u4E92"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u6D41\u7545\u54CD\u5E94(100-300ms)\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u9875\u9762\u548C\u5185\u5BB9\u52A0\u8F7D"}),"\n",(0,s.jsx)(e.li,{children:"\u524D\u7AEF\u9759\u6001\uFF0C\u7EC4\u4EF6\u52A0\u8F7D\u521D\u59CB\u5316"}),"\n",(0,s.jsx)(e.li,{children:"\u4E50\u89C2\u66F4\u65B0"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u53EF\u63A5\u53D7\u7684\u54CD\u5E94(300-1000ms)\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u4E00\u822C\u540E\u53F0\u64CD\u4F5C,\u5982\u63D0\u4EA4\u8868\u5355"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u8FC7\u957F\u54CD\u5E94(>1000ms)\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u7528\u6237\u4F1A\u611F\u5230\u5EF6\u8FDF,\u5F71\u54CD\u4F53\u9A8C\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"\u4EA4\u4E92\u63A5\u53E3\u8003\u8651 100-300ms"}),"\n",(0,s.jsx)(e.li,{children:"\u4E00\u822C\u63A5\u53E3\u8003\u8651 500ms"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"../../devops/concept/latency.md",children:"Latency"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h1,{id:"load-test",children:"Load Test"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"virtual users (VUs) - \u6A21\u62DF\u7528\u6237\u5E76\u53D1\u573A\u666F"}),"\n",(0,s.jsx)(e.li,{children:"requests per second - RPS/QPS - \u6A21\u62DF\u539F\u59CB\u7684\u8BF7\u6C42\uFF0C\u771F\u5B9E\u7684\u541E\u5410\u91CF"}),"\n",(0,s.jsx)(e.li,{children:"Latency - \u54CD\u5E94\u65F6\u95F4"}),"\n",(0,s.jsx)(e.li,{children:"Availability - \u53EF\u7528\u6027"}),"\n",(0,s.jsx)(e.li,{children:"SLOs - Service Level Objectives - \u670D\u52A1\u6C34\u5E73\u76EE\u6807"}),"\n",(0,s.jsx)(e.li,{children:"SLIs - Service Level Indicators - \u670D\u52A1\u6C34\u5E73\u6307\u6807"}),"\n",(0,s.jsx)(e.li,{children:"SLAs - Service Level Agreements - \u670D\u52A1\u6C34\u5E73\u534F\u8BAE"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Why load test"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u9A8C\u8BC1\u9884\u671F\u6D41\u91CF\u4E0B\u7684\u53EF\u9760\u6027"}),"\n",(0,s.jsx)(e.li,{children:"\u53D1\u73B0\u7CFB\u7EDF\u95EE\u9898\uFF0C\u63A2\u6D4B\u7CFB\u7EDF\u4E0A\u7EBF"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://k6.io/docs/testing-guides/api-load-testing/",children:"https://k6.io/docs/testing-guides/api-load-testing/"})}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u6D4B\u8BD5\u7C7B\u578B",children:"\u6D4B\u8BD5\u7C7B\u578B"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Breakpoint testing - \u65AD\u70B9\u6D4B\u8BD5 - \u9010\u6B65\u589E\u52A0\u8D1F\uFF0C\u53D1\u73B0\u7CFB\u7EDF\u7684\u74F6\u9888"}),"\n",(0,s.jsx)(e.li,{children:"Load testing - \u5E73\u5747\u8D1F\u8F7D\u6D4B\u8BD5 - \u5178\u578B\u8D1F\u8F7D\u9A8C\u8BC1\u7CFB\u7EDF\u529F\u80FD"}),"\n",(0,s.jsx)(e.li,{children:"Smoke testing - \u5192\u70DF\u6D4B\u8BD5 - \u6700\u5C0F\u8D1F\u8F7D\u9A8C\u8BC1\u7CFB\u7EDF\u529F\u80FD"}),"\n",(0,s.jsx)(e.li,{children:"Soak testing - \u6D78\u6CE1\u6D4B\u8BD5 - \u957F\u65F6\u95F4\u8D1F\u8F7D\uFF0C\u7CFB\u7EDF\u5728\u4EC0\u4E48\u8282\u70B9\u51FA\u73B0\u964D\u7EA7"}),"\n",(0,s.jsx)(e.li,{children:"Spike testing - \u5CF0\u503C\u6D4B\u8BD5 - \u7A81\u53D1\u8D1F\u8F7D\u9A8C\u8BC1\u7CFB\u7EDF\u529F\u80FD"}),"\n",(0,s.jsx)(e.li,{children:"Stress testing- \u538B\u529B\u6D4B\u8BD5 - \u5CF0\u503C\u8D1F\u8F7D\u9A8C\u8BC1\u7CFB\u7EDF\u529F\u80FD"}),"\n",(0,s.jsxs)(e.li,{children:["Probing / Dial Test / Monitoring - \u62E8\u6D4B - \u6A21\u62DF\u7528\u6237\u884C\u4E3A\uFF0C\u9A8C\u8BC1\u7CFB\u7EDF\u529F\u80FD\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6A21\u62DF\u7528\u6237\u884C\u4E3A"}),"\n",(0,s.jsx)(e.li,{children:"\u5206\u5E03\u5F0F"}),"\n",(0,s.jsx)(e.li,{children:"\u6570\u636E\u91C7\u96C6\u5206\u6790"}),"\n",(0,s.jsxs)(e.li,{children:["\u4E3B\u8981\u7528\u4E8E\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u6027\u80FD\u76D1\u63A7"}),"\n",(0,s.jsx)(e.li,{children:"\u53EF\u7528\u6027\u66B4\u6DA8"}),"\n",(0,s.jsx)(e.li,{children:"\u4F53\u9A8C\u63D0\u5347"}),"\n",(0,s.jsx)(e.li,{children:"\u7F51\u7EDC\u4F18\u5316"}),"\n",(0,s.jsx)(e.li,{children:"\u65E9\u671F\u6545\u969C\u53D1\u73B0"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"Synthetic Monitoring - \u7EFC\u5408\u76D1\u63A7/\u5408\u6210\u76D1\u63A7 - \u811A\u672C\u5316\u7684\u3001\u6A21\u62DF\u7528\u6237\u884C\u4E3A\u7684\u65B9\u5F0F\u6765\u76D1\u63A7\u5E94\u7528"}),"\n",(0,s.jsx)(e.li,{children:"Uptime Monitoring / Availability Monitoring - \u53EF\u7528\u6027\u76D1\u63A7"}),"\n",(0,s.jsx)(e.li,{children:"Active Probing - \u4E3B\u52A8\u63A2\u6D4B"}),"\n",(0,s.jsx)(e.li,{children:"vs RUM  - RUM \u662F\u771F\u5B9E\u7528\u6237\u884C\u4E3A\uFF0CProbing \u662F\u6A21\u62DF\u7528\u6237\u884C\u4E3A\uFF0C \u662F\u5408\u6210\uFF08Synthetic\uFF09\u6D4B\u8BD5"}),"\n",(0,s.jsxs)(e.li,{children:["e.g\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://cloud.google.com/monitoring/uptime-checks/introduction",children:"https://cloud.google.com/monitoring/uptime-checks/introduction"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"RUM / Real User Monitoring - \u771F\u5B9E\u7528\u6237\u76D1\u63A7 - \u6A21\u62DF\u7528\u6237\u884C\u4E3A\uFF0C\u9A8C\u8BC1\u7CFB\u7EDF\u529F\u80FD"}),"\n",(0,s.jsx)(e.li,{children:"Testing / Monitoring - \u6D4B\u8BD5 / \u76D1\u63A7"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"avg-vs-median",children:"avg vs median"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u5E73\u5747\u5EF6\u65F6(avg)\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5168\u5C40\u7684\u5E73\u5747\u54CD\u5E94\u65F6\u95F4"}),"\n",(0,s.jsx)(e.li,{children:"\u5BB9\u6613\u53D7\u6781\u503C\u5F71\u54CD"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u4E2D\u4F4D\u6570\u5EF6\u65F6(median)\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5178\u578B\u7684\u54CD\u5E94\u65F6\u95F4"}),"\n",(0,s.jsx)(e.li,{children:"\u9664\u5F02\u5E38\u60C5\u51B5\u7684\u5E72\u6270"}),"\n"]}),"\n"]}),"\n"]})]})}function j(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(x,{...n})}):x(n)}},17776:function(n,e,i){i.d(e,{R:()=>t,x:()=>c});var l=i(7378);let s={},r=l.createContext(s);function t(n){let e=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);