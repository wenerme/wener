"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["403433"],{25240:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>t,toc:()=>c,default:()=>d,metadata:()=>l,assets:()=>a,contentTitle:()=>h});var l=JSON.parse('{"id":"ai/training/README","title":"\u8BAD\u7EC3","description":"- Pre-Training - \u9884\u8BAD\u7EC3","source":"@site/../notes/ai/training/README.md","sourceDirName":"ai/training","slug":"/ai/training/","permalink":"/notes/ai/training/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/ai/training/README.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"\u8BAD\u7EC3"},"sidebar":"docs","previous":{"title":"openrouter","permalink":"/notes/ai/service/openrouter"},"next":{"title":"LLaMA-Factory","permalink":"/notes/ai/training/llama-factory"}}'),s=i(486106),r=i(917776);let t={title:"\u8BAD\u7EC3"},h="Traning",a={},c=[{value:"\u5FAE\u8C03",id:"fine-tuning",level:2}];function o(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",mermaid:"mermaid",pre:"pre",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"traning",children:"Traning"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Pre-Training - \u9884\u8BAD\u7EC3\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u4EA7\u51FA \u57FA\u7840\u6A21\u578B\u3001\u4ECE 0 \u5230 1\u3001\u6210\u672C\u9AD8\u6602"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Post-Training\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Instruction Fine-Tuning - \u6307\u4EE4\u5FAE\u8C03"}),"\n",(0,s.jsx)(e.li,{children:"Alignement Fine-Tuning - \u5BF9\u9F50\u5FAE\u8C03"}),"\n",(0,s.jsx)(e.li,{children:"Task-Specific Fine-Tuning - \u4EFB\u52A1\u7279\u5B9A\u5FAE\u8C03"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Fine-Tuning\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5BF9\u5DF2\u6709\u6A21\u578B\u8FDB\u884C\u5FAE\u8C03\u3001\u9886\u57DF\u9002\u5E94\u5FAE\u8C03\u3001\u4F4E\u6210\u672C\u6EE1\u8DB3\u7279\u5B9A\u9700\u6C42"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.mermaid,{value:'graph TD\n  DataCollection["\u6570\u636E\u6536\u96C6"]\n  DataLabeling["\u6570\u636E\u6807\u6CE8"]\n  ModelTraining["\u6A21\u578B\u8BAD\u7EC3"]\n  ModelEvaluation["\u6A21\u578B\u8BC4\u4F30"]\n  ModelDeploy["\u6A21\u578B\u90E8\u7F72"]\n\n  DataCollection -- \u6293\u53D6 --\x3e DataLabeling\n  DataLabeling -- \u683C\u5F0F\u5316 --\x3e ModelTraining\n  ModelTraining -- \u6D4B\u8BD5 --\x3e ModelEvaluation\n  ModelEvaluation -- \u5206\u6790 --\x3e Quality{"\u8D28\u91CF?"}\n  Quality -- YES:\u53D1\u5E03 --\x3e ModelDeploy\n  Quality -- NO:\u4FEE\u590D --\x3e DataLabeling\n  ModelDeploy -- \u6536\u96C6 --\x3e ErrorMonitoring\n  ErrorMonitoring -- \u68C0\u67E5 --\x3e ErrorCheck{"\u9519\u8BEF\u68C0\u67E5"}\n  ErrorCheck -- YES:\u7EE7\u7EED\u8FED\u4EE3 --\x3e DataCollection\n  ErrorCheck -- NO:\u70ED\u4FEE\u590D --\x3e ModelDeploy'}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"label-studio \u6570\u636E\u6807\u6CE8\u5DE5\u5177"}),"\n",(0,s.jsx)(e.li,{children:"transformers - \u6A21\u578B\u8BAD\u7EC3\u5957\u4EF6"}),"\n",(0,s.jsx)(e.li,{children:"TextBrewer - \u6A21\u578B\u84B8\u998F\u5DE5\u5177"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["toolkit\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/InternLM/xtuner",children:"InternLM/xtuner"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Apache-2.0, Python"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/hiyouga/LLaMA-Factory",children:"hiyouga/LLaMA-Factory"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Apache-2.0, Python"}),"\n",(0,s.jsx)(e.li,{children:"Unified Efficient Fine-Tuning of 100+ LLMs & VLMs"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/modelscope/ms-swift",children:"modelscope/ms-swift"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Apache-2.0, Python"}),"\n",(0,s.jsx)(e.li,{children:"by \u963F\u91CC\u5DF4\u5DF4, \u963F\u91CC\u8FBE\u6469\u9662"}),"\n",(0,s.jsx)(e.li,{children:"SWIFT - Scalable lightWeight Infrastructure for Fine-Tuning"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/volcengine/verl",children:"volcengine/verl"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Apache-2.0, Python"}),"\n",(0,s.jsx)(e.li,{children:"Volcano Engine Reinforcement Learning for LLMs"}),"\n",(0,s.jsx)(e.li,{children:"by \u706B\u5C71\u5F15\u64CE"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/2U1/Qwen2-VL-Finetune",children:"2U1/Qwen2-VL-Finetune"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Apache-2.0, Python"}),"\n",(0,s.jsx)(e.li,{children:"Liger-Kernel"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/axolotl-ai-cloud/axolotl",children:"axolotl-ai-cloud/axolotl"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Apache-2.0, Python"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/unslothai/unsloth",children:"unslothai/unsloth"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Apache-2.0, Python"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/pytorch/torchtune",children:"pytorch/torchtune"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Apache-2.0, Python"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/kiln-ai/kiln",children:"kiln-ai/kiln"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Rapid AI Prototyping and Dataset Collaboration Tool"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Eval\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/open-compass/VLMEvalKit",children:"open-compass/VLMEvalKit"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Apache-2.0, Python"}),"\n",(0,s.jsx)(e.li,{children:"evaluation toolkit of large multi-modality models (LMMs), support 220+ LMMs, 80+ benchmarks"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Example/LoRA\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/daniel3303/StoryReasoning",children:"daniel3303/StoryReasoning"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u591Aimage\uFF0C\u8FDE\u7EED\u6545\u4E8B\u63A8\u7406\uFF0C\u4EBA\u7269\u8BC6\u522B"}),"\n",(0,s.jsxs)(e.li,{children:["\u6570\u636E\u96C6 ",(0,s.jsx)(e.a,{href:"https://huggingface.co/datasets/daniel3303/StoryReasoning",children:"daniel3303/StoryReasoning"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Article/\u6587\u7AE0/\u53C2\u8003/\u9605\u8BFB/Reading/Reference\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://civitai.com/articles/11942",children:"Training a WAN or HunYuan LoRA the right way."})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://news.ycombinator.com/item?id=43125430",children:"Train Your Own O1 Preview Model Within $450"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"fine-tuning",children:"\u5FAE\u8C03"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u4E3A\u4EC0\u4E48\u8981\u5FAE\u8C03\u5927\u8BED\u8A00\u6A21\u578B (LLM)\uFF1F\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u89E3\u51B3\u7279\u5B9A\u95EE\u9898\uFF1A\u9488\u5BF9\u5177\u4F53\u3001\u53EF\u8861\u91CF\u7684\u95EE\u9898\u4F18\u5316\u6A21\u578B\u8868\u73B0\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u63D0\u5347\u4EFB\u52A1\u8D28\u91CF\uFF1A\u63D0\u9AD8\u6A21\u578B\u5728\u7279\u5B9A\u4EFB\u52A1\u4E0A\u7684\u51C6\u786E\u6027\u548C\u6548\u679C\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u964D\u4F4E\u6210\u672C\u4E0E\u63D0\u5347\u901F\u5EA6\uFF1A\u4F7F\u7528\u5FAE\u8C03\u540E\u7684\u5C0F\u6A21\u578B\u53EF\u80FD\u6BD4\u901A\u7528\u5927\u6A21\u578B\u66F4\u7ECF\u6D4E\u3001\u66F4\u5FEB\u901F\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u4F18\u5316\u5DE5\u5177\u8C03\u7528\u80FD\u529B\uFF1A\u589E\u5F3A\u6A21\u578B\u7406\u89E3\u548C\u6267\u884C\u7279\u5B9A\u5DE5\u5177\u6216 API \u8C03\u7528\u7684\u80FD\u529B\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u589E\u5F3A\u903B\u8F91\u4E0E\u89C4\u5219\u9075\u5FAA\uFF1A\u4F7F\u6A21\u578B\u66F4\u597D\u5730\u7406\u89E3\u548C\u9075\u5FAA\u590D\u6742\u7684\u6307\u4EE4\u3001\u903B\u8F91\u548C\u7279\u5B9A\u89C4\u5219\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u6A21\u578B\u84B8\u998F\uFF1A\u5C06\u5927\u578B\u3001\u590D\u6742\u6A21\u578B\u7684\u77E5\u8BC6\u548C\u80FD\u529B\u8FC1\u79FB\u5230\u66F4\u5C0F\u3001\u66F4\u9AD8\u6548\u7684\u6A21\u578B\u4E2D\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u6539\u8FDB\u601D\u8003\u4E0E\u63A8\u7406\u94FE\uFF1A\u63D0\u5347\u6A21\u578B\u8FDB\u884C\u590D\u6742\u601D\u8003\u3001\u63A8\u7406\u548C\u5F62\u6210\u8FDE\u8D2F\u601D\u7EF4\u94FE\u6761\u7684\u80FD\u529B\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u5BF9\u9F50\u4EBA\u7C7B\u4EF7\u503C\u89C2\u4E0E\u5B89\u5168\u8981\u6C42\uFF1A\u4F7F\u6A21\u578B\u7684\u8F93\u51FA\u66F4\u7B26\u5408\u4EBA\u7C7B\u7684\u4EF7\u503C\u89C2\u3001\u9053\u5FB7\u6807\u51C6\u548C\u5B89\u5168\u89C4\u8303\u3002"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\u5982\u4F55\u5F00\u59CB\u5FAE\u8C03 LLM\uFF1F\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u660E\u786E\u76EE\u6807 (Pick a goal)\uFF1A\u6E05\u6670\u5B9A\u4E49\u4F60\u5E0C\u671B\u901A\u8FC7\u5FAE\u8C03\u89E3\u51B3\u7684\u5177\u4F53\u95EE\u9898\u6216\u8FBE\u6210\u7684\u6027\u80FD\u6307\u6807\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u51C6\u5907\u8BAD\u7EC3\u6570\u636E (Generate training data)\uFF1A\u6536\u96C6\u6216\u751F\u6210\u9AD8\u8D28\u91CF\u7684\u8BAD\u7EC3\u6570\u636E\u3002\u6587\u7AE0\u63D0\u5230\uFF0C\u5408\u6210\u6570\u636E\uFF08Synthetic data\uFF09\u5728\u5FAE\u8C03\u4E2D\u6548\u679C\u826F\u597D\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u8BAD\u7EC3\u5019\u9009\u6A21\u578B (Train a few candidates)\uFF1A\u9009\u62E9\u5408\u9002\u7684\u57FA\u6A21\u578B\uFF0C\u5E76\u5C1D\u8BD5\u8BAD\u7EC3\u51E0\u4E2A\u4E0D\u540C\u7684\u5FAE\u8C03\u7248\u672C\u3002"}),"\n",(0,s.jsx)(e.li,{children:"\u8BC4\u4F30\u5173\u952E\u6307\u6807 (Measure what matters)\uFF1A\u6839\u636E\u4F60\u8BBE\u5B9A\u7684\u76EE\u6807\uFF0C\u5BF9\u5FAE\u8C03\u540E\u7684\u6A21\u578B\u8FDB\u884C\u4E25\u683C\u7684\u8BC4\u4F30\uFF0C\u8861\u91CF\u5176\u5728\u5173\u952E\u6307\u6807\u4E0A\u7684\u8868\u73B0\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h1,{id:"2u1qwen2-vl-finetune",children:"2U1/Qwen2-VL-Finetune"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://github.com/2U1/Qwen2-VL-Finetune",children:"2U1/Qwen2-VL-Finetune"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Apache-2.0, Python, Liger-Kernel, DeepSpeed"}),"\n",(0,s.jsx)(e.li,{children:"\u26A0\uFE0F Liger-kernel \u4E0D\u652F\u6301 QLoRA"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["dataset\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"--data_path data.json"}),"\n",(0,s.jsx)(e.li,{children:"--image_folder"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'[\n  {\n    "id": "000000033471",\n    "image": ["000000033471.jpg", "000000033472.jpg"],\n    "conversations": [\n      {\n        "from": "human",\n        "value": "<image>\\n<image>\\nIs the perspective of the camera differnt?"\n      },\n      {\n        "from": "gpt",\n        "value": "Yes, It the perspective of the camera is different."\n      }\n    ]\n  }\n]\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"git clone https://github.com/2U1/Qwen2-VL-Finetune\ncd Qwen2-VL-Finetune\nuv venv --python 3.11\nuv pip install -r requirements.txt -f https://download.pytorch.org/whl/cu124\nuv pip install qwen-vl-utils\nuv pip install flash-attn --no-build-isolation\n\n# \u590D\u5236\u811A\u672C \u81EA\u884C\u4FEE\u6539\u540E\u4F7F\u7528\n# \u4FEE\u6539 data-path, image-folder, MODEL_NAME\ncp scripts/finetune.sh ft.sh\n\n# \u53C2\u8003\u811A\u672C\n# Full Finetuning\nbash scripts/finetune.sh\n# LoRA Finetuning\nbash scripts/finetune_lora.sh\n# LoRA Finetuning language model & vision model\nbash scripts/finetune_lora_vision.sh\n\n# for Video\nbash scripts/finetune_video.sh\n\nbash scripts/merge_lora.sh\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/2U1/Qwen2-VL-Finetune",children:"https://github.com/2U1/Qwen2-VL-Finetune"})}),"\n"]})]})}function d(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},917776:function(n,e,i){i.d(e,{R:()=>t,x:()=>h});var l=i(7378);let s={},r=l.createContext(s);function t(n){let e=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function h(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);