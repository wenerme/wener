"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["244781"],{687101:function(e,n,l){l.r(n),l.d(n,{frontMatter:()=>d,toc:()=>o,default:()=>h,metadata:()=>t,assets:()=>c,contentTitle:()=>r});var t=JSON.parse('{"id":"languages/go/go-build","title":"Go Build","description":"- Go package guidelines","source":"@site/../notes/languages/go/go-build.md","sourceDirName":"languages/go","slug":"/languages/go/build","permalink":"/notes/languages/go/build","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/languages/go/go-build.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"Go Build"},"sidebar":"docs","previous":{"title":"Go Awesome","permalink":"/notes/languages/go/awesome"},"next":{"title":"CGO","permalink":"/notes/languages/go/cgo"}}'),s=l(486106),i=l(917776);let d={title:"Go Build"},r="Go Build",c={},o=[{value:"References",id:"references",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Flags and Options",id:"flags-and-options",level:2},{value:"Build Modes (<code>-buildmode</code>)",id:"build-modes--buildmode",level:3},{value:"Linker Flags (<code>-ldflags</code>)",id:"linker-flags--ldflags",level:3},{value:"GC Flags (<code>-gcflags</code>)",id:"gc-flags--gcflags",level:3},{value:"Common Flags",id:"common-flags",level:3},{value:"Custom Version Variables",id:"custom-version-variables",level:2},{value:"Build Constraints (Tags)",id:"build-constraints-tags",level:2},{value:"Cross Compilation",id:"cross-compilation",level:2},{value:"Docker Builder",id:"docker-builder",level:2},{value:"Architecture Levels (GOAMD64)",id:"architecture-levels-goamd64",level:2},{value:"FAQ",id:"faq",level:2}];function x(e){let n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"go-build",children:"Go Build"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://wiki.archlinux.org/title/Go_package_guidelines",children:"Go package guidelines"})}),"\n",(0,s.jsxs)(n.li,{children:["Common Flags: ",(0,s.jsx)(n.code,{children:"-trimpath -ldflags '-s -w -extldflags \"-static\"'"})]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/golang/go/wiki/GoArm",children:"GoArm"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://gist.github.com/asukakenji/f15ba7e588ac42795f421b48b8aede63",children:"go-os-arch.md"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/golang/go/wiki/PortingPolicy",children:"PortingPolicy"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://go.dev/doc/install/source",children:"Installing Go from source"})}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"c-shared"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["runtime: c-shared builds fail with musllibc ",(0,s.jsx)(n.a,{href:"https://github.com/golang/go/issues/13492",children:"golang/go#13492"})]}),"\n",(0,s.jsx)(n.li,{children:"windows c-shared requires TDM-GCC"}),"\n",(0,s.jsxs)(n.li,{children:["Cannot dlclose, offload c-shared ",(0,s.jsx)(n.a,{href:"https://github.com/golang/go/issues/11100",children:"golang/go#11100"})," (Related to VM)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"aarch64 -> arm64"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"aarch64"})," is common in Linux environments."]}),"\n",(0,s.jsxs)(n.li,{children:["Use ",(0,s.jsx)(n.code,{children:"arm64"})," for GOARCH."]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,s.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Env"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Note"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"macOS"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"GOENV"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"~/Library/Application Support/go/env"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"GOCACHE"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"~/Library/Caches/go-build"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"GOMODCACHE"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"~/go/pkg/mod"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"GOTOOLDIR"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"GOMOD"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"go.mod location"}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"GOWORK"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"GOMAXPROCS"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Max Thread"}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"GOGC"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"100 (off to disable)"}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"GOOS"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"GOARCH"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"flags-and-options",children:"Flags and Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# List all cross-compilation targets\ngo tool dist list\n# Include cgo support status\ngo tool dist list -json\n\n# Remove mod cache\ngo clean -modcache\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"build-modes--buildmode",children:["Build Modes (",(0,s.jsx)(n.code,{children:"-buildmode"}),")"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Mode"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"archive"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["build non-main, ",(0,s.jsx)(n.code,{children:".a"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"c-archive"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["main+imports, cgo ",(0,s.jsx)(n.code,{children:"//export"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"c-shared"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["main+imports, cgo ",(0,s.jsx)(n.code,{children:"//export"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"default"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["main+non-main, exec, ",(0,s.jsx)(n.code,{children:".a"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"exe"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"main+imports, exec, ignores non-main packages"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"pie"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"main+imports, exec, pie"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"plugin"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"main+imports, plugin, ignores non-main packages"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.del,{children:(0,s.jsx)(n.code,{children:"shared"})})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"non-main, for -linkshared (deprecated/broken)"})]})]})]}),"\n",(0,s.jsxs)(n.h3,{id:"linker-flags--ldflags",children:["Linker Flags (",(0,s.jsx)(n.code,{children:"-ldflags"}),")"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Flag"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"-w"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"disable DWARF generation"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"-s"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"disable symbol table"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"-X 'pkg.Var=Value'"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"add string definition"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"-linkmode=external"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:'-extldflags "$LDFLAGS"'})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,s.jsxs)(n.h3,{id:"gc-flags--gcflags",children:["GC Flags (",(0,s.jsx)(n.code,{children:"-gcflags"}),")"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Flag"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"-N"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Disable optimizations"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"-l"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Disable inlining"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"common-flags",children:"Common Flags"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Flag"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"-modcacherw"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["New mod cache rw - allows ",(0,s.jsx)(n.code,{children:"rm -rf"})]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"-trimpath"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Remove environment paths, reproducible builds"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:'-ldflags "$GOLDFLAGS"'})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"-mod=readonly"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Don't update go.mod"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"-buildmode=pie"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"}})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"custom-version-variables",children:"Custom Version Variables"}),"\n",(0,s.jsx)(n.p,{children:"Inject version info at build time:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\n\nvar Version = "dev"\nvar CommitTime = ""\nvar CommitID = ""\nvar BuildTime = ""\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"DEF_FLAGS=\"\n-X 'wener.me/tools/build.Version=$(git describe --tags --abbrev=0)'\n-X 'wener.me/tools/build.CommitID=$(git rev-parse --short HEAD)'\n-X 'wener.me/tools/build.CommitTime=$(git log -1 --format=%cd --date=iso8601)'\n-X 'wener.me/tools/build.BuildTime=$(date --iso-8601=seconds)'\n\"\ngo build -o bin/cli -ldflags \"$DEF_FLAGS\" ./cmd/cli\n"})}),"\n",(0,s.jsx)(n.h2,{id:"build-constraints-tags",children:"Build Constraints (Tags)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"//go:build tag\n//+build tag1,tag2\n\n// Complex constraints\n//go:build (linux && 386) || (darwin && !cgo)\n\npackage main\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'go build -tags "tag1 tag2"\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://pkg.go.dev/cmd/go#hdr-Build_constraints",children:"Build constraints documentation"})}),"\n",(0,s.jsx)(n.h2,{id:"cross-compilation",children:"Cross Compilation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Example cross compilation commands\nCC=i586-mingw32-gcc GOOS=windows GOARCH=386 CGO_ENABLED=1 \\\n  go build -v -o myprogram.exe -ldflags="-extld=$CC"\n\nCC=x86_64-pc-linux-gcc GOOS=linux GOARCH=amd64 CGO_ENABLED=1 \\\n  go build -v -o myprogram -ldflags="-extld=$CC"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"docker-builder",children:"Docker Builder"}),"\n",(0,s.jsxs)(n.p,{children:["Using ",(0,s.jsx)(n.a,{href:"https://github.com/prometheus/golang-builder",children:"prometheus/golang-builder"})," for multi-arch builds."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker pull quay.io/prometheus/golang-builder:arm\ndocker run --rm -it --entrypoint bash \\\n  --name go-builder quay.io/prometheus/golang-builder:arm\n"})}),"\n",(0,s.jsx)(n.h2,{id:"architecture-levels-goamd64",children:"Architecture Levels (GOAMD64)"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"go 1.18 \u65B0\u589E GOAMD64 \u73AF\u5883\u53D8\u91CF"}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"v1 - \u9ED8\u8BA4"}),"\n",(0,s.jsxs)(n.li,{children:["v2 - CMPXCHG16B, LAHF, SAHF, POPCNT, SSE3, SSE4.1, SSE4.2, SSSE3\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"2009: Nehalem, Jaguar, Intel Atom Silvermont, QEMU"}),"\n",(0,s.jsx)(n.li,{children:"amdv2"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["v3 - AVX, AVX2, BMI1, BMI2, F16C, FMA, LZCNT, MOVBE, OSXSAVE\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"2015 - Haswell, Excavator"}),"\n",(0,s.jsx)(n.li,{children:"amdv3"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["v4 - AVX512F, AVX512BW, AVX512CD, AVX512DQ, AVX512VL\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"2017: Skylake-X, Skylake-SP"}),"\n",(0,s.jsx)(n.li,{children:"2022: Zen 4"}),"\n",(0,s.jsx)(n.li,{children:"amdv4"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://go.dev/wiki/MinimumRequirements#amd64",children:"GOAMD64"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/X86-64#Microarchitecture_levels",children:"Microarchitecture levels"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Check support\ngrep -oE 'avx2|bmi1|bmi2|f16|fma' /proc/cpuinfo | sort -u\n"})}),"\n",(0,s.jsx)(n.h2,{id:"faq",children:"FAQ"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"unrecognized command-line option '-marm'"})}),": Check ",(0,s.jsx)(n.code,{children:"CC"})," path."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"arm-none-eabi-gcc: error: unrecognized command-line option '-pthread'"})}),": Use ",(0,s.jsx)(n.code,{children:"arm-linux-eabi"})," or manage empty pthread lib."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"loadinternal: cannot find runtime/cgo"})}),": Ensure ",(0,s.jsx)(n.code,{children:"CGO_ENABLED=1"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"FATAL: kernel too old"})}),": Check target kernel version support in GCC."]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}},917776:function(e,n,l){l.d(n,{R:()=>d,x:()=>r});var t=l(7378);let s={},i=t.createContext(s);function d(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);