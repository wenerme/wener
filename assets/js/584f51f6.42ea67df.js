"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["41021"],{382:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>c,toc:()=>h,default:()=>x,metadata:()=>r,assets:()=>t,contentTitle:()=>d});var r=JSON.parse('{"id":"service/storage/rclone/README","title":"rclone","description":"- rclone/rclone","source":"@site/../notes/service/storage/rclone/README.md","sourceDirName":"service/storage/rclone","slug":"/service/storage/rclone/","permalink":"/notes/service/storage/rclone/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/storage/rclone/README.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1753172183000,"frontMatter":{"title":"rclone"},"sidebar":"docs","previous":{"title":"PhotoPrism","permalink":"/notes/service/storage/photoprism"},"next":{"title":"Rclone FAQ","permalink":"/notes/service/storage/rclone/faq"}}'),l=s(86106),i=s(17776);let c={title:"rclone"},d="rclone",t={},h=[{value:"config",id:"config",level:2},{value:"sftp",id:"sftp",level:2},{value:"Web UI",id:"web-ui",level:2},{value:"google drive",id:"google-drive",level:2},{value:"one drive",id:"one-drive",level:2},{value:"mount",id:"mount",level:2},{value:"serve",id:"serve",level:2}];function o(n){let e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"rclone",children:"rclone"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/rclone/rclone",children:"rclone/rclone"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://rclone.org/",children:"https://rclone.org/"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6 ",(0,l.jsx)(e.code,{children:"~/.config/rclone/rclone.conf"})]}),"\n"]}),"\n",(0,l.jsx)(e.admonition,{type:"caution",children:(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4E0D\u652F\u6301 watch ",(0,l.jsx)(e.a,{href:"https://github.com/rclone/rclone/issues/249",children:"#249"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["minio \u7684 mc \u652F\u6301 mirror - \u53CC\u5411 watch\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"mc mirror --watch --overwrite --remove"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"\u53EF\u4EE5\u7528 mount"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u4E0D\u652F\u6301 fs \u5C5E\u6027\u540C\u6B65 ",(0,l.jsx)(e.a,{href:"https://github.com/rclone/rclone/issues/1202",children:"#1202"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"ACL \u4FE1\u606F"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"getfacl -R / >permissions.facl;setfacl --restore=permissions.facl"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"--metadata"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"--metadata-mapper"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"--refresh-times"})}),"\n"]}),"\n"]}),"\n"]})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"flag"}),(0,l.jsx)(e.th,{children:"desc"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"-P,--progress"}),(0,l.jsx)(e.td,{children:"\u663E\u793A\u8FDB\u5EA6"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"--transfers <n:=4>"})}),(0,l.jsx)(e.td,{children:"\u5E76\u884C \u6570\u91CF"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"--create-empty-src-dirs"}),(0,l.jsx)(e.td,{children:"copy \u521B\u5EFA\u7A7A\u76EE\u5F55"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"-f,--filter <patterns>"})}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"--ignore-case"}),(0,l.jsx)(e.td,{children:"filter \u5927\u5C0F\u5199\u4E0D\u654F\u611F"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"--include <pattern>"})}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"--exclude <pattern>"})}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"--files-from <file>"})}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"--min-size <size>"})}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"--max-size <size>"})}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"--max-age <age>"})}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"--stats-one-line"}),(0,l.jsx)(e.td,{children:"\u53EA\u663E\u793A\u4E00\u884C\u72B6\u6001"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"--track-renames"}),(0,l.jsx)(e.td,{children:"\u8DDF\u8E2A rename"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"--track-renames-strategy <s:=hash>"})}),(0,l.jsx)(e.td,{children:"hash,modtime,leaf"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"--delete-after"}),(0,l.jsx)(e.td,{children:"\u9ED8\u8BA4"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"--delete-before"}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"--delete-during"}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"--delete-excluded"}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"-M, --metadata"}),(0,l.jsx)(e.td,{children:"copy \u4FDD\u7559\u5143\u6570\u636E"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"-u, --update"}),(0,l.jsx)(e.td,{children:"\u5982\u679C dst \u6587\u4EF6\u66F4\u65B0\u5219\u5FFD\u7565"})]})]})]}),"\n",(0,l.jsxs)(e.p,{children:["| command |\n| ------- | ---------------------------------- |\n| ls      | size,path - \u9ED8\u8BA4\u9012\u5F52 ",(0,l.jsx)(e.code,{children:"--max-depth"})," |\n| lsl     | mtime,size,path                    |\n| lsd     | \u76EE\u5F55                               |\n| lsf     | \u6587\u4EF6+\u76EE\u5F55 - \u4FBF\u4E8E\u5E94\u7528\u89E3\u6790\u7684\u683C\u5F0F     |\n| lsjson  |\n| copy    | \u590D\u5236\u76EE\u5F55                           |\n| copyto  | \u590D\u5236\u5355\u4E2A\u6587\u4EF6                       |\n| sync    | \u540C\u6B65 - \u4F1A\u5220\u9664\u989D\u5916\u7684\u6587\u4EF6            |\n| bisync  | \u53CC\u5411\u540C\u6B65 - \u4F1A\u5BF9\u6BD4 mtime            |"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"brew install rclone # macOS\n\n# Linux \u5B89\u88C5\ncurl -O https://downloads.rclone.org/rclone-current-linux-amd64.zip\nunzip rclone-current-linux-amd64.zip\ncd rclone-*-linux-amd64\ncp rclone /usr/local/bin/\n# cp rclone-*-linux-amd64/rclone ~/bin\n\n# Commands\n# ==========\nrclone copy src:/src dst:/dst # \u590D\u5236\u76EE\u5F55\nrclone copyto                 # \u590D\u5236\u5355\u4E2A\u6587\u4EF6\n\n# \u4E0D\u521B\u5EFA\u914D\u7F6E\u7684\u4F7F\u7528\u65B9\u5F0F\nrclone lsd --webdav-url http://192.168.1.1:8080 :webdav:\nrclone lsd --sftp-host example.com :sftp:\nrclone lsd --ftp-host 192.168.1.1 --ftp-port 21 --ftp-user anonymous --ftp-pass $(rclone obscure anonymous) :ftp:\n# \u76F4\u63A5\u8BBF\u95EE S3\nrclone lsd :s3:/ngi-igenomes/\n# \u9884\u8BBE\u53C2\u6570\u53EF\u4EE5\u907F\u514D warning\nrclone lsd --s3-provider=AWS --s3-region=eu-west-1 :s3:/ngi-igenomes/\n\nrclone about gd:     # \u4F7F\u7528\u60C5\u51B5\nrclone reconnect gd: # Token \u5931\u6548\u91CD\u8FDE\n\nrclone size --human-readable mys3:bucket/\n\nrclone sync -P --stats-one-line --transfers 10 -M A B\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["filter\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://rclone.org/filtering",children:"https://rclone.org/filtering"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"+ include-pattern"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"- exclude-pattern"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"!"})," - reset"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["track-rename - ",(0,l.jsx)(e.a,{href:"https://github.com/rclone/rclone/blob/7a24c173f6669172d845221c7e37e5824fa13fb7/fs/sync/sync.go#L752-L789",children:"fs/sync/sync.go#L752-L789"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5148\u57FA\u4E8E size \u627E\u5230\u53EF\u80FD \u76F8\u540C \u7684\u5BF9\u8C61"}),"\n",(0,l.jsx)(e.li,{children:"\u6839\u636E hash \u751F\u6210\u552F\u4E00 ID - \u57FA\u4E8E ID \u5224\u65AD\u662F\u5426 \u76F8\u540C \u5BF9\u8C61"}),"\n",(0,l.jsxs)(e.li,{children:["track-renames-strategy \u53EF\u6307\u5B9A\u591A\u6B21\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"leaf \u4F1A\u8981\u6C42\u53EA\u5728\u76F8\u540C\u76EE\u5F55\u4E0B rename - \u6DFB\u52A0 basedir \u5230 ID"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"config",children:"config"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4F18\u5148\u7EA7\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"remote,skip_links:"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"--skip-links"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"RCLONE_CONFIG_REMOTE_SKIP_LINKS"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"RCLONE_LOCAL_SKIP_LINKS"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"RCLONE_SKIP_LINKS"})}),"\n",(0,l.jsxs)(e.li,{children:["\u914D\u7F6E\u6587\u4EF6 ",(0,l.jsx)(e.code,{children:"skip_links=true"})]}),"\n",(0,l.jsx)(e.li,{children:"\u9ED8\u8BA4\u503C - \u4E0D\u53EF\u4EE5\u4FEE\u6539"}),"\n"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"env"}),(0,l.jsx)(e.th,{children:"for"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"RCLONE_CONFIG_PASS"}),(0,l.jsx)(e.td,{children:"\u914D\u7F6E\u6587\u4EF6\u52A0\u5BC6"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"RCLONE_CONFIG_DIR"}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"USER"}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"LOGNAME"}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"HTTP_PROXY"}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"HTTPS_PROXY"}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"NO_PROXY"}),(0,l.jsx)(e.td,{})]})]})]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"rclone version -vv\n\nrclone config create svr s3 env_auth=true\n\nrclone config create svr s3 provider=Minio endpoint=https://s3.example.com access_key_id=$USERNAME secret_access_key=$PASSWORD\ncat ~/.config/rclone/rclone.conf\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["remote \u540D\u5B57\u5EFA\u8BAE ",(0,l.jsx)(e.code,{children:"[a-z0-9][-a-z0-9_.]*"})]}),"\n",(0,l.jsxs)(e.li,{children:["gcs\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"client_id"}),"\n",(0,l.jsx)(e.li,{children:"client_secret"}),"\n",(0,l.jsx)(e.li,{children:"project_number"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["s3\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"access_key_id"}),"\n",(0,l.jsx)(e.li,{children:"secret_access_key"}),"\n",(0,l.jsx)(e.li,{children:"endpoint"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u73AF\u5883\u53D8\u91CF"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u914D\u7F6E\u4E86\u73AF\u5883\u53D8\u91CF\u53EF\u76F4\u63A5\u4F7F\u7528"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"RCLONE_CONFIG_<NAME>_TYPE=s3"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"RCLONE_CONFIG_<NAME>_ACCESS_KEY_ID"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"RCLONE_CONFIG_<NAME>_SECRET_ACCESS_KEY"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"RCLONE_CONFIG_<NAME>_ENDPOINT"})}),"\n",(0,l.jsxs)(e.li,{children:["env_auth\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["s3\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"AWS_ACCESS_KEY_ID, AWS_ACCESS_KEY"}),"\n",(0,l.jsx)(e.li,{children:"AWS_SECRET_ACCESS_KEY, AWS_SECRET_KEY"}),"\n",(0,l.jsx)(e.li,{children:"AWS_SESSION_TOKEN"}),"\n",(0,l.jsx)(e.li,{children:"AWS_PROFILE - ~/.aws/credentials"}),"\n",(0,l.jsx)(e.li,{children:"AWS_SHARED_CREDENTIALS_FILE"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8DEF\u5F84"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u672C\u5730\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"/path/to/dir"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u9884\u5B9A\u4E49\u540E\u7AEF\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["remote:path/to/dir\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u57FA\u4E8E\u914D\u7F6E\u7684\u9ED8\u8BA4\u8DEF\u5F84"}),"\n",(0,l.jsx)(e.li,{children:"ftp,sftp,dropbox \u57FA\u4E8E HOME \u76F8\u5BF9\u8DEF\u5F84"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"remote:/path/to/dir"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u52A8\u6001\u540E\u7AEF\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:":backend:path/to/dir"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"rclone lsd --http-url https://pub.rclone.org :http:"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u94FE\u63A5\u5B57\u7B26\u4E32\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:":backend:path/to/dir"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:":backend,parameter=value,parameter2=value2:path/to/dir"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:":sftp,host=example.com:path/to/dir"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"rclone lsd \":http,url='https://pub.rclone.org':\""})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"remote,parameter=value,parameter2=value2:path/to/dir"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4FEE\u6539\u90E8\u5206\u53C2\u6570"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'# \u8986\u76D6\u914D\u7F6E\nrclone copy "gdrive,shared_with_me:shared-file.txt" gdrive:\n\n# flag \u9ED8\u8BA4 true\nrclone lsd :s3,env_auth:\n'})}),"\n",(0,l.jsx)(e.h2,{id:"sftp",children:"sftp"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["sudo\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/rclone/rclone/pull/4502",children:"https://github.com/rclone/rclone/pull/4502"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"server_command=sudo /usr/lib/openssh/sftp-server"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'rclone config\n\n# for agent-forward enter root\nsudo -E -s\n# --sftp-host\n# /usr/lib/openssh/sftp-server\nRCLONE_SFTP_USER=admin \\\n  RCLONE_SFTP_HOST="192.168.1.1" \\\n  RCLONE_SFTP_SERVER_COMMAND="sudo /usr/lib/ssh/sftp-server" \\\n  RCLONE_SFTP_MD5SUM_COMMAND="sudo md5sum" \\\n  RCLONE_SFTP_SH1SUM_COMMAND="sudo sh1sum"\nrclone lsd :sftp:\n\n# agent-forward \u8FDB\u5165 root \u4FDD\u7559 env\nsudo -E -s\n# \u6216\u8005\u53EA\u4FDD\u7559 SSH_AUTH_SOCK\nsudo --preserve-env=SSH_AUTH_SOCK -s\n# or /etc/sudos Defaults    env_keep+=SSH_AUTH_SOCK\n'})}),"\n",(0,l.jsx)(e.h2,{id:"web-ui",children:"Web UI"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# \u4F1A\u4E0B\u8F7D https://github.com/rclone/rclone-webui-react/releases/download/v2.0.5/currentbuild.zip\n# \u5230 ~/.cache/rclone/webgui/v2.0.5.zip\nrclone rcd --rc-web-gui --rc-no-auth --rc-addr :5572\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"--rc-user"}),"\n",(0,l.jsx)(e.li,{children:"--rc-pass"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"google-drive",children:"google drive"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"rclone mount gd: /tmp/gd \\\n  -vv --stats 30s --read-only --allow-other --rc --umask 0222 --attr-timeout 1s \\\n  --dir-cache-time 672h --vfs-cache-max-age 675h \\\n  --vfs-read-chunk-size 8M \\\n  --buffer-size 0 \\\n  --poll-interval 1m0s \\\n  --drive-v2-download-min-size 0\n"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://rclone.org/drive/#making-your-own-client-id",children:"https://rclone.org/drive/#making-your-own-client-id"})}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/rclone/rclone/issues/3625",children:"#3625"})," - Add gdrive file id support"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/donwa/gclone",children:"donwa/gclone"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u57FA\u4E8E rclone\uFF0C\u652F\u6301\u66FF\u6362 sa"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/xyou365/AutoRclone",children:"xyou365/AutoRclone"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5207\u6362 sa \u4E0A\u4F20"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"one-drive",children:"one drive"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/rclone/rclone/issues/4062",children:"#4062"})," Implement OneDrive shared with me"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://rclone.org/webdav/#sharepoint-online",children:"https://rclone.org/webdav/#sharepoint-online"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"mount",children:"mount"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"rclone mount s3:bucket /mnt/path --use-server-modtime\n"})}),"\n",(0,l.jsx)(e.h2,{id:"serve",children:"serve"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"dlna"}),"\n",(0,l.jsx)(e.li,{children:"docker"}),"\n",(0,l.jsx)(e.li,{children:"ftp"}),"\n",(0,l.jsx)(e.li,{children:"http"}),"\n",(0,l.jsx)(e.li,{children:"nfs"}),"\n",(0,l.jsx)(e.li,{children:"restic"}),"\n",(0,l.jsx)(e.li,{children:"s3"}),"\n",(0,l.jsx)(e.li,{children:"sftp"}),"\n",(0,l.jsx)(e.li,{children:"webdav"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"flag"}),(0,l.jsx)(e.th,{children:"for"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"S3"})}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"--auth-key ACCESS_KEY_ID,SECRET_ACCESS_KEY"}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"--no-cleanup"}),(0,l.jsx)(e.td,{})]})]})]})]})}function x(n={}){let{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}},17776:function(n,e,s){s.d(e,{R:()=>c,x:()=>d});var r=s(7378);let l={},i=r.createContext(l);function c(n){let e=r.useContext(i);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:c(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);