"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["5766"],{31018:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>r,toc:()=>d,default:()=>a,metadata:()=>t,assets:()=>o,contentTitle:()=>c});var t=JSON.parse('{"id":"web/script/typescript/typescript-tsconfig","title":"tsconfig.json","description":"typescript \u914D\u7F6E\u6587\u4EF6\u3002","source":"@site/../notes/web/script/typescript/typescript-tsconfig.md","sourceDirName":"web/script/typescript","slug":"/web/script/typescript/tsconfig","permalink":"/notes/web/script/typescript/tsconfig","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/script/typescript/typescript-tsconfig.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1759022422000,"frontMatter":{"title":"tsconfig.json"},"sidebar":"docs","previous":{"title":"TypeScript Namespace","permalink":"/notes/web/script/typescript/namespace"},"next":{"title":"TypeScript \u7C7B\u578B\u5B9A\u4E49","permalink":"/notes/web/script/typescript/typing"}}'),i=s(86106),l=s(17776);let r={title:"tsconfig.json"},c="tsconfig.json",o={},d=[{value:"lib",id:"lib",level:2},{value:"\u5E38\u7528\u5C5E\u6027",id:"\u5E38\u7528\u5C5E\u6027",level:2},{value:"moduleResolution",id:"moduleresolution",level:2},{value:"bundle",id:"bundle",level:2},{value:"\u53C2\u8003\u914D\u7F6E",id:"\u53C2\u8003\u914D\u7F6E",level:2},{value:"google typescript style",id:"google-typescript-style",level:3}];function h(e){let n={a:"a",code:"code",del:"del",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"tsconfigjson",children:"tsconfig.json"})}),"\n",(0,i.jsx)(n.p,{children:"typescript \u914D\u7F6E\u6587\u4EF6\u3002"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"tslib \u4F1A\u7528\u4E8E polyfill \u7279\u6027"}),"\n",(0,i.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.typescriptlang.org/tsconfig",children:"https://www.typescriptlang.org/tsconfig"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html",children:"tsconfig.json"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://zhongsp.gitbooks.io/typescript-handbook/content/doc/handbook/tsconfig.json.html",children:"\u4E2D\u6587"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"http://json.schemastore.org/tsconfig",children:"tsconfig.json.schema"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.typescriptlang.org/tsconfig",children:"reference"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/tsconfig/bases",children:"tsconfig/bases"})," \u914D\u7F6E\u63A8\u8350"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://esbuild.github.io/content-types/#tsconfig-json",children:"https://esbuild.github.io/content-types/#tsconfig-json"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"tsc --showConfig\n\n# \u4F7F\u7528\u81EA\u5B9A\u4E49\u7684\u914D\u7F6E\u6587\u4EF6\ntsc --p tsconfig.page.json\n"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"for"}),(0,i.jsx)(n.th,{children:"compilerOptions"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"node16"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'{"lib": ["es2021"],"module": "Node16","target": "es2021",}'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"node18"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'{"lib": ["es2023"],"module": "Node16","target": "es2022",}'})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"node20"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:'{"lib": ["es2023"],"module": "Node16","target": "es2022",}'})})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"lib",children:"lib"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/saschanaz/TypeScript/blob/main/src/lib/esnext.full.d.ts",children:"src/lib/esnext.full.d.ts"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/saschanaz/TypeScript/blob/main/src/lib/libs.json",children:"https://github.com/saschanaz/TypeScript/blob/main/src/lib/libs.json"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/saschanaz/TypeScript/blob/14da4889691e310d479327072b05544f3c1ec555/src/compiler/commandLineParser.ts#L147-L231",children:"https://github.com/saschanaz/TypeScript/blob/14da4889691e310d479327072b05544f3c1ec555/src/compiler/commandLineParser.ts#L147-L231"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u5E38\u7528\u5C5E\u6027",children:"\u5E38\u7528\u5C5E\u6027"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.em,{children:"target"})," - \u9ED8\u8BA4 es3, \u63A8\u8350\u81F3\u5C11 es6\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"es3, es5, es6/es2015, es2016, es2017, es2018, es2019, es2020, es2021, es2022, esnext"}),"\n",(0,i.jsx)(n.li,{children:"es6 \u5F00\u59CB\u652F\u6301 \u6A21\u5757"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.em,{children:"module"})," - es3,es5 -> commonjs, es6 - \u5F71\u54CD\u751F\u6210\u7684 \u6A21\u5757 \u683C\u5F0F\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"none, commonjs, amd, umd, system, es6/es2015, es2020, es2022, esnext, node12, nodenext"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.em,{children:"moduleResolution"})," - \u5F71\u54CD\u4F7F\u7528\u7684\u6A21\u5757\u89E3\u6790\u65B9\u5F0F\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"classic, node, node12, nodenext"}),"\n",(0,i.jsx)(n.li,{children:"classic - amd, umd, system, es6/es2015"}),"\n",(0,i.jsx)(n.li,{children:"node - CommonJS"}),"\n",(0,i.jsx)(n.li,{children:"node12 - ESM"}),"\n",(0,i.jsx)(n.li,{children:"node16 - exports"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.em,{children:"lib"})," - \u63A7\u5236\u4F7F\u7528\u7684\u7279\u6027 - ",(0,i.jsx)(n.a,{href:"https://www.typescriptlang.org/tsconfig#lib",children:"https://www.typescriptlang.org/tsconfig#lib"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.em,{children:"strict"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u542F\u7528\u5927\u591A\u6570\u7C7B\u578B\u68C0\u67E5 - ",(0,i.jsx)(n.code,{children:"strict*"})," \u76F8\u5173\u68C0\u67E5"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.em,{children:"outFile"})," - \u53EF\u4EE5\u7528\u6765\u5C06\u591A\u4E2A ts \u8F93\u51FA\u4E3A\u4E00\u4E2A js\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5982\u679C\u4F7F\u7528\u4E86\u6A21\u5757, \u5219\u53EA\u80FD\u4F7F\u7528 amd \u6216 system"}),"\n",(0,i.jsx)(n.li,{children:"\u5982\u679C\u6CA1\u6709\u4F7F\u7528\u5230\u6A21\u5757\u662F\u53EF\u4EE5\u7F16\u8BD1\u6210\u5355\u4E2A js \u76F4\u63A5\u8FD0\u884C\u7684"}),"\n",(0,i.jsxs)(n.li,{children:["\u53EF\u4EE5\u4F7F\u7528 ",(0,i.jsx)(n.a,{href:"https://github.com/gfranko/amdclean",children:"amdclean"})," \u5C06\u4F7F\u7528 amd \u7684 js \u8F6C\u6362\u4E3A\u65E0 amd \u7684\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4E0D\u652F\u6301 es6 \u7684\u4E00\u4E9B\u8BED\u6CD5"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"\u53EF\u4EE5\u8003\u8651\u5C06 ts \u8F93\u51FA\u4E3A es5, \u5982\u679C\u4F7F\u7528\u4E86 es6 \u7684\u5E93, \u5219\u76F4\u63A5\u6307\u5B9A lib \u5373\u53EF"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    // \u5BFC\u5165 tslib \u4F5C\u4E3A\u5DE5\u5177\u7C7B\n    // yarn add tslib\n    "importHelpers": true,\n\n    // \u5355\u6587\u4EF6\u6A21\u5757 - \u786E\u4FDD\u80FD\u591F\u652F\u6301 transpileModule\n    "isolatedModules": true,\n\n    // \u6DFB\u52A0\u66F4\u591A\u68C0\u6D4B\n    "strict": true,\n\n    // \u975E\u7EDD\u5BF9\u5BFC\u5165\u6A21\u5757\u7684\u57FA\u7840\u8DEF\u5F84\n    "baseUrl": ".",\n    // \u4ECE\u65B0\u6620\u5C04\u6A21\u5757\u8DEF\u5F84\n    "paths": {\n      // \u4EE3\u7801\n      "src/*": ["src/*"],\n      // \u6A21\u5757\n      "jquery": ["node_modules/jquery/dist/jquery"]\n    },\n\n    // \u591A\u4E2A\u865A\u62DF\u4EE3\u7801\u76EE\u5F55 - \u9488\u5BF9\u5BFC\u5165\u505A\u5408\u5E76\u5904\u7406\n    "rootDirs": ["src/views", "generated/templates/views"],\n\n    // \u751F\u6210\u517C\u5BB9 es \u6A21\u5757\n    // \u4F1A\u542F\u7528 allowSyntheticDefaultImports\n    "esModuleInterop": true,\n\n    // \u751F\u6210 .map\n    "sourceMap": true,\n    // \u7EBF\u4E0A\u8C03\u8BD5\u65F6 \u6E90\u7801 \u8DEF\u5F84\n    "sourceRoot": "https://apis.wener.me/debug/sources/",\n    // .map \u6587\u4EF6\u8DEF\u5F84\n    "mapRoot": "https://apis.wener.me/debug/maps/",\n\n    // \u6E90\u7801\u548C map \u5728 js \u4E2D - \u6CE8\u91CA\u5F62\u5F0F\n    "inlineSourceMap": false,\n    "inlineSources": false,\n\n    // switch \u4E0D\u5141\u8BB8\u8FDE\u7EED - \u9664\u975E // falls through\n    "noFallthroughCasesInSwitch": true,\n\n    // \u751F\u6210\u4FEE\u9970\u5668\u5143\u6570\u636E\n    "emitDecoratorMetadata": true,\n    // \u542F\u7528\u4FEE\u9970\u5668\n    "experimentalDecorators": true,\n\n    // \u5047\u8BBE\u53D8\u66F4\u53EA\u5F71\u54CD\u76F4\u63A5\u4F9D\u8D56 - \u5927\u578B\u9879\u76EE\u589E\u91CF\u6784\u5EFA\u6709\u7528\n    "assumeChangesOnlyAffectDirectDependencies": true,\n\n    // 3.8 - \u5BFC\u5165\u53EA\u7528\u4E8E\u7C7B\u578B\u7684\u65F6\u5019\u79FB\u9664 import\n    // \u907F\u514D\u526F\u4F5C\u7528\n    "importsNotUsedAsValues": "remove",\n\n    // jsx \u751F\u6210\u4EE3\u7801\u7684\u5DE5\u5382 - \u4F8B\u5982 preact \u7528 preact.h\n    "jsxFactory": "React.createElement",\n    // XXX.createElement\n    "reactNamespace": "React",\n\n    // \u5141\u8BB8\u5BFC\u5165 JSON\n    "resolveJsonModule": true,\n    // \u9519\u8BEF\u65F6\u4E0D\u751F\u6210\u6587\u4EF6\n    "noEmitOnError": true,\n\n    // \u5BFC\u5165\u6587\u4EF6\u6587\u4EF6\u540D\u5927\u5C0F\u5199\u4E00\u81F4\n    "forceConsistentCasingInFileNames": true,\n\n    // \u4F7F\u7528 TC39 \u5B9A\u4E49\u7C7B\u5B57\u6BB5\u7684\u65B9\u5F0F\n    "useDefineForClassFields": true\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"moduleresolution",children:"moduleResolution"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.del,{children:"classic"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.del,{children:"node10"}),", ",(0,i.jsx)(n.del,{children:"node"})]}),"\n",(0,i.jsxs)(n.li,{children:["node16, nodenext - Typescript 4.7+\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u8981\u6C42 import \u5305\u542B\u540E\u7F00"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["bundler\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4E0D\u9700\u8981\u540E\u7F00"}),"\n",(0,i.jsx)(n.li,{children:"\u652F\u6301 package.json#typesVersions"}),"\n",(0,i.jsx)(n.li,{children:"\u66F4\u597D\u914D\u5408\u73B0\u6709 bundle \u6D41\u7A0B\uFF0C\u53EF\u4EE5\u65E0\u540E\u7F00"}),"\n",(0,i.jsxs)(n.li,{children:["\u652F\u6301 package.json \u7684 imports, exports\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"imports \u53EF\u4EE5\u505A\u5230\u7C7B\u4F3C paths \u7684\u6548\u679C"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"bundle",children:"bundle"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"experimentalDecorators"}),"\n",(0,i.jsxs)(n.li,{children:["emitDecoratorMetadata\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5927\u591A\u60C5\u51B5\u4E0D\u652F\u6301"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"target, useDefineForClassFields"}),"\n",(0,i.jsx)(n.li,{children:"baseUrl, paths"}),"\n",(0,i.jsx)(n.li,{children:"jsx, jsxFactory, jsxFragmentFactory, jsxImportSource"}),"\n",(0,i.jsx)(n.li,{children:"alwaysStrict, strict"}),"\n",(0,i.jsxs)(n.li,{children:["verbatimModuleSyntax, ",(0,i.jsx)(n.del,{children:"importsNotUsedAsValues"}),", ",(0,i.jsx)(n.del,{children:"preserveValueImports"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u53C2\u8003\u914D\u7F6E",children:"\u53C2\u8003\u914D\u7F6E"}),"\n",(0,i.jsx)(n.h3,{id:"google-typescript-style",children:"google typescript style"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/google/gts/blob/master/tsconfig-google.json",children:"tsconfig-google.json"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    // \u4E0D\u5141\u8BB8\u4E0D\u53EF\u8FBE\u7684\u4EE3\u7801\n    "allowUnreachableCode": false,\n    // \u4E0D\u5141\u8BB8\u672A\u4F7F\u7528\u7684\u6807\u7B7E\n    "allowUnusedLabels": false,\n    // \u751F\u6210 .d.ts\n    "declaration": true,\n\n    "forceConsistentCasingInFileNames": true,\n    // \u540C target\n    "lib": ["es2018"],\n    "module": "commonjs",\n    "noEmitOnError": true,\n    "noFallthroughCasesInSwitch": true,\n    // \u4E0D\u5141\u8BB8\u9690\u6027\u8FD4\u56DE\n    "noImplicitReturns": true,\n    // \u5F02\u5E38\u4FE1\u606F\u7B49\u4F7F\u7528\u989C\u8272\u6837\u5F0F\n    "pretty": true,\n    // \u751F\u6210 .map.js\n    "sourceMap": true,\n    "strict": true,\n    "target": "es2018"\n  },\n  "exclude": ["node_modules"]\n}\n'})})]})}function a(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},17776:function(e,n,s){s.d(n,{R:()=>r,x:()=>c});var t=s(7378);let i={},l=t.createContext(i);function r(e){let n=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);