"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["253154"],{590005:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>l,toc:()=>a,default:()=>h,metadata:()=>s,assets:()=>c,contentTitle:()=>d});var s=JSON.parse('{"id":"dev/design/erp/erp-audit","title":"\u5BA1\u8BA1","description":"\u76EE\u7684","source":"@site/../notes/dev/design/erp/erp-audit.md","sourceDirName":"dev/design/erp","slug":"/dev/design/erp/audit","permalink":"/notes/dev/design/erp/audit","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/dev/design/erp/erp-audit.md","tags":[{"inline":true,"label":"Logging","permalink":"/notes/tags/logging"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"tags":["Logging"]},"sidebar":"docs","previous":{"title":"Design ERP","permalink":"/notes/dev/design/erp/"},"next":{"title":"Status","permalink":"/notes/dev/design/erp/status"}}'),r=i(486106),t=i(917776);let l={tags:["Logging"]},d="\u5BA1\u8BA1",c={},a=[{value:"\u653F\u7B56\u6CD5\u89C4",id:"\u653F\u7B56\u6CD5\u89C4",level:2},{value:"\u53C2\u8003",id:"\u53C2\u8003",level:2}];function o(n){let e={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"\u5BA1\u8BA1",children:"\u5BA1\u8BA1"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u76EE\u7684"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6570\u636E\u6EAF\u6E90\uFF08Data Provenance\uFF09"}),"\n",(0,r.jsx)(e.li,{children:"\u6570\u636E\u8840\u7F18\uFF08Data Lineage\uFF09"}),"\n",(0,r.jsx)(e.li,{children:"\u4E0D\u53EF\u5426\u8BA4\u6027\uFF08Non-Repudiation\uFF09"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u573A\u666F"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["request_log\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u8BF7\u6C42\u65E5\u5FD7"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["entity_log\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5B9E\u4F53\u65E5\u5FD7"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["task_case_log\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4EFB\u52A1\u6D41\u7A0B\u65E5\u5FD7"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["audit_log\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5E94\u7528\u5BA1\u8BA1\u65E5\u5FD7"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["CDC - Change Data Capture\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u53D8\u66F4\u6570\u636E\u6355\u83B7"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["Event Source\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4E8B\u4EF6\u6E90"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.p,{children:"\u65E5\u5FD7\u5185\u5BB9"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4E0A\u4E0B\u6587"}),"\n",(0,r.jsx)(e.li,{children:"\u73AF\u5883"}),"\n",(0,r.jsx)(e.li,{children:"\u7528\u6237"}),"\n",(0,r.jsx)(e.li,{children:"\u64CD\u4F5C"}),"\n",(0,r.jsx)(e.li,{children:"\u7ED3\u679C"}),"\n",(0,r.jsx)(e.li,{children:"\u65F6\u95F4"}),"\n",(0,r.jsx)(e.li,{children:"\u5907\u6CE8"}),"\n",(0,r.jsx)(e.li,{children:"\u5176\u4ED6"}),"\n",(0,r.jsx)(e.li,{children:"\u5143\u6570\u636E"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"\u8C01\uFF08Who\uFF09\u3001\u5728\u4F55\u65F6\uFF08When\uFF09\u3001\u4F55\u5730\uFF08Where\uFF09\u3001\u505A\u4E86\u4EC0\u4E48\uFF08What\uFF09\n\nActor\nAction\nTimestamp\nContext\nTarget\nMetadata\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"type Audit = {\n  actor?: {\n    id?: string;\n    type?: string;\n    displayName?: string;\n    fullName?: string;\n\n    userAgent?: string;\n    ipAddress?: string;\n\n    [key: string]: any;\n  };\n  action?: {\n    type?: string; // \u5206\u7C7B\n    name?: string;\n    description?: string;\n    level?: string;\n\n    [key: string]: any;\n  };\n  target?: {\n    id?: string;\n    type?: string;\n    displayName?: string;\n    fullName?: string;\n    before?: any;\n    diff?: any;\n    after?: any;\n    [key: string]: any;\n  };\n  timestamp?: string | number | Date;\n  context?: {\n    serviceName?: string;\n    serviceVersion?: string;\n    hostname?: string;\n    requestId?: string;\n    sessionId?: string;\n    clientId?: string;\n    instanceId?: string;\n    traceId?: string;\n    spanId?: string;\n\n    [key: string]: any;\n  };\n\n  message?: string;\n  code?: string | number;\n  reason?: string;\n  error?: boolean;\n  result?: any;\n\n  metadata?: Record<string, any>;\n};\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u201C\u6210\u672C\u4E2D\u5FC3\u201D -> \u201C\u4EF7\u503C\u4E2D\u5FC3\u201D"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u653F\u7B56\u6CD5\u89C4",children:"\u653F\u7B56\u6CD5\u89C4"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"GDPR"}),"\n",(0,r.jsx)(e.li,{children:"SOX"}),"\n",(0,r.jsx)(e.li,{children:"HIPAA"}),"\n",(0,r.jsx)(e.li,{children:"PCI DSS"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u53C2\u8003",children:"\u53C2\u8003"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Salesforce\uFF1A\u5B57\u6BB5\u5BA1\u8BA1\u8FFD\u8E2A\uFF08Field Audit Trail\uFF09"}),"\n",(0,r.jsx)(e.li,{children:"SAP S/4HANA\uFF1A\u7EDF\u4E00\u5BA1\u8BA1\u65E5\u5FD7\uFF08UAL\uFF09"}),"\n",(0,r.jsx)(e.li,{children:"Oracle Fusion Cloud ERP\uFF1A\u5BA1\u8BA1\u8FFD\u8E2A"}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(o,{...n})}):o(n)}},917776:function(n,e,i){i.d(e,{R:()=>l,x:()=>d});var s=i(7378);let r={},t=s.createContext(r);function l(n){let e=s.useContext(t);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);