"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["29032"],{85518:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>o,toc:()=>d,default:()=>m,metadata:()=>i,assets:()=>l,contentTitle:()=>a});var i=JSON.parse('{"id":"web/editor/editorjs","title":"editor.js","description":"- codex-team/editor.js","source":"@site/../notes/web/editor/editorjs.md","sourceDirName":"web/editor","slug":"/web/editor/editorjs","permalink":"/notes/web/editor/editorjs","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/editor/editorjs.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1718394381000,"frontMatter":{"title":"editor.js"},"sidebar":"docs","previous":{"title":"Editor FAQ","permalink":"/notes/web/editor/faq"},"next":{"title":"formily","permalink":"/notes/web/editor/formily"}}'),r=t(86106),s=t(17776);let o={title:"editor.js"},a="editor.js",l={},d=[{value:"Notes",id:"notes",level:2},{value:"Plugins",id:"plugins",level:2}];function c(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"editorjs",children:"editor.js"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/codex-team/editor.js",children:"codex-team/editor.js"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Apache-2.0, TS"}),"\n",(0,r.jsx)(n.li,{children:"Block \u7F16\u8F91\u5668"}),"\n",(0,r.jsx)(n.li,{children:"\u63D2\u4EF6\u975E\u5E38\u591A\uFF0C\u751F\u6001\u6BD4\u8F83\u597D"}),"\n",(0,r.jsxs)(n.li,{children:["\u26A0\uFE0F \u57FA\u7840\u529F\u80FD\u8584\u5F31\uFF0C\u57FA\u672C\u7684\u529F\u80FD\u4E5F\u5F97\u4F7F\u7528\u63D2\u4EF6\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"editorjs-undo, editorjs-drag-drop"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/codex-team/editor.js/blob/next/types/configs/editor-config.d.ts",children:"editor-config.d.ts"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/editor-js/awesome-editorjs",children:"editor-js/awesome-editorjs"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/codex-team/codex.docs",children:"codex-team/codex.docs"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/moveyourdigital/editorjs-blocks-react-renderer",children:"https://github.com/moveyourdigital/editorjs-blocks-react-renderer"})}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5F00\u53D1\u4E0D\u6D3B\u8DC3\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/factly/dega/issues/454#issue-997246320",children:"factly/dega#454"})}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u4E0D\u652F\u6301\u62D6\u62FD"}),"\n",(0,r.jsx)(n.li,{children:"\u4E0D\u652F\u6301\u5E03\u5C40\u5143\u7D20"}),"\n",(0,r.jsx)(n.li,{children:"undo\u3001redo \u6709\u95EE\u9898"}),"\n",(0,r.jsx)(n.li,{children:"\u4E0D\u652F\u6301 markdown"}),"\n",(0,r.jsx)(n.li,{children:"\u4E0D\u652F\u6301\u5D4C\u5957 block"}),"\n",(0,r.jsx)(n.li,{children:"\u76EE\u524D\u6CA1\u6709 mention \u7EC4\u4EF6"}),"\n",(0,r.jsx)(n.li,{children:"\u4E0D\u652F\u6301\u5FEB\u6377\u952E\uFF0C\u4E0D\u652F\u6301 slash \u547D\u4EE4"}),"\n"]})}),"\n",(0,r.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u533A\u5206 InlineBlock \u548C Block"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:'title="\u6570\u636E\u6A21\u578B"',children:'{\n  "time": 1550476186479,\n  "version": "2.8.1",\n  "blocks": [\n    {\n      "type": "header",\n      "data": {\n        "text": "With the header of course",\n        "level": 2\n      }\n    },\n    {\n      "type": "paragraph",\n      "data": {\n        "text": "So what do we have?"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="BlockPlugin.ts"',children:"export class MyBlock {\n  get shortcut() {\n    return 'CMD+M';\n  }\n  // \u9ED8\u8BA4 Block\n  static get isInline() {\n    return false;\n  }\n  static get toolbox() {\n    return {\n      title: 'Image',\n      icon: '<svg width=\"17\" height=\"15\" viewBox=\"0 0 336 276\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M291 150V79c0-19-15-34-34-34H79c-19 0-34 15-34 34v42l67-44 81 72 56-29 42 30zm0 52l-43-30-56 30-81-67-66 39v23c0 19 15 34 34 34h178c17 0 31-13 34-29zM79 0h178c44 0 79 35 79 79v118c0 44-35 79-79 79H79c-44 0-79-35-79-79V79C0 35 35 0 79 0z\"/></svg>',\n    };\n  }\n  static get pasteConfig() {\n    return {\n      tags: ['IMG'],\n      files: {\n        mimeTypes: ['image/*'],\n        extensions: ['gif', 'jpg', 'png'],\n      },\n      patterns: {\n        image: /https?:\\/\\/\\S+\\.(gif|jpe?g|tiff|png)$/i,\n      },\n    };\n  }\n  static get sanitize() {\n    return {\n      url: false, // disallow HTML\n      caption: {}, // only tags from Inline Toolbar\n      mark: {\n        class: 'cdx-marker',\n      },\n    };\n  }\n  constructor({ block, data, api, config }) {\n    this.block = block;\n    this.data = data;\n    this.api = api;\n    this.config = config;\n  }\n  render() {\n    return document.createElement('input');\n  }\n  renderSettings() {\n    return document.createElement('div');\n  }\n  save(blockContent) {\n    return {\n      url: blockContent.value,\n    };\n  }\n  // \u6821\u9A8C\u4FDD\u5B58\u7684\u6570\u636E\n  validate(savedData) {\n    if (!savedData.url.trim()) {\n      return false;\n    }\n\n    return true;\n  }\n  onPaste(event) {\n    switch (event.type) {\n      case 'tag':\n        const imgTag = event.detail.data;\n        this._createImage(imgTag.src);\n        break;\n      case 'file':\n        const file = event.detail.file;\n        const reader = new FileReader();\n\n        reader.onload = (loadEvent) => {\n          this._createImage(loadEvent.target.result);\n        };\n\n        reader.readAsDataURL(file);\n        break;\n      case 'pattern':\n        const src = event.detail.data;\n\n        this._createImage(src);\n        break;\n    }\n  }\n\n  // inline\n\n  surround(range) {}\n\n  checkState(selection) {}\n  renderActions() {}\n\n  //\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"plugins",children:"Plugins"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["@editorjs/image\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4E0D\u652F\u6301 align - \u53EF\u53C2\u8003 ",(0,r.jsx)(n.a,{href:"https://www.npmjs.com/package/@ikbenbas/editorjs-image",children:"https://www.npmjs.com/package/@ikbenbas/editorjs-image"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pnpm add @editorjs/{image,simple-image,link}\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"import Embed from '@editorjs/embed';\nimport Table from '@editorjs/table';\nimport Paragraph from '@editorjs/paragraph';\nimport List from '@editorjs/list';\nimport Warning from '@editorjs/warning';\nimport Code from '@editorjs/code';\nimport LinkTool from '@editorjs/link';\nimport Image from '@editorjs/image';\nimport Raw from '@editorjs/raw';\nimport Header from '@editorjs/header';\nimport Quote from '@editorjs/quote';\nimport Marker from '@editorjs/marker';\nimport CheckList from '@editorjs/checklist';\nimport Delimiter from '@editorjs/delimiter';\nimport InlineCode from '@editorjs/inline-code';\nimport SimpleImage from '@editorjs/simple-image';\n\nexport const EDITOR_JS_TOOLS = {\n  // Paragraph \u9ED8\u8BA4\u5C31\u6709\uFF0C\u9664\u975E\u9700\u8981\u66FF\u6362\n  // paragraph: Paragraph,\n  embed: Embed,\n  table: Table,\n  list: List,\n  warning: Warning,\n  code: Code,\n  linkTool: LinkTool,\n  image: Image,\n  raw: Raw,\n  header: Header,\n  quote: Quote,\n  marker: Marker,\n  checklist: CheckList,\n  delimiter: Delimiter,\n  inlineCode: InlineCode,\n  simpleImage: SimpleImage,\n};\n"})})]})}function m(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},17776:function(e,n,t){t.d(n,{R:()=>o,x:()=>a});var i=t(7378);let r={},s=i.createContext(r);function o(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);