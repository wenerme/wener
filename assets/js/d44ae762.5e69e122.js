"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["2603"],{50830:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>l,toc:()=>h,default:()=>a,metadata:()=>r,assets:()=>d,contentTitle:()=>c});var r=JSON.parse('{"id":"network/tool/README","title":"\u7F51\u7EDC\u76F8\u5173\u5DE5\u5177\u96C6","description":"iproute2","source":"@site/../notes/network/tool/README.md","sourceDirName":"network/tool","slug":"/network/tool/","permalink":"/notes/network/tool/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/network/tool/README.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1703483037000,"frontMatter":{"title":"\u7F51\u7EDC\u76F8\u5173\u5DE5\u5177\u96C6"},"sidebar":"docs","previous":{"title":"Network Services","permalink":"/notes/network/service"},"next":{"title":"ethtool","permalink":"/notes/network/tool/ethtool"}}'),s=t(486106),i=t(917776);let l={title:"\u7F51\u7EDC\u76F8\u5173\u5DE5\u5177\u96C6"},c="Tools",d={},h=[{value:"iproute2",id:"iproute2",level:2},{value:"net-tools",id:"net-tools",level:2},{value:"aria2c",id:"aria2c",level:2},{value:"OpenSSL Tunnel",id:"openssl-tunnel",level:3},{value:"curl",id:"curl",level:2},{value:"wget",id:"wget",level:2},{value:"httpie",id:"httpie",level:2},{value:"kcptun",id:"kcptun",level:2}];function o(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"tools",children:"Tools"})}),"\n",(0,s.jsx)(n.h2,{id:"iproute2",children:"iproute2"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Contents ",(0,s.jsx)(n.a,{href:"https://pkgs.alpinelinux.org/contents?branch=v3.6&name=iproute2&arch=x86_64&repo=main",children:"iproute2"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://www.cyberciti.biz/tips/linux-investigate-sockets-network-connections.html",children:"ss cheatsheet"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Display Linux TCP / UDP Network and Socket Information"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"net-tools",children:"net-tools"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://sourceforge.net/projects/net-tools/",children:"https://sourceforge.net/projects/net-tools/"})}),"\n",(0,s.jsx)(n.li,{children:"\u5DF2\u7ECF\u6BD4\u8F83\u8001\u4E86, \u4E0D\u63A8\u8350\u4F7F\u7528"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"aria2c",children:"aria2c"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://aria2.github.io/manual/en/html/aria2c.html",children:"https://aria2.github.io/manual/en/html/aria2c.html"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/aria2/aria2",children:"https://github.com/aria2/aria2"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# \u4F7F\u7528\u6587\u4EF6\u4F5C\u4E3A\u4E0B\u8F7D\u5217\u8868\n# \u6700\u5927\u5E76\u53D1 16\n# \u9ED8\u8BA4\u7EE7\u7EED\u4E0B\u8F7D\n# \u5355\u4E2A\u670D\u52A1\u6700\u591A 16 \u4E2A\u94FE\u63A5\n# \u91CD\u8BD5\u6B21\u6570 0, \u5FFD\u7565 404\naria2c -i list.txt -j 16 -c -x 16 -m 0\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"http://aria2c.com/",children:"http://aria2c.com/"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"http://aria2c.com/usage.html",children:"http://aria2c.com/usage.html"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/ziahamza/webui-aria2",children:"https://github.com/ziahamza/webui-aria2"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/mayswind/AriaNg",children:"https://github.com/mayswind/AriaNg"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ini",children:"dir=.\ncontinue=true\nmax-connection-per-server=5\nmin-split-size=10M\n\ninput-file=aria2.session\nsave-session=aria2.session\n\nenable-rpc=true\nrpc-allow-origin-all=true\nrpc-listen-all=true\nrpc-listen-port=6800\n\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"touch aria2.session\naria2c --conf-path=$PWD/aria2.conf\n"})}),"\n",(0,s.jsx)(n.h3,{id:"openssl-tunnel",children:"OpenSSL Tunnel"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"http://www.dest-unreach.org/socat/doc/socat-openssltunnel.html",children:"openssltunnel"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# \u751F\u6210\u670D\u52A1\u5668\u7AEF\u7B7E\u540D\nFILENAME=server\nopenssl genrsa -out $FILENAME.key 1024\nopenssl req -new -key $FILENAME.key -x509 -days 3653 -out $FILENAME.crt -subj "/C=CN/ST=Wener/L=ShangHai/O=None/CN=hello"\ncat $FILENAME.key $FILENAME.crt > $FILENAME.pem\nchmod 600 $FILENAME.key $FILENAME.pem\n\n# \u751F\u6210\u5BA2\u6237\u7AEF\u7B7E\u540D\nFILENAME=client\nopenssl genrsa -out $FILENAME.key 1024\nopenssl req -new -key $FILENAME.key -x509 -days 3653 -out $FILENAME.crt -subj "/C=CN/ST=Wener/L=ShangHai/O=None/CN=hello"\ncat $FILENAME.key $FILENAME.crt > $FILENAME.pem\nchmod 600 $FILENAME.key $FILENAME.pem\n\n# \u542F\u52A8\u670D\u52A1\u7AEF\nsocat openssl-listen:4433,reuseaddr,cert=$PWD/server.pem,cafile=$PWD/client.crt echo\n\n# \u542F\u52A8\u5BA2\u6237\u7AEF\nsocat stdio openssl-connect:localhost:4433,cert=$PWD/client.pem,cafile=$PWD/server.crt\n# \u5982\u679C\u51FA\u73B0\u5F02\u5E38 2016/12/15 17:49:50 socat[8259] E certificate is valid but its commonName does not match hostname\n# \u53EF\u4F7F\u7528 verify=0 \u5173\u95ED\u9A8C\u8BC1\n# \u6216\u8005\u6DFB\u52A0 commonname\nsocat stdio openssl-connect:localhost:4433,cert=$PWD/client.pem,cafile=$PWD/server.crt,commonname=hello\n\n# \u901A\u8FC7 SSL \u8F6C\u53D1 DNS\n# \u670D\u52A1\u7AEF\u76D1\u542C 1053\nsocat openssl-listen:1053,fork,reuseaddr,cert=$PWD/server.pem,cafile=$PWD/client.crt UDP:8.8.8.8:53\n# \u5BA2\u6237\u7AEF\u8FDE\u63A5\u670D\u52A1\u7AEF\u7684 1053\nsudo socat UDP-RECVFROM:53,fork,reuseaddr openssl-connect:SERVER:1053,cert=$PWD/client.pem,cafile=$PWD/server.crt\n'})}),"\n",(0,s.jsx)(n.h2,{id:"curl",children:"curl"}),"\n",(0,s.jsx)(n.h2,{id:"wget",children:"wget"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.gnu.org/software/wget/manual/wget.html",children:"GNU Wget Manual"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-e robots=off"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5FFD\u7565 robot.txt"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-np"}),"/",(0,s.jsx)(n.code,{children:"--no-parent"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4E0D\u8BBF\u95EE\u4E0A\u7EA7"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-N"}),"/",(0,s.jsx)(n.code,{children:"--timestamping"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u53EA\u8BBF\u95EE\u66F4\u65B0\u7684"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-nc"}),"/",(0,s.jsx)(n.code,{children:"--no-clobber"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4E0D\u8981\u4E0B\u8F7D\u5DF2\u5B58\u5728\u5C06\u88AB\u8986\u76D6\u7684\u6587\u4EF6"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-q"}),"/",(0,s.jsx)(n.code,{children:"--quiet"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5B89\u9759\u6A21\u5F0F"}),"\n"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u77ED\u9009\u9879"}),(0,s.jsx)(n.th,{children:"\u957F\u9009\u9879"}),(0,s.jsx)(n.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"2.5 \u4E0B\u8F7D\u9009\u9879"})}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--limit-rate=amount"})}),(0,s.jsx)(n.td,{children:"\u9650\u901F"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"\u76EE\u5F55\u9009\u9879"})}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-P"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--directory-prefix"})}),(0,s.jsx)(n.td,{children:"\u5B58\u50A8\u6587\u4EF6\u5230\u524D\u7F00"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-nH"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--no-host-directories"})}),(0,s.jsx)(n.td,{children:"\u4E0D\u521B\u5EFA\u4E3B\u673A\u524D\u7F00\u76EE\u5F55"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-nd"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--no-directories"})}),(0,s.jsx)(n.td,{children:"\u4E0D\u521B\u5EFA\u9012\u5F52\u76EE\u5F55"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"2.11 \u9012\u5F52\u4E0B\u8F7D\u9009\u9879"})}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-r"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--recursive"})}),(0,s.jsx)(n.td,{children:"\u9012\u5F52, \u9ED8\u8BA4\u6700\u5927\u6DF1\u5EA6\u4E3A 5"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-l depth"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--level=depth"})}),(0,s.jsx)(n.td,{children:"\u6307\u5B9A\u6700\u5927\u9012\u5F52\u6DF1\u5EA6"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"-m"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"--mirror"})}),(0,s.jsxs)(n.td,{children:["\u955C\u50CF, \u7B49\u540C\u4E8E ",(0,s.jsx)(n.code,{children:"-r -N -l inf --no-remove-listing"})]})]})]})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"wget -rN --no-parent -e robots=off -P /some/where http://some.site\n# \u955C\u50CF\u7AD9\u70B9\nwget --mirror --convert-links --adjust-extension --page-requisites --no-parent http://example.org\nwget -mkEpnp http://example.org\n"})}),"\n",(0,s.jsx)(n.h2,{id:"httpie",children:"httpie"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://daniel.haxx.se/docs/curl-vs-httpie.html",children:"https://daniel.haxx.se/docs/curl-vs-httpie.html"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/jakubroztocil/httpie",children:"https://github.com/jakubroztocil/httpie"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"http://curl2httpie.online/",children:"http://curl2httpie.online/"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://httpie.org/",children:"https://httpie.org/"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"kcptun",children:"kcptun"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/xtaci/kcptun",children:"https://github.com/xtaci/kcptun"})}),"\n",(0,s.jsx)(n.li,{children:"ssh client <---\x3e kcptun client <---\x3e kcptun server <----\x3e ssh server"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Alpine\ndocker run -d --name tmp xtaci/kcptun\ndocker cp tmp:/bin/client kcptun-client\ndocker cp tmp:/bin/server kcptun-server\ndocker rm -f tmp\n\n# App <-> Target Client(9003/tcp) <-> KCP Client <-> KCP Server(9002/udp) <-> Target Server(9001/tcp)\n# \u76EE\u6807 9001 \u76D1\u542C 9002\n./kcptun-server -key $KEY -t "127.0.0.1:9001" -l ":9002" -mode fast2\n# \u76EE\u6807 9002 \u76D1\u542C 9003\n./kcptun-client -key $KEY -r "127.0.0.1:9002" -l ":9003" -mode fast2\n'})})]})}function a(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},917776:function(e,n,t){t.d(n,{R:()=>l,x:()=>c});var r=t(7378);let s={},i=r.createContext(s);function l(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);