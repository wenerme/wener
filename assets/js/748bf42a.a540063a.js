"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["468362"],{684630:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>i,toc:()=>a,default:()=>x,metadata:()=>t,assets:()=>c,contentTitle:()=>l});var t=JSON.parse('{"id":"service/cms/strapi/strapi-conf","title":"Strapi Conf","description":"| env                                        | default      | note","source":"@site/../notes/service/cms/strapi/strapi-conf.md","sourceDirName":"service/cms/strapi","slug":"/service/cms/strapi/conf","permalink":"/notes/service/cms/strapi/conf","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/cms/strapi/strapi-conf.md","tags":[{"inline":true,"label":"Configuration","permalink":"/notes/tags/configuration"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1713335755000,"frontMatter":{"tags":["Configuration"]},"sidebar":"docs","previous":{"title":"Strapi","permalink":"/notes/service/cms/strapi/"},"next":{"title":"Strapi DEV","permalink":"/notes/service/cms/strapi/dev"}}'),r=s(486106),d=s(917776);let i={tags:["Configuration"]},l="Strapi Conf",c={},a=[];function j(n){let e={a:"a",code:"code",h1:"h1",header:"header",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"strapi-conf",children:"Strapi Conf"})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"env"}),(0,r.jsx)(e.th,{children:"default"}),(0,r.jsx)(e.th,{children:"note"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"ADMIN_PATH"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"STRAPI_ADMIN_BACKEND_URL"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"STRAPI_TELEMETRY_DISABLED"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"STRAPI_DISABLE_UPDATE_NOTIFICATION"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"STRAPI_HIDE_STARTUP_MESSAGE"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"STRAPI_DISABLE_REMOTE_DATA_TRANSFER"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"STRAPI_LICENSE"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"STRAPI_PLUGIN_I18N_INIT_LOCALE_CODE"}),(0,r.jsx)(e.td,{children:"en"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"STRAPI_ENFORCE_SOURCEMAPS"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"FAST_REFRESH"}),(0,r.jsx)(e.td,{children:"true"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"BROWSER"}),(0,r.jsx)(e.td,{children:"true"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"NODE_ENV"}),(0,r.jsx)(e.td,{children:"development"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"ENV_PATH"}),(0,r.jsx)(e.td,{children:"./.env"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"JWT_SECRET"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"HOST"}),(0,r.jsx)(e.td,{children:"0.0.0.0"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"PORT"}),(0,r.jsx)(e.td,{children:"1337"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"APP_KEYS"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"API_TOKEN_SALT"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"ADMIN_JWT_SECRET"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"TRANSFER_TOKEN_SALT"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_CLIENT"}),(0,r.jsx)(e.td,{children:"sqlite"}),(0,r.jsx)(e.td,{children:"mysql,mysql2,postgres,sqlite"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_FILENAME"}),(0,r.jsx)(e.td,{children:".tmp/data.db"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_URL"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_HOST"}),(0,r.jsx)(e.td,{children:"localhost"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_PORT"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_NAME"}),(0,r.jsx)(e.td,{children:"strapi"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_USERNAME"}),(0,r.jsx)(e.td,{children:"strapi"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_PASSWORD"}),(0,r.jsx)(e.td,{children:"strapi"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_SSL"}),(0,r.jsx)(e.td,{children:"false"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.code,{children:"DATABASE_SSL_{KEY,CERT,CA,CAPATH,CIPHER}"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_SSL_REJECT_UNAUTHORIZED"}),(0,r.jsx)(e.td,{children:"true"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_CONNECTION_TIMEOUT"}),(0,r.jsx)(e.td,{children:"60000"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_POOL_MIN"}),(0,r.jsx)(e.td,{children:"2"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_POOL_MAX"}),(0,r.jsx)(e.td,{children:"10"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"DATABASE_SCHEMA"}),(0,r.jsx)(e.td,{children:"public"}),(0,r.jsx)(e.td,{})]})]})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ini",children:"STRAPI_TELEMETRY_DISABLED=true\nSTRAPI_DISABLE_UPDATE_NOTIFICATION=true\nSTRAPI_HIDE_STARTUP_MESSAGE=true\nSTRAPI_PLUGIN_I18N_INIT_LOCALE_CODE=zh\nFLAG_PROMOTE_EE=false\nFLAG_NPS=false\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["NPS - Net Promoter Score - \u51C0\u63A8\u8350\u5F97\u5206\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4E00\u79CD\u8861\u91CF\u987E\u5BA2\u5FE0\u8BDA\u5EA6\u548C\u987E\u5BA2\u6EE1\u610F\u5EA6\u7684\u7BA1\u7406\u5DE5\u5177\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u8BE2\u95EE\u987E\u5BA2\u4E00\u4E2A\u7B80\u5355\u7684\u95EE\u9898 \u2014\u2014 \u4ED6\u4EEC\u6709\u591A\u5927\u53EF\u80FD\u6027\u4F1A\u5411\u670B\u53CB\u6216\u540C\u4E8B\u63A8\u8350\u8BE5\u4EA7\u54C1\u6216\u670D\u52A1 \u2014\u2014 \u6765\u8BA1\u7B97\u5F97\u51FA\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u987E\u5BA2\u7684\u56DE\u7B54\u8303\u56F4\u901A\u5E38\u662F0\u523010\uFF0C\u57FA\u4E8E\u8FD9\u4E2A\u5F97\u5206\uFF0C\u987E\u5BA2\u88AB\u5206\u7C7B\u4E3A\u63A8\u8350\u8005\uFF08Promoters\uFF09\u3001\u4E2D\u6027\uFF08Passives\uFF09\u6216\u6279\u8BC4\u8005\uFF08Detractors\uFF09\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://docs.strapi.io/dev-docs/configurations/environment/",children:"https://docs.strapi.io/dev-docs/configurations/environment/"})}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",metastring:'title="src/admin/app.js"',children:"export default {\n  config: {\n    // en \u4E0D\u53EF\u4EE5\u79FB\u9664\uFF0C\u4F1A\u4F5C\u4E3A\u7B2C\u4E00\u6B21\u6253\u5F00\u65F6\u7684\u9ED8\u8BA4\u8BED\u8A00\n    // @strapi/admin/admin/src/translations/[language-name].json\n    // localStorage['strapi-admin-language']\n    // https://github.com/strapi/strapi/blob/v4.0.0/packages/plugins/i18n/server/constants/iso-locales.json\n    locales: ['zh-Hans', 'en'],\n    // \u81EA\u5B9A\u4E49\u7FFB\u8BD1\n    translations: {\n      fr: {\n        'Auth.form.email.label': 'test',\n        Users: 'Utilisateurs',\n        City: 'CITY (FRENCH)',\n        // Customize the label of the Content Manager table.\n        Id: 'ID french',\n      },\n    },\n  },\n  bootstrap() {},\n};\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://docs.strapi.io/developer-docs/latest/development/admin-customization.html",children:"https://docs.strapi.io/developer-docs/latest/development/admin-customization.html"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://docs.strapi.io/developer-docs/latest/setup-deployment-guides/configurations/required/server.html",children:"https://docs.strapi.io/developer-docs/latest/setup-deployment-guides/configurations/required/server.html"})}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",metastring:'title="./config/server.js"',children:"module.exports = ({ env }) => ({\n  host: env('HOST', '0.0.0.0'),\n  port: env.int('PORT', 1337),\n  app: {\n    keys: env.array('APP_KEYS'),\n  },\n  // \u914D\u7F6E\u540E url \u4F1A\u8FD4\u56DE\u5B8C\u6574\u8DEF\u5F84 - \u6D89\u53CA\u5230\u7B2C\u4E09\u65B9\u65F6\u53EF\u80FD\u8981\u6C42\u5FC5\u987B\u914D\u7F6E - \u4F8B\u5982 \u56DE\u8C03\n  // build \u662F\u4F1A\u5199\u5165\u5230 js \u4E2D\uFF0C\u65E0\u6CD5\u542F\u52A8\u4FEE\u6539\n  // STRAPI_ADMIN_BACKEND_URL\n  url: env('WEBSITE', 'http://127.0.0.1:1337'),\n  // \u662F\u5426\u4FE1\u4EFB proxy \u5934\n  proxy: false,\n  emitErrors: false,\n  socket: '/tmp/nginx.socket',\n  cron: {\n    enabled: false,\n    tasks: {},\n  },\n  dir: {\n    public: './public',\n  },\n});\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",metastring:'title="./config/admin.js"',children:"module.exports = ({ env }) => ({\n  // \u540E\u53F0\u8DEF\u5F84\n  url: '/admin',\n});\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",metastring:'tiitle="./config/plugins.js"',children:"export default {\n  //\n  graphql: {\n    config: {\n      endpoint: '/graphql',\n      shadowCRUD: true,\n      playgroundAlways: false,\n      depthLimit: 7,\n      amountLimit: 100,\n      apolloServer: {\n        tracing: false,\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# ADMIN \u540E\u53F0\u8DEF\u5F84 server.url\n# \u4E0D\u914D\u7F6E\u4E3A\u7A7A\negrep -o 'STRAPI_ADMIN_BACKEND_URL[^}]+' build/*.js\n"})})]})}function x(n={}){let{wrapper:e}={...(0,d.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(j,{...n})}):j(n)}},917776:function(n,e,s){s.d(e,{R:()=>i,x:()=>l});var t=s(7378);let r={},d=t.createContext(r);function i(n){let e=t.useContext(d);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),t.createElement(d.Provider,{value:e},n.children)}}}]);