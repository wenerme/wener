"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["70200"],{6088:function(e,n,l){l.r(n),l.d(n,{frontMatter:()=>s,toc:()=>o,default:()=>p,metadata:()=>i,assets:()=>a,contentTitle:()=>c});var i=JSON.parse('{"id":"os/alpine/alpine-glibc","title":"Alpine GLIBC","description":"- Binary","source":"@site/../notes/os/alpine/alpine-glibc.md","sourceDirName":"os/alpine","slug":"/os/alpine/glibc","permalink":"/notes/os/alpine/glibc","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/os/alpine/alpine-glibc.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1757294976000,"frontMatter":{"title":"Alpine GLIBC"},"sidebar":"docs","previous":{"title":"Alpine FAQ","permalink":"/notes/os/alpine/faq"},"next":{"title":"Health Check","permalink":"/notes/os/alpine/health"}}'),r=l(86106),t=l(17776);let s={title:"Alpine GLIBC"},c="Alpine GLIBC",a={},o=[{value:"unsupported relocation type 37",id:"unsupported-relocation-type-37",level:2},{value:"cgo",id:"cgo",level:2},{value:"no version information available",id:"no-version-information-available",level:2},{value:"undefined reference to `ceilf@GLIBC_2.2.5&#39;",id:"undefined-reference-to-ceilfglibc_225",level:2}];function d(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"alpine-glibc",children:"Alpine GLIBC"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Binary\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/sgerrand/alpine-pkg-glibc",children:"https://github.com/sgerrand/alpine-pkg-glibc"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/Docker-Hub-frolvlad/docker-alpine-glibc",children:"https://github.com/Docker-Hub-frolvlad/docker-alpine-glibc"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Builder\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/sgerrand/docker-glibc-builder",children:"https://github.com/sgerrand/docker-glibc-builder"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"/usr/glibc-compat/"}),"\n",(0,r.jsx)(n.li,{children:"/lib/ld-linux-x86-64.so.2"}),"\n",(0,r.jsx)(n.li,{children:"LD_LIBRARY_PATH=/usr/glibc-compat/sbin/ldconfig"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# apk del gcompat libc6-compat\n\n# wget -q -O /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub\ncurl --remote-name-all -LC- https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.35-r1/glibc{,-bin,-dev}-2.35-r1.apk\napk add glibc-2.35-r1.apk glibc-bin-2.35-r1.apk glibc-dev-2.35-r1.apk --allow-untrust --force-overwrite\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"overwrite"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"unsupported-relocation-type-37",children:"unsupported relocation type 37"}),"\n",(0,r.jsx)(n.p,{children:"ldd \u53EA\u652F\u6301 musl"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"LD_PRELOAD=/lib/ld-linux-x86-64.so.2 ldd libWeWorkFinanceSdk_C.so\n\n/usr/glibc-compat/bin/ldd libWeWorkFinanceSdk_C.so\nobjdump -p libWeWorkFinanceSdk_C.so\n"})}),"\n",(0,r.jsx)(n.h2,{id:"cgo",children:"cgo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'CGO_LDFLAGS="-L/usr/glibc-compat/lib   -Wl,-rpath -Wl,\\$ORIGIN/../lib" \\\n  CGO_CFLAGS="-I/path/to/include/file/of/the/lib/include" \\\n  go build ./main.go\n\nLD_PRELOAD=/lib/ld-linux-x86-64.so.2 LD_LIBRARY_PATH=/usr/glibc-compat/lib:$PWD ./main\n'})}),"\n",(0,r.jsx)(n.h2,{id:"no-version-information-available",children:"no version information available"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5F71\u54CD\u4E0D\u5927"}),"\n",(0,r.jsx)(n.li,{children:"so \u65E0 VERDEF"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"undefined-reference-to-ceilfglibc_225",children:"undefined reference to `ceilf@GLIBC_2.2.5'"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"-lm"})}),"\n"]})]})}function p(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},17776:function(e,n,l){l.d(n,{R:()=>s,x:()=>c});var i=l(7378);let r={},t=i.createContext(r);function s(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);