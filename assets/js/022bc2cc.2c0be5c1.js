"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["543585"],{2996:function(n,i,e){e.r(i),e.d(i,{frontMatter:()=>l,toc:()=>c,default:()=>a,metadata:()=>s,assets:()=>d,contentTitle:()=>o});var s=JSON.parse('{"id":"os/linux/init/init-awesome","title":"Init Awesome","description":"supervisor","source":"@site/../notes/os/linux/init/init-awesome.md","sourceDirName":"os/linux/init","slug":"/os/linux/init/awesome","permalink":"/notes/os/linux/init/awesome","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/os/linux/init/init-awesome.md","tags":[{"inline":true,"label":"Awesome","permalink":"/notes/tags/awesome"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1718079305000,"frontMatter":{"title":"Init Awesome","tags":["Awesome"]},"sidebar":"docs","previous":{"title":"hostname","permalink":"/notes/os/linux/hostname"},"next":{"title":"Linux Init Configuration (inittab & OpenRC)","permalink":"/notes/os/linux/init/inittab"}}'),t=e(486106),r=e(917776);let l={title:"Init Awesome",tags:["Awesome"]},o="Init Awesome",d={},c=[{value:"supervisor",id:"supervisor",level:2},{value:"Pure Init",id:"pure-init",level:2},{value:"docker",id:"docker",level:2}];function h(n){let i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"init-awesome",children:"Init Awesome"})}),"\n",(0,t.jsx)(i.h2,{id:"supervisor",children:"supervisor"}),"\n",(0,t.jsx)(i.admonition,{type:"info",children:(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\u7CFB\u7EDF\u7EA7 supervisor\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"\u4E00\u822C\u6709 init \u80FD\u529B"}),"\n",(0,t.jsx)(i.li,{children:"\u9664\u4E86\u8FDB\u7A0B\u53EF\u80FD\u8FD8\u4F1A\u7EF4\u62A4\u5176\u4ED6\u8D44\u6E90 - \u4F8B\u5982: socket"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\u8FDB\u7A0B\u7EA7 supervisor\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"\u53EA\u5173\u5FC3\u8FDB\u7A0B\u6B7B\u6D3B"}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"supervisor ~= process manager/monitor"}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"https://github.com/Supervisor/supervisor",children:"supervisor"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"size: 4161536"}),"\n",(0,t.jsx)(i.li,{children:"Python"}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://pkgs.alpinelinux.org/package/edge/main/x86_64/supervisor",children:"https://pkgs.alpinelinux.org/package/edge/main/x86_64/supervisor"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"http://smarden.org/runit/",children:"runit"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://pkgs.alpinelinux.org/package/edge/community/x86_64/runit",children:"https://pkgs.alpinelinux.org/package/edge/community/x86_64/runit"})}),"\n",(0,t.jsx)(i.li,{children:"size: 258048"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["systemd\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Python"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.li,{children:"initd"}),"\n",(0,t.jsx)(i.li,{children:"upstart"}),"\n",(0,t.jsxs)(i.li,{children:["tini\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://github.com/krallin/tini",children:"https://github.com/krallin/tini"})}),"\n",(0,t.jsx)(i.li,{children:"size: 40960"}),"\n",(0,t.jsx)(i.li,{children:"docker 1.13 \u540E\u5185\u5EFA"}),"\n",(0,t.jsx)(i.li,{children:"\u4E3B\u8981\u7528\u4E8E\u5904\u7406\u50F5\u5C38\u96C6\u6210\u548C\u4FE1\u53F7\u91CF\u5904\u7406"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["dump-init\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://pkgs.alpinelinux.org/package/edge/community/x86_64/dumb-init",children:"https://pkgs.alpinelinux.org/package/edge/community/x86_64/dumb-init"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["openrc\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"C+Shell"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Gentoo ",(0,t.jsx)(i.a,{href:"https://wiki.gentoo.org/wiki/Comparison_of_init_systems",children:"Comparison of init systems"})]}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://wiki.gentoo.org/wiki/OpenRC_to_systemd_Cheatsheet",children:"OpenRC to systemd Cheatsheet"})}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"pure-init",children:"Pure Init"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"tinit"}),"\n",(0,t.jsx)(i.li,{children:"dump-init"}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://github.com/troglobit/finit",children:"troglobit/finit"})}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"docker",children:"docker"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"tinit - \u5982\u679C\u4F7F\u7528\u5355\u4E2A\u8FDB\u7A0B"}),"\n",(0,t.jsx)(i.li,{children:"\u5982\u679C\u8981\u5141\u8BB8\u591A\u4E2A\u670D\u52A1\uFF0C\u9009\u62E9 s6 \u6216 runit"}),"\n",(0,t.jsxs)(i.li,{children:["docker \u5185\u7F6E tini - ",(0,t.jsx)(i.code,{children:"--init"})]}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://github.com/Yelp/dumb-init",children:"Yelp/dumb-init"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://github.com/krallin/tini",children:"krallin/tini"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.a,{href:"https://ahmet.im/blog/minimal-init-process-for-containers/",children:"Choosing init for multi-process containers"})}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"apk add dumb-init\n/usr/bin/dumb-init --\n\napk add tini\n/sbin/tini --\n"})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"\u6700\u7B80\u5355\u7684 \u591A\u8FDB\u7A0B init"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",metastring:'title="entrypoint.sh"',children:"#!/usr/bin/env bash\nset -e\n\nprogram1 &\nprogram2 &\nwait -n\n"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-dockerfile",children:'ENTRYPOINT ["/bin/tini", "--", "entrypoint.sh"]\n'})})]})}function a(n={}){let{wrapper:i}={...(0,r.R)(),...n.components};return i?(0,t.jsx)(i,{...n,children:(0,t.jsx)(h,{...n})}):h(n)}},917776:function(n,i,e){e.d(i,{R:()=>l,x:()=>o});var s=e(7378);let t={},r=s.createContext(t);function l(n){let i=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function o(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),s.createElement(r.Provider,{value:i},n.children)}}}]);