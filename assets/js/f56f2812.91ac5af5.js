"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["67640"],{20002:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>l,toc:()=>o,default:()=>h,metadata:()=>i,assets:()=>d,contentTitle:()=>c});var i=JSON.parse('{"id":"ai/dev/mcp/mcp-insight","title":"MCP Insight","description":"- StreamableHTTP - 2025-03-26","source":"@site/../notes/ai/dev/mcp/mcp-insight.md","sourceDirName":"ai/dev/mcp","slug":"/ai/dev/mcp/insight","permalink":"/notes/ai/dev/mcp/insight","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/ai/dev/mcp/mcp-insight.md","tags":[{"inline":true,"label":"Insight","permalink":"/notes/tags/insight"},{"inline":true,"label":"Protocol","permalink":"/notes/tags/protocol"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1759894156000,"frontMatter":{"tags":["Insight","Protocol"]},"sidebar":"docs","previous":{"title":"\u98DE\u4E66 MCP","permalink":"/notes/ai/dev/mcp/feishu"},"next":{"title":"playwright-mcp","permalink":"/notes/ai/dev/mcp/playwright"}}'),t=s(86106),r=s(17776);let l={tags:["Insight","Protocol"]},c="MCP Insight",d={},o=[];function a(n){let e={a:"a",code:"code",h1:"h1",header:"header",hr:"hr",li:"li",pre:"pre",ul:"ul",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"mcp-insight",children:"MCP Insight"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u5BA2\u6237\u7AEF                      \u670D\u52A1\u7AEF\n   |                          |\n   |--- GET /sse ------------\x3e| (\u5EFA\u7ACB SSE \u6D41)\n   |                          |\n   |<--- SSE: endpoint -------| (\u8FD4\u56DE POST \u7AEF\u70B9 + sessionId)\n   |                          |\n   |--- POST /messages ------\x3e| (\u53D1\u9001\u6D88\u606F\uFF0C\u5E26 ?sessionId=)\n   |                          |\n   |<--- 202 Accepted --------| (\u786E\u8BA4\u63A5\u6536)\n   |                          |\n   |<--- SSE: response -------| (\u901A\u8FC7 SSE \u6D41\u8FD4\u56DE\u54CD\u5E94)\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"\u5BA2\u6237\u7AEF                      \u670D\u52A1\u7AEF\n   |                          |\n   |--- POST /mcp -----------\x3e| (\u521D\u59CB\u5316\uFF0C\u5305\u542B initialize \u8BF7\u6C42)\n   |                          |\n   |<--- SSE Stream ---------\x3e| (\u54CD\u5E94\u901A\u8FC7 SSE \u8FD4\u56DE\uFF0C\u5305\u542B Mcp-Session-Id header)\n   |    (text/event-stream)   |\n   |                          |\n   |--- POST /mcp -----------\x3e| (\u540E\u7EED\u8BF7\u6C42\uFF0C\u5E26 Mcp-Session-Id header)\n   |                          |\n   |<--- SSE Stream ---------\x3e| (\u6BCF\u4E2A POST \u90FD\u53EF\u80FD\u5F00\u542F\u65B0\u7684 SSE \u6D41\u8FD4\u56DE\u54CD\u5E94)\n   |                          |\n   |--- GET /mcp ------------\x3e| (\u53EF\u9009\uFF1A\u5EFA\u7ACB\u72EC\u7ACB SSE \u6D41\u63A5\u6536\u670D\u52A1\u5668\u63A8\u9001)\n   |<--- SSE Stream ---------\x3e|\n   |                          |\n   |--- DELETE /mcp ---------\x3e| (\u7EC8\u6B62\u4F1A\u8BDD)\n"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"StreamableHTTP - 2025-03-26"}),"\n",(0,t.jsxs)(e.li,{children:["outputSchema\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"\u9002\u7528\u4E8E structureContent"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.li,{children:"structureContent - 2025-03-26"}),"\n",(0,t.jsxs)(e.li,{children:["\u65E7\u7248\u672C\u8FD4\u56DE\u7ED3\u679C\u4E3A ",(0,t.jsx)(e.code,{children:"Array<{type:''}>"})]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-json",children:'{\n  //  \u5DE5\u5177\u63D0\u793A\u4FE1\u606F\n  "annotations": {\n    // \u53EA\u8BFB\u63D0\u793A\uFF1A\u5DE5\u5177\u4E0D\u4F1A\u4FEE\u6539\u73AF\u5883\n    "readOnlyHint": false,\n    // \u7834\u574F\u6027\u63D0\u793A\uFF1A\u662F\u5426\u6267\u884C\u7834\u574F\u6027\u66F4\u65B0\n    "destructiveHint": true,\n    // \u5E42\u7B49\u6027\u63D0\u793A\uFF1A\u76F8\u540C\u53C2\u6570\u591A\u6B21\u8C03\u7528\u662F\u5426\u4EA7\u751F\u76F8\u540C\u6548\u679C\n    "idempotentHint": true,\n    // \u5F00\u653E\u4E16\u754C\u63D0\u793A\uFF1A\u662F\u5426\u4E0E\u5916\u90E8\u5B9E\u4F53\u4EA4\u4E92\n    "openWorldHint": false\n  }\n}\n'})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Client Capabilities\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"roots"}),"\uFF1A\u63D0\u4F9B\u6587\u4EF6\u7CFB\u7EDF\u6839\u76EE\u5F55"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"sampling"}),"\uFF1A\u652F\u6301\u5927\u6A21\u578B\u91C7\u6837\u8BF7\u6C42"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"experimental"}),"\uFF1A\u652F\u6301\u5B9E\u9A8C\u6027\u529F\u80FD"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["Server Capabilities\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"prompts"}),"\uFF1A\u63D0\u4F9B\u63D0\u793A\u6A21\u677F"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"resources"}),"\uFF1A\u63D0\u4F9B\u53EF\u8BFB\u8D44\u6E90"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"tools"}),"\uFF1A\u63D0\u4F9B\u53EF\u8C03\u7528\u5DE5\u5177"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"logging"}),"\uFF1A\u7ED3\u6784\u5316\u65E5\u5FD7"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"experimental"}),"\uFF1A\u5B9E\u9A8C\u6027\u529F\u80FD\u652F\u6301"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\u7248\u672C\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"2025-06-18"}),"\n",(0,t.jsxs)(e.li,{children:["2025-03-26\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"StreamableHTTP, outputSchema, structureContent, Mcp-Session-Id"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["2024-11-05\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"SSE, seesionId"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["2024-10-07\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Tools\u3001Resources\u3001Prompt\u3001content"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.li,{children:"Last-Event-ID"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://www.claudemcp.com/specification",children:"https://www.claudemcp.com/specification"})}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(a,{...n})}):a(n)}},17776:function(n,e,s){s.d(e,{R:()=>l,x:()=>c});var i=s(7378);let t={},r=i.createContext(t);function l(n){let e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);