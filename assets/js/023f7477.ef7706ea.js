"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["769594"],{158088:function(e,n,l){l.r(n),l.d(n,{frontMatter:()=>a,toc:()=>r,default:()=>p,metadata:()=>t,assets:()=>d,contentTitle:()=>c});var t=JSON.parse('{"id":"service/file/nextcloud-mgmt","title":"Nextcloud Management","description":"User & Shell Access","source":"@site/../notes/service/file/nextcloud-mgmt.md","sourceDirName":"service/file","slug":"/service/file/nextcloud-mgmt","permalink":"/notes/service/file/nextcloud-mgmt","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/file/nextcloud-mgmt.md","tags":[{"inline":true,"label":"Service","permalink":"/notes/tags/service"},{"inline":true,"label":"Nextcloud","permalink":"/notes/tags/nextcloud"},{"inline":true,"label":"Ops","permalink":"/notes/tags/ops"},{"inline":true,"label":"Admin","permalink":"/notes/tags/admin"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"Nextcloud Management","tags":["Service","Nextcloud","Ops","Admin"]},"sidebar":"docs","previous":{"title":"AFP (Apple Filing Protocol)","permalink":"/notes/service/file/afp"},"next":{"title":"Nextcloud Operations","permalink":"/notes/service/file/nextcloud-ops"}}'),s=l(486106),i=l(917776);let a={title:"Nextcloud Management",tags:["Service","Nextcloud","Ops","Admin"]},c="Nextcloud Management",d={},r=[{value:"User &amp; Shell Access",id:"user--shell-access",level:2},{value:"Configuration Hints",id:"configuration-hints",level:2},{value:"Database Config",id:"database-config",level:3},{value:"Run OCC Command",id:"run-occ-command",level:3},{value:"Apps Management",id:"apps-management",level:2},{value:"Essential Apps Installation",id:"essential-apps-installation",level:3},{value:"Other Apps",id:"other-apps",level:3},{value:"Collabora Online (Office)",id:"collabora-online-office",level:2}];function o(e){let n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"nextcloud-management",children:"Nextcloud Management"})}),"\n",(0,s.jsx)(n.h2,{id:"user--shell-access",children:"User & Shell Access"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# If docker -u is not possible, install sudo via standard shell interaction\napt update && apt install nano sudo\nsudo -u www-data bash\n"})}),"\n",(0,s.jsx)(n.h2,{id:"configuration-hints",children:"Configuration Hints"}),"\n",(0,s.jsx)(n.h3,{id:"database-config",children:"Database Config"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:'"dbtype" => "mysql",\n"dbname" => "nextcloud",\n"dbuser" => "username",\n"dbpassword" => "password",\n"dbhost" => "localhost",\n'})}),"\n",(0,s.jsx)(n.h3,{id:"run-occ-command",children:"Run OCC Command"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker exec -it -u www-data nextcloud php occ\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Run as user:\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:'su - root -c "command"'})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"sudo -u www-data"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"apps-management",children:"Apps Management"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"App"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"user_ldap"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"LDAP Integration"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"circles"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Social sharing"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"contacts"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Contacts management"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"calendar"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Calendar"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"spreed"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Nextcloud Talk"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"files_external"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"External storage support"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.code,{children:"notes"})}),(0,s.jsx)(n.td,{style:{textAlign:"left"},children:"Markdown notes"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"essential-apps-installation",children:"Essential Apps Installation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo -u www-data bash\n\n# Disable unwanted default apps\nphp occ app:disable firstrunwizard federation nextcloud_announcements support survey_client updatenotification\n\n# Enable Audit\nphp occ app:enable admin_audit\n\n# Install useful apps\nphp occ app:install checksum\nphp occ app:install extract\nphp occ app:install files_accesscontrol\nphp occ app:install files_automatedtagging\nphp occ app:install groupfolders\nphp occ app:install metadata\nphp occ app:install files_mindmap\nphp occ app:install files_markdown\nphp occ app:install notes\nphp occ app:install external\nphp occ app:install group_everyone\nphp occ app:install flowupload\nphp occ app:install occweb\nphp occ app:install announcementcenter\nphp occ app:install piwik # Analytics\nphp occ app:install audioplayer\nphp occ app:install files_readmemd\nphp occ app:install files_texteditor\nphp occ app:install files_external\n\n# Auth\n# php occ app:install user_saml\n"})}),"\n",(0,s.jsx)(n.h3,{id:"other-apps",children:"Other Apps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"appointments"}),": Booking/Appointments"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ldapcontacts"}),": LDAP Contacts support (Write support via separate app)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"weather"}),": Weather widget"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"activity"}),": Activity log"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"appvncsafe"}),": VNC"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"dashboardcharts"}),": Charts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"forms"}),": Surveys/Forms"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"collabora-online-office",children:"Collabora Online (Office)"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"WOPI Host: Nextcloud"}),"\n",(0,s.jsx)(n.li,{children:"WOPI Client: Collabora Online Server"}),"\n"]})]})}function p(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},917776:function(e,n,l){l.d(n,{R:()=>a,x:()=>c});var t=l(7378);let s={},i=t.createContext(s);function a(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);