"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["827440"],{652847:function(n,e,l){l.r(e),l.d(e,{frontMatter:()=>t,toc:()=>h,default:()=>p,metadata:()=>s,assets:()=>a,contentTitle:()=>c});var s=JSON.parse('{"id":"languages/php/README","title":"PHP","description":"| spec   |","source":"@site/../notes/languages/php/README.md","sourceDirName":"languages/php","slug":"/languages/php/","permalink":"/notes/languages/php/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/languages/php/README.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1668326649000,"frontMatter":{"title":"PHP"},"sidebar":"docs","previous":{"title":"Tree Sitter","permalink":"/notes/languages/parser/tree-sitter"},"next":{"title":"composer","permalink":"/notes/languages/php/composer"}}'),i=l(486106),r=l(917776);let t={title:"PHP"},c="PHP",a={},h=[{value:"Docker",id:"docker",level:2},{value:"PHP 7",id:"php-7",level:2},{value:"laravel",id:"laravel",level:2},{value:"Lumen",id:"lumen",level:3},{value:"CentOS",id:"centos",level:2},{value:"Composer",id:"composer",level:2},{value:"satis",id:"satis",level:3},{value:"ThinkPHP5",id:"thinkphp5",level:2},{value:"\u76EE\u5F55\u7ED3\u6784",id:"\u76EE\u5F55\u7ED3\u6784",level:3},{value:"\u4EE3\u7801",id:"\u4EE3\u7801",level:3},{value:"PECL",id:"pecl",level:2},{value:"HHVM",id:"hhvm",level:2},{value:"Symfony",id:"symfony",level:2},{value:"Notes",id:"notes",level:2},{value:"FAQ",id:"faq",level:2},{value:"\u907F\u514D\u76F4\u63A5\u8BBF\u95EE PHP",id:"\u907F\u514D\u76F4\u63A5\u8BBF\u95EE-php",level:3},{value:"\u786E\u4FDD\u76F8\u5BF9\u5F15\u7528\u6B63\u786E",id:"\u786E\u4FDD\u76F8\u5BF9\u5F15\u7528\u6B63\u786E",level:3},{value:"\u67E5\u770B ca \u73AF\u5883",id:"\u67E5\u770B-ca-\u73AF\u5883",level:3},{value:"Connection to `ssl://pecl.php.net:443&#39; failed: Unable to find the socket transport &quot;ssl&quot; - did you forget to enable it when you configured PHP?",id:"connection-to-sslpeclphpnet443-failed-unable-to-find-the-socket-transport-ssl---did-you-forget-to-enable-it-when-you-configured-php",level:3}];function o(n){let e={a:"a",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"php",children:"PHP"})}),"\n",(0,i.jsxs)(e.p,{children:["| spec   |\n| ------ | --------------------------- |\n| PSR-1  | Basic Coding Standard       |\n| PSR-2  | ",(0,i.jsx)(e.del,{children:"Coding Style Guide"}),"      |\n| PSR-3  | Logger Interface            |\n| PSR-4  | Autoloading Standard        |\n| PSR-6  | Caching Interface           |\n| PSR-7  | HTTP Message Interface      |\n| PSR-11 | Container Interface         |\n| PSR-12 | Extended Coding Style Guide |\n| PSR-13 | Hypermedia Links            |\n| PSR-14 | Event Dispatcher            |\n| PSR-15 | HTTP Handlers               |\n| PSR-16 | Simple Cache                |\n| PSR-17 | HTTP Factories              |\n| PSR-18 | HTTP Client                 |"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://www.php-fig.org/psr/",children:"PHP Standards Recommendations"})}),"\n",(0,i.jsx)(e.li,{children:"ZTS - Zend Thread Safety"}),"\n"]}),"\n",(0,i.jsx)(e.hr,{}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u7F13\u5B58\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["APC\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u652F\u6301 opcode \u548C \u6570\u636E\u7F13\u5B58"}),"\n",(0,i.jsx)(e.li,{children:"System Cache Entries"}),"\n",(0,i.jsx)(e.li,{children:"Per-Directory Entries"}),"\n",(0,i.jsx)(e.li,{children:"User Cache Entries"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["APCu\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u63D0\u4F9B APC \u4E2D\u7684\u6570\u636E\u7F13\u5B58\u529F\u80FD"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"XCache"}),"\n",(0,i.jsxs)(e.li,{children:["OPCache\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"5.5 \u96C6\u6210"}),"\n",(0,i.jsx)(e.li,{children:"\u66FF\u4EE3 APC \u7684 opcode \u7F13\u5B58, XCache"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# CentOS\n# \u67E5\u770B\u5B89\u88C5\u6587\u4EF6\nrpm -ql php-fpm\nyum instal yum-utils\n# \u67E5\u770B\u5DF2\u5B89\u88C5\u7684\u6587\u4EF6\nrepoquery -lq --installed time\n\n# \u5167\u5EFA web \u670D\u52A1\n# http://php.net/manual/zh/features.commandline.webserver.php\nphp -S 0.0.0.0:8082 -c php.ini\n\n# \u5224\u65AD\u662F\u5426\u6709\u54CD\u5E94\u6A21\u5757\nphp -i \"(command-line 'phpinfo()')\" | grep -i grpc\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ini",children:"# PHP \u5E38\u7528\u914D\u7F6E\ndate.timezone=Asia/Shanghai\n"})}),"\n",(0,i.jsx)(e.h2,{id:"docker",children:"Docker"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# wener/php:app\n# php7 + nginx + mongo,redis,grpc extension + composer\ndocker run --rm -it --entrypoint bash wener/php:app\n"})}),"\n",(0,i.jsx)(e.h2,{id:"php-7",children:"PHP 7"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"opcache"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"laravel",children:"laravel"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://laravel.com/",children:"laravel"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"http://www.golaravel.com/",children:"http://www.golaravel.com/"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/chiraggude/awesome-laravel",children:"awesome-laravel"})}),"\n",(0,i.jsxs)(e.li,{children:["ORM ",(0,i.jsx)(e.a,{href:"https://github.com/illuminate/database",children:"illuminate"})]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://laravel-china.org/",children:"laravel-china"})," - \u4E2D\u6587\u793E\u533A"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'# \u53EF\u4F7F\u7528\u4EE3\u7406 https_proxy=http://127.0.0.1:7777 http_proxy=http://127.0.0.1:7777\ncomposer global require -vvv "laravel/lumen-installer"\ncomposer create-project --prefer-dist laravel/lumen -vvv blog\ncd blog\nphp -S localhost:8000 -t ./public\n\nphp artisan make:migration create_users_table\n# \u4FEE\u6539 Mirage \u4E0B\u7684\u6570\u636E,\u6DFB\u52A0 User \u8868\u7684 migrate\n# \u6DFB\u52A0 UserTableSeeder \u5F80 User \u63D2\u5165\u6570\u636E\nphp artisan migrate\n# \u53EF\u4EE5\u56DE\u6EDA\nphp artisan migrate:rollback\n# \u8C03\u7528 seeder\nphp artisan db:seed\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["fpm ",(0,i.jsx)(e.a,{href:"http://php.net/manual/zh/install.fpm.configuration.php",children:"\u914D\u7F6E\u9879"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u8BA1\u7B97 pm.max_children ",(0,i.jsx)(e.a,{href:"http://myshell.co.uk/blog/2012/07/adjusting-child-processes-for-php-fpm-nginx/",children:"\u53C2\u8003"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"lumen",children:"Lumen"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Laravel ",(0,i.jsx)(e.a,{href:"https://lumen.laravel.com/",children:"Lumen"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"The stunningly fast micro-framework by Laravel."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:"\u4E3B\u8981\u505A REST \u670D\u52A1"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"centos",children:"CentOS"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u53C2\u8003 ",(0,i.jsx)(e.a,{href:"https://www.centos.org/forums/viewtopic.php?t=52586",children:"https://www.centos.org/forums/viewtopic.php?t=52586"})]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# 7.x\nrpm -Uvh https://mirror.webtatic.com/yum/el7/epel-release.rpm\nrpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm\n# \u8BE5\u4ED3\u5E93\u4E2D\u7684\u5185\u5BB9\u53EF\u4EE5\u67E5\u770B https://uk.repo.webtatic.com/yum/el7/SRPMS/RPMS/\n# \u73B0\u5728\u53EF\u4EE5\u76F4\u63A5\u5B89\u88C5 56 \u7248\u672C\nyum install php56w php56w-opcache\n# \u4E5F\u53EF\u4EE5\u4F7F\u7528\u63D2\u4EF6\u6765\u66FF\u6362\u672C\u5730\u7684 php \u7248\u672C\nyum install yum-plugin-replace\nyum replace --enablerepo=webtatic-testing php-common --replace-with=php56w-common\n"})}),"\n",(0,i.jsx)(e.h2,{id:"composer",children:"Composer"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/paquettg/php-html-parser",children:"paquettg/php-html-parser"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://pkg.phpcomposer.com/",children:"\u56FD\u5185\u955C\u50CF"})}),"\n",(0,i.jsxs)(e.li,{children:["\u79C1\u6709\u4ED3\u5E93\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://getcomposer.org/doc/articles/handling-private-packages-with-satis.md",children:"https://getcomposer.org/doc/articles/handling-private-packages-with-satis.md"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://getcomposer.org/doc/04-schema.md",children:"https://getcomposer.org/doc/04-schema.md"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://getcomposer.org/doc/03-cli.md",children:"https://getcomposer.org/doc/03-cli.md"})}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u4F7F\u7528\u4E2D\u56FD\u955C\u50CF\u5B89\u88C5\nphp -r \"copy('https://install.phpcomposer.com/installer', 'composer-setup.php');\" \\\n  && php composer-setup.php \\\n  && php -r \"unlink('composer-setup.php');\" \\\n  && mv composer.phar /usr/local/bin/composer\n\n# \u4F7F\u7528\u56FD\u5185\u955C\u50CF\n# \u4FEE\u6539\u5168\u5C40\u914D\u7F6E\ncomposer config -g repo.packagist composer https://packagist.phpcomposer.com\n# \u4FEE\u6539\u5F53\u524D\u9879\u76EE\ncomposer config repo.packagist composer https://packagist.phpcomposer.com\n\n# \u521D\u59CB\u5316\ncomposer init\n# \u6DFB\u52A0\u4F9D\u8D56\ncomposer require paquettg/php-html-parser\n# \u79FB\u9664\u4F9D\u8D56\ncomposer remove paquettg/php-html-parser\n# \u5B89\u88C5\u4F9D\u8D56\ncomposer install\n# \u66F4\u65B0\u4F9D\u8D56\ncomposer update\ncomposer update --lock\ncomposer dump-autoload --optimize\n\ncomposer about\ncomposer archive\ncomposer browse\ncomposer clear-cache\ncomposer config --list\ncomposer create-project symfony/standard-edition dir/\ncomposer depends vendor-name/package-name\ncomposer diagnose\ncomposer global\ncomposer help\ncomposer init\ncomposer licenses\ncomposer list\ncomposer remove\ncomposer run-script\ncomposer search my keywords\ncomposer self-update\ncomposer show\ncomposer suggest\ncomposer status\ncomposer validate\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u5B89\u88C5\u597D\u540E\u53EA\u9700\u8981\u6DFB\u52A0\u4E00\u4E0B autoload \u5373\u53EF\u4F7F\u7528"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-php",children:"<?php\nrequire __DIR__ . '/vendor/autoload.php';\n"})}),"\n",(0,i.jsx)(e.h3,{id:"satis",children:"satis"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u53EF\u4EE5\u6620\u5C04\u4E3B\u673A\u4E0A\u7684\u4E3B\u76EE\u5F55\u4EE5\u5229\u7528\u7F13\u5B58\n# -v $COMPOSER_HOME:/composer\ndocker run --rm -it -v $PWD/build:/build --entrypoint /bin/sh composer/satis\n\n# \u5F53\u6784\u5EFA\u5B8C\u6210\u540E\u76F4\u63A5\u4E0A\u4F20\u4E3A\u9759\u6001\u7AD9\u70B9\u5373\u53EF\nrsync -avz build/ my-server:/var/www/html\n"})}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"satis.json"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "name": "MyRepo",\n  "homepage": "https://composer.example.org",\n  "repositories": [\n    {\n      "type": "vcs",\n      "url": "https://example.org/code/api-php.git"\n    },\n    {\n      "type": "vcs",\n      "url": "https://example.org/code/other-php.git"\n    }\n  ],\n  "require-all": true\n}\n'})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cd /build\n# \u521B\u5EFA satis.json\nphp /satis/bin/satis build satis.json .\n# \u6216\u8005 docker \u6784\u5EFA\ndocker run --rm -it -v $PWD/build:/build composer/satis\nrsync -avz --delete ./build/ root@my-host:/mysite\n"})}),"\n",(0,i.jsx)(e.h2,{id:"thinkphp5",children:"ThinkPHP5"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://www.kancloud.cn/manual/thinkphp5",children:"ThinkPHP5.0 \u5B8C\u5168\u5F00\u53D1\u624B\u518C"})}),"\n",(0,i.jsxs)(e.li,{children:["\u9700\u6C42\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"PHP >= 5.4.0"}),"\n",(0,i.jsx)(e.li,{children:"PDO PHP Extension"}),"\n",(0,i.jsx)(e.li,{children:"MBstring PHP Extension"}),"\n",(0,i.jsx)(e.li,{children:"CURL PHP Extension"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"composer create-project topthink/think tp5 --prefer-dist\ncd tp5\n\n# \u542F\u52A8\u81EA\u5E26 web \u670D\u52A1\u5668\nphp -S localhost:8888 application/route.php\n\n# \u4F7F\u5F97 think \u53EF\u6267\u884C\n# \u4E0D\u64CD\u4F5C\u8FD9\u4E00\u6B65\u4E5F\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528 php think \u6765\u6267\u884C\nchmod +x think\n# \u67E5\u770B\u6240\u6709\u547D\u4EE4\n./think list\n# Available commands:\n#   build              Build Application Dirs\n#   clear              Clear runtime file\n#   help               Displays help for a command\n#   list               Lists commands\n#  make\n#   make:controller    Create a new resource controller class\n#   make:model         Create a new model class\n#  optimize\n#   optimize:autoload  Optimizes PSR0 and PSR4 packages to be loaded with classmaps too, good for production.\n#   optimize:config    Build config and common file cache.\n#   optimize:route     Build route cache.\n#   optimize:schema    Build database schema cache.\n\n# \u751F\u6210\u5B9A\u4E49\u7684\u6587\u4EF6\n# \u9ED8\u8BA4\u4F1A\u4F7F\u7528 application/build.php\n./think build\n# \u4F7F\u7528\u6307\u5B9A\u7684\u914D\u7F6E\u6587\u4EF6\n./think build --config build.php\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u76EE\u5F55\u7ED3\u6784",children:"\u76EE\u5F55\u7ED3\u6784"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"project  \u5E94\u7528\u90E8\u7F72\u76EE\u5F55\n\u251C\u2500application           \u5E94\u7528\u76EE\u5F55\uFF08\u53EF\u8BBE\u7F6E\uFF09\n\u2502  \u251C\u2500common             \u516C\u5171\u6A21\u5757\u76EE\u5F55\uFF08\u53EF\u66F4\u6539\uFF09\n\u2502  \u251C\u2500index              \u6A21\u5757\u76EE\u5F55(\u53EF\u66F4\u6539)\n\u2502  \u2502  \u251C\u2500config.php      \u6A21\u5757\u914D\u7F6E\u6587\u4EF6\n\u2502  \u2502  \u251C\u2500common.php      \u6A21\u5757\u51FD\u6570\u6587\u4EF6\n\u2502  \u2502  \u251C\u2500controller      \u63A7\u5236\u5668\u76EE\u5F55\n\u2502  \u2502  \u251C\u2500model           \u6A21\u578B\u76EE\u5F55\n\u2502  \u2502  \u251C\u2500view            \u89C6\u56FE\u76EE\u5F55\n\u2502  \u2502  \u2514\u2500 ...            \u66F4\u591A\u7C7B\u5E93\u76EE\u5F55\n\u2502  \u251C\u2500command.php        \u547D\u4EE4\u884C\u5DE5\u5177\u914D\u7F6E\u6587\u4EF6\n\u2502  \u251C\u2500common.php         \u5E94\u7528\u516C\u5171\uFF08\u51FD\u6570\uFF09\u6587\u4EF6\n\u2502  \u251C\u2500config.php         \u5E94\u7528\uFF08\u516C\u5171\uFF09\u914D\u7F6E\u6587\u4EF6\n\u2502  \u251C\u2500database.php       \u6570\u636E\u5E93\u914D\u7F6E\u6587\u4EF6\n\u2502  \u251C\u2500tags.php           \u5E94\u7528\u884C\u4E3A\u6269\u5C55\u5B9A\u4E49\u6587\u4EF6\n|  \u251C\u2500build.php          \u81EA\u52A8\u751F\u6210\u5B9A\u4E49\u6587\u4EF6\n\u2502  \u2514\u2500route.php          \u8DEF\u7531\u914D\u7F6E\u6587\u4EF6\n\u251C\u2500extend                \u6269\u5C55\u7C7B\u5E93\u76EE\u5F55\uFF08\u53EF\u5B9A\u4E49\uFF09\n\u251C\u2500public                WEB \u90E8\u7F72\u76EE\u5F55\uFF08\u5BF9\u5916\u8BBF\u95EE\u76EE\u5F55\uFF09\n\u2502  \u251C\u2500static             \u9759\u6001\u8D44\u6E90\u5B58\u653E\u76EE\u5F55(css,js,image)\n\u2502  \u251C\u2500index.php          \u5E94\u7528\u5165\u53E3\u6587\u4EF6\n\u2502  \u251C\u2500router.php         \u5FEB\u901F\u6D4B\u8BD5\u6587\u4EF6\n\u2502  \u2514\u2500.htaccess          \u7528\u4E8E apache \u7684\u91CD\u5199\n\u251C\u2500runtime               \u5E94\u7528\u7684\u8FD0\u884C\u65F6\u76EE\u5F55\uFF08\u53EF\u5199\uFF0C\u53EF\u8BBE\u7F6E\uFF09\n\u251C\u2500vendor                \u7B2C\u4E09\u65B9\u7C7B\u5E93\u76EE\u5F55\uFF08Composer\uFF09\n\u251C\u2500thinkphp              \u6846\u67B6\u7CFB\u7EDF\u76EE\u5F55\n\u2502  \u251C\u2500lang               \u8BED\u8A00\u5305\u76EE\u5F55\n\u2502  \u251C\u2500library            \u6846\u67B6\u6838\u5FC3\u7C7B\u5E93\u76EE\u5F55\n\u2502  \u2502  \u251C\u2500think           Think \u7C7B\u5E93\u5305\u76EE\u5F55\n\u2502  \u2502  \u2514\u2500traits          \u7CFB\u7EDF Traits \u76EE\u5F55\n\u2502  \u251C\u2500tpl                \u7CFB\u7EDF\u6A21\u677F\u76EE\u5F55\n\u2502  \u251C\u2500.htaccess          \u7528\u4E8E apache \u7684\u91CD\u5199\n\u2502  \u251C\u2500.travis.yml        CI \u5B9A\u4E49\u6587\u4EF6\n\u2502  \u251C\u2500base.php           \u57FA\u7840\u5B9A\u4E49\u6587\u4EF6\n\u2502  \u251C\u2500composer.json      composer \u5B9A\u4E49\u6587\u4EF6\n\u2502  \u251C\u2500console.php        \u63A7\u5236\u53F0\u5165\u53E3\u6587\u4EF6\n\u2502  \u251C\u2500convention.php     \u60EF\u4F8B\u914D\u7F6E\u6587\u4EF6\n\u2502  \u251C\u2500helper.php         \u52A9\u624B\u51FD\u6570\u6587\u4EF6\uFF08\u53EF\u9009\uFF09\n\u2502  \u251C\u2500LICENSE.txt        \u6388\u6743\u8BF4\u660E\u6587\u4EF6\n\u2502  \u251C\u2500phpunit.xml        \u5355\u5143\u6D4B\u8BD5\u914D\u7F6E\u6587\u4EF6\n\u2502  \u251C\u2500README.md          README \u6587\u4EF6\n\u2502  \u2514\u2500start.php          \u6846\u67B6\u5F15\u5BFC\u6587\u4EF6\n\u251C\u2500build.php             \u81EA\u52A8\u751F\u6210\u5B9A\u4E49\u6587\u4EF6\uFF08\u53C2\u8003\uFF09\n\u251C\u2500composer.json         composer \u5B9A\u4E49\u6587\u4EF6\n\u251C\u2500LICENSE.txt           \u6388\u6743\u8BF4\u660E\u6587\u4EF6\n\u251C\u2500README.md             README \u6587\u4EF6\n\u251C\u2500think                 \u547D\u4EE4\u884C\u5165\u53E3\u6587\u4EF6\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u4EE3\u7801",children:"\u4EE3\u7801"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.code,{children:"thinkphp/start.php"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u7CFB\u7EDF\u9ED8\u8BA4\u7684\u4E00\u4E2A\u5F15\u5BFC\u6587\u4EF6"}),"\n",(0,i.jsx)(e.li,{children:"\u52A0\u8F7D\u7CFB\u7EDF\u5E38\u91CF\u5B9A\u4E49"}),"\n",(0,i.jsx)(e.li,{children:"\u52A0\u8F7D\u73AF\u5883\u53D8\u91CF\u5B9A\u4E49\u6587\u4EF6"}),"\n",(0,i.jsx)(e.li,{children:"\u6CE8\u518C\u81EA\u52A8\u52A0\u8F7D\u673A\u5236"}),"\n",(0,i.jsx)(e.li,{children:"\u6CE8\u518C\u9519\u8BEF\u548C\u5F02\u5E38\u5904\u7406\u673A\u5236"}),"\n",(0,i.jsx)(e.li,{children:"\u52A0\u8F7D\u60EF\u4F8B\u914D\u7F6E\u6587\u4EF6"}),"\n",(0,i.jsx)(e.li,{children:"\u6267\u884C\u5E94\u7528"}),"\n",(0,i.jsx)(e.li,{children:"\u9996\u5148\u4F1A\u8C03\u7528 base.php \u57FA\u7840\u5F15\u5BFC\u6587\u4EF6\uFF0C\u67D0\u4E9B\u7279\u6B8A\u9700\u6C42\u4E0B\u9762\u53EF\u80FD\u76F4\u63A5\u5728\u5165\u53E3\u6587\u4EF6\u4E2D\u5F15\u5165\u57FA\u7840\u5F15\u5BFC\u6587\u4EF6\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u8DEF\u7531"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"__miss__"})," \u5B9A\u4E49\u672A\u627E\u5230\u65F6\u7684\u64CD\u4F5C"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"[blog]"})," \u5206\u7EC4\u4F7F\u7528 ",(0,i.jsx)(e.code,{children:"[]"})," \u6807\u793A"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u63A7\u5236\u5668"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u6807\u51C6\u63A7\u5236\u5668\u652F\u6301 \u8BF7\u6C42\u65B9\u6CD5+\u8DEF\u5F84 \u7684\u8F6C\u6362"}),"\n",(0,i.jsx)(e.li,{children:"\u8D44\u6E90\u63A7\u5236\u652F\u6301\u4EE5\u4E0B\u65B9\u6CD5\u6620\u5C04"}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{children:"\u6807\u8BC6"}),(0,i.jsx)(e.th,{children:"\u8BF7\u6C42\u7C7B\u578B"}),(0,i.jsx)(e.th,{children:"\u751F\u6210\u8DEF\u7531\u89C4\u5219"}),(0,i.jsx)(e.th,{children:"\u5BF9\u5E94\u64CD\u4F5C\u65B9\u6CD5\uFF08\u9ED8\u8BA4\uFF09"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"index"}),(0,i.jsx)(e.td,{children:"GET"}),(0,i.jsx)(e.td,{children:"blog"}),(0,i.jsx)(e.td,{children:"index"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"create"}),(0,i.jsx)(e.td,{children:"GET"}),(0,i.jsx)(e.td,{children:"blog/create"}),(0,i.jsx)(e.td,{children:"create"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"save"}),(0,i.jsx)(e.td,{children:"POST"}),(0,i.jsx)(e.td,{children:"blog"}),(0,i.jsx)(e.td,{children:"save"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"read"}),(0,i.jsx)(e.td,{children:"GET"}),(0,i.jsx)(e.td,{children:"blog/:id"}),(0,i.jsx)(e.td,{children:"read"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"edit"}),(0,i.jsx)(e.td,{children:"GET"}),(0,i.jsx)(e.td,{children:"blog/:id/edit"}),(0,i.jsx)(e.td,{children:"edit"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"update"}),(0,i.jsx)(e.td,{children:"PUT"}),(0,i.jsx)(e.td,{children:"blog/:id"}),(0,i.jsx)(e.td,{children:"update"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{children:"delete"}),(0,i.jsx)(e.td,{children:"DELETE"}),(0,i.jsx)(e.td,{children:"blog/:id"}),(0,i.jsx)(e.td,{children:"delete"})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"\u6A21\u578B"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u652F\u6301\u6570\u636E\u5E93\u8868\u6620\u5C04"}),"\n",(0,i.jsx)(e.li,{children:"\u652F\u6301\u57FA\u672C\u7684\u589E\u5220\u6539\u67E5\u64CD\u4F5C"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"pecl",children:"PECL"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"http://pear.php.net/packages.php",children:"http://pear.php.net/packages.php"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://pecl.php.net/package-stats.php",children:"https://pecl.php.net/package-stats.php"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"http://php.net/manual/en/extensions.php",children:"http://php.net/manual/en/extensions.php"})}),"\n",(0,i.jsxs)(e.li,{children:["\u5E38\u7528\u6269\u5C55\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Redis"}),"\n",(0,i.jsx)(e.li,{children:"Mongo"}),"\n",(0,i.jsx)(e.li,{children:"gRPC"}),"\n",(0,i.jsx)(e.li,{children:"Protobuf"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"pecl updahe-channels\n# yes \u542F\u7528 igbinary\n# https://github.com/igbinary/igbinary\npecl install -o -f redis <<< no\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'build                  Build an Extension From C Source\nbundle                 Unpacks a Pecl Package\nchannel-add            Add a Channel\nchannel-alias          Specify an alias to a channel name\nchannel-delete         Remove a Channel From the List\nchannel-discover       Initialize a Channel from its server\nchannel-info           Retrieve Information on a Channel\nchannel-login          Connects and authenticates to remote channel server\nchannel-logout         Logs out from the remote channel server\nchannel-update         Update an Existing Channel\nclear-cache            Clear Web Services Cache\nconfig-create          Create a Default configuration file\nconfig-get             Show One Setting\nconfig-help            Show Information About Setting\nconfig-set             Change Setting\nconfig-show            Show All Settings\nconvert                Convert a package.xml 1.0 to package.xml 2.0 format\ncvsdiff                Run a "cvs diff" for all files in a package\ncvstag                 Set CVS Release Tag\ndownload               Download Package\ndownload-all           Downloads each available package from the default channel\ninfo                   Display information about a package\ninstall                Install Package\nlist                   List Installed Packages In The Default Channel\nlist-all               List All Packages\nlist-channels          List Available Channels\nlist-files             List Files In Installed Package\nlist-upgrades          List Available Upgrades\nlogin                  Connects and authenticates to remote server [Deprecated in favor of channel-login]\nlogout                 Logs out from the remote server [Deprecated in favor of channel-logout]\nmakerpm                Builds an RPM spec file from a PEAR package\npackage                Build Package\npackage-dependencies   Show package dependencies\npackage-validate       Validate Package Consistency\npickle                 Build PECL Package\nremote-info            Information About Remote Packages\nremote-list            List Remote Packages\nrun-scripts            Run Post-Install Scripts bundled with a package\nrun-tests              Run Regression Tests\nsearch                 Search remote package database\nshell-test             Shell Script Test\nsign                   Sign a package distribution file\nsvntag                 Set SVN Release Tag\nuninstall              Un-install Package\nupdate-channels        Update the Channel List\nupgrade                Upgrade Package\nupgrade-all            Upgrade All Packages [Deprecated in favor of calling upgrade with no parameters]\nUsage: pecl [options] command [command-options] <parameters>\nType "pecl help options" to list all options.\nType "pecl help shortcuts" to list all command shortcuts.\nType "pecl help version" or "pecl version" to list version information.\nType "pecl help <command>" to get the help for the specified command.\n'})}),"\n",(0,i.jsx)(e.h2,{id:"hhvm",children:"HHVM"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u7ED3\u8BBA: \u4E0D\u5EFA\u8BAE\u4F7F\u7528"}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://hhvm.com/",children:"https://hhvm.com/"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"http://hacklang.org/",children:"http://hacklang.org/"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/HHVM",children:"https://en.wikipedia.org/wiki/HHVM"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"http://github.com/facebook/hhvm",children:"http://github.com/facebook/hhvm"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://3v4l.org/",children:"https://3v4l.org/"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://www.keycdn.com/blog/php-7-vs-hhvm/",children:"https://www.keycdn.com/blog/php-7-vs-hhvm/"})}),"\n",(0,i.jsx)(e.li,{children:"Hip Hop bytecode"}),"\n",(0,i.jsxs)(e.li,{children:["HHVM vs PHP7\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u901F\u5EA6\u76F8\u5DEE\u4E0D\u5927"}),"\n",(0,i.jsx)(e.li,{children:"\u6269\u5C55 HHVM \u4F7F\u7528 C++ PHP7 \u4F7F\u7528 C"}),"\n",(0,i.jsx)(e.li,{children:"HHVM \u652F\u6301\u7C7B\u578B\u6CE8\u89E3, \u7C7B\u4F3C\u4E8E Typescript \u4E0E JavaScript \u76F4\u63A5\u7684\u5173\u7CFB"}),"\n",(0,i.jsx)(e.li,{children:"PHP7 \u66F4\u52A0\u7A33\u5B9A, \u517C\u5BB9\u6027\u66F4\u5F3A"}),"\n",(0,i.jsx)(e.li,{children:"\u4EE3\u7801\u4FEE\u6B63\u540E HHVM \u9700\u8981\u91CD\u542F"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\u8D8A\u6765\u8D8A\u591A\u7684\u5E93\u9009\u62E9\u4E0D\u518D\u652F\u6301 HHVM\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"http://symfony.com/blog/symfony-4-end-of-hhvm-support",children:"Symfony 4: End of HHVM support"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/doctrine/doctrine2/issues/6424",children:"doctrine#6424"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://derickrethans.nl/mongodb-hhvm.html",children:"HHVM and MongoDB"})}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"https://github.com/cakephp/cakephp/issues/10674",children:"cakephp#10674"}),": Drop support for HHVM officially"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"symfony",children:"Symfony"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/symfony/symfony",children:"https://github.com/symfony/symfony"})}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["require,require_once,include_once,include \u662F\u8BED\u53E5\u800C\u4E0D\u662F\u51FD\u6570, \u6240\u4EE5\u4E0D\u9700\u8981\u62EC\u53F7 ",(0,i.jsx)(e.code,{children:"()"})]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"faq",children:"FAQ"}),"\n",(0,i.jsx)(e.h3,{id:"\u907F\u514D\u76F4\u63A5\u8BBF\u95EE-php",children:"\u907F\u514D\u76F4\u63A5\u8BBF\u95EE PHP"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-php",children:'<?php\n// \u907F\u514D\u4E0D\u88AB include\nif(count(get_included_files()) ==1) exit("Direct access not permitted.");\n\n// \u907F\u514D\u88AB include\nfunction blockit()\n{\n  $buf = get_included_files();\n  return $buf[0] != __FILE__;\n}\nblockit() and exit("You can not include a MAIN file as a part of your script.");\n'})}),"\n",(0,i.jsx)(e.h3,{id:"\u786E\u4FDD\u76F8\u5BF9\u5F15\u7528\u6B63\u786E",children:"\u786E\u4FDD\u76F8\u5BF9\u5F15\u7528\u6B63\u786E"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-php",children:"<?php\n// \u5B9A\u4E49\u76F8\u5BF9\u8DEF\u5F84\ndefine('__ROOT__', dirname(dirname(__FILE__)));\nrequire_once(__ROOT__.'/config.php');\n\n// \u800C\u4E0D\u662F\u4F7F\u7528\u7EDD\u5BF9\u8DEF\u5F84\nrequire_once('/var/www/public_html/config.php'); ?>\n"})}),"\n",(0,i.jsx)(e.h3,{id:"\u67E5\u770B-ca-\u73AF\u5883",children:"\u67E5\u770B ca \u73AF\u5883"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'php -r "print_r(openssl_get_cert_locations());"\n'})}),"\n",(0,i.jsx)(e.h3,{id:"connection-to-sslpeclphpnet443-failed-unable-to-find-the-socket-transport-ssl---did-you-forget-to-enable-it-when-you-configured-php",children:'Connection to `ssl://pecl.php.net:443\' failed: Unable to find the socket transport "ssl" - did you forget to enable it when you configured PHP?'}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u53EF\u80FD\u662F\u7531\u4E8E\u672A\u542F\u7528 openssl ",(0,i.jsx)(e.code,{children:"php -m | grep ssl"})]}),"\n",(0,i.jsx)(e.li,{children:"\u53EF\u80FD\u662F\u7531\u4E8E pecl \u672A\u52A0\u8F7D php.ini"}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u8BBE\u7F6E php.ini\npear config-set php_ini /etc/php7/php.ini\n"})})]})}function p(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}},917776:function(n,e,l){l.d(e,{R:()=>t,x:()=>c});var s=l(7378);let i={},r=s.createContext(i);function t(n){let e=s.useContext(r);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),s.createElement(r.Provider,{value:e},n.children)}}}]);