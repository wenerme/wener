"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["698712"],{200893:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>l,toc:()=>h,default:()=>a,metadata:()=>i,assets:()=>d,contentTitle:()=>c});var i=JSON.parse('{"id":"service/p2p/ipfs","title":"IPFS","description":"- the InterPlanetary File System","source":"@site/../notes/service/p2p/ipfs.md","sourceDirName":"service/p2p","slug":"/service/p2p/ipfs","permalink":"/notes/service/p2p/ipfs","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/p2p/ipfs.md","tags":[{"inline":true,"label":"Protocol","permalink":"/notes/tags/protocol"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1707902059000,"frontMatter":{"title":"IPFS","tags":["Protocol"]},"sidebar":"docs","previous":{"title":"vrl","permalink":"/notes/service/observability/vrl"},"next":{"title":"p2p-faq","permalink":"/notes/service/p2p/faq"}}'),t=s(486106),r=s(917776);let l={title:"IPFS",tags:["Protocol"]},c="IPFS",d={},h=[{value:"libp2p",id:"libp2p",level:2},{value:"filestore",id:"filestore",level:2},{value:"gateway",id:"gateway",level:2}];function p(e){let n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"ipfs",children:"IPFS"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"the InterPlanetary File System"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/ipfs",children:"ipfs"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ipfspics/ipfspics-server",children:"ipfs.pics"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Distributed image hosting"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/download13/ipfstube",children:"ipfstube"})}),"\n",(0,t.jsxs)(n.li,{children:["Why\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u63D0\u4F9B\u5757\u7EA7\u53BB\u91CD, \u4F7F\u5F97\u603B\u4F53\u6570\u636E\u91CF\u5F97\u5230\u538B\u7F29"}),"\n",(0,t.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/ipfs/notes/issues/208",children:"Comparison of IPFS and BitTorrent for Archives"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://discuss.ipfs.io/t/how-does-ipfs-compare-with-x/465",children:"How does IPFS compare with X?"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u7AEF\u53E3\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"4001 - Swarm TCP"}),"\n",(0,t.jsx)(n.li,{children:"4002 - Swarm uTP"}),"\n",(0,t.jsxs)(n.li,{children:["5001 - API\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/webui"})," Web \u7BA1\u7406\u7AEF"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"8080 - Gateway"}),"\n",(0,t.jsx)(n.li,{children:"8081 - Swarm Websockets"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://discuss.ipfs.io/t/is-it-possible-to-use-ipfs-for-live-video-streaming/1115",children:"Is it possible to use IPFS for LIVE video streaming?"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://apis.wener.me/ipfs/gateway/checker",children:"IPFS \u516C\u5171\u7F51\u5173\u68C0\u6D4B"})}),"\n",(0,t.jsxs)(n.li,{children:["\u4F18\u52BF\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u652F\u6301 gateway - \u53EF\u4EE5\u901A\u8FC7 HTTP \u76F4\u63A5\u8BBF\u95EE"}),"\n",(0,t.jsx)(n.li,{children:"\u652F\u6301 MFS/\u865A\u62DF\u76EE\u5F55"}),"\n",(0,t.jsx)(n.li,{children:"\u76EE\u6807\u662F\u66FF\u4EE3 internet \u800C\u4E0D\u662F\u5355\u7EAF\u7684 P2P \u6587\u4EF6\u5171\u4EAB"}),"\n",(0,t.jsx)(n.li,{children:"ipns \u66FF\u4EE3 dns\uFF0Cipfs \u66FF\u4EE3 internet"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u52A3\u52BF\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["IPFS \u7F51\u7EDC\u76F8\u5BF9 torrent \u6CA1\u90A3\u4E48\u6210\u719F\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u610F\u5473\u7740\u8282\u70B9\u5C11"}),"\n",(0,t.jsx)(n.li,{children:"\u8D44\u6E90\u5C11"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"\u6587\u4EF6\u5206\u53D1\u8F83\u6162"}),"\n",(0,t.jsx)(n.li,{children:"\u5F00\u53D1\u516C\u53F8\u91CD\u5FC3\u8F6C\u5411 filecoin"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/cloudflare/ipfs-ext",children:"https://github.com/cloudflare/ipfs-ext"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# macOS\nbrew install ipfs\n\n# https://docs.ipfs.io/reference/api/cli/\n# \u751F\u6210\u914D\u7F6E\u6587\u4EF6\n# \u9ED8\u8BA4\u4F4D\u4E8E $HOME/.ipfs \u53EF\u901A\u8FC7 IPFS_PATH \u66F4\u6539\nexport IPFS_PATH=$PWD/repo\n# \u4E5F\u53EF\u4EE5\u4F7F\u7528 --config \u6216 -c \u6307\u5B9A\nipfs init\n\n# \u83B7\u53D6\u914D\u7F6E\nipfs config -c $PWD/repo --json Addresses.API\n# \u4FEE\u6539\u914D\u7F6E\n# \u9ED8\u8BA4\u53EA\u76D1\u542C 127.0.0.1\nipfs config Addresses.API /ip4/0.0.0.0/tcp/5001\n\n# \u542F\u52A8\u670D\u52A1\u7AEF\nipfs daemon\n\n# \u53EF\u4F7F\u7528 --api \u6307\u5B9A\u8FDC\u7A0B\u63A5\u53E3\n# \u67E5\u770B\u8282\u70B9\nipfs --api /ip4/127.0.0.1/tcp/5001 swarm peers\n\n# \u5BB9\u5668\u73AF\u5883\u4E2D\u4F7F\u7528 ipfs\ndocker run --rm -it -v $PWD:/host --entrypoint sh --workdir /host ipfs/go-ipfs\n\n# \u542F\u52A8\u670D\u52A1\n# -e IPFS_LOGGING=debug \u663E\u793A\u8C03\u8BD5\u65E5\u5FD7\ndocker run -it --rm \\\n   -v $PWD/repo:/data/ipfs \\\n   -p 8080:8080 -p 4001:4001 -p 5001:5001 \\\n   --name ipfs_host ipfs/go-ipfs\n\n\n# \u751F\u6210 hash \u4E0D\u6DFB\u52A0\u6587\u4EF6 - HASH \u5BF9\u5E94 IPLD file data\necho 'Hello IPFS!' | ipfs add -nq\n\n# MFS \u91CC\u6587\u4EF6\u7684 hash - \u662F\u4E00\u4E2A LINK - HASH \u5BF9\u5E94 IPLD \u591A\u4E2A file block - \u6700\u540E\u7684\u4E00\u4E2A block \u5BF9\u5E94 raw \u6570\u636E - \u76F8\u540C\u6570\u636E\u4F46\u4E0D\u540C hsah\nipfs files stat /myfile\n\n# cp \u53EF\u4EE5\u652F\u6301\u4ECE add \u7684\u590D\u5236\u5230 mfs\nipfs files cp /ipfs/$(echo 'Hello IPFS!' | ipfs add -q) /hello.txt\nipfs files read /hello.txt\n"})}),"\n",(0,t.jsx)(n.h2,{id:"libp2p",children:"libp2p"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/libp2p/libp2p",children:"libp2p/libp2p"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/libp2p/go-libp2p",children:"libp2p/go-libp2p"})}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u529F\u80FD"}),(0,t.jsx)(n.th,{children:"\u76EE\u7684"}),(0,t.jsx)(n.th,{children:"\u5B9E\u73B0"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u4F7F\u7528\u6570\u636E"}),(0,t.jsx)(n.td,{children:"applications"}),(0,t.jsx)(n.td,{children:"IPFS"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u5B9A\u4E49\u6570\u636E"}),(0,t.jsxs)(n.td,{children:["naming",(0,t.jsx)(n.br,{}),"merkledag"]}),(0,t.jsxs)(n.td,{children:["IPNS",(0,t.jsx)(n.br,{}),"IPLD"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u79FB\u52A8\u6570\u636E"}),(0,t.jsxs)(n.td,{children:["exchange",(0,t.jsx)(n.br,{}),"routing",(0,t.jsx)(n.br,{}),"network"]}),(0,t.jsx)(n.td,{children:"libp2p"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://github.com/ipld/specs/tree/master/ipld",children:"https://github.com/ipld/specs/tree/master/ipld"}),"\n",(0,t.jsx)(n.a,{href:"https://blog.cloudflare.com/distributed-web-gateway/",children:"https://blog.cloudflare.com/distributed-web-gateway/"}),"\n",(0,t.jsx)(n.a,{href:"https://developers.cloudflare.com/distributed-web/ipfs-gateway/",children:"https://developers.cloudflare.com/distributed-web/ipfs-gateway/"})]}),"\n",(0,t.jsx)(n.h2,{id:"filestore",children:"filestore"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \u542F\u7528\u7279\u6027\nipfs config --json Experimental.FilestoreEnabled true\n"})}),"\n",(0,t.jsx)(n.h2,{id:"gateway",children:"gateway"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/ipfs/go-ipfs/blob/master/docs/gateway.md",children:"https://github.com/ipfs/go-ipfs/blob/master/docs/gateway.md"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/ipfs/infra/blob/master/ipfs/gateway/nginx.conf",children:"https://github.com/ipfs/infra/blob/master/ipfs/gateway/nginx.conf"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://rklaehn.github.io/2018/06/08/running-ipfs-gateway/",children:"https://rklaehn.github.io/2018/06/08/running-ipfs-gateway/"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ipfs swarm connect $peer\nipfs bootstrap add $peer\n"})})]})}function a(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},917776:function(e,n,s){s.d(n,{R:()=>l,x:()=>c});var i=s(7378);let t={},r=i.createContext(t);function l(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);