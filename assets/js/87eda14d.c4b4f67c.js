"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["645410"],{833180:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>s,toc:()=>c,default:()=>d,metadata:()=>r,assets:()=>h,contentTitle:()=>l});var r=JSON.parse('{"id":"network/link/switch","title":"Switch","description":"Tips","source":"@site/../notes/network/link/switch.md","sourceDirName":"network/link","slug":"/network/link/switch","permalink":"/notes/network/link/switch","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/network/link/switch.md","tags":[{"inline":true,"label":"Network","permalink":"/notes/tags/network"},{"inline":true,"label":"Switch","permalink":"/notes/tags/switch"},{"inline":true,"label":"Hardware","permalink":"/notes/tags/hardware"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"Switch","tags":["Network","Switch","Hardware"]},"sidebar":"docs","previous":{"title":"Router","permalink":"/notes/network/link/router"},"next":{"title":"Load Balance","permalink":"/notes/network/loadbalance"}}'),i=t(486106),a=t(917776);let s={title:"Switch",tags:["Network","Switch","Hardware"]},l="Switch",h={},c=[{value:"Tips",id:"tips",level:2},{value:"\u5982\u4F55\u9009\u62E9",id:"\u5982\u4F55\u9009\u62E9",level:2}];function o(e){let n={a:"a",code:"code",dd:"dd",dl:"dl",dt:"dt",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"switch",children:"Switch"})}),"\n",(0,i.jsx)(n.h2,{id:"tips",children:"Tips"}),"\n",(0,i.jsx)(n.p,{children:"\u4F4D\u4E8E OSI 2,3 \u5C42 Data Link/Network"}),"\n",(0,i.jsx)(n.p,{children:"1GbE \u6CA1\u6709\u534A\u53CC\u5DE5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.systutorials.com/1372/setting-up-gateway-using-iptables-and-route-on-linux/",children:"Setting up gateway using iptables and route on Linux"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"sysctl -w net.ipv4.ip_forward=1\n\niptables -t nat -A POSTROUTING ! -d 192.168.0.0/16 -o eth1 -j SNAT --to-source 1.2.3.4\n\niptables -t nat -A POSTROUTING ! -d 192.168.0.0/16 -o eth1 -j MASQUERADE\n\n# However, please note that, for static IPs, SNAT is suggested\n\niptables -A FORWARD -i eth0 -s 192.168.0.0/24 -j ACCEPT\n\niptables -I FORWARD -j ACCEPT\n# iptables -t nat -I POSTROUTING \u2013out-interface wen -j MASQUERADE\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://forum.proxmox.com/threads/openvswitch-pfsense-and-carp.26284/",children:"OpenVSwitch, pfSense and CARP"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ip ro add 192.168.8.0/22 via 10.10.0.100 dev wen\n\n# https://github.com/brona/iproute2mac\nbrew install iproute2mac\n"})}),"\n",(0,i.jsx)(n.p,{children:"$ iptables -L\nChain INPUT (policy ACCEPT)\ntarget prot opt source destination\nACCEPT udp -- anywhere anywhere udp dpt:domain\nACCEPT tcp -- anywhere anywhere tcp dpt:domain\nACCEPT udp -- anywhere anywhere udp dpt:bootps\nACCEPT tcp -- anywhere anywhere tcp dpt:bootps\nACCEPT udp -- anywhere anywhere udp dpt:domain\nACCEPT tcp -- anywhere anywhere tcp dpt:domain\nACCEPT udp -- anywhere anywhere udp dpt:bootps\nACCEPT tcp -- anywhere anywhere tcp dpt:bootps"}),"\n",(0,i.jsx)(n.p,{children:"Chain FORWARD (policy DROP)\ntarget prot opt source destination\nACCEPT all -- anywhere 192.168.122.0/24 ctstate RELATED,ESTABLISHED\nACCEPT all -- 192.168.122.0/24 anywhere\nACCEPT all -- anywhere anywhere\nREJECT all -- anywhere anywhere reject-with icmp-port-unreachable\nREJECT all -- anywhere anywhere reject-with icmp-port-unreachable\nACCEPT all -- anywhere 192.168.122.0/24 ctstate RELATED,ESTABLISHED\nACCEPT all -- 192.168.122.0/24 anywhere\nACCEPT all -- anywhere anywhere\nREJECT all -- anywhere anywhere reject-with icmp-port-unreachable\nREJECT all -- anywhere anywhere reject-with icmp-port-unreachable\nDOCKER-USER all -- anywhere anywhere\nDOCKER-ISOLATION all -- anywhere anywhere\nACCEPT all -- anywhere anywhere ctstate RELATED,ESTABLISHED\nDOCKER all -- anywhere anywhere\nACCEPT all -- anywhere anywhere\nACCEPT all -- anywhere anywhere"}),"\n",(0,i.jsx)(n.p,{children:"Chain OUTPUT (policy ACCEPT)\ntarget prot opt source destination\nACCEPT udp -- anywhere anywhere udp dpt:bootpc\nACCEPT udp -- anywhere anywhere udp dpt:bootpc"}),"\n",(0,i.jsx)(n.p,{children:"Chain DOCKER (1 references)\ntarget prot opt source destination"}),"\n",(0,i.jsx)(n.p,{children:"Chain DOCKER-ISOLATION (1 references)\ntarget prot opt source destination\nRETURN all -- anywhere anywhere"}),"\n",(0,i.jsx)(n.p,{children:"Chain DOCKER-USER (1 references)\ntarget prot opt source destination\nRETURN all -- anywhere anywhere"}),"\n",(0,i.jsx)(n.h2,{id:"\u5982\u4F55\u9009\u62E9",children:"\u5982\u4F55\u9009\u62E9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"http://www.cisco.com/c/en/us/products/switches/product-listing.html",children:"All Switches Products"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://searchnetworking.techtarget.com/feature/What-to-consider-when-choosing-the-best-Ethernet-switch",children:"What to consider when choosing the best Ethernet switch"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.cisco.com/c/dam/assets/prod/switches/cisco-switch-selector-how-to/index.html",children:"Cisco Switch Selector"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"http://www.tomshardware.com/reviews/network-switch-basics,4123.html",children:"Network Switch 101"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.linkedin.com/learning/networking-foundations-network-media-wans/backplane-speed",children:"Backplane Speed"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u8003\u8651\u7EF4\u5EA6:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5C3A\u5BF8"}),"\n",(0,i.jsx)(n.li,{children:"\u7AEF\u53E3\u6570"}),"\n",(0,i.jsx)(n.li,{children:"\u901F\u5EA6\u548C\u53EF\u9760\u6027"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Backplane:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u80CC\u677F\u541E\u5410\u91CF"}),"\n",(0,i.jsx)(n.li,{children:"\u80CC\u677F\u7684\u541E\u5410\u91CF\u4E3A\u6240\u6709\u7AEF\u53E3\u901F\u5EA6\u603B\u548C"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"L3 Switch:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5173\u5FC3\u8F6C\u53D1\u7387"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"how fast it can actually route packets"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u5355\u4F4D\u4E00\u822C\u4E3A packets per second"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u541E\u5410\u91CF\u4E3A megabit or gigabit per second"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://arstechnica.com/civis/viewtopic.php?f=10&t=1228607",children:"Throughput vs Bandwidth"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u7AEF\u53E3\u5747\u5177\u5907\u7EBF\u901F\u8F6C\u53D1\u80FD\u529B"}),"\n",(0,i.jsx)(n.p,{children:"\u652F\u6301\u7AEF\u53E3\u81EA\u52A8\u7FFB\u8F6C\uFF08Auto MDI/MDIX\uFF09\u529F\u80FD"}),"\n",(0,i.jsx)(n.p,{children:"\u652F\u6301MAC\u5730\u5740\u81EA\u5B66\u4E60\uFF1B\u652F\u6301\u5168\u53CC\u5DE5\u5DE5\u4F5C\u6A21\u5F0F"}),"\n",(0,i.jsx)(n.p,{children:"\u652F\u6301IEEE 802.3x\u5168\u53CC\u5DE5\u6D41\u63A7\u548CBackpressure\u534A\u53CC\u5DE5\u6D41\u63A7\u3002\n\u7F51\u7EDC\u6807\u51C6 :IEEE 802.3 \u3001IEEE 802.3u\u3001IEEE 802.3ab\u3001IEEE 802.3x"}),"\n",(0,i.jsxs)(n.dl,{children:[(0,i.jsx)(n.dt,{children:"\u6027\u80FD"}),(0,i.jsx)(n.dd,{children:"\u5B58\u50A8\u8F6C\u53D1"}),(0,i.jsx)(n.dd,{children:"\u652F\u63012K\u7684MAC\u5730\u5740\u8868\u6DF1\u5EA6"})]})]})}function d(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},917776:function(e,n,t){t.d(n,{R:()=>s,x:()=>l});var r=t(7378);let i={},a=r.createContext(i);function s(e){let n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);