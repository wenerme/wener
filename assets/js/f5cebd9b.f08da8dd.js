"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["581660"],{550167:function(e,c,n){n.r(c),n.d(c,{frontMatter:()=>r,toc:()=>i,default:()=>d,metadata:()=>o,assets:()=>l,contentTitle:()=>a});var o=JSON.parse('{"id":"db/newsql/cockroachdb","title":"CockroachDB","description":"- cockroachdb/cockroach","source":"@site/../notes/db/newsql/cockroachdb.md","sourceDirName":"db/newsql","slug":"/db/newsql/cockroachdb","permalink":"/notes/db/newsql/cockroachdb","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/db/newsql/cockroachdb.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"CockroachDB"},"sidebar":"docs","previous":{"title":"SymmetricDS","permalink":"/notes/db/mobile/symmetricds"},"next":{"title":"NewSQL FAQ","permalink":"/notes/db/newsql/faq"}}'),t=n(486106),s=n(917776);let r={title:"CockroachDB"},a="CockroachDB",l={},i=[{value:"Tips",id:"tips",level:2},{value:"\u672C\u5730\u96C6\u7FA4",id:"\u672C\u5730\u96C6\u7FA4",level:2}];function h(e){let c={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.header,{children:(0,t.jsx)(c.h1,{id:"cockroachdb",children:"CockroachDB"})}),"\n",(0,t.jsxs)(c.ul,{children:["\n",(0,t.jsxs)(c.li,{children:[(0,t.jsx)(c.a,{href:"https://github.com/cockroachdb/cockroach",children:"cockroachdb/cockroach"}),"\n",(0,t.jsxs)(c.ul,{children:["\n",(0,t.jsx)(c.li,{children:"BSL, Go"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(c.li,{children:["\u53C2\u8003\n",(0,t.jsxs)(c.ul,{children:["\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.a,{href:"https://www.cockroachlabs.com/docs/stable/migration-overview.html",children:"Migrate to CockroachDB"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(c.h2,{id:"tips",children:"Tips"}),"\n",(0,t.jsxs)(c.ul,{children:["\n",(0,t.jsxs)(c.li,{children:["BSL \u534F\u8BAE\n",(0,t.jsxs)(c.ul,{children:["\n",(0,t.jsx)(c.li,{children:"Can host CockroachDB as a service for internal use at organization"}),"\n",(0,t.jsx)(c.li,{children:"third parties cannot modify table schemas."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(c.li,{children:(0,t.jsx)(c.a,{href:"https://github.com/cockroachdb/cockroach/blob/master/docs/design.md",children:"Design"})}),"\n",(0,t.jsxs)(c.li,{children:[(0,t.jsx)(c.a,{href:"https://www.cockroachlabs.com/docs/stable/known-limitations.html",children:"Known Limitations"}),"\n",(0,t.jsxs)(c.ul,{children:["\n",(0,t.jsx)(c.li,{children:"Database and table renames are not transactional"}),"\n",(0,t.jsx)(c.li,{children:"DISTINCT operations cannot operate over JSON values"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(c.p,{children:[(0,t.jsx)(c.a,{href:"https://www.cockroachlabs.com/docs/stable/migrate-from-mysql.html",children:"https://www.cockroachlabs.com/docs/stable/migrate-from-mysql.html"}),"\n",(0,t.jsx)(c.a,{href:"https://www.cockroachlabs.com/docs/stable/migrate-from-postgres.html",children:"https://www.cockroachlabs.com/docs/stable/migrate-from-postgres.html"})]}),"\n",(0,t.jsxs)(c.p,{children:[(0,t.jsx)(c.a,{href:"https://www.cockroachlabs.com/docs/stable/postgresql-compatibility.html",children:"https://www.cockroachlabs.com/docs/stable/postgresql-compatibility.html"}),"\nCockroachDB is compatible with PostgreSQL 9.5 and works with majority of PostgreSQL database"]}),"\n",(0,t.jsx)(c.pre,{children:(0,t.jsx)(c.code,{className:"language-bash",children:"brew install cockroach\ndocker pull cockroachdb/cockroach:v2.1.0\n\n# http://localhost:26256\ncockroach start --insecure\n"})}),"\n",(0,t.jsx)(c.h2,{id:"\u672C\u5730\u96C6\u7FA4",children:"\u672C\u5730\u96C6\u7FA4"}),"\n",(0,t.jsx)(c.pre,{children:(0,t.jsx)(c.code,{className:"language-bash",children:"# \u7B2C\u4E00\u4E2A\u8282\u70B9\ncockroach start --insecure --listen-addr=localhost\n# \u7B2C\u4E8C\u4E2A\u8282\u70B9\ncockroach start \\\n  --insecure \\\n  --store=node2 \\\n  --listen-addr=localhost:26258 \\\n  --http-addr=localhost:8081 \\\n  --join=localhost:26257\n# \u7B2C\u4E09\u4E2A\u8282\u70B9\ncockroach start \\\n  --insecure \\\n  --store=node3 \\\n  --listen-addr=localhost:26259 \\\n  --http-addr=localhost:8082 \\\n  --join=localhost:26257\n\n# \u547D\u4EE4\u884C\ncockroach sql --insecure --host=localhost:26257\n"})})]})}function d(e={}){let{wrapper:c}={...(0,s.R)(),...e.components};return c?(0,t.jsx)(c,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},917776:function(e,c,n){n.d(c,{R:()=>r,x:()=>a});var o=n(7378);let t={},s=o.createContext(t);function r(e){let c=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(c):{...c,...e}},[c,e])}function a(e){let c;return c=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(s.Provider,{value:c},e.children)}}}]);