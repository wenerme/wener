"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["917178"],{641257:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>t,toc:()=>d,default:()=>h,metadata:()=>l,assets:()=>c,contentTitle:()=>a});var l=JSON.parse('{"id":"voip/asterisk/iax","title":"IAX","description":"- rfc5456","source":"@site/../notes/voip/asterisk/iax.md","sourceDirName":"voip/asterisk","slug":"/voip/asterisk/iax","permalink":"/notes/voip/asterisk/iax","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/voip/asterisk/iax.md","tags":[{"inline":true,"label":"RFC","permalink":"/notes/tags/rfc"},{"inline":true,"label":"Protocol","permalink":"/notes/tags/protocol"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1639029574000,"frontMatter":{"title":"IAX","tags":["RFC","Protocol"]},"sidebar":"docs","previous":{"title":"Asterisk GSM","permalink":"/notes/voip/asterisk/gsm"},"next":{"title":"Asterisk REST Interface (ARI)","permalink":"/notes/voip/asterisk/res_ari"}}'),s=i(486106),r=i(917776);let t={title:"IAX",tags:["RFC","Protocol"]},a="IAX",c={},d=[{value:"Protocol",id:"protocol",level:2}];function o(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"iax",children:"IAX"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://datatracker.ietf.org/doc/html/rfc5456",children:"rfc5456"}),"\nIAX: Inter-Asterisk eXchange Version 2"]}),"\n",(0,s.jsx)(e.li,{children:"peer-to-peer, VoIP-oriented protocol"}),"\n",(0,s.jsx)(e.li,{children:"control & media"}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.code,{children:"iax:[username@]host[:port][/number[?context]]"})}),"\n",(0,s.jsx)(e.li,{children:"60s \u8D85\u65F6"}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Registration - \u6CE8\u518C\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"REGREQ, REGAUTH, REGACK, REGREJ, REGREL"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Call Link Management - Call Leg Management\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"NEW, AUTHREP, AUTHREQ, REJECT, HANGUP, ACCEPT, PROCEEDING, RINGING, ANSWER"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Call Control\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"PROCEEDING, RINGING, ANSWER"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Mid-Call Behavior - Mid-Call Link Operations\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"FLASH, HOLD, UNHOLD, QUELCH, UNQUELCH, TRANSFER"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Call Path Optimization\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"TXREJ, TXREL, TXREQ, TXCNT, TXACC, TXREADY, TXMEDIA"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Call Tear Down\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"HANGUP, REJECT, TRANSFER, TXREADY"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Network Monitoring\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"POKE, PING, PONG, LAGRQ, LAGRP"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Digit Dialing\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"DPREQ, DPREP, DIAL"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Miscellaneous\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ACK, INVAL, VNAK, MWI, UNSUPPORT"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Media Messages\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"DMTF"}),"\n",(0,s.jsx)(e.li,{children:"voice, video, text, image, html"}),"\n"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"abbr."}),(0,s.jsx)(e.th,{children:"stand for"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"IE"}),(0,s.jsx)(e.td,{children:"Information Element"})]})})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u6D88\u606F\u4F20\u8F93\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Mini Frame\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"media data"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Full Frame - reliably\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"signaling, media data"}),"\n",(0,s.jsx)(e.li,{children:"\u901A\u8FC7 ACK \u786E\u8BA4"}),"\n",(0,s.jsx)(e.li,{children:"\u7EF4\u62A4 sequence"}),"\n",(0,s.jsx)(e.li,{children:"timestamp \u8981\u6C42\u5355\u8C03\u9012\u589E"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Trunking\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["trunk frame\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5C01\u88C5 trunked call audio"}),"\n",(0,s.jsx)(e.li,{children:"2 octets - source number"}),"\n",(0,s.jsx)(e.li,{children:"2 octets - length of data"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"Timers"}),"\n",(0,s.jsxs)(e.li,{children:["Encryption\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"AES"}),"\n",(0,s.jsx)(e.li,{children:"NEW \u65F6\u5EFA\u7ACB"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"protocol",children:"Protocol"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.img,{src:"https://kroki.io/bytefield/svg/eNqlkktvwjAMgO_8iqi7gLRKpTzHbYMh7bJJgxvqwS0OREsfS1IxhPLf57KuDwnQpB2-i_PZie10t8jBGKXZLNy5O4WYsNOMCymZcwce5-A5ttfptrQjSpkeao_zy14mko-mFXqXrOgI7TuBw4Vaucok1h4OwxGfFN5ZZFEq8zhxJYQoNds4nnPv9AmfGBBDYkSMiQkxJR6IR-KJmBML4plYEv_LD36ez8L0C7WboXIVDWzg12H3ILZmz3yvCCk4uGUDe4QtKv0bJZNRPbY5zXRGc-rbelEBa1mrNFcRsjnQfF7zOETVSBvZaiNBK-v9Su2WtEBtRAJGpMnt-sUu26lrEVMyxFktD3zb-EbBeYOV_7bCzyR1WOlObavay83TpYIY2fqY4TVj_pduV3kYSdC6KjKx1Rt3kNE4wEBxGIvyw5XL02xsG90Yk8a9zjfJygQ0",alt:""})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"F - full frame"}),"\n",(0,s.jsx)(e.li,{children:"R - retransmitted"}),"\n",(0,s.jsx)(e.li,{children:"time-stamp - since first transmission of the call"}),"\n",(0,s.jsx)(e.li,{children:"OSeqno - outbound stream sequence number"}),"\n",(0,s.jsx)(e.li,{children:"ISeqno - inbound stream sequence number"}),"\n",(0,s.jsxs)(e.li,{children:["C - \u5F71\u54CD Subclass\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"0 - Subclass 7-bit unsigned integer"}),"\n",(0,s.jsx)(e.li,{children:"1 - pow(Subclass,2)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["frame type\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"DTMF"}),"\n",(0,s.jsx)(e.li,{children:"Voice"}),"\n",(0,s.jsx)(e.li,{children:"Video"}),"\n",(0,s.jsx)(e.li,{children:"Control"}),"\n",(0,s.jsx)(e.li,{children:"Null"}),"\n",(0,s.jsxs)(e.li,{children:["IAX\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5305\u542B IE"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.li,{children:"Text"}),"\n",(0,s.jsx)(e.li,{children:"Image"}),"\n",(0,s.jsx)(e.li,{children:"HTML"}),"\n",(0,s.jsx)(e.li,{children:"Comfort Noise"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-pre",metastring:'title="mini frame"',children:"                        1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |F|     Source call number      |            time-stamp         |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                                                               |\n   :                             Data                              :\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-pre",metastring:'title="meta frame"',children:"    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |F|         Meta Indicator      |V|      Source Call Number     |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |?|          time-stamp         |                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |\n   |                                         Data                  |\n   :                                                               :\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"frame \u524D 16 byte \u90FD\u4E3A 0"}),"\n",(0,s.jsx)(e.li,{children:"Meta Indicator = 0"}),"\n",(0,s.jsx)(e.li,{children:"V=1 - meta video frame"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-pre",metastring:'title="meta trunk frame"',children:"    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |F|         Meta Indicator      |V|Meta Command | Cmd Data (0)  |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                            time-stamp                         |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |R|      Source Call Number     |     Data Length (in octets)   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                                                               |\n   :                             Data                              :\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n                                   .\n                                   .\n                                   .\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |R|      Source Call Number     |     Data Length (in octets)   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                                                               |\n   :                             Data                              :\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Meta Command=1 - meta trunk frame"}),"\n",(0,s.jsxs)(e.li,{children:["Command Data\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"0 - \u4E0D\u5305\u542B timestamp"}),"\n",(0,s.jsx)(e.li,{children:"1 - \u989D\u5916\u589E\u52A0 timestamp"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-pre",metastring:'title="full frame enc"',children:"                        1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |F|     Source Call Number      |R|   Destination Call Number   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                         12 Random bytes                       |\n   |                                                               |\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |               28  Random bits                         |padding|\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                                                               |\n   : between 0 and 15 (as indicated by the padding field above)    :\n   :                         Random bytes                          :\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                                                               |\n   :                    Remainder of Actual Frame                  :\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-pre",metastring:'title="full frame dec"',children:"                        1                   2                   3\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |F|     Source Call Number      |R|   Destination Call Number   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   |                         Encrypted data                        |\n   |                Multiple of 16 bytes                           |\n   |                                                               |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"})})]})}function h(n={}){let{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},917776:function(n,e,i){i.d(e,{R:()=>t,x:()=>a});var l=i(7378);let s={},r=l.createContext(s);function t(n){let e=l.useContext(r);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),l.createElement(r.Provider,{value:e},n.children)}}}]);