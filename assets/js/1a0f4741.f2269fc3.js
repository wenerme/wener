"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["906390"],{838321:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>c,toc:()=>h,default:()=>a,metadata:()=>s,assets:()=>r,contentTitle:()=>d});var s=JSON.parse('{"id":"ai/maas/maas-api","title":"MaaS API","description":"- Google Generative AI API","source":"@site/../notes/ai/maas/maas-api.md","sourceDirName":"ai/maas","slug":"/ai/maas/api","permalink":"/notes/ai/maas/api","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/ai/maas/maas-api.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1772243505000,"frontMatter":{"title":"MaaS API"},"sidebar":"docs","previous":{"title":"elevenlabs","permalink":"/notes/ai/maas/elevenlabs"},"next":{"title":"FAQ","permalink":"/notes/ai/maas/faq"}}'),l=i(486106),t=i(917776);let c={title:"MaaS API"},d="MaaS API",r={},h=[{value:"Multiple tools are supported only when they are all search tools",id:"multiple-tools-are-supported-only-when-they-are-all-search-tools",level:2},{value:"streaming",id:"streaming",level:3},{value:"first chunk",id:"first-chunk",level:3},{value:"last chunk",id:"last-chunk",level:3},{value:"ToolChoice",id:"toolchoice",level:2},{value:"Thinking",id:"thinking",level:2},{value:"Interleaved thinking",id:"interleaved-thinking",level:2},{value:"reasoning_details",id:"reasoning_details",level:2},{value:"Preserved thinking",id:"preserved-thinking",level:2},{value:"role",id:"role",level:2},{value:"Prompt Cache",id:"prompt-cache",level:2},{value:"beta",id:"beta",level:2},{value:"output-128k-2025-02-19",id:"output-128k-2025-02-19",level:2},{value:"extended-cache-ttl-2025-04-11",id:"extended-cache-ttl-2025-04-11",level:2},{value:"code-execution-2025-05-22",id:"code-execution-2025-05-22",level:2},{value:"context-management-2025-06-27",id:"context-management-2025-06-27",level:2},{value:"advanced-tool-use-2025-11-20",id:"advanced-tool-use-2025-11-20",level:2},{value:"tool-examples-2025-10-29",id:"tool-examples-2025-10-29",level:2},{value:"fast-mode-2026-02-01",id:"fast-mode-2026-02-01",level:2},{value:"US-Only Inference",id:"us-only-inference",level:2},{value:"effort",id:"effort",level:2},{value:"adaptive thinking",id:"adaptive-thinking",level:2}];function o(n){let e={a:"a",blockquote:"blockquote",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"maas-api",children:"MaaS API"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Google Generative AI API\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://ai.google.dev/api/rest",children:"https://ai.google.dev/api/rest"})}),"\n",(0,l.jsx)(e.li,{children:"Google AI Studio, Gemini API"}),"\n",(0,l.jsxs)(e.li,{children:["BaseURL ",(0,l.jsx)(e.a,{href:"https://generativelanguage.googleapis.com/v1beta",children:"https://generativelanguage.googleapis.com/v1beta"})]}),"\n",(0,l.jsxs)(e.li,{children:["OpenAI BaseURL ",(0,l.jsx)(e.a,{href:"https://generativelanguage.googleapis.com/v1beta/openai",children:"https://generativelanguage.googleapis.com/v1beta/openai"})," - OpenAI API compatible"]}),"\n",(0,l.jsxs)(e.li,{children:["\u63A5\u53E3\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"/models/{model_id}:streamGenerateContent"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"/models/{model_id}:generateContent?key={key}"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Google Vertex AI\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"GCP, \u4F01\u4E1A\u7EA7\u3001\u5168\u6258\u7BA1\u7684\u673A\u5668\u5B66\u4E60 (ML) \u5E73\u53F0"}),"\n",(0,l.jsx)(e.li,{children:"Model Garden + MLOps"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Anthropic\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://platform.claude.com/docs/en/api/overview",children:"https://platform.claude.com/docs/en/api/overview"})}),"\n",(0,l.jsxs)(e.li,{children:["SDK\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/anthropics/anthropic-sdk-typescript",children:"https://github.com/anthropics/anthropic-sdk-typescript"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/anthropics/anthropic-sdk-typescript/blob/main/src/resources/beta/messages/messages.ts",children:"https://github.com/anthropics/anthropic-sdk-typescript/blob/main/src/resources/beta/messages/messages.ts"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["OpenAI\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://platform.openai.com/docs/api-reference/chat/create",children:"https://platform.openai.com/docs/api-reference/chat/create"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["XAI\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://docs.x.ai/docs/api-reference",children:"https://docs.x.ai/docs/api-reference"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.postman.com/postman/anthropic-apis/documentation/dhus72s/claude-api",children:"https://www.postman.com/postman/anthropic-apis/documentation/dhus72s/claude-api"})}),"\n",(0,l.jsxs)(e.li,{children:["vLLM\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://docs.vllm.ai/en/v0.10.2/api/vllm/entrypoints/openai/serving_completion.html",children:"https://docs.vllm.ai/en/v0.10.2/api/vllm/entrypoints/openai/serving_completion.html"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Provider\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://cloud.google.com/vertex-ai/generative-ai/docs/partner-models/use-partner-models",children:"https://cloud.google.com/vertex-ai/generative-ai/docs/partner-models/use-partner-models"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u9519\u8BEF\u7801\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/api-errors",children:"https://docs.cloud.google.com/vertex-ai/generative-ai/docs/model-reference/api-errors"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://platform.claude.com/docs/en/api/errors",children:"https://platform.claude.com/docs/en/api/errors"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://platform.openai.com/docs/guides/error-codes",children:"https://platform.openai.com/docs/guides/error-codes"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://support.huaweicloud.com/usermanual-maas-modelarts/maas-modelarts-0080.html",children:"https://support.huaweicloud.com/usermanual-maas-modelarts/maas-modelarts-0080.html"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.openresponses.org/",children:"https://www.openresponses.org/"})}),"\n"]}),"\n"]}),"\n"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"openai"}),(0,l.jsx)(e.th,{children:"anthropic"}),(0,l.jsx)(e.th,{children:"google"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"parallel_tool_calls"}),(0,l.jsx)(e.td,{children:"disable_parallel_tool_use"}),(0,l.jsx)(e.td,{})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"max_completion_tokens"}),(0,l.jsx)(e.td,{children:"max_tokens"}),(0,l.jsx)(e.td,{})]})]})]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u201C\u957F\u5C3E\u5206\u5E03\u201D"}),"\n",(0,l.jsx)(e.li,{children:"\u201C\u7A81\u53D1\u6027\u201D"}),"\n",(0,l.jsx)(e.li,{children:'"Fat Tail" (\u80A5\u5C3E)'}),"\n",(0,l.jsx)(e.li,{children:"3+Sigma + 15-30min \u7A97\u53E3\u68C0\u67E5\u5F02\u52A8"}),"\n"]}),"\n",(0,l.jsx)(e.h1,{id:"gemini-api",children:"Gemini API"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://ai.google.dev/api/rest",children:"https://ai.google.dev/api/rest"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"multiple-tools-are-supported-only-when-they-are-all-search-tools",children:"Multiple tools are supported only when they are all search tools"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5185\u7F6E tool \u548C functionDeclaration \u5DE5\u5177\u4E0D\u80FD\u540C\u65F6\u4F7F\u7528"}),"\n",(0,l.jsx)(e.li,{children:"openai \u91CC\u7684 tool \u6620\u5C04\u4E3A\u4E00\u4E2A functionDeclaration"}),"\n",(0,l.jsx)(e.li,{children:"\u5176\u4ED6\u7684 tool \u662F\u5185\u7F6E tool\uFF0C\u8BED\u4E49\u4E0A\u6709\u70B9\u533A\u522B"}),"\n"]}),"\n",(0,l.jsx)(e.h1,{id:"openai-api",children:"OpenAI API"}),"\n",(0,l.jsx)(e.h3,{id:"streaming",children:"streaming"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7B2C\u4E00\u4E2Achunk \u6709 role \u6CA1\u5185\u5BB9\uFF0C\u4E4B\u540E\u7684 chunk \u6709 \u5185\u5BB9\u6CA1\u6709 role"}),"\n",(0,l.jsx)(e.li,{children:"\u6700\u540E\u7684 chunk\uFF0Cusage \u548C finish_reason \u5206\u5F00"}),"\n",(0,l.jsxs)(e.li,{children:["stream_options\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["continuous_usage_stat\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u8FDE\u7EED\u53D1\u9001 usage"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["include_usage\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6700\u540E\u4E00\u4E2A chunk \u5305\u542B usage"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"\u7B2C\u4E00\u4E2A chunk \u548C\u6700\u540E\u4E00\u4E2A chunk \u4E0D\u5E94\u8BE5\u5305\u542B content"}),"\n",(0,l.jsx)(e.li,{children:"\u6709\u4E9B\u4F9B\u5E94\u5546\u5728\u7B2C\u4E8C\u4E2A chunk \u8FD4\u56DE role"}),"\n",(0,l.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/BerriAI/litellm/blob/4a8629ce/tests/local_testing/test_streaming.py",children:"https://github.com/BerriAI/litellm/blob/4a8629ce/tests/local_testing/test_streaming.py"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"first-chunk",children:"first chunk"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6709\u4E9B\u4E3A\u4E86\u7D27\u51D1\uFF0C\u4F1A\u5728\u7B2C\u4E00\u4E2A chunk \u5305\u542B\u5185\u5BB9"}),"\n",(0,l.jsx)(e.li,{children:"\u6B63\u5E38\u60C5\u51B5\u7B2C\u4E00\u4E2A chunk \u4E0D\u5E94\u8BE5\u5305\u542B\u5185\u5BB9"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"last-chunk",children:"last chunk"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"vLLM, OpenAI \u6700\u540E\u4E00\u4E2A chunk \u7684 content \u4E3A \u7A7A"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "index": 0,\n  "delta": {\n    "content": ""\n  },\n  "logprobs": null,\n  "finish_reason": "stop",\n  "stop_reason": null\n}\n'})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/BerriAI/litellm/issues/12417",children:"https://github.com/BerriAI/litellm/issues/12417"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"LiteLLM \u6DFB\u52A0\u6700\u540E\u4E00\u4E2A chunk \u7684 content \u4E3A \u7A7A"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"toolchoice",children:"ToolChoice"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"auto"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u81EA\u52A8\u9009\u62E9\u5DE5\u5177"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"required"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5FC5\u987B\u4F7F\u7528\u5DE5\u5177"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"none"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u4E0D\u4F7F\u7528\u5DE5\u5177"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"thinking",children:"Thinking"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://ai.google.dev/gemini-api/docs/thinking",children:"https://ai.google.dev/gemini-api/docs/thinking"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://ai.google.dev/gemini-api/docs/thinking#set-budget",children:"https://ai.google.dev/gemini-api/docs/thinking#set-budget"})}),"\n",(0,l.jsx)(e.li,{children:"\u4E0D\u540C\u6A21\u578B\u652F\u6301\u903B\u8F91\u4E0D\u4E00\u6837"}),"\n",(0,l.jsx)(e.li,{children:"2.5 Pro \u4E0D\u80FD\u5173\u95ED 128 to 32768"}),"\n",(0,l.jsx)(e.li,{children:"\u5173\u95ED thinkingBudget = 0"}),"\n",(0,l.jsx)(e.li,{children:"\u52A8\u6001 thinkingBudget = -1"}),"\n",(0,l.jsxs)(e.li,{children:["thinkingLevel\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u9ED8\u8BA4 high"}),"\n",(0,l.jsx)(e.li,{children:"low, high"}),"\n",(0,l.jsx)(e.li,{children:"Gemini 3.0"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "contents": [\n    {\n      "parts": [\n        {\n          "text": "Provide a list of 3 famous physicists and their key contributions"\n        }\n      ]\n    }\n  ],\n  "generationConfig": {\n    "thinkingConfig": {\n      "thinkingLevel": "low"\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"interleaved-thinking",children:"Interleaved thinking"}),"\n",(0,l.jsx)(e.p,{children:"\u601D\u8003\u8FC7\u7A0B\u53EF\u4EE5\u8FDB\u884C tool call"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Claude 4+\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"interleaved-thinking-2025-05-14"}),"\n",(0,l.jsx)(e.li,{children:"Messages API \u624D\u652F\u6301"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"MiniMax-M2"}),"\n",(0,l.jsx)(e.li,{children:"Kimi-K2-Thinking"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://platform.claude.com/docs/en/build-with-claude/extended-thinking",children:"https://platform.claude.com/docs/en/build-with-claude/extended-thinking"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://docs.vllm.ai/en/latest/features/interleaved_thinking/",children:"https://docs.vllm.ai/en/latest/features/interleaved_thinking/"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"reasoning_details",children:"reasoning_details"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "type": "reasoning.summary",\n  "summary": "The model analyzed the problem by first identifying key constraints, then evaluating possible solutions...",\n  "id": "reasoning-summary-1",\n  "format": "anthropic-claude-v1",\n  "index": 0\n}\n'})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["type\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"reasoning.summary"}),"\n",(0,l.jsx)(e.li,{children:"reasoning.encrypted"}),"\n",(0,l.jsx)(e.li,{children:"reasoning.text"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\u7EF4\u62A4\u601D\u8003\u7EC6\u8282\u4FE1\u606F\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"OpenAI o"}),"\n",(0,l.jsx)(e.li,{children:"Claude 3.7+ thinking"}),"\n",(0,l.jsx)(e.li,{children:"Gemini Reasoning"}),"\n",(0,l.jsx)(e.li,{children:"xAI Reasoning"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://openrouter.ai/docs/guides/best-practices/reasoning-tokens",children:"https://openrouter.ai/docs/guides/best-practices/reasoning-tokens"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"preserved-thinking",children:"Preserved thinking"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u667A\u666E GLM 4.7 \u652F\u6301\u4FDD\u7559\u601D\u8003\u5185\u5BB9\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u518D\u751F\u6210 chat template \u7684\u65F6\u5019\u5141\u8BB8\u4F20\u9012\u4E4B\u524D\u7684\u601D\u8003\u5185\u5BB9"}),"\n",(0,l.jsx)(e.li,{children:"\u9ED8\u8BA4\u4E0D\u4FDD\u6301 clear_thinking: true"}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://huggingface.co/zai-org/GLM-4.7/blob/main/chat_template.jinja",children:"https://huggingface.co/zai-org/GLM-4.7/blob/main/chat_template.jinja"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"clear_thinking \u63A7\u5236\u662F\u5426\u5305\u542B reasoning_content"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://docs.bigmodel.cn/cn/guide/capabilities/thinking-mode",children:"https://docs.bigmodel.cn/cn/guide/capabilities/thinking-mode"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"role",children:"role"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"developer"}),"\n",(0,l.jsx)(e.li,{children:"system"}),"\n",(0,l.jsx)(e.li,{children:"user"}),"\n",(0,l.jsx)(e.li,{children:"assistant"}),"\n",(0,l.jsxs)(e.li,{children:["tool\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u65B0\u7248\u672C openai"}),"\n",(0,l.jsx)(e.li,{children:"Anthropic \u4F7F\u7528 user role"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["function\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u65E7\u7248\u672C openai"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h1,{id:"usage",children:"usage"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4ED8\u8D39\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u7B97\u529B"}),"\n",(0,l.jsx)(e.li,{children:"pay per token"}),"\n",(0,l.jsx)(e.li,{children:"pay per request"}),"\n",(0,l.jsxs)(e.li,{children:["pay per item\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u56FE\u3001\u8BED\u97F3"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"abort"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"stream 499 \u4F1A\u4EA7\u751F\u8D39\u7528"}),"\n",(0,l.jsxs)(e.li,{children:["\u975Estrema \u4E2D\u65AD\u4E5F\u4F1A\u4EA7\u751F\u8D39\u7528\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u6781\u7AEF\u60C5\u51B5\u4F1A\u4EA7\u751F\u5B8C\u6574\u7684\u8D39\u7528"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["Agent \u5B9E\u73B0\u5728\u4E2D\u65AD\u65F6\u5019\u9700\u8981\u9884\u4F30 usage\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u5426\u5219 context window \u4F1A\u5931\u51C6"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Token usage unavailable during streaming abort/interruption ",(0,l.jsx)(e.a,{href:"https://github.com/vercel/ai/issues/7628",children:"https://github.com/vercel/ai/issues/7628"})]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"prompt-cache",children:"Prompt Cache"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{style:{textAlign:"left"},children:"\u6A21\u578B / \u573A\u666F"}),(0,l.jsx)(e.th,{style:{textAlign:"left"},children:"\u6700\u5C0F\u7F13\u5B58 Token \u6570"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"Claude Opus 4.5"}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"4096"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"Claude Opus 4.1, 4"}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"1024"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:["Claude Sonnet 4.5, 4, ",(0,l.jsx)(e.del,{children:"3.7"})]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"1024"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"Claude Haiku 4.5"}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"4096"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:["Claude Haiku ",(0,l.jsx)(e.del,{children:"3.5"}),", 3"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"2048"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"Gemini 3 Pro Preview"}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"4096"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"Gemini 3 Flash Preview"}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"1024"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"Gemini 2.5 Pro"}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"4096"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"Gemini 2.5 Flash"}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"1024"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"Gemini Explicit Caching (Vertex AI)"}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"4096"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"Gemini Context Caching (Early Versions)"}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"32768"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"OpenAI GPT"}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"1024"})]})]})]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Implicit Caching"}),": \u63D0\u4F9B 75% - 90% \u7684\u8F93\u5165 Token \u6298\u6263\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Explicit Caching"}),": \u6309\u751F\u5B58\u65F6\u95F4 (TTL) \u6536\u53D6\u5B58\u50A8\u8D39\u7528\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5BB9\u91CF"}),": \u6700\u5927\u7F13\u5B58\u5927\u5C0F\u7B49\u540C\u4E8E\u6A21\u578B\u5B8C\u6574\u4E0A\u4E0B\u6587\u7A97\u53E3\uFF08\u53EF\u8D85\u8FC7 100 \u4E07 Token\uFF09\u3002"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Gemini 3 \u4F18\u5316"}),": \u5728 Gemini 3 \u7CFB\u5217\u4E2D\uFF0C\u5EFA\u8BAE Prompt \u524D\u7F00\u6216\u7F13\u5B58\u6570\u636E\u81F3\u5C11\u8FBE\u5230 ",(0,l.jsx)(e.strong,{children:"4096 Token"})," \u4EE5\u786E\u4FDD\u7F13\u5B58\u751F\u6548\u5E76\u6709\u6548\u964D\u4F4E API \u6210\u672C\u3002"]}),"\n",(0,l.jsx)(e.li,{children:"Google OpenAI API extra body"}),"\n",(0,l.jsx)(e.li,{children:"\u26A0\uFE0F Tool call \u7F13\u5B58\u5B9E\u9645\u7F13\u5B58\u7684\u662F schema+\u63CF\u8FF0 \u7B49"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "google": {\n    "cached_content": "cachedContents/XXX",\n    "thinking_config": {\n      "thinking_level": "low",\n      "include_thoughts": true\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://ai.google.dev/gemini-api/docs/caching",children:"https://ai.google.dev/gemini-api/docs/caching"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://platform.claude.com/docs/en/build-with-claude/prompt-caching",children:"https://platform.claude.com/docs/en/build-with-claude/prompt-caching"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://platform.openai.com/docs/guides/prompt-caching",children:"https://platform.openai.com/docs/guides/prompt-caching"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://docs.aws.amazon.com/bedrock/latest/userguide/prompt-caching.html",children:"https://docs.aws.amazon.com/bedrock/latest/userguide/prompt-caching.html"})}),"\n"]}),"\n",(0,l.jsx)(e.h1,{id:"anthropic",children:"Anthropic"}),"\n",(0,l.jsx)(e.h2,{id:"beta",children:"beta"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"date"}),(0,l.jsx)(e.th,{children:"flag"}),(0,l.jsx)(e.th,{children:"for"}),(0,l.jsx)(e.th,{children:"provider"}),(0,l.jsx)(e.th,{children:"fields"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2024-07-31"}),(0,l.jsx)(e.td,{children:"[prompt-caching-2024-07-31]"}),(0,l.jsx)(e.td,{children:"Prompt caching breakpoints"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:"*.cache_control"}),", ",(0,l.jsx)(e.code,{children:"usage.cache_creation_input_tokens"}),", ",(0,l.jsx)(e.code,{children:"usage.cache_read_input_tokens"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2024-09-24"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"message-batches-2024-09-24"})}),(0,l.jsx)(e.td,{children:"Batch message processing"}),(0,l.jsx)(e.td,{children:"A"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:"requests[*].custom_id"}),", ",(0,l.jsx)(e.code,{children:"requests[*].params"}),", ",(0,l.jsx)(e.code,{children:"processing_status"}),", ",(0,l.jsx)(e.code,{children:"request_counts.*"}),", ",(0,l.jsx)(e.code,{children:"results_url"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2024-09-25"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"pdfs-2024-09-25"})}),(0,l.jsx)(e.td,{children:"PDF document support"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:"messages[*].content[*].source.media_type"}),", ",(0,l.jsx)(e.code,{children:"messages[*].content[*].source.data"}),", ",(0,l.jsx)(e.code,{children:"messages[*].content[*].source.type"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2024-10-22"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"computer-use-2024-10-22"})}),(0,l.jsx)(e.td,{children:"Computer use tools (v1)"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:'tools[*].type:"computer_20241022"'}),", ",(0,l.jsx)(e.code,{children:"tools[*].display_width_px"}),", ",(0,l.jsx)(e.code,{children:"tools[*].display_height_px"}),", ",(0,l.jsx)(e.code,{children:"tools[*].display_number"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2024-11-01"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"token-counting-2024-11-01"})}),(0,l.jsx)(e.td,{children:"Token counting endpoint"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:"input_tokens"}),", ",(0,l.jsx)(e.code,{children:"cache_creation_input_tokens"}),", ",(0,l.jsx)(e.code,{children:"cache_read_input_tokens"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-01-24"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"computer-use-2025-01-24"})}),(0,l.jsx)(e.td,{children:"Computer use tools (v2)"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:'tools[*].type:"computer_20250124"'}),", ",(0,l.jsx)(e.code,{children:"tools[*].display_width_px"}),", ",(0,l.jsx)(e.code,{children:"tools[*].display_height_px"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-02-19"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"token-efficient-tools-2025-02-19"})}),(0,l.jsx)(e.td,{children:"Reduce tool definition tokens"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:"tools[*].defer_loading"}),", ",(0,l.jsx)(e.code,{children:"tools[*].strict"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-02-19"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"output-128k-2025-02-19"})}),(0,l.jsx)(e.td,{children:"Extend max output to 128k"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:"max_tokens"})," (up to 128000)"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-04-04"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"mcp-client-2025-04-04"})}),(0,l.jsx)(e.td,{children:"MCP server integration (v1)"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:"mcp_servers[*].url"}),", ",(0,l.jsx)(e.code,{children:"mcp_servers[*].tool_configuration"}),", ",(0,l.jsx)(e.code,{children:'content[*].type:"mcp_tool_use"'}),", ",(0,l.jsx)(e.code,{children:'content[*].type:"mcp_tool_result"'})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-04-11"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"extended-cache-ttl-2025-04-11"})}),(0,l.jsx)(e.td,{children:"Extended cache TTL to 1h"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:'*.cache_control.ttl:"1h"'})})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-04-14"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"files-api-2025-04-14"})}),(0,l.jsx)(e.td,{children:"File upload/download API"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:'source.type:"file"'}),", ",(0,l.jsx)(e.code,{children:"source.file_id"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-05-14"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"dev-full-thinking-2025-05-14"})}),(0,l.jsx)(e.td,{children:"Full thinking content (dev)"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:'thinking.type:"enabled"'}),", ",(0,l.jsx)(e.code,{children:"thinking.budget_tokens"}),", ",(0,l.jsx)(e.code,{children:'content[*].type:"thinking"'})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-05-14"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"interleaved-thinking-2025-05-14"})}),(0,l.jsx)(e.td,{children:"Thinking interleaved with tool use"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:'content[*].type:"thinking"'})," interleaved with ",(0,l.jsx)(e.code,{children:'content[*].type:"tool_use"'})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-05-22"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"code-execution-2025-05-22"})}),(0,l.jsx)(e.td,{children:"Code execution sandbox"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:'tools[*].type:"code_execution_20250522"'}),", ",(0,l.jsx)(e.code,{children:"tools[*].allowed_callers"}),", ",(0,l.jsx)(e.code,{children:"content[*].caller"}),", ",(0,l.jsx)(e.code,{children:'content[*].type:"code_execution_tool_result"'})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-06-27"}),(0,l.jsx)(e.td,{children:"[context-management-2025-06-27]"}),(0,l.jsx)(e.td,{children:"Auto context management"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:"context_management.edits[*]"}),", ",(0,l.jsx)(e.code,{children:"context_management.edits[*].trigger"}),", ",(0,l.jsx)(e.code,{children:"context_management.edits[*].keep"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-08-07"}),(0,l.jsx)(e.td,{children:"[context-1m-2025-08-07]"}),(0,l.jsx)(e.td,{children:"1M token context window"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:"max_tokens"})," (model context extended to 1M)"]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-08-26"}),(0,l.jsx)(e.td,{children:"[model-context-window-exceeded-2025-08-26]"}),(0,l.jsx)(e.td,{children:"Context window exceeded stop reason"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:'stop_reason:"model_context_window_exceeded"'})})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-10-02"}),(0,l.jsx)(e.td,{children:"[skills-2025-10-02]"}),(0,l.jsx)(e.td,{children:"Skills/container support"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:"container.skills[*].id"}),", ",(0,l.jsx)(e.code,{children:"container.skills[*].type"}),", ",(0,l.jsx)(e.code,{children:"container.id"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2025-11-20"}),(0,l.jsx)(e.td,{children:"[mcp-client-2025-11-20]"}),(0,l.jsx)(e.td,{children:"MCP server integration (v2)"}),(0,l.jsx)(e.td,{children:"A,B,V,F"}),(0,l.jsxs)(e.td,{children:[(0,l.jsx)(e.code,{children:"mcp_servers[*].url"}),", ",(0,l.jsx)(e.code,{children:"mcp_servers[*].tool_configuration"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"2026-02-01"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.a,{href:"#fast-mode-2026-02-01",children:"fast-mode-2026-02-01"})}),(0,l.jsx)(e.td,{children:"Fast inference mode"}),(0,l.jsx)(e.td,{children:"A"}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:'speed:"fast"'})})]})]})]}),"\n",(0,l.jsxs)(e.blockquote,{children:["\n",(0,l.jsx)(e.p,{children:"A=Anthropic API, B=Bedrock, V=Vertex AI, F=Foundry"}),"\n"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["prompt-caching-2024-07-31\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"5m \u7F13\u5B58"}),"\n",(0,l.jsx)(e.li,{children:"\u4E0D\u518D\u9700\u8981\uFF0C\u9ED8\u8BA4\u542F\u7528\uFF0Ccache_control \u63A7\u5236"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:'cache_control: {type: "ephemeral"}'})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["extended-cache-ttl-2025-04-11\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"1h \u7F13\u5B58"}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:'cache_control: {type: "ephemeral", ttl: "1h"}'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://platform.claude.com/docs/en/api/beta#anthropic_beta",children:"https://platform.claude.com/docs/en/api/beta#anthropic_beta"})}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"anthropic-beta: A,B\n# SSE, \u53BB\u6389 data: [DONE], named event\nanthropic-version: 2023-06-01\n# \u7B2C\u4E00\u4E2A\u7248\u672C\nanthropic-version: 2023-01-01\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://platform.claude.com/docs/en/api/beta-headers",children:"https://platform.claude.com/docs/en/api/beta-headers"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"output-128k-2025-02-19",children:"output-128k-2025-02-19"}),"\n",(0,l.jsx)(e.p,{children:"\u5141\u8BB8\u8F93\u51FA 128K"}),"\n",(0,l.jsx)(e.h2,{id:"extended-cache-ttl-2025-04-11",children:"extended-cache-ttl-2025-04-11"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"messages[*].content[*].cache_control.ephemeral.ttl"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"code-execution-2025-05-22",children:"code-execution-2025-05-22"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'curl https://api.anthropic.com/v1/messages \\\n  -H "x-api-key: $ANTHROPIC_API_KEY" \\\n  -H "content-type: application/json" \\\n  -H "anthropic-version: 2023-06-01" \\\n  -H "anthropic-beta: code-execution-2025-05-22" \\\n  -d \'{\n      "model": "claude-sonnet-4-20250514",\n      "max_tokens": 4096,\n      "tools": [\n        {\n          "type": "code_execution_20250522",\n          "name": "code_execution"\n        }\n      ],\n      "messages": [\n        {\n          "role": "user",\n          "content": "Calculate the first 20 Fibonacci numbers"\n        }\n      ]\n    }\'\n'})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'curl https://api.anthropic.com/v1/messages \\\n  -H "x-api-key: $ANTHROPIC_API_KEY" \\\n  -H "content-type: application/json" \\\n  -H "anthropic-version: 2023-06-01" \\\n  -H "anthropic-beta: code-execution-2025-05-22" \\\n  -d \'{\n      "model": "claude-sonnet-4-20250514",\n      "max_tokens": 4096,\n      "tools": [\n        {\n          "type": "code_execution_20250522",\n          "name": "code_execution"\n        },\n        {\n          "name": "get_stock_price",\n          "description": "Get the current stock price for a given ticker symbol",\n          "allowed_callers": ["direct", "code_execution_20250825"],\n          "input_schema": {\n            "type": "object",\n            "properties": {\n              "ticker": { "type": "string" }\n            },\n            "required": ["ticker"]\n          }\n        }\n      ],\n      "messages": [\n        {\n          "role": "user",\n          "content": "Write Python code to fetch AAPL and GOOGL stock prices and calculate which one is more expensive"\n        },\n        {\n          "role": "assistant",\n          "content": [\n            { "type": "text", "text": "I will write code to compare the stock prices." },\n            {\n              "type": "tool_use",\n              "id": "toolu_code_01",\n              "name": "code_execution",\n              "input": { "code": "aapl = tool.get_stock_price(ticker=\'AAPL\')" }\n            },\n            {\n              "type": "tool_use",\n              "id": "toolu_stock_01",\n              "name": "get_stock_price",\n              "input": { "ticker": "AAPL" },\n              "caller": {\n                "type": "code_execution_20250825",\n                "tool_id": "toolu_code_01"\n              }\n            }\n          ]\n        },\n        {\n          "role": "user",\n          "content": [\n            {\n              "type": "tool_result",\n              "tool_use_id": "toolu_stock_01",\n              "content": "{\\"price\\": 195.50, \\"currency\\": \\"USD\\"}"\n            }\n          ]\n        }\n      ]\n    }\'\n'})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:'\u7528\u6237\u8BF7\u6C42\n  \u2193\n\u6A21\u578B\u53D1\u8D77 code_execution (toolu_code_01)\n  \u2193\nsandbox \u4EE3\u7801\u8C03\u7528 get_stock_price \u2192 \u4EA7\u751F tool_use + caller\n  \u2193                                         \u2191\n  \u2193                              caller.tool_id = "toolu_code_01"\n  \u2193                              caller.type = "code_execution_20250825"\n  \u2193\nAPI \u8FD4\u56DE stop_reason: "tool_use"\uFF0C\u4F60\u5904\u7406 tool_result \u56DE\u4F20\n  \u2193\n\u6A21\u578B\u62FF\u5230\u7ED3\u679C\uFF0Csandbox \u7EE7\u7EED\u6267\u884C\uFF08\u6216\u8BF7\u6C42\u4E0B\u4E00\u4E2A\u5DE5\u5177\uFF09\n  \u2193\n\u6700\u7EC8\u8F93\u51FA\u7ED3\u679C\n'})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"allowed_callers\uFF1A\u5728 tools \u5B9A\u4E49\u4E2D\uFF0C\u63A7\u5236\u8C01\u53EF\u4EE5\u8C03\u7528 \u2192 \u8BF7\u6C42\u4FA7"}),"\n",(0,l.jsx)(e.li,{children:"caller\uFF1A\u5728 tool_use block \u4E2D\uFF0C\u6807\u8BC6\u8C01\u5B9E\u9645\u89E6\u53D1\u4E86\u8C03\u7528 \u2192 \u54CD\u5E94\u4FA7"}),"\n",(0,l.jsx)(e.li,{children:'\u5982\u679C\u53BB\u6389 "code_execution_20250825" \u53EA\u4FDD\u7559 ["direct"]\uFF0Csandbox \u4EE3\u7801\u5C31\u65E0\u6743\u8C03\u7528 get_stock_price\uFF0C\u4E5F\u4E0D\u4F1A\u51FA\u73B0\u5E26 caller \u7684 tool_use'}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"context-management-2025-06-27",children:"context-management-2025-06-27"}),"\n",(0,l.jsx)(e.h2,{id:"advanced-tool-use-2025-11-20",children:"advanced-tool-use-2025-11-20"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Claude API, Microsoft Foundry, \u6240\u6709\u6A21\u578B"}),"\n",(0,l.jsx)(e.li,{children:"\u6A21\u578B\u6309\u9700\u53D6\u641C\u7D22 tool"}),"\n",(0,l.jsxs)(e.li,{children:["\u5DE5\u5177\u53EF\u4EE5\u5B9A\u4E49 defer_loading: true\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u53EA\u4FDD\u7559 name, description"}),"\n",(0,l.jsx)(e.li,{children:"\u672C\u8D28\u662F SDK \u53BB\u505A RAG \u76F8\u5173\u903B\u8F91\uFF0C\u7136\u540E\u81EA\u52A8\u63D0\u4F9B\u76F8\u5173\u7684\u68C0\u7D22"}),"\n",(0,l.jsx)(e.li,{children:"\u6709\u70B9\u7C7B\u4F3C SKILL \u7684\u6982\u5FF5"}),"\n",(0,l.jsx)(e.li,{children:"\u6E10\u8FDB\u5F0F\u62AB\u9732"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"\u5B9E\u73B0\u4E0A\u5343\u5DE5\u5177\u7684\u4F7F\u7528"}),"\n",(0,l.jsxs)(e.li,{children:["\u26A0\uFE0F \u7528\u6237\u5B9E\u73B0 search_tools\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u9AD8\u6548\u51C6\u786E\u7684\u5DE5\u5177\u641C\u7D22"}),"\n",(0,l.jsx)(e.li,{children:"\u5B57\u7B26\u5339\u914D\u3001\u8BED\u4E49\u3001\u5206\u7C7B"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-json",children:'{\n  "tools": [\n    { "type": "tool_search_tool_regex_20251119", "name": "tool_search_tool_regex" },\n    {\n      "name": "github.createPullRequest",\n      "description": "Create a pull request",\n      "input_schema": {},\n      "defer_loading": true\n    }\n  ]\n}\n'})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.a,{href:"https://github.com/BerriAI/litellm/pull/19841/changes",children:"https://github.com/BerriAI/litellm/pull/19841/changes"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Translate advanced-tool-use to Bedrock-specific headers for Claude Opus 4.5"}),"\n",(0,l.jsx)(e.li,{children:"advanced-tool-use-2025-11-20 -> tool-search-tool-2025-10-19 + tool-examples-2025-10-29"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://www.anthropic.com/engineering/advanced-tool-use",children:"https://www.anthropic.com/engineering/advanced-tool-use"})}),"\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://github.com/anthropics/claude-cookbooks/blob/main/tool_use/tool_search_with_embeddings.ipynb",children:"https://github.com/anthropics/claude-cookbooks/blob/main/tool_use/tool_search_with_embeddings.ipynb"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"tool-examples-2025-10-29",children:"tool-examples-2025-10-29"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Opus 4.5+"}),"\n",(0,l.jsx)(e.li,{children:"Vertex AI, Amazon Bedrock"}),"\n",(0,l.jsx)(e.li,{children:"input_examples \u5B57\u6BB5"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"fast-mode-2026-02-01",children:"fast-mode-2026-02-01"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u652F\u6301\u60C5\u51B5\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Claude Opus 4.6"}),"\n",(0,l.jsx)(e.li,{children:"2.5x \u901F\u5EA6"}),"\n",(0,l.jsx)(e.li,{children:"6x \u4EF7\u683C"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.li,{children:"fast: boolean"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'curl https://api.anthropic.com/v1/messages \\\n  --header "x-api-key: $ANTHROPIC_API_KEY" \\\n  --header "anthropic-version: 2023-06-01" \\\n  --header "anthropic-beta: fast-mode-2026-02-01" \\\n  --header "content-type: application/json" \\\n  --data \'{\n        "model": "claude-opus-4-6",\n        "max_tokens": 4096,\n        "speed": "fast",\n        "messages": [{\n            "role": "user",\n            "content": "Refactor this module to use dependency injection"\n        }]\n    }\'\n'})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.a,{href:"https://platform.claude.com/docs/en/build-with-claude/fast-mode",children:"https://platform.claude.com/docs/en/build-with-claude/fast-mode"})}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"us-only-inference",children:"US-Only Inference"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"1.1x \u4EF7\u683C"}),"\n",(0,l.jsx)(e.li,{children:"inference_geo: us"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"effort",children:"effort"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:(0,l.jsx)(e.code,{children:"output: { effort: 'high' }"})}),"\n",(0,l.jsx)(e.li,{children:"\u652F\u6301 Opus 4.5, Opus 4.6"}),"\n",(0,l.jsx)(e.li,{children:"max, high, medium, low"}),"\n",(0,l.jsx)(e.li,{children:"\u9ED8\u8BA4 high"}),"\n",(0,l.jsx)(e.li,{children:"Opus 4.6+ \u66FF\u4EE3\u4EE5\u524D\u7684 budget_tokens"}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"adaptive-thinking",children:"adaptive thinking"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Opus 4.6+"}),"\n",(0,l.jsx)(e.li,{children:"thinking.type=adaptive"}),"\n",(0,l.jsxs)(e.li,{children:["\u5F03\u7528 ",(0,l.jsx)(e.code,{children:'thinking: {type: "enabled", budget_tokens: N}'})]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'curl https://api.anthropic.com/v1/messages \\\n  --header "x-api-key: $ANTHROPIC_API_KEY" \\\n  --header "anthropic-version: 2023-06-01" \\\n  --header "content-type: application/json" \\\n  --data \\\n  \'{\n    "model": "claude-opus-4-6",\n    "max_tokens": 16000,\n    "thinking": {\n        "type": "adaptive"\n    },\n    "messages": [\n        {\n            "role": "user",\n            "content": "Explain why the sum of two even numbers is always even."\n        }\n    ]\n}\'\n'})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"adaptive thinking is not supported on this model\n"})})]})}function a(n={}){let{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}},917776:function(n,e,i){i.d(e,{R:()=>c,x:()=>d});var s=i(7378);let l={},t=s.createContext(l);function c(n){let e=s.useContext(t);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:c(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);