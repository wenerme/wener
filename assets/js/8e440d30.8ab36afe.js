"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["42392"],{414913:function(e,n,l){l.r(n),l.d(n,{frontMatter:()=>s,toc:()=>a,default:()=>h,metadata:()=>r,assets:()=>o,contentTitle:()=>c});var r=JSON.parse('{"id":"ai/service/codex-custom-model-guide","title":"Codex CLI \u81EA\u5B9A\u4E49\u6A21\u578B\u4F7F\u7528\u6307\u5357","description":"\u672C\u6307\u5357\u4E13\u6CE8\u4E8E\u5982\u4F55\u5728 Codex CLI \u4E2D\u914D\u7F6E\u548C\u4F7F\u7528\u81EA\u5B9A\u4E49\u6A21\u578B\uFF0C\u5305\u62EC\u7B2C\u4E09\u65B9 API \u670D\u52A1\u3001\u672C\u5730\u6A21\u578B\u548C\u81EA\u5B9A\u4E49\u7AEF\u70B9\u3002","source":"@site/../notes/ai/service/codex-custom-model-guide.md","sourceDirName":"ai/service","slug":"/ai/service/codex-custom-model-guide","permalink":"/notes/ai/service/codex-custom-model-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/ai/service/codex-custom-model-guide.md","tags":[{"inline":true,"label":"Codex","permalink":"/notes/tags/codex"},{"inline":true,"label":"AI","permalink":"/notes/tags/ai"},{"inline":true,"label":"\u81EA\u5B9A\u4E49\u6A21\u578B","permalink":"/notes/tags/\u81EA\u5B9A\u4E49\u6A21\u578B"},{"inline":true,"label":"\u914D\u7F6E","permalink":"/notes/tags/\u914D\u7F6E"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"Codex CLI \u81EA\u5B9A\u4E49\u6A21\u578B\u4F7F\u7528\u6307\u5357","tags":["Codex","AI","\u81EA\u5B9A\u4E49\u6A21\u578B","\u914D\u7F6E"]},"sidebar":"docs","previous":{"title":"Codex CLI \u5165\u95E8\u6307\u5357","permalink":"/notes/ai/service/codex-beginner-guide"},"next":{"title":"Codex","permalink":"/notes/ai/service/codex"}}'),d=l(486106),i=l(917776);let s={title:"Codex CLI \u81EA\u5B9A\u4E49\u6A21\u578B\u4F7F\u7528\u6307\u5357",tags:["Codex","AI","\u81EA\u5B9A\u4E49\u6A21\u578B","\u914D\u7F6E"]},c="Codex CLI \u81EA\u5B9A\u4E49\u6A21\u578B\u4F7F\u7528\u6307\u5357",o={},a=[{value:"\u76EE\u5F55",id:"\u76EE\u5F55",level:2},{value:"\u5FEB\u901F\u5F00\u59CB",id:"\u5FEB\u901F\u5F00\u59CB",level:2},{value:"1. \u5B89\u88C5 Codex CLI",id:"1-\u5B89\u88C5-codex-cli",level:3},{value:"2. \u57FA\u672C\u914D\u7F6E",id:"2-\u57FA\u672C\u914D\u7F6E",level:3},{value:"\u6A21\u578B\u63D0\u4F9B\u7A0B\u5E8F\u914D\u7F6E",id:"\u6A21\u578B\u63D0\u4F9B\u7A0B\u5E8F\u914D\u7F6E",level:2},{value:"\u914D\u7F6E\u7ED3\u6784",id:"\u914D\u7F6E\u7ED3\u6784",level:3},{value:"\u914D\u7F6E\u53C2\u6570\u8BF4\u660E",id:"\u914D\u7F6E\u53C2\u6570\u8BF4\u660E",level:3},{value:"\u5E38\u7528\u7B2C\u4E09\u65B9\u670D\u52A1\u914D\u7F6E",id:"\u5E38\u7528\u7B2C\u4E09\u65B9\u670D\u52A1\u914D\u7F6E",level:2},{value:"1. Azure OpenAI",id:"1-azure-openai",level:3},{value:"2. OpenRouter",id:"2-openrouter",level:3},{value:"3. Mistral",id:"3-mistral",level:3},{value:"4. DeepSeek",id:"4-deepseek",level:3},{value:"5. Groq",id:"5-groq",level:3},{value:"\u672C\u5730\u6A21\u578B\u914D\u7F6E",id:"\u672C\u5730\u6A21\u578B\u914D\u7F6E",level:2},{value:"1. Ollama",id:"1-ollama",level:3},{value:"2. \u81EA\u5B9A\u4E49\u672C\u5730\u7AEF\u70B9",id:"2-\u81EA\u5B9A\u4E49\u672C\u5730\u7AEF\u70B9",level:3},{value:"\u9AD8\u7EA7\u914D\u7F6E\u9009\u9879",id:"\u9AD8\u7EA7\u914D\u7F6E\u9009\u9879",level:2},{value:"1. \u7F51\u7EDC\u8C03\u4F18",id:"1-\u7F51\u7EDC\u8C03\u4F18",level:3},{value:"2. \u81EA\u5B9A\u4E49 HTTP \u5934",id:"2-\u81EA\u5B9A\u4E49-http-\u5934",level:3},{value:"3. \u914D\u7F6E\u6587\u4EF6\u793A\u4F8B",id:"3-\u914D\u7F6E\u6587\u4EF6\u793A\u4F8B",level:3},{value:"\u4F7F\u7528\u914D\u7F6E\u6587\u4EF6",id:"\u4F7F\u7528\u914D\u7F6E\u6587\u4EF6",level:2},{value:"1. \u5207\u6362\u6A21\u578B\u63D0\u4F9B\u7A0B\u5E8F",id:"1-\u5207\u6362\u6A21\u578B\u63D0\u4F9B\u7A0B\u5E8F",level:3},{value:"2. \u547D\u4EE4\u884C\u914D\u7F6E",id:"2-\u547D\u4EE4\u884C\u914D\u7F6E",level:3},{value:"\u6545\u969C\u6392\u9664",id:"\u6545\u969C\u6392\u9664",level:2},{value:"1. \u5E38\u89C1\u95EE\u9898",id:"1-\u5E38\u89C1\u95EE\u9898",level:3},{value:"2. \u8C03\u8BD5\u65E5\u5FD7",id:"2-\u8C03\u8BD5\u65E5\u5FD7",level:3},{value:"3. \u6D4B\u8BD5\u8FDE\u63A5",id:"3-\u6D4B\u8BD5\u8FDE\u63A5",level:3},{value:"\u6700\u4F73\u5B9E\u8DF5",id:"\u6700\u4F73\u5B9E\u8DF5",level:2},{value:"\u73AF\u5883\u53D8\u91CF\u53C2\u8003",id:"\u73AF\u5883\u53D8\u91CF\u53C2\u8003",level:2}];function t(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"codex-cli-\u81EA\u5B9A\u4E49\u6A21\u578B\u4F7F\u7528\u6307\u5357",children:"Codex CLI \u81EA\u5B9A\u4E49\u6A21\u578B\u4F7F\u7528\u6307\u5357"})}),"\n",(0,d.jsx)(n.p,{children:"\u672C\u6307\u5357\u4E13\u6CE8\u4E8E\u5982\u4F55\u5728 Codex CLI \u4E2D\u914D\u7F6E\u548C\u4F7F\u7528\u81EA\u5B9A\u4E49\u6A21\u578B\uFF0C\u5305\u62EC\u7B2C\u4E09\u65B9 API \u670D\u52A1\u3001\u672C\u5730\u6A21\u578B\u548C\u81EA\u5B9A\u4E49\u7AEF\u70B9\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u76EE\u5F55",children:"\u76EE\u5F55"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B",children:"\u5FEB\u901F\u5F00\u59CB"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"#%E6%A8%A1%E5%9E%8B%E6%8F%90%E4%BE%9B%E7%A8%8B%E5%BA%8F%E9%85%8D%E7%BD%AE",children:"\u6A21\u578B\u63D0\u4F9B\u7A0B\u5E8F\u914D\u7F6E"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"#%E5%B8%B8%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE",children:"\u5E38\u7528\u7B2C\u4E09\u65B9\u670D\u52A1\u914D\u7F6E"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"#%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B%E9%85%8D%E7%BD%AE",children:"\u672C\u5730\u6A21\u578B\u914D\u7F6E"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"#%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE%E9%80%89%E9%A1%B9",children:"\u9AD8\u7EA7\u914D\u7F6E\u9009\u9879"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4",children:"\u6545\u969C\u6392\u9664"})}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u5FEB\u901F\u5F00\u59CB",children:"\u5FEB\u901F\u5F00\u59CB"}),"\n",(0,d.jsx)(n.h3,{id:"1-\u5B89\u88C5-codex-cli",children:"1. \u5B89\u88C5 Codex CLI"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u4F7F\u7528 npm \u5B89\u88C5\nnpm install -g @openai/codex\n\n# \u6216\u4F7F\u7528 Homebrew \u5B89\u88C5\nbrew install codex\n\n# \u68C0\u67E5\u7248\u672C\ncodex --version\n"})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u57FA\u672C\u914D\u7F6E",children:"2. \u57FA\u672C\u914D\u7F6E"}),"\n",(0,d.jsxs)(n.p,{children:["Codex \u7684\u914D\u7F6E\u6587\u4EF6\u4F4D\u4E8E ",(0,d.jsx)(n.code,{children:"~/.codex/config.toml"}),"\uFF0C\u652F\u6301\u591A\u79CD\u914D\u7F6E\u65B9\u5F0F\uFF1A"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u547D\u4EE4\u884C\u6807\u5FD7\uFF08\u6700\u9AD8\u4F18\u5148\u7EA7\uFF09"}),"\n",(0,d.jsx)(n.li,{children:"\u914D\u7F6E\u6587\u4EF6"}),"\n",(0,d.jsx)(n.li,{children:"\u73AF\u5883\u53D8\u91CF"}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u6A21\u578B\u63D0\u4F9B\u7A0B\u5E8F\u914D\u7F6E",children:"\u6A21\u578B\u63D0\u4F9B\u7A0B\u5E8F\u914D\u7F6E"}),"\n",(0,d.jsx)(n.h3,{id:"\u914D\u7F6E\u7ED3\u6784",children:"\u914D\u7F6E\u7ED3\u6784"}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 ",(0,d.jsx)(n.code,{children:"~/.codex/config.toml"})," \u4E2D\u914D\u7F6E\u81EA\u5B9A\u4E49\u6A21\u578B\u63D0\u4F9B\u7A0B\u5E8F\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'# \u8BBE\u7F6E\u9ED8\u8BA4\u6A21\u578B\u548C\u63D0\u4F9B\u7A0B\u5E8F\nmodel = "your-custom-model"\nmodel_provider = "your-provider"\n\n# \u5B9A\u4E49\u6A21\u578B\u63D0\u4F9B\u7A0B\u5E8F\n[model_providers.your-provider]\nname = "Your Provider Name"\nbase_url = "https://api.your-provider.com/v1"\nenv_key = "YOUR_PROVIDER_API_KEY"\nwire_api = "chat"  # \u6216 "responses"\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u914D\u7F6E\u53C2\u6570\u8BF4\u660E",children:"\u914D\u7F6E\u53C2\u6570\u8BF4\u660E"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u53C2\u6570"}),(0,d.jsx)(n.th,{children:"\u63CF\u8FF0"}),(0,d.jsx)(n.th,{children:"\u793A\u4F8B"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"name"})}),(0,d.jsx)(n.td,{children:"\u63D0\u4F9B\u7A0B\u5E8F\u663E\u793A\u540D\u79F0"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'"OpenAI"'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"base_url"})}),(0,d.jsx)(n.td,{children:"API \u57FA\u7840 URL"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'"https://api.openai.com/v1"'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"env_key"})}),(0,d.jsx)(n.td,{children:"API \u5BC6\u94A5\u73AF\u5883\u53D8\u91CF\u540D"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'"OPENAI_API_KEY"'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"wire_api"})}),(0,d.jsx)(n.td,{children:"\u4F7F\u7528\u7684 API \u534F\u8BAE"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:'"chat"'})," \u6216 ",(0,d.jsx)(n.code,{children:'"responses"'})]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"query_params"})}),(0,d.jsx)(n.td,{children:"\u989D\u5916\u7684\u67E5\u8BE2\u53C2\u6570"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{ api-version = "2025-04-01-preview" }'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"http_headers"})}),(0,d.jsx)(n.td,{children:"\u9759\u6001 HTTP \u5934"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{ "X-Custom-Header" = "value" }'})})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"env_http_headers"})}),(0,d.jsx)(n.td,{children:"\u4ECE\u73AF\u5883\u53D8\u91CF\u8BFB\u53D6\u7684 HTTP \u5934"}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:'{ "X-API-Key" = "API_KEY_ENV" }'})})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"\u5E38\u7528\u7B2C\u4E09\u65B9\u670D\u52A1\u914D\u7F6E",children:"\u5E38\u7528\u7B2C\u4E09\u65B9\u670D\u52A1\u914D\u7F6E"}),"\n",(0,d.jsx)(n.h3,{id:"1-azure-openai",children:"1. Azure OpenAI"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'[model_providers.azure]\nname = "Azure OpenAI"\nbase_url = "https://YOUR_PROJECT_NAME.openai.azure.com/openai"\nenv_key = "AZURE_OPENAI_API_KEY"\nquery_params = { api-version = "2025-04-01-preview" }\nwire_api = "responses"\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u73AF\u5883\u53D8\u91CF\u8BBE\u7F6E\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'export AZURE_OPENAI_API_KEY="your-azure-api-key"\n'})}),"\n",(0,d.jsx)(n.h3,{id:"2-openrouter",children:"2. OpenRouter"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'[model_providers.openrouter]\nname = "OpenRouter"\nbase_url = "https://openrouter.ai/api/v1"\nenv_key = "OPENROUTER_API_KEY"\nwire_api = "chat"\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u73AF\u5883\u53D8\u91CF\u8BBE\u7F6E\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'export OPENROUTER_API_KEY="your-openrouter-key"\n'})}),"\n",(0,d.jsx)(n.h3,{id:"3-mistral",children:"3. Mistral"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'[model_providers.mistral]\nname = "Mistral"\nbase_url = "https://api.mistral.ai/v1"\nenv_key = "MISTRAL_API_KEY"\nwire_api = "chat"\n'})}),"\n",(0,d.jsx)(n.h3,{id:"4-deepseek",children:"4. DeepSeek"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'[model_providers.deepseek]\nname = "DeepSeek"\nbase_url = "https://api.deepseek.com"\nenv_key = "DEEPSEEK_API_KEY"\nwire_api = "chat"\n'})}),"\n",(0,d.jsx)(n.h3,{id:"5-groq",children:"5. Groq"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'[model_providers.groq]\nname = "Groq"\nbase_url = "https://api.groq.com/openai/v1"\nenv_key = "GROQ_API_KEY"\nwire_api = "chat"\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u672C\u5730\u6A21\u578B\u914D\u7F6E",children:"\u672C\u5730\u6A21\u578B\u914D\u7F6E"}),"\n",(0,d.jsx)(n.h3,{id:"1-ollama",children:"1. Ollama"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'[model_providers.ollama]\nname = "Ollama"\nbase_url = "http://localhost:11434/v1"\n# \u901A\u5E38\u4E0D\u9700\u8981 API \u5BC6\u94A5\nwire_api = "chat"\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u4F7F\u7528\u793A\u4F8B\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'# \u542F\u52A8 Ollama \u670D\u52A1\nollama serve\n\n# \u62C9\u53D6\u6A21\u578B\nollama pull llama2\n\n# \u914D\u7F6E Codex \u4F7F\u7528\u672C\u5730\u6A21\u578B\nmodel = "llama2"\nmodel_provider = "ollama"\n'})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u81EA\u5B9A\u4E49\u672C\u5730\u7AEF\u70B9",children:"2. \u81EA\u5B9A\u4E49\u672C\u5730\u7AEF\u70B9"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'[model_providers.local]\nname = "Local Model"\nbase_url = "http://localhost:8000/v1"\nenv_key = "LOCAL_API_KEY"  # \u5982\u679C\u9700\u8981\nwire_api = "chat"\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u9AD8\u7EA7\u914D\u7F6E\u9009\u9879",children:"\u9AD8\u7EA7\u914D\u7F6E\u9009\u9879"}),"\n",(0,d.jsx)(n.h3,{id:"1-\u7F51\u7EDC\u8C03\u4F18",children:"1. \u7F51\u7EDC\u8C03\u4F18"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'[model_providers.your-provider]\nname = "Your Provider"\nbase_url = "https://api.example.com/v1"\nenv_key = "API_KEY"\n\n# \u7F51\u7EDC\u91CD\u8BD5\u914D\u7F6E\nrequest_max_retries = 4        # HTTP \u8BF7\u6C42\u91CD\u8BD5\u6B21\u6570\nstream_max_retries = 10        # \u6D41\u91CD\u8FDE\u6B21\u6570\nstream_idle_timeout_ms = 300000 # \u6D41\u7A7A\u95F2\u8D85\u65F6\uFF08\u6BEB\u79D2\uFF09\n'})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u81EA\u5B9A\u4E49-http-\u5934",children:"2. \u81EA\u5B9A\u4E49 HTTP \u5934"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'[model_providers.custom]\nname = "Custom Provider"\nbase_url = "https://api.example.com/v1"\nenv_key = "API_KEY"\n\n# \u9759\u6001 HTTP \u5934\nhttp_headers = {\n    "X-Custom-Header" = "custom-value",\n    "User-Agent" = "Codex-CLI/1.0"\n}\n\n# \u4ECE\u73AF\u5883\u53D8\u91CF\u8BFB\u53D6\u7684 HTTP \u5934\nenv_http_headers = {\n    "X-API-Version" = "API_VERSION_ENV",\n    "X-Client-ID" = "CLIENT_ID_ENV"\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"3-\u914D\u7F6E\u6587\u4EF6\u793A\u4F8B",children:"3. \u914D\u7F6E\u6587\u4EF6\u793A\u4F8B"}),"\n",(0,d.jsxs)(n.p,{children:["\u5B8C\u6574\u7684 ",(0,d.jsx)(n.code,{children:"~/.codex/config.toml"})," \u793A\u4F8B\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:'# \u9ED8\u8BA4\u6A21\u578B\u914D\u7F6E\nmodel = "gpt-4o"\nmodel_provider = "openai"\n\n# \u6279\u51C6\u7B56\u7565\napproval_policy = "on-request"\n\n# \u6C99\u7BB1\u6A21\u5F0F\nsandbox_mode = "workspace-write"\n\n# OpenAI \u914D\u7F6E\n[model_providers.openai]\nname = "OpenAI"\nbase_url = "https://api.openai.com/v1"\nenv_key = "OPENAI_API_KEY"\nwire_api = "responses"\n\n# Azure OpenAI \u914D\u7F6E\n[model_providers.azure]\nname = "Azure OpenAI"\nbase_url = "https://your-project.openai.azure.com/openai"\nenv_key = "AZURE_OPENAI_API_KEY"\nquery_params = { api-version = "2025-04-01-preview" }\nwire_api = "responses"\n\n# Ollama \u672C\u5730\u6A21\u578B\u914D\u7F6E\n[model_providers.ollama]\nname = "Ollama"\nbase_url = "http://localhost:11434/v1"\nwire_api = "chat"\n\n# \u914D\u7F6E\u591A\u4E2A\u914D\u7F6E\u6587\u4EF6\n[profiles.azure]\nmodel = "gpt-4o"\nmodel_provider = "azure"\napproval_policy = "never"\n\n[profiles.local]\nmodel = "llama2"\nmodel_provider = "ollama"\napproval_policy = "never"\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u4F7F\u7528\u914D\u7F6E\u6587\u4EF6",children:"\u4F7F\u7528\u914D\u7F6E\u6587\u4EF6"}),"\n",(0,d.jsx)(n.h3,{id:"1-\u5207\u6362\u6A21\u578B\u63D0\u4F9B\u7A0B\u5E8F",children:"1. \u5207\u6362\u6A21\u578B\u63D0\u4F9B\u7A0B\u5E8F"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u4F7F\u7528\u914D\u7F6E\u6587\u4EF6\u4E2D\u7684\u9ED8\u8BA4\u8BBE\u7F6E\ncodex\n\n# \u4E34\u65F6\u5207\u6362\u6A21\u578B\ncodex --model gpt-4o --config model_provider=azure\n\n# \u4F7F\u7528\u914D\u7F6E\u6587\u4EF6\ncodex --profile azure\n"})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u547D\u4EE4\u884C\u914D\u7F6E",children:"2. \u547D\u4EE4\u884C\u914D\u7F6E"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'# \u4F7F\u7528\u901A\u7528\u914D\u7F6E\u6807\u5FD7\ncodex --config model="gpt-4o" --config model_provider="azure"\n\n# \u8BBE\u7F6E\u590D\u6742\u914D\u7F6E\ncodex --config model_providers.custom.base_url="https://api.example.com/v1"\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u6545\u969C\u6392\u9664",children:"\u6545\u969C\u6392\u9664"}),"\n",(0,d.jsx)(n.h3,{id:"1-\u5E38\u89C1\u95EE\u9898",children:"1. \u5E38\u89C1\u95EE\u9898"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u95EE\u9898\uFF1A401 \u8BA4\u8BC1\u9519\u8BEF"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u68C0\u67E5 API \u5BC6\u94A5\necho $YOUR_API_KEY\n\n# \u91CD\u65B0\u767B\u5F55\nrm ~/.codex/auth.json\ncodex login\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u95EE\u9898\uFF1A\u8FDE\u63A5\u8D85\u65F6"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-toml",children:"# \u589E\u52A0\u8D85\u65F6\u65F6\u95F4\n[model_providers.your-provider]\nstream_idle_timeout_ms = 600000  # 10\u5206\u949F\nrequest_max_retries = 6\n"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"\u95EE\u9898\uFF1A\u6A21\u578B\u4E0D\u652F\u6301"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u68C0\u67E5\u6A21\u578B\u540D\u79F0\u662F\u5426\u6B63\u786E\n# \u786E\u4FDD\u4F7F\u7528\u6B63\u786E\u7684 wire_api \u8BBE\u7F6E\n"})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u8C03\u8BD5\u65E5\u5FD7",children:"2. \u8C03\u8BD5\u65E5\u5FD7"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"# \u542F\u7528\u8BE6\u7EC6\u65E5\u5FD7\nRUST_LOG=codex_core=trace,reqwest=trace codex\n\n# \u67E5\u770B\u65E5\u5FD7\u6587\u4EF6\ntail -f ~/.codex/log/codex-tui.log\n"})}),"\n",(0,d.jsx)(n.h3,{id:"3-\u6D4B\u8BD5\u8FDE\u63A5",children:"3. \u6D4B\u8BD5\u8FDE\u63A5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'# \u4F7F\u7528 curl \u6D4B\u8BD5 API \u7AEF\u70B9\ncurl -H "Authorization: Bearer $YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"model":"your-model","messages":[{"role":"user","content":"hello"}]}\' \\\n  https://api.your-provider.com/v1/chat/completions\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u6700\u4F73\u5B9E\u8DF5",children:"\u6700\u4F73\u5B9E\u8DF5"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u5B89\u5168\u6027"}),"\uFF1A\u4F7F\u7528\u73AF\u5883\u53D8\u91CF\u5B58\u50A8 API \u5BC6\u94A5\uFF0C\u4E0D\u8981\u786C\u7F16\u7801\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u6027\u80FD"}),"\uFF1A\u6839\u636E\u7F51\u7EDC\u60C5\u51B5\u8C03\u6574\u91CD\u8BD5\u548C\u8D85\u65F6\u53C2\u6570"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u517C\u5BB9\u6027"}),"\uFF1A\u786E\u4FDD\u9009\u62E9\u7684 ",(0,d.jsx)(n.code,{children:"wire_api"})," \u4E0E\u4F60\u7684\u670D\u52A1\u517C\u5BB9"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u6D4B\u8BD5"}),"\uFF1A\u914D\u7F6E\u5B8C\u6210\u540E\u5148\u7528\u7B80\u5355\u547D\u4EE4\u6D4B\u8BD5\u8FDE\u63A5"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u5907\u4EFD"}),"\uFF1A\u5B9A\u671F\u5907\u4EFD\u914D\u7F6E\u6587\u4EF6"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u73AF\u5883\u53D8\u91CF\u53C2\u8003",children:"\u73AF\u5883\u53D8\u91CF\u53C2\u8003"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u53D8\u91CF"}),(0,d.jsx)(n.th,{children:"\u63CF\u8FF0"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"OPENAI_API_KEY"})}),(0,d.jsx)(n.td,{children:"OpenAI API \u5BC6\u94A5"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"CODEX_HOME"})}),(0,d.jsxs)(n.td,{children:["Codex \u914D\u7F6E\u76EE\u5F55\uFF08\u9ED8\u8BA4\uFF1A",(0,d.jsx)(n.code,{children:"~/.codex"}),"\uFF09"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"CODEX_API_KEY"})}),(0,d.jsxs)(n.td,{children:["Codex API \u5BC6\u94A5\uFF08\u4EC5 ",(0,d.jsx)(n.code,{children:"codex exec"})," \u652F\u6301\uFF09"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"RUST_LOG"})}),(0,d.jsx)(n.td,{children:"\u65E5\u5FD7\u7EA7\u522B\u914D\u7F6E"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"<PROVIDER>_API_KEY"})}),(0,d.jsx)(n.td,{children:"\u7279\u5B9A\u63D0\u4F9B\u7A0B\u5E8F\u7684 API \u5BC6\u94A5"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"<PROVIDER>_BASE_URL"})}),(0,d.jsx)(n.td,{children:"\u81EA\u5B9A\u4E49\u63D0\u4F9B\u7A0B\u5E8F\u7684\u57FA\u7840 URL"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"\u901A\u8FC7\u672C\u6307\u5357\uFF0C\u4F60\u5E94\u8BE5\u80FD\u591F\u6210\u529F\u914D\u7F6E\u548C\u4F7F\u7528\u5404\u79CD\u81EA\u5B9A\u4E49\u6A21\u578B\u63D0\u4F9B\u7A0B\u5E8F\u3002\u5982\u6709\u95EE\u9898\uFF0C\u8BF7\u53C2\u8003\u5B98\u65B9\u6587\u6863\u6216\u67E5\u770B\u65E5\u5FD7\u6587\u4EF6\u8FDB\u884C\u8C03\u8BD5\u3002"})]})}function h(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}},917776:function(e,n,l){l.d(n,{R:()=>s,x:()=>c});var r=l(7378);let d={},i=r.createContext(d);function s(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:s(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);