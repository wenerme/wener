"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["358807"],{241693:function(n,e,r){r.r(e),r.d(e,{frontMatter:()=>i,toc:()=>c,default:()=>u,metadata:()=>t,assets:()=>l,contentTitle:()=>a});var t=JSON.parse('{"id":"service/network/proxy/mieru","title":"mieru","description":"- https://github.com/enfein/mieru","source":"@site/../notes/service/network/proxy/mieru.md","sourceDirName":"service/network/proxy","slug":"/service/network/proxy/mieru","permalink":"/notes/service/network/proxy/mieru","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/service/network/proxy/mieru.md","tags":[{"inline":true,"label":"Protocol","permalink":"/notes/tags/protocol"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1764555082000,"frontMatter":{"tags":["Protocol"]},"sidebar":"docs","previous":{"title":"hysteria","permalink":"/notes/service/network/proxy/hysteria"},"next":{"title":"mihomo","permalink":"/notes/service/network/proxy/mihomo/"}}'),s=r(486106),o=r(917776);let i={tags:["Protocol"]},a="mieru",l={},c=[{value:"\u914D\u7F6E",id:"\u914D\u7F6E",level:2}];function p(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"mieru",children:"mieru"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/enfein/mieru",children:"https://github.com/enfein/mieru"})}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"make client-mac-arm64\nmake client-linux-amd64\n\nmake server-linux-amd64\n\nMITA_CONFIG_JSON_FILE=server.conf.json mita run\n\nmita status\n\nMIERU_CONFIG_JSON_FILE=client.conf.json mieru run\n"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",metastring:'title="server.conf.json"',children:'{\n  "portBindings": [\n    {\n      "portRange": "2100-2200",\n      "protocol": "TCP"\n    }\n  ],\n  "users": [\n    {\n      "name": "user",\n      "password": "password"\n    }\n  ],\n  "loggingLevel": "INFO",\n  "mtu": 1400\n}\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",metastring:'title="client.conf.json"',children:'{\n  "profiles": [\n    {\n      "profileName": "default",\n      "user": {\n        "name": "user",\n        "password": "password"\n      },\n      "servers": [\n        {\n          "ipAddress": "127.0.0.1",\n          "portBindings": [\n            {\n              "portRange": "2100-2200",\n              "protocol": "TCP"\n            }\n          ]\n        }\n      ],\n      "mtu": 1400,\n      "multiplexing": {\n        "level": "MULTIPLEXING_HIGH"\n      }\n    }\n  ],\n  "activeProfile": "default",\n  "rpcPort": 8964,\n  "socks5Port": 1080,\n  "loggingLevel": "INFO"\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u914D\u7F6E",children:"\u914D\u7F6E"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-jsonc",metastring:'title="server.conf.json"',children:'{\n  // \u7AEF\u53E3\u7ED1\u5B9A\u914D\u7F6E\n  "portBindings": [\n    {\n      "portRange": "2100-2200", // \u8FDE\u7EED\u7AEF\u53E3\u8303\u56F4\n      "protocol": "TCP", // TCP \u6216 UDP\n    },\n    {\n      "port": 25000, // \u5355\u4E2A\u7AEF\u53E3\n      "protocol": "UDP",\n    },\n  ],\n  // \u7528\u6237\u5217\u8868\n  "users": [\n    {\n      "name": "username", // \u7528\u6237\u540D\n      "password": "password", // \u5BC6\u7801\n      "allowPrivateIP": false, // \u5141\u8BB8\u8BBF\u95EE\u5185\u7F51 IP (192.168.x.x \u7B49)\n      "allowLoopbackIP": false, // \u5141\u8BB8\u8BBF\u95EE\u672C\u673A (127.0.0.1)\n      "quotas": [\n        // \u6D41\u91CF\u9650\u5236 (\u53EF\u9009)\n        {\n          "days": 30, // \u5468\u671F\u5929\u6570\n          "megabytes": 10240, // \u6D41\u91CF\u9650\u5236 MB\n        },\n      ],\n    },\n  ],\n  "loggingLevel": "INFO", // \u65E5\u5FD7\u7EA7\u522B: INFO, DEBUG\n  "mtu": 1400, // UDP \u4F20\u8F93\u8F7D\u8377\u5927\u5C0F (1280-1400)\n  // \u51FA\u7AD9\u4EE3\u7406\u914D\u7F6E (\u53EF\u9009)\n  "egress": {\n    "proxies": [\n      {\n        "name": "upstream",\n        "protocol": "SOCKS5_PROXY_PROTOCOL",\n        "host": "127.0.0.1",\n        "port": 4000,\n      },\n    ],\n    "rules": [\n      {\n        "domainNames": ["example.com"],\n        "action": "PROXY", // DIRECT, PROXY, REJECT\n        "proxyNames": ["upstream"],\n      },\n      {\n        "ipRanges": ["*"],\n        "action": "DIRECT",\n      },\n    ],\n  },\n  // DNS \u7B56\u7565 (\u53EF\u9009, \u53CC\u6808\u7F51\u7EDC)\n  "dns": {\n    "dualStack": "USE_FIRST_IP", // PREFER_IPv4, PREFER_IPv6, ONLY_IPv4, ONLY_IPv6\n  },\n}\n'})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-jsonc",metastring:'title="client.conf.json"',children:'{\n  // \u914D\u7F6E\u6863\u6848\u5217\u8868\n  "profiles": [\n    {\n      "profileName": "default", // \u6863\u6848\u540D\u79F0\n      "user": {\n        "name": "username", // \u7528\u6237\u540D (\u4E0E\u670D\u52A1\u7AEF\u4E00\u81F4)\n        "password": "password", // \u5BC6\u7801 (\u4E0E\u670D\u52A1\u7AEF\u4E00\u81F4)\n      },\n      "servers": [\n        {\n          "ipAddress": "1.2.3.4", // \u670D\u52A1\u5668 IP (\u652F\u6301 IPv6)\n          "domainName": "", // \u670D\u52A1\u5668\u57DF\u540D (\u53EF\u9009)\n          "portBindings": [\n            {\n              "portRange": "2100-2200", // \u4E0E\u670D\u52A1\u7AEF\u4E00\u81F4\n              "protocol": "TCP",\n            },\n          ],\n        },\n      ],\n      "mtu": 1400, // \u4E0E\u670D\u52A1\u7AEF\u4E00\u81F4\n      "multiplexing": {\n        // \u591A\u8DEF\u590D\u7528\u7EA7\u522B\n        // MULTIPLEXING_OFF: \u5173\u95ED, \u6BCF\u4E2A\u8BF7\u6C42\u65B0\u5EFA\u8FDE\u63A5\n        // MULTIPLEXING_LOW: \u4F4E (\u9ED8\u8BA4)\n        // MULTIPLEXING_MIDDLE: \u4E2D\u7B49\n        // MULTIPLEXING_HIGH: \u9AD8, \u5C3D\u91CF\u590D\u7528\u8FDE\u63A5\n        "level": "MULTIPLEXING_HIGH",\n      },\n      // \u63E1\u624B\u6A21\u5F0F\n      // HANDSHAKE_STANDARD: \u6807\u51C6\u63E1\u624B (\u9ED8\u8BA4)\n      // HANDSHAKE_NO_WAIT: 0-RTT \u63E1\u624B, \u66F4\u5FEB\u4F46\u5B89\u5168\u6027\u7565\u4F4E\n      "handshakeMode": "HANDSHAKE_STANDARD",\n    },\n  ],\n  "activeProfile": "default", // \u5F53\u524D\u4F7F\u7528\u7684\u6863\u6848\n  "rpcPort": 8964, // RPC \u7AEF\u53E3 (\u5185\u90E8\u901A\u4FE1)\n  "socks5Port": 1080, // SOCKS5 \u4EE3\u7406\u7AEF\u53E3\n  "socks5ListenLAN": false, // \u5141\u8BB8\u5C40\u57DF\u7F51\u8BBF\u95EE SOCKS5\n  "httpProxyPort": 8080, // HTTP/HTTPS \u4EE3\u7406\u7AEF\u53E3 (\u53EF\u9009)\n  "httpProxyListenLAN": false, // \u5141\u8BB8\u5C40\u57DF\u7F51\u8BBF\u95EE HTTP \u4EE3\u7406\n  "loggingLevel": "INFO", // \u65E5\u5FD7\u7EA7\u522B: INFO, DEBUG\n  // SOCKS5 \u8BA4\u8BC1 (\u53EF\u9009, \u4E0E HTTP \u4EE3\u7406\u4E92\u65A5)\n  "socks5Authentication": [\n    {\n      "user": "localuser",\n      "password": "localpass",\n    },\n  ],\n}\n'})})]})}function u(n={}){let{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(p,{...n})}):p(n)}},917776:function(n,e,r){r.d(e,{R:()=>i,x:()=>a});var t=r(7378);let s={},o=t.createContext(s);function i(n){let e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);