"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["303017"],{229742:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>t,toc:()=>c,default:()=>h,metadata:()=>l,assets:()=>d,contentTitle:()=>a});var l=JSON.parse('{"id":"db/relational/mysql/mysql-gtid","title":"MySQL GTID","description":"\u8FD9\u91CC\u4E3B\u8981\u7B80\u5355\u63CF\u8FF0\u4E0B\u5B9E\u73B0 GTID \u9047\u5230\u7684\u95EE\u9898","source":"@site/../notes/db/relational/mysql/mysql-gtid.md","sourceDirName":"db/relational/mysql","slug":"/db/relational/mysql/gtid","permalink":"/notes/db/relational/mysql/gtid","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/db/relational/mysql/mysql-gtid.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1678453938000,"frontMatter":{"title":"MySQL GTID"},"sidebar":"docs","previous":{"title":"MySQL FAQ","permalink":"/notes/db/relational/mysql/faq"},"next":{"title":"InnoDB","permalink":"/notes/db/relational/mysql/innodb"}}'),r=i(486106),s=i(917776);let t={title:"MySQL GTID"},a="GTID",d={},c=[{value:"MySQL vs MariaDB",id:"mysql-vs-mariadb",level:2},{value:"Reference",id:"reference",level:2}];function o(n){let e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"gtid",children:"GTID"})}),"\n",(0,r.jsx)(e.p,{children:"\u8FD9\u91CC\u4E3B\u8981\u7B80\u5355\u63CF\u8FF0\u4E0B\u5B9E\u73B0 GTID \u9047\u5230\u7684\u95EE\u9898"}),"\n",(0,r.jsx)(e.h2,{id:"mysql-vs-mariadb",children:"MySQL vs MariaDB"}),"\n",(0,r.jsx)(e.p,{children:"MariaDB 10.0.2 \u5F00\u59CB\u652F\u6301 GTID, MySQL 5.6 \u5F00\u59CB\u652F\u6301 GTID,\u56E0\u4E3A MariaDB \u662F\u57FA\u4E8E MySQL 5.5.5, \u56E0\u6B64 MariaDB \u7684 GTID \u4E0E MySQL \u7684 GTID \u59FF\u52BF\u5E76\u4E0D\u4E00\u6837."}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["GTID \u683C\u5F0F\u4E0D\u4E00\u6837\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["MySQL:\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["UUID SET\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"3E11FA47-71CA-11E1-9E33-C80AA9429562:23"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"server_uuid:interval"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["GTID SET\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"uuid_set[, uuid_set] ... | ''"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["MariaDB\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"0-3306-123"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"DomainID-ServerID-Sequence"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5F00\u59CB GTID \u590D\u5236\u7684\u6D41\u7A0B\u4E0D\u4E00\u6837\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["MySQL\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4F7F\u7528 [COM_BINLOG_DUMP_GTID] \u5F00\u59CB\u590D\u5236\u6D41\u7A0B,\u5728\u5305\u4E2D\u6307\u5B9A GTID SET"}),"\n",(0,r.jsx)(e.li,{children:"COM_BINLOG_DUMP_GTID \u662F 5.6 \u652F\u6301\u7684\u534F\u8BAE"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"MariaDB"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sql",children:"-- \u5BF9\u4E8E\u4E0D\u540C\u7684\u590D\u5236\u9700\u6C42,\u901A\u8FC7\u8BBE\u7F6E\u4F1A\u8BDD\u4E2D\u7684\u53D8\u91CF\u6307\u5B9A\n-- \u53EF\u901A\u8FC7\u6293\u5305\u770B\u5230 MaraDB \u5F00\u59CB\u590D\u5236\u7684\u6D41\u7A0B\n-- \u4E3B\u8981\u4E0E GTID \u76F8\u5173\u7684\u53D8\u91CF\nSET @mariadb_slave_capability = 4;-- \u8868\u660E\u80FD\u63A5\u53D7 GTID\nSET @slave_connect_state = '0-3311-90';-- \u6307\u5B9A GTID\n-- \u7136\u540E\u53D1\u9001 REGISTER_SLAVE\n-- MySQL \u662F\u53D1\u9001 BINLOG_DUMP.REGISTER_SLAVE \u662F\u53EF\u9009\u7684\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"MariaDB \u7684 GTID \u4E8B\u4EF6\u5305\u4E0E MySQL \u7684\u4E0D\u540C,\u76EE\u524D\u53EA\u6709\u901A\u8FC7\u6293\u5305\u5206\u6790."}),"\n",(0,r.jsxs)(e.li,{children:["MySQL \u7684\u534F\u8BAE\u6709\u76F8\u5BF9\u5B8C\u5584\u7684\u6587\u6863, MariaDB \u4EC0\u4E48\u7684\u534F\u8BAE,\u6587\u6863\u6EF4\u6CA1\u6709\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"MariaDB \u5927\u90E8\u5206\u534F\u8BAE\u4E0E MySQL \u76F8\u540C, \u4F46\u662F\u8FD9\u90E8\u5206\u4E0D\u540C"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"reference",children:"Reference"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/wenerme/mysql-binlog-connector-java",children:"wenerme/mysql-binlog-connector-java"}),"\n\u652F\u6301 Mariadb GTID \u7684\u5B9E\u73B0"]}),"\n",(0,r.jsxs)(e.li,{children:["MySQL\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://dev.mysql.com/doc/refman/5.6/en/replication-gtids.html",children:"Replication with Global Transaction Identifiers"})}),"\n",(0,r.jsx)(e.li,{children:"[COM_BINLOG_DUMP_GTID]"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["MariaDB\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://mariadb.com/kb/en/mariadb/global-transaction-id/",children:"Global Transaction ID"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://mariadb.com/blog/mariadb-10-gtid-explained",children:"MariaDB 1- GTID explain"})}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://mariadb.com/blog/enabling-gtids-server-replication-mariadb-100",children:"Enabling GTIDs for server replication in MariaDB 10.0"}),"\n[com_binlog_dump_gtid]: ",(0,r.jsx)(e.a,{href:"http://dev.mysql.com/doc/internals/en/com-binlog-dump-gtid.html",children:"http://dev.mysql.com/doc/internals/en/com-binlog-dump-gtid.html"})]}),"\n"]}),"\n"]}),"\n"]})]})}function h(n={}){let{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(o,{...n})}):o(n)}},917776:function(n,e,i){i.d(e,{R:()=>t,x:()=>a});var l=i(7378);let r={},s=l.createContext(r);function t(n){let e=l.useContext(s);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),l.createElement(s.Provider,{value:e},n.children)}}}]);