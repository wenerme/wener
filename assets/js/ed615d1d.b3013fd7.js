"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["39600"],{18833:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>d,toc:()=>l,default:()=>u,metadata:()=>t,assets:()=>i,contentTitle:()=>o});var t=JSON.parse('{"id":"devops/kubernetes/k8s-dashboard","title":"Kubernates \u9762\u677F","description":"- kubernetes/dashboard","source":"@site/../notes/devops/kubernetes/k8s-dashboard.md","sourceDirName":"devops/kubernetes","slug":"/devops/kubernetes/dashboard","permalink":"/notes/devops/kubernetes/dashboard","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/devops/kubernetes/k8s-dashboard.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1637655206000,"frontMatter":{"title":"Kubernates \u9762\u677F"},"sidebar":"docs","previous":{"title":"K8S Awesome","permalink":"/notes/devops/kubernetes/awesome"},"next":{"title":"Event","permalink":"/notes/devops/kubernetes/event"}}'),r=s(86106),a=s(17776);let d={title:"Kubernates \u9762\u677F"},o="Kubernates \u9762\u677F",i={},l=[{value:"TLS",id:"tls",level:2}];function c(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"kubernates-\u9762\u677F",children:"Kubernates \u9762\u677F"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/kubernetes/dashboard",children:"kubernetes/dashboard"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u975E\u5E38\u7B80\u6D01\u7684 UI \u9762\u677F"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/",children:"Web UI (Dashboard)"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# HELM \u5B89\u88C5\u53C2\u8003\n# ==========\n# https://hub.helm.sh/charts/k8s-dashboard/kubernetes-dashboard\nhelm repo add kubernetes-dashboard https://kubernetes.github.io/dashboard/\n# \u9ED8\u8BA4\u4E0D\u4F1A\u5B89\u88C5 metric scraper\nhelm install kubernetes-dashboard/kubernetes-dashboard --name kubernetes-dashboard --namespace kubernetes-dashboard\n\n# \u624B\u52A8\u5B89\u88C5\n# ==========\n# \u5B89\u88C5\u6700\u65B0\u53D1\u5E03\u7248\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/$(curl -Ls https://api.github.com/repos/kubernetes/dashboard/releases/latest | jq -r .tag_name)/aio/deploy/recommended.yaml\n\n# \u521B\u5EFA\u7BA1\u7406\u5458\u7EA7\u522B\u8D26\u53F7\ncat <<YAML | kubectl apply -f -\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: admin-user\n  namespace: kubernetes-dashboard\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: admin-user\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: cluster-admin\nsubjects:\n- kind: ServiceAccount\n  name: admin-user\n  namespace: kubernetes-dashboard\nYAML\n\n# \u83B7\u53D6 Token\nkubectl -n kubernetes-dashboard describe secret admin-user-token |grep ^token\n# \u5982\u679C\u662F macos \u5219\u53EF\u4EE5\u5B89\u88C5 yq \u7136\u540E\u76F4\u63A5\u590D\u5236\n# kubectl -n kubernetes-dashboard describe secret admin-user-token |grep ^token | yq r - 'token' | pbcopy\n\n# \u5F00\u542F\u4EE3\u7406\nkubectl proxy\n# \u8BBF\u95EE\n# http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:https/proxy/\n"})}),"\n",(0,r.jsx)(n.h2,{id:"tls",children:"TLS"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/kubernetes/dashboard/blob/master/docs/user/certificate-management.md",children:"Certificate management"})}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"'--tls-cert-file=/tls.crt'"}),"\n",(0,r.jsx)(n.li,{children:"'--tls-key-file=/tls.key'"}),"\n",(0,r.jsx)(n.li,{children:"'--auto-generate-certificates'"}),"\n",(0,r.jsx)(n.li,{children:"'--namespace=kubernetes-dashboard'"}),"\n"]})]})}function u(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},17776:function(e,n,s){s.d(n,{R:()=>d,x:()=>o});var t=s(7378);let r={},a=t.createContext(r);function d(e){let n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);