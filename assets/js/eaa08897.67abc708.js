"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["832459"],{376167:function(n,e,s){s.r(e),s.d(e,{frontMatter:()=>a,toc:()=>d,default:()=>m,metadata:()=>i,assets:()=>c,contentTitle:()=>t});var i=JSON.parse('{"id":"dev/format/jsonschema/README","title":"JSON Schema","description":"- \u81EA\u5B9A\u4E49\u5C5E\u6027\u6700\u597D\u4F7F\u7528 x- \u524D\u7F00","source":"@site/../notes/dev/format/jsonschema/README.md","sourceDirName":"dev/format/jsonschema","slug":"/dev/format/jsonschema/","permalink":"/notes/dev/format/jsonschema/","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/dev/format/jsonschema/README.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1745546888000,"frontMatter":{"title":"JSON Schema"},"sidebar":"docs","previous":{"title":"JSON Path","permalink":"/notes/dev/format/json/path"},"next":{"title":"JSON Schema Awesome","permalink":"/notes/dev/format/jsonschema/awesome"}}'),r=s(486106),l=s(917776);let a={title:"JSON Schema"},t="JSON Schema",c={},d=[{value:"Keyword",id:"keyword",level:2},{value:"ajv formats",id:"ajv-formats",level:2},{value:"JSON Schema vs JSON Type Definition",id:"json-schema-vs-json-type-definition",level:2},{value:"int64",id:"int64",level:2},{value:"Bundle",id:"bundle",level:2}];function h(n){let e={a:"a",admonition:"admonition",annotation:"annotation",code:"code",del:"del",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",math:"math",mi:"mi",mo:"mo",mrow:"mrow",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"json-schema",children:"JSON Schema"})}),"\n",(0,r.jsx)(e.admonition,{type:"tip",children:(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u81EA\u5B9A\u4E49\u5C5E\u6027\u6700\u597D\u4F7F\u7528 ",(0,r.jsx)(e.code,{children:"x-"})," \u524D\u7F00"]}),"\n",(0,r.jsxs)(e.li,{children:["enum \u901A\u8FC7\u6570\u7EC4\u5B9A\u4E49\uFF0C\u65E0\u6CD5\u6307\u5B9A title ",(0,r.jsx)(e.code,{children:"[1,2,3]"})," - \u53EF\u4EE5\u4F7F\u7528 oneOf/anyOf"]}),"\n",(0,r.jsx)(e.li,{children:"\u63A8\u8350\u4F7F\u7528 2020-12 \u6216 draft-07"}),"\n"]})}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"version"}),(0,r.jsx)(e.th,{children:"$schema"}),(0,r.jsx)(e.th,{children:"adopted by"}),(0,r.jsx)(e.th,{children:"date"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"https://json-schema.org/draft/2020-12/schema",children:"2020-12"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"OpenAPI 3.1"}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"https://json-schema.org/draft/2019-09/schema",children:"2019-09"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"2019-09"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"https://json-schema.org/draft-07/schema",children:"draft-07"})}),(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"http://json-schema.org/draft-07/schema",children:"http://json-schema.org/draft-07/schema"})}),(0,r.jsx)(e.td,{children:"ajv default"}),(0,r.jsx)(e.td,{children:"2018-06"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"https://json-schema.org/draft-06/schema",children:"draft-06"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.a,{href:"https://json-schema.org/draft-04/schema",children:"draft-04"})}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"draft-00"}),(0,r.jsx)(e.td,{}),(0,r.jsx)(e.td,{children:"OpenAPI 3.0"}),(0,r.jsx)(e.td,{})]})]})]}),"\n",(0,r.jsx)(e.admonition,{type:"tip",children:(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"$schema"})," \u4E3A ",(0,r.jsx)(e.code,{children:"http://"})]}),"\n"]})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["2020-12 - \u4E0D\u517C\u5BB9 draft-07\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"prefixItems"}),"\n",(0,r.jsx)(e.li,{children:"items \u884C\u4E3A\u53D8\u5316"}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsxs)(e.span,{className:"katex",children:[(0,r.jsx)(e.span,{className:"katex-mathml",children:(0,r.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(e.semantics,{children:[(0,r.jsxs)(e.mrow,{children:[(0,r.jsx)(e.mi,{children:"r"}),(0,r.jsx)(e.mi,{children:"e"}),(0,r.jsx)(e.mi,{children:"c"}),(0,r.jsx)(e.mi,{children:"u"}),(0,r.jsx)(e.mi,{children:"r"}),(0,r.jsx)(e.mi,{children:"s"}),(0,r.jsx)(e.mi,{children:"i"}),(0,r.jsx)(e.mi,{children:"v"}),(0,r.jsx)(e.mi,{children:"e"}),(0,r.jsx)(e.mi,{children:"R"}),(0,r.jsx)(e.mi,{children:"e"}),(0,r.jsx)(e.mi,{children:"f"}),(0,r.jsx)(e.mo,{separator:"true",children:","})]}),(0,r.jsx)(e.annotation,{encoding:"application/x-tex",children:"recursiveRef,"})]})})}),(0,r.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,r.jsxs)(e.span,{className:"base",children:[(0,r.jsx)(e.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"rec"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"rs"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"i"}),(0,r.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,r.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.00773em"},children:"R"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,r.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,r.jsx)(e.span,{className:"mpunct",children:","})]})})]}),"recursiveAnchor -> ",(0,r.jsxs)(e.span,{className:"katex",children:[(0,r.jsx)(e.span,{className:"katex-mathml",children:(0,r.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(e.semantics,{children:[(0,r.jsxs)(e.mrow,{children:[(0,r.jsx)(e.mi,{children:"d"}),(0,r.jsx)(e.mi,{children:"y"}),(0,r.jsx)(e.mi,{children:"n"}),(0,r.jsx)(e.mi,{children:"a"}),(0,r.jsx)(e.mi,{children:"m"}),(0,r.jsx)(e.mi,{children:"i"}),(0,r.jsx)(e.mi,{children:"c"}),(0,r.jsx)(e.mi,{children:"R"}),(0,r.jsx)(e.mi,{children:"e"}),(0,r.jsx)(e.mi,{children:"f"}),(0,r.jsx)(e.mo,{separator:"true",children:","})]}),(0,r.jsx)(e.annotation,{encoding:"application/x-tex",children:"dynamicRef,"})]})})}),(0,r.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,r.jsxs)(e.span,{className:"base",children:[(0,r.jsx)(e.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"d"}),(0,r.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"nami"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,r.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.00773em"},children:"R"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,r.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,r.jsx)(e.span,{className:"mpunct",children:","})]})})]}),"dynamicAnchor"]}),"\n",(0,r.jsx)(e.li,{children:"contains+unevaluatedItems \u884C\u4E3A\u53D8\u5316"}),"\n",(0,r.jsx)(e.li,{children:"application/schema+json, application/schema-instance+json"}),"\n",(0,r.jsx)(e.li,{children:"\u4F7F\u7528 $defs \u6765 bundle schema"}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://json-schema.org/draft/2020-12/release-notes.html",children:"JSON Schema 2020-12 Release Notes"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["draft 2019-09\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsxs)(e.span,{className:"katex",children:[(0,r.jsx)(e.span,{className:"katex-mathml",children:(0,r.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(e.semantics,{children:[(0,r.jsxs)(e.mrow,{children:[(0,r.jsx)(e.mi,{children:"r"}),(0,r.jsx)(e.mi,{children:"e"}),(0,r.jsx)(e.mi,{children:"c"}),(0,r.jsx)(e.mi,{children:"u"}),(0,r.jsx)(e.mi,{children:"r"}),(0,r.jsx)(e.mi,{children:"s"}),(0,r.jsx)(e.mi,{children:"i"}),(0,r.jsx)(e.mi,{children:"v"}),(0,r.jsx)(e.mi,{children:"e"}),(0,r.jsx)(e.mi,{children:"A"}),(0,r.jsx)(e.mi,{children:"n"}),(0,r.jsx)(e.mi,{children:"c"}),(0,r.jsx)(e.mi,{children:"h"}),(0,r.jsx)(e.mi,{children:"o"}),(0,r.jsx)(e.mi,{children:"r"}),(0,r.jsx)(e.mi,{mathvariant:"normal",children:"/"})]}),(0,r.jsx)(e.annotation,{encoding:"application/x-tex",children:"recursiveAnchor/"})]})})}),(0,r.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,r.jsxs)(e.span,{className:"base",children:[(0,r.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"rec"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"rs"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"i"}),(0,r.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"A"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"n"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"c"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"h"}),(0,r.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"or"}),(0,r.jsx)(e.span,{className:"mord",children:"/"})]})})]}),"recursiveRef"]}),"\n",(0,r.jsx)(e.li,{children:"unevaluatedProperties"}),"\n",(0,r.jsx)(e.li,{children:"unevaluatedItems"}),"\n",(0,r.jsx)(e.li,{children:"dependentRequired"}),"\n",(0,r.jsx)(e.li,{children:"dependentSchemas"}),"\n",(0,r.jsx)(e.li,{children:"maxContains/minContains"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["draft-07 - ",(0,r.jsx)(e.a,{href:"https://json-schema.org/draft-07/schema",children:"https://json-schema.org/draft-07/schema"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsxs)(e.span,{className:"katex",children:[(0,r.jsx)(e.span,{className:"katex-mathml",children:(0,r.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,r.jsxs)(e.semantics,{children:[(0,r.jsxs)(e.mrow,{children:[(0,r.jsx)(e.mi,{children:"r"}),(0,r.jsx)(e.mi,{children:"e"}),(0,r.jsx)(e.mi,{children:"c"}),(0,r.jsx)(e.mi,{children:"u"}),(0,r.jsx)(e.mi,{children:"r"}),(0,r.jsx)(e.mi,{children:"s"}),(0,r.jsx)(e.mi,{children:"i"}),(0,r.jsx)(e.mi,{children:"v"}),(0,r.jsx)(e.mi,{children:"e"}),(0,r.jsx)(e.mi,{children:"R"}),(0,r.jsx)(e.mi,{children:"e"}),(0,r.jsx)(e.mi,{children:"f"}),(0,r.jsx)(e.mi,{mathvariant:"normal",children:"/"})]}),(0,r.jsx)(e.annotation,{encoding:"application/x-tex",children:"recursiveRef/"})]})})}),(0,r.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,r.jsxs)(e.span,{className:"base",children:[(0,r.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"rec"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"u"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"rs"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"i"}),(0,r.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,r.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.00773em"},children:"R"}),(0,r.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,r.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,r.jsx)(e.span,{className:"mord",children:"/"})]})})]}),"recursiveAnchor, unevaluatedProperties/unevaluatedItems"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"draft-06"}),"\n",(0,r.jsx)(e.li,{children:"draft-04"}),"\n",(0,r.jsxs)(e.li,{children:["OpenAPI\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"nullable"}),"\n",(0,r.jsxs)(e.li,{children:["discriminator\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4E0D\u5F71\u54CD\u6821\u9A8C"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u7248\u672C\u9009\u62E9\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"ajv \u9ED8\u8BA4 draft-07"}),"\n",(0,r.jsx)(e.li,{children:"typebox \u4F7F\u7528 draft-07"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/json-schema-org",children:"https://github.com/json-schema-org"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://datatracker.ietf.org/doc/html/draft-handrews-json-schema-validation-02",children:"https://datatracker.ietf.org/doc/html/draft-handrews-json-schema-validation-02"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"export type JSONSchemaTypeName =\n  | 'string' //\n  | 'number'\n  | 'integer'\n  | 'boolean'\n  | 'object'\n  | 'array'\n  | 'null';\nexport type JSONSchemaType =\n  | string //\n  | number\n  | boolean\n  | JSONSchemaObject\n  | JSONSchemaArray\n  | null;\ntype JSONSchemaDefinition = JSONSchema | boolean;\n\ninterface JSONSchema {\n  $id?: string;\n  $ref?: string;\n  /**\n   * Meta schema\n   *\n   * Recommended values:\n   * - 'http://json-schema.org/schema#'\n   * - 'http://json-schema.org/hyper-schema#'\n   * - 'http://json-schema.org/draft-07/schema#'\n   * - 'http://json-schema.org/draft-07/hyper-schema#'\n   *\n   * @see https://tools.ietf.org/html/draft-handrews-json-schema-validation-01#section-5\n   */\n  $schema?: string;\n  $comment?: string;\n\n  $defs?: Record<string, JsonSchema | boolean>;\n\n  // for any type\n\n  type?: JSONSchemaTypeName | JSONSchemaTypeName[];\n  enum?: JSONSchemaType[];\n  const?: JSONSchemaType;\n\n  //region keywords for strings\n  maxLength?: number;\n  minLength?: number;\n  pattern?: string;\n\n  contentEncoding?: string; // e.g. base64\n  contentMediaType?: string; // e.g. image/png, text/html, application/jwt\n  contentSchema?: JSONSchemaDefinition; // for application/jwt e.g. {type:\"array\"}\n  //endregion\n\n  //region keywords for numbers\n  multipleOf?: number;\n  maximum?: number;\n  exclusiveMaximum?: number;\n  minimum?: number;\n  exclusiveMinimum?: number;\n  //endregion\n\n  //region keywords for arrays\n  /**\n   * @see https://tools.ietf.org/html/draft-handrews-json-schema-validation-01#section-6.4\n   */\n  items?: JSONSchemaDefinition | JSONSchemaDefinition[] | undefined;\n  additionalItems?: JSONSchemaDefinition | undefined;\n  contains?: JSONSchemaDefinition;\n\n  maxItems?: number;\n  minItems?: number;\n  uniqueItems?: boolean;\n  maxContains?: number;\n  minContains?: number;\n  //endregion\n\n  /**\n   * @see https://tools.ietf.org/html/draft-handrews-json-schema-validation-01#section-6.5\n   */\n  //region keywords for objects\n  maxProperties?: number;\n  minProperties?: number;\n  required?: string[];\n  dependentRequired?: Record<string, string[]>; // draft 2019-09\n\n  properties?: Record<string, JSONSchemaDefinition>;\n  patternProperties?: Record<string, JSONSchemaDefinition>;\n  additionalProperties?: JSONSchemaDefinition;\n  propertyNames?: JSONSchemaDefinition;\n\n  /**\n   * renamed to dependentSchemas, dependentRequired\n   * @deprecated draft 2019-09\n   */\n  dependencies?: Record<string, JSONSchemaDefinition | string[]>;\n  //endregion\n\n  //region conditional subschemas\n  if?: JSONSchemaDefinition;\n  then?: JSONSchemaDefinition;\n  else?: JSONSchemaDefinition;\n  //endregion\n\n  //region logical operations\n  allOf?: JSONSchemaDefinition[];\n  anyOf?: JSONSchemaDefinition[];\n  oneOf?: JSONSchemaDefinition[];\n  not?: JSONSchemaDefinition;\n  //endregion\n\n  /**\n   * @see https://tools.ietf.org/html/draft-handrews-json-schema-validation-01#section-7\n   */\n  format?: string;\n\n  /**\n   * @see https://tools.ietf.org/html/draft-handrews-json-schema-validation-01#section-8\n   */\n  contentMediaType?: string;\n  contentEncoding?: string;\n\n  /**\n   * renamed to `$defs` to match `$ref`\n   */\n  definitions?: Record<string, JSONSchemaDefinition>;\n\n  //region metadata\n  title?: string;\n  description?: string;\n  default?: JSONSchemaType;\n  deprecated?: boolean;\n  readOnly?: boolean;\n  writeOnly?: boolean;\n  examples?: JSONSchemaType;\n  //endregion\n}\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "type": "string",\n  "nullable": true\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "type": ["string", "null"]\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "type": "integer"\n}\n'})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/json-schema-org/json-schema-spec",children:"json-schema-org/json-schema-spec"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"keyword",children:"Keyword"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "$schema": "https://json-schema.org/draft/2020-12/schema",\n  "$id": "https://example.com/product.schema.json",\n  "title": "Product",\n  "description": "A product in the catalog",\n  "type": "object",\n  "properties": {\n    "uints": {\n      "type": "array",\n      "items": {\n        // \u76F8\u5BF9\u5F15\u7528\n        "$ref": "#/$defs/positiveInteger"\n      }\n    },\n\n    "objs": {\n      "type": "array",\n      "items": {\n        // \u7EDD\u5BF9\u5F15\u7528\n        "$id": "https://example.com/bar",\n        "additionalProperties": {}\n      }\n    },\n    // null or string\n    "nullable": { "type": ["string", "null"] }\n  },\n  "required": [],\n  "$defs": {\n    "positiveInteger": {\n      "type": "integer",\n      "exclusiveMinimum": 0\n    },\n    "single": {\n      "$anchor": "item",\n      "type": "object",\n      "additionalProperties": { "$ref": "other.json" }\n    }\n  },\n  "$comment": ""\n}\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5143\u6570\u636E\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"title, description"}),"\n",(0,r.jsx)(e.li,{children:"$comment"}),"\n",(0,r.jsx)(e.li,{children:"default"}),"\n",(0,r.jsx)(e.li,{children:"examples"}),"\n",(0,r.jsx)(e.li,{children:"readOnly, writeOnly"}),"\n",(0,r.jsxs)(e.li,{children:["contentEncoding - \u4F8B\u5982: base64 ",(0,r.jsx)(e.a,{href:"https://www.rfc-editor.org/rfc/rfc2045#section-6.1",children:"https://www.rfc-editor.org/rfc/rfc2045#section-6.1"})]}),"\n",(0,r.jsxs)(e.li,{children:["contentMediaType - \u4F8B\u5982: image/png ",(0,r.jsx)(e.a,{href:"https://datatracker.ietf.org/doc/rfc2046/",children:"https://datatracker.ietf.org/doc/rfc2046/"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["number\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["format\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"float"}),"\n",(0,r.jsx)(e.li,{children:"double"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["keyword\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"minimum - >="}),"\n",(0,r.jsx)(e.li,{children:"maximum - <="}),"\n",(0,r.jsx)(e.li,{children:"exclusiveMinimum - >"}),"\n",(0,r.jsx)(e.li,{children:"exclusiveMaximum - <"}),"\n",(0,r.jsx)(e.li,{children:"multipleOf"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["integer\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["format\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"int32"}),"\n",(0,r.jsx)(e.li,{children:"int64"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["string\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["format\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"email - RFC 5321"}),"\n",(0,r.jsx)(e.li,{children:"idn-email - RFC 6531"}),"\n",(0,r.jsx)(e.li,{children:"uuid"}),"\n",(0,r.jsx)(e.li,{children:"uri"}),"\n",(0,r.jsx)(e.li,{children:"uri-reference"}),"\n",(0,r.jsx)(e.li,{children:"iri"}),"\n",(0,r.jsx)(e.li,{children:"iri-reference"}),"\n",(0,r.jsx)(e.li,{children:"uri-template"}),"\n",(0,r.jsx)(e.li,{children:"json-pointer"}),"\n",(0,r.jsx)(e.li,{children:"relarive-json-pointer"}),"\n",(0,r.jsx)(e.li,{children:"hostname"}),"\n",(0,r.jsx)(e.li,{children:"idn-hostname - RFC5890, section 2.3.2.3."}),"\n",(0,r.jsx)(e.li,{children:"ipv4"}),"\n",(0,r.jsx)(e.li,{children:"ipv6"}),"\n",(0,r.jsx)(e.li,{children:"password - \u9488\u5BF9\u524D\u7AEF\u7684\u63D0\u793A"}),"\n",(0,r.jsx)(e.li,{children:"byte - Base64 \u7F16\u7801\u6570\u636E"}),"\n",(0,r.jsx)(e.li,{children:"binary - \u4E8C\u8FDB\u5236\u6570\u636E\uFF0C\u7528\u4E8E\u914D\u5408\u6587\u4EF6\u4F7F\u7528"}),"\n",(0,r.jsxs)(e.li,{children:["date-time - RFC 3339, 5.6, ",(0,r.jsx)(e.code,{children:"2017-07-21T17:32:28Z"})]}),"\n",(0,r.jsxs)(e.li,{children:["date - RFC 3339, 5.6, ",(0,r.jsx)(e.code,{children:"2017-07-21"})]}),"\n",(0,r.jsx)(e.li,{children:"time"}),"\n",(0,r.jsxs)(e.li,{children:["duration - draft 2019-09 - ISO 8601 ABNF for \u201Cduration\u201D\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"P3D"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["keyword\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"pattern - \u6B63\u5219\u5339\u914D"}),"\n",(0,r.jsx)(e.li,{children:"minLength, maxLength"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"boolean"}),"\n",(0,r.jsx)(e.li,{children:"null - \u7A7A\u503C"}),"\n",(0,r.jsxs)(e.li,{children:["array\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"minItems, maxItems"}),"\n",(0,r.jsx)(e.li,{children:"uniqueItems"}),"\n",(0,r.jsx)(e.li,{children:"items"}),"\n",(0,r.jsx)(e.li,{children:"contains"}),"\n",(0,r.jsxs)(e.li,{children:["draft 2019-09\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"maxContains\uFF0C minContains"}),"\n",(0,r.jsx)(e.li,{children:"unevaluatedItems"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["draft-2020-12\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"items - \u8981\u6C42\u4E3A schema"}),"\n",(0,r.jsx)(e.li,{children:"prefixItems - \u524D\u7F6E items \u7C7B\u578B"}),"\n",(0,r.jsx)(e.li,{children:"additionalItems - \u662F\u5426\u5141\u8BB8\u989D\u5916 items"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["object\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"minProperties\uFF0C maxProperties"}),"\n",(0,r.jsx)(e.li,{children:"required - \u5FC5\u987B\u7684\u5B57\u6BB5"}),"\n",(0,r.jsx)(e.li,{children:"properties - \u5B57\u6BB5\u5B9A\u4E49"}),"\n",(0,r.jsx)(e.li,{children:"patternProperties - \u6839\u636E key \u9650\u5B9A\u7C7B\u578B"}),"\n",(0,r.jsx)(e.li,{children:"additionalProperties - \u5141\u8BB8\u989D\u5916\u5B57\u6BB5"}),"\n",(0,r.jsx)(e.li,{children:"propertyNames - \u9650\u5B9A key \u7684 schema"}),"\n",(0,r.jsxs)(e.li,{children:["draft 2019-09\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.del,{children:"dependencies"})}),"\n",(0,r.jsx)(e.li,{children:"dependentRequired - \u5B57\u6BB5\u4E4B\u95F4\u4F9D\u8D56"}),"\n",(0,r.jsx)(e.li,{children:"dependentSchemas"}),"\n",(0,r.jsx)(e.li,{children:"unevaluatedProperties"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["OpenAPI\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"discriminator"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"decimal \u7CBE\u5EA6"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{ "type": "number", "multipleOf": 0.01 }\n'})}),"\n",(0,r.jsx)(e.h2,{id:"ajv-formats",children:"ajv formats"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://ajv.js.org/packages/ajv-formats.html",children:"https://ajv.js.org/packages/ajv-formats.html"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://ajv.js.org/guide/formats.html",children:"https://ajv.js.org/guide/formats.html"})}),"\n"]}),"\n",(0,r.jsx)(e.h1,{id:"faq",children:"FAQ"}),"\n",(0,r.jsx)(e.h2,{id:"json-schema-vs-json-type-definition",children:"JSON Schema vs JSON Type Definition"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["JSON Schema\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4F18\u70B9\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4F7F\u7528\u5E7F"}),"\n",(0,r.jsx)(e.li,{children:"OpenAPI \u91C7\u7528"}),"\n",(0,r.jsx)(e.li,{children:"\u652F\u6301\u590D\u6742\u6821\u9A8C\u903B\u8F91"}),"\n",(0,r.jsx)(e.li,{children:"\u5B9A\u4E49\u9650\u5236\u800C\u975E\u7C7B\u578B\u7ED3\u6784"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u7F3A\u70B9\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5B9E\u73B0\u590D\u6742"}),"\n",(0,r.jsx)(e.li,{children:"\u975E RFC\uFF0C\u6807\u51C6\u5904\u4E8E draft \u72B6\u6001"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["JSON Type Definition\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4F18\u70B9\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5B9A\u4E49\u7C7B\u578B"}),"\n",(0,r.jsx)(e.li,{children:"\u7B80\u5355"}),"\n",(0,r.jsx)(e.li,{children:"\u5B9E\u73B0\u7B80\u5355"}),"\n",(0,r.jsx)(e.li,{children:"RFC8927"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u7F3A\u70B9\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4E0D\u652F\u6301\u5F15\u7528"}),"\n",(0,r.jsx)(e.li,{children:"\u65E0 meta-schema"}),"\n",(0,r.jsx)(e.li,{children:"\u65B0\u6807\u51C6 - 2021-01"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://ajv.js.org/guide/schema-language.html",children:"https://ajv.js.org/guide/schema-language.html"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"int64",children:"int64"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-json",children:'{\n  "type": "integer",\n  "format": "int64"\n}\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"protobufjs \u4F7F\u7528 long \u5305"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"bundle",children:"Bundle"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"$defs"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://json-schema.org/blog/posts/bundling-json-schema-compound-documents",children:"https://json-schema.org/blog/posts/bundling-json-schema-compound-documents"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://json-schema.org/understanding-json-schema/structuring",children:"https://json-schema.org/understanding-json-schema/structuring"})}),"\n"]})]})}function m(n={}){let{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(h,{...n})}):h(n)}},917776:function(n,e,s){s.d(e,{R:()=>a,x:()=>t});var i=s(7378);let r={},l=i.createContext(r);function a(n){let e=i.useContext(l);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),i.createElement(l.Provider,{value:e},n.children)}}}]);