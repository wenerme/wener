"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["827296"],{771454:function(n,e,i){i.r(e),i.d(e,{frontMatter:()=>t,toc:()=>c,default:()=>d,metadata:()=>s,assets:()=>h,contentTitle:()=>o});var s=JSON.parse('{"id":"dev/compression/compression-awesome","title":"Compression","description":"- google/zopfli","source":"@site/../notes/dev/compression/compression-awesome.md","sourceDirName":"dev/compression","slug":"/dev/compression/awesome","permalink":"/notes/dev/compression/awesome","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/dev/compression/compression-awesome.md","tags":[{"inline":true,"label":"Awesome","permalink":"/notes/tags/awesome"}],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1714721203000,"frontMatter":{"title":"Compression","tags":["Awesome"]},"sidebar":"docs","previous":{"title":"\u538B\u7F29","permalink":"/notes/dev/compression/"},"next":{"title":"Compression Format FAQ","permalink":"/notes/dev/compression/faq"}}'),r=i(486106),l=i(917776);let t={title:"Compression",tags:["Awesome"]},o="Compression",h={},c=[{value:"\u89E3\u538B 7z exe",id:"\u89E3\u538B-7z-exe",level:2},{value:"Multi part",id:"multi-part",level:2},{value:"Password",id:"password",level:2},{value:"zstd level",id:"zstd-level",level:2}];function a(n){let e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",pre:"pre",ul:"ul",...(0,l.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"compression",children:"Compression"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/google/zopfli",children:"google/zopfli"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Zopfli Compression Algorithm is a compression library programmed in C to perform very good, but slow, deflate or zlib compression."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/google/brotli",children:"google/brotli"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u901A\u7528\u65E0\u635F\u538B\u7F29"}),"\n",(0,r.jsx)(e.li,{children:"combination of a modern variant of the LZ77 algorithm, Huffman coding and 2nd order context modeling, with a compression ratio comparable to the best currently available general-purpose compression methods"}),"\n",(0,r.jsx)(e.li,{children:"\u901F\u5EA6\u4E0E deflate \u76F8\u4F3C, \u4F46\u538B\u7F29\u7387\u66F4\u9AD8"}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/kothar/brotli-go",children:"kothar/brotli-go"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Go bindings for the Brotli compression library"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/google/draco",children:"google/draco"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Draco is a library for compressing and decompressing 3D geometric meshes and point clouds. It is intended to improve the storage and transmission of 3D graphics."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/dsnet/compress",children:"dsnet/compress"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Collection of compression related Go packages."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/facebook/zstd",children:"facebook/zstd"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://facebook.github.io/zstd/",children:"zstd"})}),"\n",(0,r.jsx)(e.li,{children:"Zstandard - Fast real-time compression algorithm"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/peazip/PeaZip",children:"peazip/PeaZip"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"LGPLv3"}),"\n",(0,r.jsx)(e.li,{children:"\u8DE8\u5E73\u53F0"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/mcmilk/7-Zip-zstd",children:"mcmilk/7-Zip-zstd"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"LGPL v2.1-or-later"}),"\n",(0,r.jsx)(e.li,{children:"7-Zip + Brotli, Fast-LZMA2, Lizard, LZ4, LZ5, Zstandard"}),"\n",(0,r.jsx)(e.li,{children:"Windows"}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/p7zip-project/p7zip",children:"p7zip-project/p7zip"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Linux, macOS"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["Benchmark\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://quixdb.github.io/squash-benchmark/",children:"Squash Compression Benchmark"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://mattmahoney.net/dc/text.html",children:"Large Text Compression Benchmark"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://catchchallenger.first-world.info/wiki/Quick_Benchmark:_Gzip_vs_Bzip2_vs_LZMA_vs_XZ_vs_LZ4_vs_LZO",children:"Gzip vs Bzip2 vs LZMA vs XZ vs LZ4 vs LZO"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["JS\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/nodeca/pako",children:"nodeca/pako"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"high speed zlib port to javascript, works in browser & node.js"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://zlib.net/pigz/",children:"pigz"})," - \u5E76\u884C Gzip - \u547D\u4EE4\u517C\u5BB9 gzip"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/MacPaw/XADMaster",children:"MacPaw/XADMaster"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"LGPL-2.1"}),"\n",(0,r.jsx)(e.li,{children:"Zip, Tar, Gzip, Bzip2, 7-Zip, Rar, LhA, StuffIt, CAB, LZX"}),"\n",(0,r.jsx)(e.li,{children:"unar"}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/MacPaw/unar",children:"MacPaw/unar"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://theunarchiver.com/",children:"https://theunarchiver.com/"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/Homebrew/homebrew-core/blob/master/Formula/unar.rb",children:"https://github.com/Homebrew/homebrew-core/blob/master/Formula/unar.rb"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://theunarchiver.com/command-line",children:"https://theunarchiver.com/command-line"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["unrar\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Alpine 3.14 \u6709"}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://www.rarlab.com/download.htm",children:"https://www.rarlab.com/download.htm"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"curl -O https://www.rarlab.com/rar/rarlinux-x64-612.tar.gz\ntar zxvf rarlinux-x64-612.tar.gz\n./rar/unrar\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u53C2\u8003\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://glinscott.github.io/lz/index.html",children:"Modern LZ Compression"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/MiloszKrajewski/SilesiaCorpus",children:"MiloszKrajewski/SilesiaCorpus"})}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/hxhb/oodle-compression",children:"hxhb/oodle-compression"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"http://www.radgametools.com/oodle.htm",children:"http://www.radgametools.com/oodle.htm"})}),"\n",(0,r.jsx)(e.li,{children:"\u538B\u7F29\u6162\uFF0C\u89E3\u538B\u5FEB\uFF0C\u538B\u7F29\u7387\u9AD8"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/List_of_archive_formats",children:"List of archive formats"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Comparison_of_file_archivers",children:"Comparison of file archivers"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.admonition,{type:"tip",children:(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6587\u4EF6\u5F52\u6863 \u533A\u522B\u4E8E \u538B\u7F29\u7B97\u6CD5 - \u5F52\u6863 -> \u5BB9\u5668"}),"\n",(0,r.jsx)(e.li,{children:"gzip \u5934\u5305\u542B mtime\uFF0C\u56E0\u6B64\u538B\u7F29\u7ED3\u679C\u662F\u4E0D\u4E00\u81F4\u7684"}),"\n"]})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["7z\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://documentation.help/7-Zip/",children:"https://documentation.help/7-Zip/"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'cd staged && mytar cf - . | ssh root@localhost "cd / && tar xvf -"\n\n# 7z\n# https://github.com/p7zip-project/p7zip\napk add p7zip\n7z a dir.7z -m0=zstd -mx7 dir\n\n# bz2\n# ==========\n# \u89E3\u538B\nbzip2 -d filename.bz2\n# \u89E3\u538B\u5E76\u4FDD\u7559\u539F\u59CB\u538B\u7F29\u5305\nbzip2 -dk filename.bz2\n\n# \u5E76\u884C Gzip\n# http://zlib.net/pigz/\n# \u63D0\u4E9A\u63D0\u5347\u4E0D\u5927, \u56E0\u4E3A\u89E3\u538B\u7684\u7ED3\u6784\u4E0D\u9002\u7528\u4E8E\u5E76\u53D1\n# \u652F\u6301 -11 zopfli\n# \u5229\u7528 pv \u53EF\u4EE5\u67E5\u770B\u538B\u7F29\u8FDB\u5EA6\npv dict.db | pigz -vfk9 > dict.db.gz\n\n# \u53EF\u4EE5\u76F4\u63A5\u66FF\u6362\nln -s /usr/bin/pigz /usr/local/bin/gzip\nln -s /usr/bin/unpigz /usr/local/bin/gunzip\n\n# \u5F3A\u5236\u8986\u5199, \u66B4\u9732\u539F\u59CB\u6587\u4EF6, 9 \u7EA7\u538B\u7F29\ngzip -vfk9 data.db > data.db.gz\n\n# -w 0 \u81EA\u52A8\u9009\u62E9\u4F18\u5316\u7684\u7A97\u53E3\u5927\u5C0F\n# -9 \u538B\u7F29\u7387, \u5982\u679C\u4E0D\u6307\u5B9A, \u9ED8\u8BA4\u4E3A -Z \u5373 11, \u4F1A\u975E\u5E38\u6162\npv dict.db | brotli -9 -w 0 > dict.db.br\n\n# \u7F16\u7801\n# ====\n# https://www.iana.org/assignments/character-sets/character-sets.xhtml\nunzip -O cp936 -l my.zip # \u4F7F\u7528\u6307\u5B9A\u7684\u7F16\u7801, \u6709\u4E9B unzip \u4E0D\u4E00\u5B9A\u6709\u8BE5\u9009\u9879 - unzip-iconv\n# \u4E5F\u53EF\u4EE5\u5148\u89E3\u538B, \u7136\u540E\u518D\u8F6C\u6362\nLANG=C 7za x your-zip-file.zip\nconvmv -f GBK -t utf8 --notest -r .\n# brew install unar\nunar -e gb18030 gb18030.zip\n\n# \u6279\u91CF\n# ====\nunzip \\*.zip\n'})}),"\n",(0,r.jsx)(e.h1,{id:"faq",children:"FAQ"}),"\n",(0,r.jsx)(e.h2,{id:"\u89E3\u538B-7z-exe",children:"\u89E3\u538B 7z exe"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:'ls *.exe | xargs -n 1 -d "\\n" 7z x\n'})}),"\n",(0,r.jsx)(e.h2,{id:"multi-part",children:"Multi part"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# 1. merge\ncat in.zip* > ~/in.zip\nunzip in.zip\n\n# 2. 7z\n7z x in.zip.001\n"})}),"\n",(0,r.jsx)(e.h2,{id:"password",children:"Password"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"7z -mhc=on -mhe=on -pPASSWORD a out.7z in.txt\n\nzip -P password -r encrypted.zip folderIWantToZip\nunzip -P password encrypted.zip\n"})}),"\n",(0,r.jsx)(e.h2,{id:"zstd-level",children:"zstd level"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u9ED8\u8BA4 3"}),"\n",(0,r.jsx)(e.li,{children:"\u53EF\u4EE5\u8003\u8651 6-9"}),"\n",(0,r.jsxs)(e.li,{children:["\u5F71\u54CD window size\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"level 1 = 2^18 = 256KB"}),"\n",(0,r.jsx)(e.li,{children:"zlib \u6700\u5927 32KB"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["1-22\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/facebook/zstd/blob/dev/lib/compress/clevels.h",children:"https://github.com/facebook/zstd/blob/dev/lib/compress/clevels.h"})}),"\n"]}),"\n"]}),"\n"]})]})}function d(n={}){let{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}},917776:function(n,e,i){i.d(e,{R:()=>t,x:()=>o});var s=i(7378);let r={},l=s.createContext(r);function t(n){let e=s.useContext(l);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),s.createElement(l.Provider,{value:e},n.children)}}}]);