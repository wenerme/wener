"use strict";(self.webpackChunkwener_website=self.webpackChunkwener_website||[]).push([["218826"],{677749:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>r,toc:()=>o,default:()=>h,metadata:()=>i,assets:()=>d,contentTitle:()=>c});var i=JSON.parse('{"id":"web/dev/eslint","title":"eslint","description":"- eslint-plugin-import","source":"@site/../notes/web/dev/eslint.md","sourceDirName":"web/dev","slug":"/web/dev/eslint","permalink":"/notes/web/dev/eslint","draft":false,"unlisted":false,"editUrl":"https://github.com/wenerme/wener/edit/master/notes/../notes/web/dev/eslint.md","tags":[],"version":"current","lastUpdatedBy":"wener","lastUpdatedAt":1767451770000,"frontMatter":{"title":"eslint"},"sidebar":"docs","previous":{"title":"elysia","permalink":"/notes/web/dev/elysia"},"next":{"title":"express","permalink":"/notes/web/dev/express"}}'),t=s(486106),l=s(917776);let r={title:"eslint"},c="eslint",d={},o=[{value:"\u914D\u7F6E",id:"\u914D\u7F6E",level:2},{value:"disable/false positive",id:"disablefalse-positive",level:2},{value:"tslint",id:"tslint",level:2},{value:"The file does not match your project config",id:"the-file-does-not-match-your-project-config",level:2},{value:"eslint decorators consistent-type-imports",id:"eslint-decorators-consistent-type-imports",level:2},{value:"The keyword &#39;import&#39; is reserved",id:"the-keyword-import-is-reserved",level:2}];function a(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"eslint",children:"eslint"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx eslint \"src/**\" --ext .ts --ext .tsx\n\nTIMING=1 npx eslint src # \u8F93\u51FA\u65F6\u95F4\uFF0C\u6392\u67E5\u6162\u7684\u63D2\u4EF6\n\n# fix single rule\n# eslint --fix --rule 'quotes: [2, double]' .\neslint --no-eslintrc --parser @typescript-eslint/parser --fix --rule 'prefer-const: 1' src/**/*.ts\n\neslint --env-info\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"eslint-plugin-import"}),"\n",(0,t.jsx)(n.li,{children:"eslint-plugin-react"}),"\n",(0,t.jsx)(n.li,{children:"eslint-plugin-jsx-a11y"}),"\n",(0,t.jsxs)(n.li,{children:["react/react-in-jsx-scope\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u4E0D\u8981\u6C42 ",(0,t.jsx)(n.code,{children:"import React from 'react'"})]}),"\n",(0,t.jsxs)(n.li,{children:["ESBuild \u8FD8\u4E0D\u652F\u6301 jsx - \u56E0\u6B64\u9700\u8981 ",(0,t.jsx)(n.code,{children:"import React"})," - ",(0,t.jsx)(n.a,{href:"https://github.com/evanw/esbuild/issues/334",children:"esbuild#334"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://eslint.org",children:"eslint.org"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://eslint.org/docs/latest/rules/",children:"rules"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/typescript-eslint/typescript-eslint",children:"typescript-eslint"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://typescript-eslint.io/rules/",children:"rules"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/vercel/next.js/tree/canary/packages/eslint-config-next",children:"https://github.com/vercel/next.js/tree/canary/packages/eslint-config-next"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"NextJS"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/xojs/eslint-config-xo-typescript",children:"xojs/eslint-config-xo-typescript"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/standard/eslint-config-standard-with-typescript",children:"standard/eslint-config-standard-with-typescript"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/standard/eslint-config-standard-with-typescript/blob/master/src/index.ts",children:"https://github.com/standard/eslint-config-standard-with-typescript/blob/master/src/index.ts"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u914D\u7F6E",children:"\u914D\u7F6E"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:".eslintrc.{js,yml,json,cjs}"}),"\n",(0,t.jsxs)(n.li,{children:["eslint.config.js\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"ESM"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\u53C2\u8003\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://eslint.org/docs/latest/use/configure/configuration-files",children:"https://eslint.org/docs/latest/use/configure/configuration-files"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://eslint.org/docs/latest/use/configure/configuration-files-new",children:"https://eslint.org/docs/latest/use/configure/configuration-files-new"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"ESLINT_USE_FLAT_CONFIG=true \u4E0D\u641C\u7D22 eslint.config.js"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  root: true,\n  // \u6269\u5C55\u73B0\u6709\u914D\u7F6E - \u53EF\u4EE5\u662F\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u53EF\u4EE5\u662F\u5305/\u6A21\u5757\n  // \u7F29\u5199\u903B\u8F91:\n  //   custom -> eslint-config-custom\n  //   @wener -> @wener/eslint-config\n  extends: ['@wener/eslint-config-custom'],\n  settings: {\n    next: {\n      rootDir: ['apps/*/'],\n    },\n  },\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"disablefalse-positive",children:"disable/false positive"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// \u5FFD\u7565\u5355\u4E2A\u89C4\u5219\n/*eslint eqeqeq:0*/\n\n// \u5FFD\u7565\u5355\u884C\n// eslint-disable-next-line\n\n// \u5FFD\u7565\u8303\u56F4\n/*eslint-disable */\nalert('foo');\n/*eslint-enable */\n\n// \u5FFD\u7565\u5F53\u524D\na == a; // eslint-disable-line\n"})}),"\n",(0,t.jsx)(n.h2,{id:"tslint",children:"tslint"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["@typescript-eslint/no-redeclare\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["ignoreDeclarationMerge\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"interface + interface"}),"\n",(0,t.jsx)(n.li,{children:"namespace + namespace"}),"\n",(0,t.jsx)(n.li,{children:"class + interface"}),"\n",(0,t.jsx)(n.li,{children:"class + namespace"}),"\n",(0,t.jsx)(n.li,{children:"class + interface + namespace"}),"\n",(0,t.jsx)(n.li,{children:"function + namespace"}),"\n",(0,t.jsx)(n.li,{children:"enum + namespace"}),"\n",(0,t.jsx)(n.li,{children:"\u6CA1\u6709 const + interface - utils \u5408\u96C6"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["@typescript-eslint/no-extraneous-class\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["allowStaticOnly\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u65B9\u4FBF\u66B4\u9732 utils \u5408\u96C6"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"faq",children:"FAQ"}),"\n",(0,t.jsx)(n.h2,{id:"the-file-does-not-match-your-project-config",children:"The file does not match your project config"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",metastring:'title=".eslintrc.js"',children:"module.exports = {\n  ignorePatterns: ['.eslintrc.js'],\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"eslint-decorators-consistent-type-imports",children:"eslint decorators consistent-type-imports"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"tsconfig.json emitDecoratorMetadata=true"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"the-keyword-import-is-reserved",children:"The keyword 'import' is reserved"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "parserOptions": {\n    "sourceType": "module"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"\\n## Reference Snippets\\n"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx eslint --init\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yarn add -D eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin\n\nyarn add eslint-config-prettier eslint-plugin-jest eslint-plugin-react eslint-plugin-react-hooks\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  root: true,\n  parser: '@typescript-eslint/parser',\n  plugins: ['@typescript-eslint'],\n  extends: [\n    'eslint:recommended',\n    'plugin:@typescript-eslint/eslint-recommended',\n    'plugin:@typescript-eslint/recommended',\n  ],\n};\n"})})]})}function h(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},917776:function(e,n,s){s.d(n,{R:()=>r,x:()=>c});var i=s(7378);let t={},l=i.createContext(t);function r(e){let n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);